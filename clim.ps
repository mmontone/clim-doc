%!PS-Adobe-2.0
%%Creator: dvips, version 5.396 (C) 1986-90 Radical Eye Software
%%Title: clim.dvi
%%Pages: 379 1
%%BoundingBox: 0 0 612 792
%%EndComments
%%BeginProcSet: tex.pro
/TeXDict 200 dict def TeXDict begin /N /def load def /B{bind def}N /S /exch
load def /X{S N}B /TR /translate load N /isls false N /vsize 10 N /@rigin{
isls{[0 1 -1 0 0 0]concat}if 72 Resolution div 72 VResolution div neg scale
Resolution VResolution vsize neg mul TR}B /@letter{/vsize 10 N}B /@landscape{
/isls true N /vsize -1 N}B /@a4{/vsize 10.6929133858 N}B /@legal{/vsize 13 N}
B /@manualfeed{statusdict /manualfeed true put}B /@copies{/#copies X}B /FMat[
1 0 0 -1 0 0]N /FBB[0 0 0 0]N /df{/sf 1 N /fntrx FMat N df-tail}B /dfs{div /sf
X /fntrx[sf 0 0 sf neg 0 0]N df-tail}B /df-tail{/nn 8 dict N nn begin
/FontType 3 N /FontMatrix fntrx N /FontBBox FBB N string /base X array
/BitMaps X /BuildChar{CharBuilder}N /Encoding IE N end dup{/foo setfont}2
array copy cvx N load 0 nn put /ctr 0 N[}B /E{pop nn dup definefont setfont}B
/ch-image{ch-data dup type /stringtype ne{ctr get /ctr ctr 1 add N}if}B
/ch-width{ch-data dup length 5 sub get}B /ch-height{ch-data dup length 4 sub
get}B /ch-xoff{128 ch-data dup length 3 sub get sub}B /ch-yoff{ch-data dup
length 2 sub get 127 sub}B /ch-dx{ch-data dup length 1 sub get}B /ctr 0 N
/CharBuilder{save 3 1 roll S dup /base get 2 index get S /BitMaps get S get
/ch-data X pop /ctr 0 N ch-dx 0 ch-xoff ch-yoff ch-height sub ch-xoff ch-width
add ch-yoff setcachedevice ch-width ch-height true[1 0 0 -1 -.1 ch-xoff sub
ch-yoff .1 add]{ch-image}imagemask restore}B /D{/cc X dup type /stringtype ne{
]}if nn /base get cc ctr put nn /BitMaps get S ctr S sf 1 ne{dup dup length 1
sub dup 2 index S get sf div put}if put /ctr ctr 1 add N}B /I{cc 1 add D}B
/bop{userdict /bop-hook known{bop-hook}if /SI save N @rigin 0 0 moveto}B /eop{
clear SI restore showpage userdict /eop-hook known{eop-hook}if}B /@start{
userdict /start-hook known{start-hook}if /VResolution X /Resolution X 1000 div
/DVImag X /IE 256 array N 0 1 255{IE S 1 string dup 0 3 index put cvn put}for}
B /p /show load N /RMat[1 0 0 -1 0 0]N /BDot 8 string N /v{/ruley X /rulex X V
}B /V{gsave TR -.1 -.1 TR rulex ruley scale 1 1 false RMat{BDot}imagemask
grestore}B /a{moveto}B /delta 0 N /tail{dup /delta X 0 rmoveto}B /M{S p delta
add tail}B /b{S p tail}B /c{-4 M}B /d{-3 M}B /e{-2 M}B /f{-1 M}B /g{0 M}B /h{
1 M}B /i{2 M}B /j{3 M}B /k{4 M}B /l{p -4 w}B /m{p -3 w}B /n{p -2 w}B /o{p -1 w
}B /q{p 1 w}B /r{p 2 w}B /s{p 3 w}B /t{p 4 w}B /w{0 rmoveto}B /x{0 S rmoveto}
B /y{3 2 roll p a}B /bos{/SS save N}B /eos{clear SS restore}B end
%%EndProcSet
TeXDict begin 1000 400 400 @start /Fa 20 121 df<7FFFFF00FFFFFF80FFFFFF80FFFFFF
807FFFFF0019057C9622>45 D<07FC00001FFF80001FFFC0003FFFE0003E03F0001C00F8000000
780000003C0000003C0000003C0000003C000003FC0000FFFC0003FFFC000FFFFC003FC03C003E
003C007C003C00F8003C00F0003C00F0003C00F0003C00F0003C0078007C007E03FC003FFFFFF0
1FFFDFF80FFF0FF803F807F01D1D7C9C22>97 D<7F000000FF800000FF8000007F800000078000
00078000000780000007800000078000000780000007800000078000000783F000078FFC0007BF
FE0007FFFF0007F81F8007F00FC007E007C007C003E0078001E0078001E0078001F0078000F007
8000F0078000F0078000F0078000F0078000F0078000F0078001F0078001E007C001E007C003C0
07E007C007F00F8007F83F8007FFFF0007BFFE00078FF8000303E0001C297EA822>I<003FF000
FFFC03FFFC07FFFE0FC03E1F001C3E00003C00007C0000780000780000F00000F00000F00000F0
0000F00000F00000F000007800007800007C00003E000F3F000F1F801F0FE03E07FFFC03FFF800
FFF0003F80181D7B9C22>I<0001FC000003FE000003FE000001FE0000001E0000001E0000001E
0000001E0000001E0000001E0000001E0000001E00007C1E0001FF9E0007FFDE000FFFFE001FC1
FE001F007E003E007E003C003E0078001E0078001E00F8001E00F0001E00F0001E00F0001E00F0
001E00F0001E00F0001E00F0001E00F8001E0078003E0078003E007C003E003E007E001F00FE00
1F83FE000FFFDFE007FF9FF003FF1FF000FC0FE01C297DA822>I<007F800001FFE00003FFF000
07FFF8000FC0FC001F003E003E001F003C000F007C000F0078000F80F8000780F0000780FFFFFF
80FFFFFF80FFFFFF80FFFFFF00F0000000F0000000F8000000780000007C0000003C0003003E00
07801F800F800FE03F0007FFFF0003FFFE0000FFF800003FE000191D7C9C22>I<00007E000001
FF800007FFC0000FFFC0001F87C0001E0380003C0000003C0000003C0000003C0000003C000000
3C00007FFFFF00FFFFFF80FFFFFF807FFFFF00003C0000003C0000003C0000003C0000003C0000
003C0000003C0000003C0000003C0000003C0000003C0000003C0000003C0000003C0000003C00
00003C0000003C0000003C0000003C0000003C0000003C00003FFFFC007FFFFE007FFFFE003FFF
FC001A297EA822>I<003F01F000FFCFF801FFFFFC03FFFFFC07C0FC380F807C000F003C001F00
3E001E001E001E001E001E001E001E001E001E001E001F003E000F003C000F807C0007C0F80007
FFF0000FFFE0000EFFC0000E3F00000E0000000E0000000E0000000F00000007FFF80007FFFE00
0FFFFF801FFFFFC03E000FE07C0001F0780000F0F0000078F0000078F0000078F0000078F00000
78780000F07C0001F03E0003E03FC01FE00FFFFF8007FFFF0001FFFC00003FE0001E2D7E9C22>
I<7F000000FF800000FF8000007F80000007800000078000000780000007800000078000000780
000007800000078000000783E000078FF80007BFFC0007FFFE0007F83E0007F01F0007E00F0007
C00F0007C00F0007800F0007800F0007800F0007800F0007800F0007800F0007800F0007800F00
07800F0007800F0007800F0007800F0007800F0007800F0007800F0007800F007FF83FF0FFFC7F
F8FFFC7FF87FF83FF01D297EA822>I<00300000780000FC0000FC000078000030000000000000
000000000000000000000000000000007FF800FFFC00FFFC007FFC00003C00003C00003C00003C
00003C00003C00003C00003C00003C00003C00003C00003C00003C00003C00003C00003C00003C
00003C00003C00003C00003C007FFFFCFFFFFEFFFFFE7FFFFC172A7AA922>I<7FFC0000FFFE00
00FFFE00007FFE0000001E0000001E0000001E0000001E0000001E0000001E0000001E0000001E
0000001E0000001E0000001E0000001E0000001E0000001E0000001E0000001E0000001E000000
1E0000001E0000001E0000001E0000001E0000001E0000001E0000001E0000001E0000001E0000
001E0000001E0000001E0000001E0000001E0000001E00007FFFFF80FFFFFFC0FFFFFFC07FFFFF
801A297CA822>108 D<7E1E03C000FF7F8FF000FFFFDFF8007FFFFFF8000FE3FC78000FC1F83C
000F81F03C000F81F03C000F01E03C000F01E03C000F01E03C000F01E03C000F01E03C000F01E0
3C000F01E03C000F01E03C000F01E03C000F01E03C000F01E03C000F01E03C000F01E03C000F01
E03C000F01E03C000F01E03C000F01E03C007FE1FC3F80FFF3FE7FC0FFF3FE7FC07FE1FC3F8022
1D809C22>I<7F03E000FF8FF800FFBFFC007FFFFE0007F83E0007F01F0007E00F0007C00F0007
C00F0007800F0007800F0007800F0007800F0007800F0007800F0007800F0007800F0007800F00
07800F0007800F0007800F0007800F0007800F0007800F0007800F007FF83FF0FFFC7FF8FFFC7F
F87FF83FF01D1D7E9C22>I<007F000001FFC00007FFF0000FFFF8001FC1FC001F007C003E003E
003C001E0078000F0078000F00F8000F80F0000780F0000780F0000780F0000780F0000780F000
0780F0000780F8000F8078000F007C001F003C001E003E003E001F007C001FC1FC000FFFF80007
FFF00001FFC000007F0000191D7C9C22>I<7F03F000FF8FFC00FFBFFE007FFFFF0007F81F8007
F00FC007E007C007C003E0078001E0078001E0078001F0078000F0078000F0078000F0078000F0
078000F0078000F0078000F0078001F0078001E007C001E007C003C007E007C007F00F8007F83F
8007FFFF0007BFFE00078FF8000783E00007800000078000000780000007800000078000000780
000007800000078000000780000007800000078000007FF80000FFFC0000FFFC00007FF800001C
2C7E9C22>I<7FE01FC0FFF07FF0FFF1FFF87FF3FFF800F7E0F800FF807000FF000000FE000000
FC000000F8000000F8000000F8000000F0000000F0000000F0000000F0000000F0000000F00000
00F0000000F0000000F0000000F0000000F0000000F0000000F000007FFFF800FFFFFC00FFFFFC
007FFFF8001D1D7E9C22>114 D<01FE1C0FFFDC1FFFFC3FFFFC7E01FCF8007CF0003CF0003CF0
003CF8003C7C00003F80001FFE000FFFC001FFE0000FF80000FC70003CF0001EF0001EF8001EF8
001EFC001EFE003CFF00FCFFFFF8FFFFF0E3FFC0E0FF00171D7B9C22>I<0060000000F0000000
F0000000F0000000F0000000F0000000F0000000F000007FFFFF00FFFFFF80FFFFFF807FFFFF00
00F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F000
0000F0000000F0000000F0000000F0000000F0018000F003C000F003C000F003C000F003C000F8
0780007C0F80007FFF00003FFE00001FFC000007E0001A257EA422>I<7F00FE00FF81FF00FF81
FF007F80FF0007800F0007800F0007800F0007800F0007800F0007800F0007800F0007800F0007
800F0007800F0007800F0007800F0007800F0007800F0007800F0007800F0007800F0007800F00
07801F0007803F0007C07F0003FFFFF003FFEFF801FFCFF8007F07F01D1D7E9C22>I<7FF07FE0
FFF8FFF0FFF8FFF07FF07FE007C03E0003E03C0001F07C0000F0F80000F8F000007DE000003FE0
00001FC000001F8000000F8000000F8000001F8000001FC000003DE0000079F0000078F00000F0
780001E07C0003E03C0003C01E0007C01F007FF07FF0FFF8FFF8FFF8FFF87FF07FF01D1D7E9C22
>120 D E /Fb 1 116 df<00FC0003FF000FFFC01FFFE03FFFF03FFFF07FFFF87FFFF8FFFFFCFF
FFFCFFFFFCFFFFFCFFFFFCFFFFFC7FFFF87FFFF83FFFF03FFFF01FFFE00FFFC003FF0000FC0016
168B8A16>115 D E /Fc 5 83 df<0000300000700000700000700000E00000E00000E00001C0
0001C00001C0000380000380000380000700000700000700000E00000E00000E00001C00001C00
001C0000380000380000380000700000700000700000E00000E00000E00000E00001C00001C000
01C0000380000380000380000700000700000700000E00000E00000E00001C00001C00001C0000
380000380000380000700000700000700000E00000E00000E00000C00000143981B712>2
D<000200060006000E001E001E003E007E00FE01FE01FE03FE07FE0FFE1FFE3FFE7FFEFFFE1FFE
03FF007F000F000110177DB512>14 D<C00000F00000FC0000FF0000FFE000FFF800FFFF00FFFF
F0FFFFF0FFFF00FFF800FFE000FF0000FC0000F00000C0000014105F8737>45
D<E000000000000000F00000000000000078000000000000003C000000000000001E0000000000
00000F00000000000000078000000000000003C000000000000001E000000000000000F0000000
0000000078000000000000003C000000000000001E000000000000000F00000000000000078000
000000000003C000000000000001E000000000000000F00000000000000078000000000000003C
000000000000001E000000000000000F00000000000000078000000000000003C0000000000000
01E000000000000000F00000000000000078000000000000003C000000000000001E0000000000
00000F00000000000000078000000000000003C000000000000001E000000000000000F0000000
0000000078000000000000003C000000000000001E000000000000000F00000000000000078000
000000000003C000000000000001E000000000000000F00000000000000078000000000000003C
000000000000001E000000000000000F00000000000000078000000000000003C0000000000000
01E000000000000000F00000000000000078000000000000003C000000000000001E0000000000
00000F00000000000000078000000000000003800000000000000180393981B737>64
D<00300000700000F00001F80003F80007F8000FFC001FFC003FFC007FFE00FFFE00FFFF001FFF
0003FF80007F80001FC00007C00001E000006000001000000815155E9437>82
D E /Fd 41 122 df<7038F87CFC7EFC7E743A0402040204020804080410081008201040200F0E
7E9E18>34 D<70F8FCFC74040404080810102040060E7C9E0D>39 D<0020004000800100020006
000C000C0018001800300030007000600060006000E000E000E000E000E000E000E000E000E000
E000E000E000600060006000700030003000180018000C000C000600020001000080004000200B
2C7DA012>I<800040002000100008000C0006000600030003000180018001C000C000C000C000
E000E000E000E000E000E000E000E000E000E000E000E000C000C000C001C00180018003000300
060006000C00080010002000400080000B2C7DA012>I<70F8FCFC74040404080810102040060E
7C840D>44 D<70F8F8F87005057C840D>46 D<01F000060C000C06001803003803803803807001
C07001C07001C0F001E0F001E0F001E0F001E0F001E0F001E0F001E0F001E0F001E0F001E0F001
E0F001E0F001E07001C07001C07001C03803803803801803001C0700071C0001F000131F7E9D18
>48 D<018003801F80E38003800380038003800380038003800380038003800380038003800380
038003800380038003800380038003800380038007C0FFFE0F1E7C9D18>I<0003000003000007
00000F00000F000017000027000067000047000087000187000107000207000607000407000807
00100700300700200700400700C00700FFFFF80007000007000007000007000007000007000007
0000FFF8151E7F9D18>52 D<01F000060C001C06001803003803807003807001C0F001C0F001C0
F001E0F001E0F001E0F001E07001E07003E03803E03803E01C05E00E19E003E1E00001C00001C0
0003C0000380300380780700780600700E00201C001030000FC000131F7E9D18>57
D<0003000000030000000300000007800000078000000FC000000BC000000BC0000011E0000011
E0000011E0000020F0000020F0000040F800004078000040780000803C0000803C0000803C0001
001E0001FFFE0002001F0002000F0002000F00040007800400078004000780080003C01C0003C0
3E0007E0FF803FFC1E1F7E9E23>65 D<000FE0200078186001E004E0038002E0070001E00E0000
E01E0000603C0000603C0000607C0000207800002078000020F8000000F8000000F8000000F800
0000F8000000F8000000F8000000F800000078000000780000207C0000203C0000203C0000201E
0000400E000040070000800380010001E0060000781800000FE0001B207D9E22>67
D<FFFFFF000F000F000F0003000F0003000F0001000F0001800F0000800F0000800F0000800F00
80800F0080000F0080000F0080000F0180000FFF80000F0180000F0080000F0080000F0080000F
0080000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F800000
FFFC0000191E7D9D1F>70 D<FFFC0FC00780078007800780078007800780078007800780078007
80078007800780078007800780078007800780078007800780078007800FC0FFFC0E1E7F9D11>
73 D<FFFC000F80000F00000F00000F00000F00000F00000F00000F00000F00000F00000F0000
0F00000F00000F00000F00000F00000F00000F00000F00020F00020F00020F00020F00060F0004
0F00040F000C0F001C0F007CFFFFFC171E7D9D1D>76 D<FF00001FF00F00001F000F00001F000B
80002F000B80002F0009C0004F0009C0004F0009C0004F0008E0008F0008E0008F000870010F00
0870010F000870010F000838020F000838020F000838020F00081C040F00081C040F00080E080F
00080E080F00080E080F000807100F000807100F000803A00F000803A00F000803A00F000801C0
0F000801C00F003E01C00F00FF8080FFF0241E7D9D2B>I<7FFFFFF0780780F060078030400780
1040078010C0078018800780088007800880078008800780080007800000078000000780000007
800000078000000780000007800000078000000780000007800000078000000780000007800000
07800000078000000780000007800000078000000FC00001FFFE001D1E7E9D22>84
D<080410082010201040204020804080408040B85CFC7EFC7E7C3E381C0F0E7A9E18>92
D<1FE000301800780E00780600300700000700000700003F0007E7001E07003C0700780700F007
00F00708F00708F00F08780F083C33900FC1E015137E9218>97 D<FC00001C00001C00001C0000
1C00001C00001C00001C00001C00001C00001C00001C00001C7E001D83801E01C01E00E01C00F0
1C00701C00781C00781C00781C00781C00781C00781C00701C00701C00E01E00E01A01C0198300
107C00151F7E9E1A>I<03FC000E06001C0F00380F00780600700000700000F00000F00000F000
00F00000F000007000007000007800803800801C01000E060003F80011137E9215>I<000FC000
01C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C001F1C0060DC01C
03C03801C03801C07001C07001C0F001C0F001C0F001C0F001C0F001C0F001C07001C07801C038
03C01C05C00E09C003F1F8151F7E9E1A>I<01F800060E001C07003803803803807001C07001C0
F001C0FFFFC0F00000F00000F000007000007000003800403800400C008007030001FC0012137F
9215>I<007C00C6018F038F07060700070007000700070007000700FFF0070007000700070007
000700070007000700070007000700070007000700070007003FF0101F809E0E>I<00007001F1
98071E180E0E101C07003C07803C07803C07803C07801C07000E0E000F1C0019F0001000001000
001800001800001FFF000FFFC00FFFE03800F0600038C00018C00018C00018C000186000303000
600E038003FE00151E7F9318>I<FC00001C00001C00001C00001C00001C00001C00001C00001C
00001C00001C00001C00001C3E001CC3001D01801E01C01E01C01C01C01C01C01C01C01C01C01C
01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C0FF8FF8151F7E9E1A>I<18003C
007C003C0018000000000000000000000000000000FC001C001C001C001C001C001C001C001C00
1C001C001C001C001C001C001C001C001C00FF80091F7E9E0E>I<FC00001C00001C00001C0000
1C00001C00001C00001C00001C00001C00001C00001C00001C0FF01C07C01C03001C06001C0800
1C10001C20001C60001DF0001E78001C38001C1C001C1E001C0E001C07001C07801C03C01C03E0
FF8FF8151F7E9E19>107 D<FC001C001C001C001C001C001C001C001C001C001C001C001C001C
001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C00FF80091F7E9E
0E>I<FC3F01F8001CC1860C001D00C806001E00F007001E00F007001C00E007001C00E007001C
00E007001C00E007001C00E007001C00E007001C00E007001C00E007001C00E007001C00E00700
1C00E007001C00E007001C00E00700FF87FC3FE023137E9228>I<FC3E001CC3001D01801E01C0
1E01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C0
1C01C0FF8FF815137E921A>I<01FC000707001C01C03800E03800E0700070700070F00078F000
78F00078F00078F000787000707000703800E03800E01C01C007070001FC0015137F9218>I<FC
7E001D83801E01C01E00E01C00F01C00F01C00781C00781C00781C00781C00781C00781C00701C
00F01C00E01E01E01E01C01D87001C7C001C00001C00001C00001C00001C00001C00001C00001C
0000FF8000151C7E921A>I<FCF01D181E3C1E3C1E181C001C001C001C001C001C001C001C001C
001C001C001C001C00FFC00E137E9212>114 D<0FC830384018C008C008C008F0007F003FE01F
F001F8003C801C800CC00CC00CE018D0308FC00E137E9213>I<020002000200060006000E000E
003E00FFF80E000E000E000E000E000E000E000E000E000E000E080E080E080E080E0806080310
01E00D1B7F9A12>I<FC0FC01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C0
1C01C01C01C01C01C01C01C01C01C01C03C00C05C00609C003F1F815137E921A>I<FF81FC1E00
701C00600E00400E004007008007008007818003810003810001C20001C20000E40000E40000FC
0000780000780000300000300016137F9219>I<FF8FF0FE3C03C0381C0180301C01C0100E02C0
200E02C0200E02E020070460400704704003847080038830800388388001D0190001D0190001D0
1D0000E00E0000E00E0000E00E00004004001F137F9222>I<FF83FC1E01E00E01800701000783
0003860001CC0000E80000700000380000780000DC00018E000107000203800401C00C01C03C01
E0FE03FC16137F9219>I<FF81FC1E00701C00600E00400E004007008007008007818003810003
810001C20001C20000E40000E40000FC0000780000780000300000300000200000200000400000
4000F0C000F08000F100006300003C0000161C7F9219>I E /Fe 2 51 df<03000F00F7000700
0700070007000700070007000700070007000700070007000700070007000700FFF00C157D9414
>49 D<0FC0307040388038C03CE01C401C003C00380038007000E000C00100020004040804100C
3FF87FF8FFF80E157E9414>I E /Ff 1 49 df<03000780078007800F000F000E001E001E001C
001C003800380038007000700060006000E000C00009147E950D>48 D E
/Fg 3 52 df<01800380FF80038003800380038003800380038003800380038003800380038003
8003800380038003800380038003807FFC0E197D9816>49 D<0FE01038601C601EF80FF80FF80F
700F000F000E001E001C00380030006000C00180030006010C01080110023FFE7FFEFFFE10197E
9816>I<07E01838201C781E781E781E381E001C003C0038007007E00038001C001E000E000F20
0F700FF80FF80EF01E601C30380FE010197E9816>I E /Fh 3 122 df<00F807060C0E181E381E
700C7000E000E000E000E000E000E0026004600830300FC00F117D9014>99
D<07878018C84020F1C020E3C040E3C040E18000E00001C00001C00001C00001C000638080F380
80F38100E5810084C60078780012117D9019>120 D<1C00C02601C04701C04703808703808E03
800E03800E07001C07001C07001C0700380E00380E00180E00181E000C3C0007DC00001C000018
0030380078300078600070C0002180001E000012197D9016>I E /Fi 10
117 df<1E007F807F80FFC0FFC0FFC0FFC07F807F801E00000000000000000000000000000000
000000000000000000000000001E007F807F80FFC0FFC0FFC0FFC07F807F801E000A2270A12A>
58 D<0007F80000003FFF000000FFFFC00001FFFFF00003FFFFF80007FC07FC000FF001FC001F
C000FE003F80007E003F00003F007F00003F007E00003F807E00001F80FE00001F80FFFFFFFF80
FFFFFFFF80FFFFFFFF80FFFFFFFF80FFFFFFFF00FC00000000FE000000007E000000007E000000
007F000000003F80000F001FC0001F801FE0001F800FF0007F8007FE01FF0003FFFFFE0001FFFF
FE00007FFFF800001FFFE0000003FF000021227CA12A>101 D<000007FC0000003FFF000000FF
FF800001FFFFC00003FFFFC00003FC1FC00007F01FC0000FE00F80000FC00000000FC00000000F
C00000000FC00000000FC00000000FC00000000FC000007FFFFFFE00FFFFFFFF00FFFFFFFF00FF
FFFFFF007FFFFFFE00000FC00000000FC00000000FC00000000FC00000000FC00000000FC00000
000FC00000000FC00000000FC00000000FC00000000FC00000000FC00000000FC00000000FC000
00000FC00000000FC00000000FC00000000FC00000000FC00000000FC00000000FC00000000FC0
0000000FC00000000FC000003FFFFFF0007FFFFFF8007FFFFFF8007FFFFFF8003FFFFFF0002231
7EB02A>I<00078000000FC000001FE000001FE000001FE000001FE000000FC000000780000000
0000000000000000000000000000000000000000000000000000000000003FFFC0007FFFE0007F
FFE0007FFFE0003FFFE0000007E0000007E0000007E0000007E0000007E0000007E0000007E000
0007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E0
000007E0000007E0000007E0000007E0000007E0000007E0000007E0007FFFFFFCFFFFFFFCFFFF
FFFEFFFFFFFC7FFFFFFC1F327AB12A>105 D<7FE0000000FFF0000000FFF0000000FFF0000000
7FF000000001F000000001F000000001F000000001F000000001F000000001F000000001F00000
0001F000000001F000000001F000000001F03FFFE001F07FFFF001F07FFFF001F07FFFF001F03F
FFE001F001FC0001F003F80001F007F00001F00FE00001F01FC00001F03F800001F07F000001F0
FE000001F3FC000001F7F8000001FFFC000001FFFE000001FFFE000001FF3F000001FE1F800001
FC0F800001F80FC00001F007E00001F003F00001F003F00001F001F80001F000FC0001F0007E00
01F0007E007FFF81FFF0FFFFC3FFF8FFFFC3FFF8FFFFC3FFF87FFF81FFF025317EB02A>107
D<7FF00FE000007FF87FFC0000FFF9FFFE00007FFFFFFF00007FFFFFFF000001FFF03F800001FF
C01F800001FF000FC00001FE000FC00001FC000FC00001FC000FC00001FC000FC00001F8000FC0
0001F8000FC00001F8000FC00001F8000FC00001F8000FC00001F8000FC00001F8000FC00001F8
000FC00001F8000FC00001F8000FC00001F8000FC00001F8000FC00001F8000FC00001F8000FC0
0001F8000FC00001F8000FC00001F8000FC0007FFFE0FFFF007FFFE1FFFF00FFFFF1FFFF807FFF
E1FFFF007FFFE0FFFF00292280A12A>110 D<7FF01FC0007FF8FFF800FFFBFFFE007FFFFFFF00
7FFFFFFF8001FFE07FC001FF801FE001FF000FE001FE0007F001FC0003F001FC0001F801F80001
F801F80001FC01F80000FC01F80000FC01F80000FC01F80000FC01F80000FC01F80000FC01F800
00FC01F80000FC01F80001F801FC0001F801FC0003F801FE0003F001FE0007F001FF000FE001FF
801FC001FFE07FC001FFFFFF8001FFFFFF0001FBFFFC0001F8FFF00001F81F800001F800000001
F800000001F800000001F800000001F800000001F800000001F800000001F800000001F8000000
01F800000001F800000001F800000001F80000007FFFE000007FFFE00000FFFFF000007FFFE000
007FFFE00000263480A12A>112 D<7FFE007F807FFF03FFE0FFFF0FFFF07FFF3FFFF87FFF7FFF
F8003FFF83F8003FFE03F8003FF801F0003FF00040003FE00000003FC00000003FC00000003F80
0000003F800000003F800000003F000000003F000000003F000000003F000000003F000000003F
000000003F000000003F000000003F000000003F000000003F000000003F000000003F00000000
3F0000007FFFFFE0007FFFFFF000FFFFFFF0007FFFFFF0007FFFFFE00025227EA12A>114
D<007FF0E003FFFFF00FFFFFF01FFFFFF03FFFFFF07F800FF07E0007F0FC0003F0F80003F0F800
03F0FC0001E0FE0000007FC000003FFF00003FFFF8000FFFFF0003FFFFC0007FFFE00003FFF000
000FF8000003F8780000FCFC00007CFC00007CFE00007CFE00007CFF0000FCFF8001F8FFE00FF8
FFFFFFF0FFFFFFE0FFFFFFC0F9FFFF00703FF0001E227AA12A>I<001E000000003F000000003F
000000003F000000003F000000003F000000003F000000003F000000003F000000003F0000007F
FFFFFC00FFFFFFFE00FFFFFFFE00FFFFFFFE007FFFFFFC00003F000000003F000000003F000000
003F000000003F000000003F000000003F000000003F000000003F000000003F000000003F0000
00003F000000003F000000003F000000003F000000003F000000003F000F00003F001F80003F00
1F80003F001F80003F001F80003F003F80001F807F00001FC0FF00000FFFFE00000FFFFC000007
FFF8000001FFF00000003F8000212C7EAB2A>I E /Fj 10 113 df<FFFFFFFFFFFFFFFFFFFFFF
FF20037B8E2B>0 D<007000007000007000007000007000607030F07078F820F83E23E00F2780
03AE0000F80000F80003AE000F27803E23E0F820F8F07078607030007000007000007000007000
00700015187D991C>3 D<00F80003FE000FFF801FFFC03FFFE03FFFE07FFFF07FFFF0FFFFF8FF
FFF8FFFFF8FFFFF8FFFFF8FFFFF8FFFFF87FFFF07FFFF03FFFE03FFFE01FFFC00FFF8003FE0000
F80015177D981C>15 D<000000030000000F0000003F000000FC000003F000000FC000003F0000
00FC000003F000000FC000003F000000FC000003F000000FC000003F000000FC000000F0000000
FC0000003F0000000FC0000003F0000000FC0000003F0000000FC0000003F0000000FC0000003F
0000000FC0000003F0000000FC0000003E0000000F000000070000000000000000000000000000
0000000000000000000000000000000000007FFFFFFEFFFFFFFFFFFFFFFF202C7BA22B>20
D<0000000006000000000003000000000003000000000001800000000000C00000000000C00000
000000600000000000387FFFFFFFFFFCFFFFFFFFFFFF7FFFFFFFFFFC0000000000380000000000
600000000000C00000000000C00000000001800000000003000000000003000000000006003013
7D9637>33 D<0000000C00000000000E00000000000E0000000000070000000000038000000000
03800000000001C00000000000E0007FFFFFFFF000FFFFFFFFF800FFFFFFFFFC00000000000F00
0000000007800000000003E00000000000FC00000000003F0000000000FC0000000003E0000000
000780000000000F00FFFFFFFFFC00FFFFFFFFF8007FFFFFFFF00000000000E00000000001C000
0000000380000000000380000000000700000000000E00000000000E00000000000C0000301F7D
9C37>41 D<000007FFFFC000007FFFFFE00001FFFFFFF00003C3C001E0000C0380008000180380
000000380780000000700780000000700700000000C00700000000800F00000000000E00000000
000E00000000001E00000000001E00000000001C00000000001C00000000003C00000000003FFF
E00000003FFFE00000007FFF80000000700000000000700000000000E00000000000E000000000
01E00000000001C00000000001C000000000038000000000038000000000070000000000070000
0000000E00000000300E00000000781C00000000F81C000000007E38000000007FE0000000003F
C0000000000F00000000002C287FA528>70 D<0001E0000F00001C0000380000780000F00000F0
0000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F0
0000F00000F00000F00000E00001E00003C000078000FE0000FE000007800003C00001E00000E0
0000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F0
0000F00000F00000F00000F00000F000007800003800001C00000F000001E013387CA91C>102
D<F800000F000003800001C00001E00000F00000F00000F00000F00000F00000F00000F00000F0
0000F00000F00000F00000F00000F00000F00000F00000F00000F00000F000007000007800003C
00001E000007E00007E0001E00003C0000780000700000F00000F00000F00000F00000F00000F0
0000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00001E0
0001C0000380000F0000F8000013387CA91C>I<0000000000600000000000E00000000000E000
00000001C00000000001C000000000038000000000038000000000070000000000070000000000
0E00000000000E00000000001C00000000001C0000000000380000000000380000000000700000
000000700000000000E00000000000E00000000000E00000000001C00000000001C00000000003
80000000000380000000000700000000000700000000000E00000000000E00000300001C00000F
00001C0000178000380000278000380000C7800070000003C00070000003C000E0000001E000E0
000001E001C0000001E001C0000000F001C0000000F00380000000780380000000780700000000
3C07000000003C0E000000003C0E000000001E1C000000001E1C000000000F38000000000F3800
0000000F700000000007F00000000007E00000000003E00000000003C00000000001C000000000
01C00000002B387C822E>112 D E /Fk 65 123 df<00000FFE003FE0000000FFFFC1FFF80000
07FFFFEFFFFE00000FFC03FFF07F00003FE003FFC0FF00007FC007FF81FF8000FF800FFF01FF80
01FF000FFF01FF8001FF000FFE01FF8003FE000FFE00FF0003FE0007FE007E0003FE0003FE003C
0003FE0003FE00000003FE0003FE00000003FE0003FE00000003FE0003FE00000003FE0003FE00
000003FE0003FE00000003FE0003FE00000003FE0003FE000000FFFFFFFFFFFF0000FFFFFFFFFF
FF0000FFFFFFFFFFFF0000FFFFFFFFFFFF000003FE0003FE00000003FE0003FE00000003FE0003
FE00000003FE0003FE00000003FE0003FE00000003FE0003FE00000003FE0003FE00000003FE00
03FE00000003FE0003FE00000003FE0003FE00000003FE0003FE00000003FE0003FE00000003FE
0003FE00000003FE0003FE00000003FE0003FE00000003FE0003FE00000003FE0003FE00000003
FE0003FE00000003FE0003FE00000003FE0003FE00000003FE0003FE00000003FE0003FE000000
03FE0003FE00000003FE0003FE00000003FE0003FE00000003FE0003FE00000003FE0003FE0000
00FFFFF8FFFFFC0000FFFFF8FFFFFC0000FFFFF8FFFFFC0000FFFFF8FFFFFC000039377EB635>
11 D<000007FF00000000FFFFC0000003FFFFF000000FFC01F800003FE000FC00007FC001FE00
00FF8003FE0001FF0003FE0001FF0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE00
01FC0003FE0000F80003FE0000000003FE0000000003FE0000000003FE0000000003FE00000000
03FE007FFF00FFFFFFFFFF00FFFFFFFFFF00FFFFFFFFFF00FFFFFFFFFF0003FE0001FF0003FE00
01FF0003FE0001FF0003FE0001FF0003FE0001FF0003FE0001FF0003FE0001FF0003FE0001FF00
03FE0001FF0003FE0001FF0003FE0001FF0003FE0001FF0003FE0001FF0003FE0001FF0003FE00
01FF0003FE0001FF0003FE0001FF0003FE0001FF0003FE0001FF0003FE0001FF0003FE0001FF00
03FE0001FF0003FE0001FF0003FE0001FF0003FE0001FF0003FE0001FF0003FE0001FF00FFFFF8
7FFFFCFFFFF87FFFFCFFFFF87FFFFCFFFFF87FFFFC2E377EB633>I<0F0000F0003FC003FC007F
E007FE007FE007FE00FFF00FFF00FFF00FFF00FFF80FFF80FFF80FFF807FF807FF807FF807FF80
3FF803FF800F3800F3800038000380003800038000700007000070000700007000070000E0000E
0000E0000E0001C0001C0001C0001C00038000380007000070000F0000F0001E0001E0003C0003
C0001000010000211B7DB630>34 D<0F003FC07FE07FE0FFF0FFF0FFF8FFF87FF87FF83FF80F38
0038003800700070007000E000E001C001C0038007000F001E003C0010000D1B7AB619>39
D<00001C00003C0000700000F00001E00003C0000780000F00001F00003E00007E00007C0000F8
0001F80001F80003F00003F00007E00007E0000FE0000FC0001FC0001FC0001FC0003F80003F80
003F80003F80007F80007F00007F00007F00007F0000FF0000FF0000FF0000FF0000FF0000FF00
00FF0000FF0000FF0000FF0000FF0000FF0000FF0000FF0000FF00007F00007F00007F00007F00
007F80003F80003F80003F80003F80001FC0001FC0001FC0000FC0000FE00007E00007E00003F0
0003F00001F80001F80000F800007C00007E00003E00001F00000F000007800003C00001E00000
F000007000003C00001C165178BB24>I<C00000E000007000007800003C00001E00000F000007
800007C00003E00003F00001F00000F80000FC0000FC00007E00007E00003F00003F00003F8000
1F80001FC0001FC0001FC0000FE0000FE0000FE0000FE0000FF00007F00007F00007F00007F000
07F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F800
07F80007F80007F00007F00007F00007F0000FF0000FE0000FE0000FE0000FE0001FC0001FC000
1FC0001F80003F80003F00003F00007E00007E0000FC0000FC0000F80001F00003F00003E00007
C0000780000F00001E00003C0000780000700000E00000C0000015517ABB24>I<0F003FC07FE0
7FE0FFF0FFF0FFF8FFF87FF87FF83FF80F380038003800700070007000E000E001C001C0038007
000F001E003C0010000D1B7A8B19>44 D<FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFF18087F941F>I<0F003FC07FE07FE0FFF0FFF0FFF0FFF07FE07FE03FC00F000C0C7A8B19>I<
0003FE0000001FFFC000007FFFF00001FF07FC0003FC01FE0007F800FF000FF0007F800FE0003F
801FE0003FC01FE0003FC03FE0003FE03FC0001FE03FC0001FE07FC0001FF07FC0001FF07FC000
1FF07FC0001FF07FC0001FF0FFC0001FF8FFC0001FF8FFC0001FF8FFC0001FF8FFC0001FF8FFC0
001FF8FFC0001FF8FFC0001FF8FFC0001FF8FFC0001FF8FFC0001FF8FFC0001FF8FFC0001FF8FF
C0001FF8FFC0001FF8FFC0001FF8FFC0001FF8FFC0001FF87FC0001FF07FC0001FF07FC0001FF0
7FC0001FF03FC0001FE03FE0003FE03FE0003FE01FE0003FC01FE0003FC00FF0007F800FF0007F
8007F800FF0003FC01FE0001FF07FC00007FFFF000001FFFC0000003FE000025357CB32E>48
D<00003C000000007C00000001FC0000000FFC000000FFFC0000FFFFFC0000FFFFFC0000FFFFFC
0000FF0FFC0000000FFC0000000FFC0000000FFC0000000FFC0000000FFC0000000FFC0000000F
FC0000000FFC0000000FFC0000000FFC0000000FFC0000000FFC0000000FFC0000000FFC000000
0FFC0000000FFC0000000FFC0000000FFC0000000FFC0000000FFC0000000FFC0000000FFC0000
000FFC0000000FFC0000000FFC0000000FFC0000000FFC0000000FFC0000000FFC0000000FFC00
00000FFC0000000FFC0000000FFC0000000FFC0000000FFC0000000FFC0000000FFC0000000FFC
0000000FFC00003FFFFFFF803FFFFFFF803FFFFFFF803FFFFFFF8021347AB32E>I<000FF80000
007FFF800001FFFFE00007FFFFF0000FC07FFC001F000FFE003E0007FF007F0003FF807F8001FF
80FFC001FFC0FFE001FFC0FFE000FFC0FFE000FFE0FFE000FFE0FFE000FFE07FC000FFE03F8000
FFE01F0000FFE0000000FFE0000000FFC0000001FFC0000001FF80000001FF80000003FF000000
03FE00000007FC0000000FF80000000FF00000001FE00000003F800000007F00000000FE000000
00FC00000001F000000003E001E00007C001E0000F8001E0001E0001E0003C0003C000780003C0
00F00003C001E00007C003FFFFFFC007FFFFFFC00FFFFFFFC01FFFFFFFC03FFFFFFFC07FFFFFFF
80FFFFFFFF80FFFFFFFF80FFFFFFFF80FFFFFFFF8023347BB32E>I<0007FE0000003FFFE00000
FFFFF80003F807FE0007E001FF000F8001FF800F8000FFC01FE000FFC01FF000FFE03FF800FFE0
3FF800FFE03FF800FFE03FF800FFE03FF800FFE01FF000FFC00FE000FFC007C001FF80000001FF
80000001FF00000003FE00000007FC0000000FF80000003FE000001FFF8000001FFE0000001FFF
E00000000FF800000003FE00000001FF00000000FF80000000FFC0000000FFE00000007FF00000
007FF00000007FF80F00007FF83FC0007FF87FE0007FF87FE0007FF8FFF0007FF8FFF0007FF8FF
F0007FF0FFF0007FF0FFE000FFF07FE000FFE07FC000FFC03F0001FFC01F8003FF800FF00FFF00
07FFFFFC0001FFFFF800007FFFC000000FFE000025357CB32E>I<0000001F000000003F000000
003F000000007F00000000FF00000001FF00000003FF00000003FF00000007FF0000000FFF0000
001FFF0000003FFF0000007DFF00000079FF000000F1FF000001E1FF000003E1FF000007C1FF00
000781FF00000F01FF00001E01FF00003E01FF00007C01FF00007801FF0000F001FF0001E001FF
0003C001FF0007C001FF000F8001FF000F0001FF001E0001FF003C0001FF007C0001FF00F80001
FF00FFFFFFFFFEFFFFFFFFFEFFFFFFFFFEFFFFFFFFFE000003FF00000003FF00000003FF000000
03FF00000003FF00000003FF00000003FF00000003FF00000003FF000007FFFFFE0007FFFFFE00
07FFFFFE0007FFFFFE27337DB22E>I<0C000003000F00001F000FF001FF000FFFFFFE000FFFFF
FC000FFFFFF8000FFFFFF0000FFFFFE0000FFFFFC0000FFFFF00000FFFFE00000FFFF000000F1F
0000000F000000000F000000000F000000000F000000000F000000000F000000000F07FC00000F
1FFF80000F7FFFE0000FF80FF8000FE003FC000F8001FE000F0001FF000E0001FF000E0000FF80
000000FF80000000FFC0000000FFC0000000FFE0000000FFE0000000FFE01F0000FFE03F8000FF
E07FC000FFE0FFC000FFE0FFE000FFE0FFE000FFE0FFE000FFC0FFC000FFC0FF8000FFC07F0001
FF807C0001FF003C0001FF003E0003FE001F8007FC000FE03FF80007FFFFF00001FFFFC00000FF
FF0000001FF0000023357BB32E>I<00001FF0000001FFFC000007FFFE00001FF01F00003FC007
80007F000FC000FE001FC001FC003FE003F8007FE007F8007FE00FF8007FE00FF0007FE01FF000
3FC01FF0001F803FF0000F003FE00000007FE00000007FE00000007FE01000007FE0FFC000FFE3
FFF000FFE7FFFC00FFEE01FE00FFEC00FF00FFF8007F80FFF8007FC0FFF0003FE0FFF0003FE0FF
F0003FF0FFF0003FF0FFE0003FF0FFE0003FF8FFE0003FF8FFE0003FF8FFE0003FF87FE0003FF8
7FE0003FF87FE0003FF87FE0003FF83FE0003FF83FE0003FF03FE0003FF01FF0003FF01FF0003F
E00FF0003FE00FF0007FC007F8007F8003FC00FF0001FF03FE0000FFFFFC00003FFFF800001FFF
E0000003FF000025357CB32E>I<3C000000003E000000003FC00000003FFFFFFFFE3FFFFFFFFE
3FFFFFFFFE3FFFFFFFFE3FFFFFFFFC7FFFFFFFF87FFFFFFFF07FFFFFFFE07FFFFFFFC07FFFFFFF
807C00000F007800001F007800003E007800007C00F00000F800F00001F000F00001E000F00003
C000000007C00000000F800000000F000000001F000000003E000000003E000000007C00000000
FC00000000FC00000001F800000001F800000003F800000003F800000007F800000007F8000000
07F00000000FF00000000FF00000000FF00000001FF00000001FF00000001FF00000001FF00000
003FF00000003FF00000003FF00000003FF00000003FF00000003FF00000003FF00000003FF000
00001FE00000001FE00000000780000027377BB52E>I<0003FF0000001FFFE000007FFFF80001
FC01FE0003E0007F000780001F800F80000FC00F00000FC01F000007E01F000007E03F000007E0
3F000007E03F800007E03FC00007E03FF00007E03FF8000FC03FFE000FC01FFF801F801FFFE01F
001FFFF87E000FFFFCFC0007FFFFF80003FFFFE00001FFFFF00000FFFFF800007FFFFE00007FFF
FF0001FFFFFF8003F9FFFFC007E07FFFE00FC03FFFE01F800FFFF03F8003FFF07F0000FFF07F00
007FF87E00001FF8FE00000FF8FE000007F8FE000003F8FE000003F8FE000003F8FE000003F0FE
000003F07F000003F07F000007E03F800007E03FC0000FC01FF0003F800FFC01FF0003FFFFFE00
01FFFFF800007FFFE0000007FF000025357CB32E>I<0007FE0000003FFFC00000FFFFF00001FE
03F80003F801FC0007F800FE000FF0007F001FF0007F803FE0007F803FE0003FC07FE0003FC07F
E0003FE07FE0003FE0FFE0003FF0FFE0003FF0FFE0003FF0FFE0003FF0FFE0003FF0FFE0003FF8
FFE0003FF8FFE0003FF8FFE0003FF87FE0003FF87FE0007FF87FE0007FF83FE0007FF83FE0007F
F81FF000FFF80FF000FFF807F801BFF803FC033FF801FFFF3FF8007FFE3FF8001FF83FF0000040
3FF00000003FF00000003FF00000003FE00780007FE00FC0007FE01FE0007FC03FF0007FC03FF0
00FF803FF000FF003FF001FF003FE001FE001FC003FC001F800FF8000FC03FF00007FFFFC00003
FFFF800001FFFE0000003FE0000025357CB32E>I<00000007800000000000000FC00000000000
000FC00000000000001FE00000000000001FE00000000000001FE00000000000003FF000000000
00003FF00000000000007FF80000000000007FF80000000000007FF8000000000000FFFC000000
000000FFFC000000000001FFFE000000000001EFFE000000000001EFFE000000000003CFFF0000
00000003C7FF000000000007C7FF80000000000783FF80000000000F83FFC0000000000F01FFC0
000000000F01FFC0000000001F01FFE0000000001E00FFE0000000003E00FFF0000000003C007F
F0000000003C007FF0000000007C007FF80000000078003FF800000000F8003FFC00000000F000
1FFC00000000F0001FFC00000001F0001FFE00000001E0000FFE00000003E0000FFF00000003FF
FFFFFF00000003FFFFFFFF00000007FFFFFFFF80000007FFFFFFFF8000000F800003FFC000000F
000001FFC000000F000001FFC000001E000001FFE000001E000000FFE000003E000000FFF00000
3C0000007FF000003C0000007FF00000780000003FF80000780000003FF80000F80000003FFC00
FFFFF0001FFFFFFCFFFFF0001FFFFFFCFFFFF0001FFFFFFCFFFFF0001FFFFFFC3E377DB645>65
D<FFFFFFFFFF0000FFFFFFFFFFE000FFFFFFFFFFFC00FFFFFFFFFFFE00007FE0000FFF80007FE0
0003FFC0007FE00001FFC0007FE00000FFE0007FE000007FF0007FE000007FF0007FE000007FF0
007FE000003FF8007FE000003FF8007FE000003FF8007FE000003FF8007FE000003FF8007FE000
003FF8007FE000007FF0007FE000007FF0007FE000007FF0007FE00000FFE0007FE00001FFC000
7FE00003FF80007FE00007FF00007FE0003FFC00007FFFFFFFF000007FFFFFFFF000007FFFFFFF
FE00007FE00003FF80007FE00000FFE0007FE000007FF0007FE000003FF8007FE000001FFC007F
E000001FFC007FE000000FFE007FE000000FFE007FE000000FFF007FE000000FFF007FE000000F
FF007FE000000FFF007FE000000FFF007FE000000FFF007FE000000FFF007FE000000FFF007FE0
00000FFE007FE000001FFE007FE000001FFC007FE000003FFC007FE000007FF8007FE00000FFF0
007FE00007FFE0FFFFFFFFFFFFC0FFFFFFFFFFFF00FFFFFFFFFFFC00FFFFFFFFFFC00038377DB6
41>I<0000007FF80006000007FFFF000E00003FFFFFC01E0001FFFFFFF03E0003FFF003F87E00
0FFF00007CFE001FFC00001FFE007FF000000FFE00FFE0000007FE01FFC0000003FE03FF800000
01FE03FF00000000FE07FE00000000FE0FFE000000007E0FFC000000007E1FFC000000003E1FF8
000000003E3FF8000000003E3FF8000000001E7FF8000000001E7FF8000000001E7FF000000000
1E7FF00000000000FFF00000000000FFF00000000000FFF00000000000FFF00000000000FFF000
00000000FFF00000000000FFF00000000000FFF00000000000FFF00000000000FFF00000000000
FFF000000000007FF000000000007FF000000000007FF8000000001E7FF8000000001E3FF80000
00001E3FF8000000001E1FFC000000001E1FFC000000003C0FFC000000003C0FFE000000003C07
FE000000007803FF000000007803FF80000000F001FFC0000001E000FFE0000003E0007FF00000
07C0001FFC00001F80000FFF00007F000003FFF003FC000001FFFFFFF80000003FFFFFE0000000
07FFFF80000000007FF8000037397BB742>I<FFFFFFFFFF000000FFFFFFFFFFF00000FFFFFFFF
FFFC0000FFFFFFFFFFFF0000007FF0000FFFC000007FF00001FFE000007FF000007FF000007FF0
00001FF800007FF000000FFC00007FF0000007FE00007FF0000003FF00007FF0000003FF80007F
F0000001FF80007FF0000001FFC0007FF0000000FFC0007FF0000000FFE0007FF0000000FFE000
7FF00000007FE0007FF00000007FF0007FF00000007FF0007FF00000007FF0007FF00000007FF0
007FF00000007FF8007FF00000007FF8007FF00000007FF8007FF00000007FF8007FF00000007F
F8007FF00000007FF8007FF00000007FF8007FF00000007FF8007FF00000007FF8007FF0000000
7FF8007FF00000007FF8007FF00000007FF8007FF00000007FF0007FF00000007FF0007FF00000
007FF0007FF00000007FF0007FF00000007FE0007FF0000000FFE0007FF0000000FFC0007FF000
0000FFC0007FF0000001FF80007FF0000001FF80007FF0000003FF00007FF0000007FE00007FF0
00000FFE00007FF000001FFC00007FF000007FF800007FF00001FFE000007FF0000FFFC000FFFF
FFFFFFFF0000FFFFFFFFFFFC0000FFFFFFFFFFF00000FFFFFFFFFF0000003D377DB646>I<FFFF
FFFFFFFF80FFFFFFFFFFFF80FFFFFFFFFFFF80FFFFFFFFFFFF80007FF00007FF80007FF00000FF
C0007FF000003FC0007FF000001FC0007FF000000FC0007FF0000007C0007FF0000007C0007FF0
000003C0007FF0000003C0007FF0000003C0007FF0000003E0007FF000F001E0007FF000F001E0
007FF000F001E0007FF000F001E0007FF000F00000007FF001F00000007FF001F00000007FF003
F00000007FF00FF00000007FFFFFF00000007FFFFFF00000007FFFFFF00000007FFFFFF0000000
7FF00FF00000007FF003F00000007FF001F00000007FF001F00000007FF000F00000007FF000F0
0078007FF000F00078007FF000F00078007FF000F000F0007FF0000000F0007FF0000000F0007F
F0000000F0007FF0000001F0007FF0000001E0007FF0000001E0007FF0000003E0007FF0000003
E0007FF0000007E0007FF000000FE0007FF000001FC0007FF000003FC0007FF00000FFC0007FF0
0007FFC0FFFFFFFFFFFFC0FFFFFFFFFFFF80FFFFFFFFFFFF80FFFFFFFFFFFF8035377DB63C>I<
FFFFFFFFFFFF00FFFFFFFFFFFF00FFFFFFFFFFFF00FFFFFFFFFFFF00007FF00007FF00007FF000
00FF80007FF000007F80007FF000003F80007FF000001F80007FF000000F80007FF000000F8000
7FF000000780007FF000000780007FF000000780007FF0000007C0007FF0000003C0007FF000F0
03C0007FF000F003C0007FF000F003C0007FF000F00000007FF000F00000007FF001F00000007F
F001F00000007FF003F00000007FF00FF00000007FFFFFF00000007FFFFFF00000007FFFFFF000
00007FFFFFF00000007FF00FF00000007FF003F00000007FF001F00000007FF001F00000007FF0
00F00000007FF000F00000007FF000F00000007FF000F00000007FF000F00000007FF000000000
007FF000000000007FF000000000007FF000000000007FF000000000007FF000000000007FF000
000000007FF000000000007FF000000000007FF000000000007FF000000000007FF00000000000
7FF000000000FFFFFFFE000000FFFFFFFE000000FFFFFFFE000000FFFFFFFE00000032377DB63A
>I<0000007FF8000600000007FFFF000E0000003FFFFFC01E000001FFFFFFF03E000003FFF003
F87E00000FFF00007CFE00001FFC00001FFE00007FF000000FFE0000FFE0000007FE0001FFC000
0003FE0003FF80000001FE0003FF00000000FE0007FE00000000FE000FFE000000007E000FFC00
0000007E001FFC000000003E001FF8000000003E003FF8000000003E003FF8000000001E007FF8
000000001E007FF8000000001E007FF0000000001E007FF0000000000000FFF0000000000000FF
F0000000000000FFF0000000000000FFF0000000000000FFF0000000000000FFF0000000000000
FFF0000000000000FFF0000000000000FFF0000000000000FFF0000000000000FFF000007FFFFF
F87FF000007FFFFFF87FF000007FFFFFF87FF800007FFFFFF87FF80000000FFE003FF80000000F
FE003FF80000000FFE001FFC0000000FFE001FFC0000000FFE000FFC0000000FFE000FFE000000
0FFE0007FE0000000FFE0003FF0000000FFE0003FF8000000FFE0001FFC000000FFE0000FFE000
000FFE00007FF000001FFE00001FFC00001FFE00000FFF80007DFE000003FFF803F8FE000001FF
FFFFF07E0000003FFFFFE01E00000007FFFF8006000000007FF80000003D397BB748>I<FFFFFF
F8FFFFFFF8FFFFFFF8FFFFFFF8007FF000007FF000007FF000007FF000007FF000007FF000007F
F000007FF000007FF000007FF000007FF000007FF000007FF000007FF000007FF000007FF00000
7FF000007FF000007FF000007FF000007FF000007FF000007FF000007FF000007FF000007FF000
007FF000007FF000007FF000007FF000007FF000007FF000007FF000007FF000007FF000007FF0
00007FF000007FF000007FF000007FF000007FF000007FF000007FF000007FF000007FF000007F
F000007FF000FFFFFFF8FFFFFFF8FFFFFFF8FFFFFFF81D377DB623>73 D<FFFFFFF8001FFFFEFF
FFFFF8001FFFFEFFFFFFF8001FFFFEFFFFFFF8001FFFFE007FF00000007E00007FF0000000FC00
007FF0000001F800007FF0000003F000007FF0000007C000007FF000001F8000007FF000003F00
00007FF000007E0000007FF00000FC0000007FF00001F80000007FF00003E00000007FF0000FC0
0000007FF0001F800000007FF0003F000000007FF0007E000000007FF000FC000000007FF001F0
000000007FF007E0000000007FF00FF0000000007FF01FF8000000007FF03FFC000000007FF07F
FC000000007FF1FFFE000000007FF3FFFF000000007FF7E7FF800000007FFFC3FF800000007FFF
83FFC00000007FFF01FFE00000007FFC00FFF00000007FF800FFF00000007FF0007FF80000007F
F0003FFC0000007FF0001FFE0000007FF0001FFE0000007FF0000FFF0000007FF00007FF800000
7FF00003FFC000007FF00003FFC000007FF00001FFE000007FF00000FFF000007FF000007FF800
007FF000007FF800007FF000003FFC00007FF000001FFE00007FF000000FFF00007FF000000FFF
00007FF0000007FF80FFFFFFF801FFFFFFFFFFFFF801FFFFFFFFFFFFF801FFFFFFFFFFFFF801FF
FFFF40377DB648>75 D<FFFFFFFE0000FFFFFFFE0000FFFFFFFE0000FFFFFFFE0000007FF00000
00007FF0000000007FF0000000007FF0000000007FF0000000007FF0000000007FF0000000007F
F0000000007FF0000000007FF0000000007FF0000000007FF0000000007FF0000000007FF00000
00007FF0000000007FF0000000007FF0000000007FF0000000007FF0000000007FF0000000007F
F0000000007FF0000000007FF0000000007FF0000000007FF0000000007FF0000000007FF00000
00007FF0000000007FF0000000007FF000001E007FF000001E007FF000001E007FF000001E007F
F000003E007FF000003C007FF000003C007FF000003C007FF000007C007FF000007C007FF00000
7C007FF00000FC007FF00001FC007FF00001FC007FF00003FC007FF0000FFC007FF0001FF8007F
F000FFF8FFFFFFFFFFF8FFFFFFFFFFF8FFFFFFFFFFF8FFFFFFFFFFF82F377DB637>I<FFFFF000
0000001FFFFFFFFFF8000000003FFFFFFFFFF8000000003FFFFFFFFFFC000000007FFFFF007FFC
000000007FFE00007FFC000000007FFE00007BFE00000000F7FE00007BFE00000000F7FE000079
FF00000001E7FE000079FF00000001E7FE000078FF80000003C7FE000078FF80000003C7FE0000
78FF80000003C7FE0000787FC000000787FE0000787FC000000787FE0000783FE000000F07FE00
00783FE000000F07FE0000781FF000001E07FE0000781FF000001E07FE0000780FF800003C07FE
0000780FF800003C07FE0000780FF800003C07FE00007807FC00007807FE00007807FC00007807
FE00007803FE0000F007FE00007803FE0000F007FE00007801FF0001E007FE00007801FF0001E0
07FE00007801FF0001E007FE00007800FF8003C007FE00007800FF8003C007FE000078007FC007
8007FE000078007FC0078007FE000078003FE00F0007FE000078003FE00F0007FE000078003FE0
0F0007FE000078001FF01E0007FE000078001FF01E0007FE000078000FF83C0007FE000078000F
F83C0007FE0000780007FC780007FE0000780007FC780007FE0000780003FEF00007FE00007800
03FEF00007FE0000780003FEF00007FE0000780001FFE00007FE0000780001FFE00007FE000078
0000FFC00007FE0000780000FFC00007FE00007800007F800007FE00007800007F800007FE00FF
FFFC007F800FFFFFFFFFFFFC003F000FFFFFFFFFFFFC003F000FFFFFFFFFFFFC001E000FFFFFFF
50377DB657>I<FFFFF000001FFFFF80FFFFF800001FFFFF80FFFFFC00001FFFFF80FFFFFE0000
1FFFFF80007FFE0000000F0000007FFF0000000F0000007FFF8000000F0000007BFFC000000F00
00007BFFE000000F00000079FFF000000F00000078FFF000000F000000787FF800000F00000078
3FFC00000F000000781FFE00000F000000781FFF00000F000000780FFF80000F0000007807FF80
000F0000007803FFC0000F0000007801FFE0000F0000007800FFF0000F0000007800FFF8000F00
000078007FFC000F00000078003FFC000F00000078001FFE000F00000078000FFF000F00000078
0007FF800F000000780007FFC00F000000780003FFC00F000000780001FFE00F000000780000FF
F00F0000007800007FF80F0000007800007FFC0F0000007800003FFE0F0000007800001FFE0F00
00007800000FFF0F00000078000007FF8F00000078000003FFCF00000078000003FFEF00000078
000001FFFF00000078000000FFFF000000780000007FFF000000780000003FFF00000078000000
1FFF000000780000001FFF000000780000000FFF0000007800000007FF0000007800000003FF00
00007800000001FF0000007800000000FF0000007800000000FF00000078000000007F0000FFFF
FC0000003F0000FFFFFC0000001F0000FFFFFC0000000F0000FFFFFC0000000F000041377DB648
>I<000001FFE000000000001FFFFE0000000000FFFFFFC000000003FF807FF00000000FFC000F
FC0000001FF00003FE0000007FE00001FF800000FFC00000FFC00001FF8000007FE00003FF0000
003FF00003FE0000001FF00007FE0000001FF8000FFC0000000FFC000FFC0000000FFC001FFC00
00000FFE001FF800000007FE003FF800000007FF003FF800000007FF003FF800000007FF007FF0
00000003FF807FF000000003FF807FF000000003FF807FF000000003FF80FFF000000003FFC0FF
F000000003FFC0FFF000000003FFC0FFF000000003FFC0FFF000000003FFC0FFF000000003FFC0
FFF000000003FFC0FFF000000003FFC0FFF000000003FFC0FFF000000003FFC0FFF000000003FF
C0FFF000000003FFC07FF000000003FF807FF800000007FF807FF800000007FF807FF800000007
FF803FF800000007FF003FF800000007FF001FFC0000000FFE001FFC0000000FFE000FFC000000
0FFC000FFE0000001FFC0007FE0000001FF80007FF0000003FF80003FF0000003FF00001FF8000
007FE00000FFC00000FFC000007FE00001FF8000003FF80007FF0000000FFC000FFC00000003FF
807FF000000000FFFFFFC0000000001FFFFE000000000001FFE00000003A397BB745>I<FFFFFF
FFFE0000FFFFFFFFFFE000FFFFFFFFFFF800FFFFFFFFFFFE00007FF0001FFF80007FF00003FFC0
007FF00000FFE0007FF000007FE0007FF000007FF0007FF000007FF8007FF000003FF8007FF000
003FF8007FF000003FFC007FF000003FFC007FF000003FFC007FF000003FFC007FF000003FFC00
7FF000003FFC007FF000003FFC007FF000003FF8007FF000003FF8007FF000007FF8007FF00000
7FF0007FF00000FFE0007FF00000FFC0007FF00003FF80007FF0001FFF00007FFFFFFFFC00007F
FFFFFFF000007FFFFFFF8000007FF000000000007FF000000000007FF000000000007FF0000000
00007FF000000000007FF000000000007FF000000000007FF000000000007FF000000000007FF0
00000000007FF000000000007FF000000000007FF000000000007FF000000000007FF000000000
007FF000000000007FF000000000007FF000000000007FF000000000007FF000000000007FF000
000000FFFFFFF8000000FFFFFFF8000000FFFFFFF8000000FFFFFFF800000036377DB63F>I<FF
FFFFFFF800000000FFFFFFFFFF80000000FFFFFFFFFFF0000000FFFFFFFFFFFC000000007FF000
1FFF000000007FF00007FF800000007FF00001FFC00000007FF00000FFE00000007FF000007FF0
0000007FF000007FF80000007FF000003FF80000007FF000003FF80000007FF000003FFC000000
7FF000003FFC0000007FF000003FFC0000007FF000003FFC0000007FF000003FFC0000007FF000
003FFC0000007FF000003FF80000007FF000003FF80000007FF000007FF00000007FF000007FF0
0000007FF00000FFE00000007FF00001FFC00000007FF00007FF000000007FF0003FFE00000000
7FFFFFFFF8000000007FFFFFFFC0000000007FFFFFFFC0000000007FF0007FF0000000007FF000
1FFC000000007FF0000FFE000000007FF00007FF000000007FF00003FF000000007FF00003FF80
0000007FF00001FF800000007FF00001FFC00000007FF00001FFC00000007FF00001FFC0000000
7FF00001FFC00000007FF00001FFC00000007FF00001FFE00000007FF00001FFE00000007FF000
01FFE00000007FF00001FFE00000007FF00001FFE00300007FF00001FFE00780007FF00001FFE0
0780007FF00000FFF00780007FF00000FFF00780007FF000007FF00F00FFFFFFF8007FF80F00FF
FFFFF8001FFC1E00FFFFFFF8000FFFFC00FFFFFFF80003FFF8000000000000003FE00041387DB6
45>82 D<0007FE0018003FFFC03800FFFFF07803FFFFF8F807FC03FFF80FE0007FF81FC0001FF8
3F800007F83F800003F87F000003F87F000001F87F000000F8FF000000F8FF000000F8FF000000
78FF80000078FF80000078FFC0000078FFE0000000FFF00000007FFE0000007FFFF000003FFFFF
00003FFFFFF0001FFFFFFC000FFFFFFF000FFFFFFF8007FFFFFFC001FFFFFFE000FFFFFFF0003F
FFFFF8000FFFFFFC00007FFFFC000007FFFE0000003FFE0000000FFE00000007FF00000003FF00
000001FF70000001FFF0000000FFF0000000FFF0000000FFF0000000FFF8000000FEF8000000FE
FC000000FEFC000001FCFE000001FCFF000003F8FFC00003F0FFF0000FF0FFFF003FE0F8FFFFFF
80F03FFFFF00E00FFFFC00C000FFE00028397BB733>I<3FFFFFFFFFFFFE003FFFFFFFFFFFFE00
3FFFFFFFFFFFFE003FFFFFFFFFFFFE003FF001FFC007FE007FC001FFC001FF007F0001FFC0007F
007E0001FFC0003F007C0001FFC0001F007C0001FFC0001F007C0001FFC0001F00780001FFC000
0F00780001FFC0000F00780001FFC0000F00F80001FFC0000F80F00001FFC0000780F00001FFC0
000780F00001FFC0000780F00001FFC0000780000001FFC0000000000001FFC0000000000001FF
C0000000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000000001
FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC00000000000
01FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC000000000
0001FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000
000001FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC00000
00000001FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000001FFFFFFFFC
0000001FFFFFFFFC0000001FFFFFFFFC0000001FFFFFFFFC000039367DB540>I<FFFFFFF8003F
FFFFFFFFFFF8003FFFFFFFFFFFF8003FFFFFFFFFFFF8003FFFFF007FF00000001E00007FF00000
001E00007FF00000001E00007FF00000001E00007FF00000001E00007FF00000001E00007FF000
00001E00007FF00000001E00007FF00000001E00007FF00000001E00007FF00000001E00007FF0
0000001E00007FF00000001E00007FF00000001E00007FF00000001E00007FF00000001E00007F
F00000001E00007FF00000001E00007FF00000001E00007FF00000001E00007FF00000001E0000
7FF00000001E00007FF00000001E00007FF00000001E00007FF00000001E00007FF00000001E00
007FF00000001E00007FF00000001E00007FF00000001E00007FF00000001E00007FF00000001E
00007FF00000001E00007FF00000001E00007FF00000001E00007FF00000001E00007FF0000000
1E00007FF00000001E00003FF00000003C00003FF00000003C00003FF80000003C00001FF80000
007800001FF80000007800000FFC000000F0000007FE000001F0000003FE000003E0000001FF80
0007C0000000FFC0001F800000007FF801FF000000001FFFFFFE0000000007FFFFF80000000001
FFFFE000000000001FFE00000040387DB647>I<FFFFFFC00007FFFFFFFFFFC00007FFFFFFFFFF
C00007FFFFFFFFFFC00007FFFF00FFE00000000F0000FFF00000001F00007FF00000001E00007F
F80000001E00007FF80000003E00003FF80000003C00003FFC0000007C00001FFC000000780000
1FFE000000F800000FFE000000F000000FFF000000F0000007FF000001E0000007FF000001E000
0007FF800003E0000003FF800003C0000003FFC00007C0000001FFC0000780000001FFE0000F80
000000FFE0000F00000000FFF0000F00000000FFF0001F000000007FF0001E000000007FF8003E
000000003FF8003C000000003FFC007C000000001FFC0078000000001FFE0078000000000FFE00
F0000000000FFE00F0000000000FFF01F00000000007FF01E00000000007FF83E00000000003FF
83C00000000003FFC7C00000000001FFC7800000000001FFE7800000000001FFEF800000000000
FFEF000000000000FFFF0000000000007FFE0000000000007FFE0000000000003FFC0000000000
003FFC0000000000001FF80000000000001FF80000000000001FF80000000000000FF000000000
00000FF000000000000007E000000000000007E000000000000003C000000040377EB645>I<FF
FFFFC03FFFFFF003FFFFC0FFFFFFC03FFFFFF003FFFFC0FFFFFFC03FFFFFF003FFFFC0FFFFFFC0
3FFFFFF003FFFFC001FFC000007FF0000003E00001FFE000007FF8000003E00000FFE000003FF8
000003C00000FFE000003FF8000003C00000FFF000001FFC000007C000007FF000001FFC000007
8000007FF800003FFE00000F8000003FF800003FFE00000F0000003FF800003FFE00000F000000
3FFC00007FFF00001F0000001FFC00007FFF00001E0000001FFC00007FFF00001E0000001FFE00
00F3FF80003E0000000FFE0000F3FF80003C0000000FFF0001F3FFC0003C00000007FF0001E1FF
C0007800000007FF0001E1FFC0007800000007FF8003E1FFE000F800000003FF8003C0FFE000F0
00000003FF8003C0FFE000F000000003FFC007807FF001F000000001FFC007807FF001E0000000
01FFC00F807FF801E000000000FFE00F003FF803C000000000FFE00F003FF803C000000000FFF0
1F003FFC07C0000000007FF01E001FFC0780000000007FF01E001FFC0780000000007FF83C000F
FE0F80000000003FF83C000FFE0F00000000003FF87C000FFF0F00000000001FFC780007FF1E00
000000001FFC780007FF1E00000000001FFEF80007FFBE00000000000FFEF00003FFBC00000000
000FFEF00003FFBC00000000000FFFF00003FFFC000000000007FFE00001FFF8000000000007FF
E00001FFF8000000000003FFC00000FFF0000000000003FFC00000FFF0000000000003FFC00000
FFF0000000000001FF8000007FE0000000000001FF8000007FE0000000000001FF8000007FE000
0000000000FF0000003FC0000000000000FF0000003FC00000000000007E0000001F8000000000
00007E0000001F800000000000007E0000001F800000000000003C0000000F000000005A377EB6
5F>I<004000040001E0001E0003C0003C00078000780007000070000E0000E0001C0001C0001C
0001C00038000380003800038000700007000070000700007000070000E0000E0000E0000E0000
E7800E7800FFE00FFE00FFF00FFF00FFF00FFF00FFF80FFF80FFF80FFF807FF807FF807FF807FF
803FF003FF003FF003FF001FE001FE000780007800211B75B630>92 D<003FFE00000001FFFFC0
000007FFFFF000000FF00FFC00001FF003FE00001FF801FF00001FF800FF80001FF800FF80001F
F8007FC0000FF0007FC00007E0007FC0000180007FC0000000007FC0000000007FC00000003FFF
C000000FFFFFC000007FFF7FC00001FF807FC00007FE007FC0000FF8007FC0001FE0007FC0003F
C0007FC0007FC0007FC000FF80007FC000FF80007FC000FF80007FC000FF80007FC000FF8000FF
C000FF8000FFC0007FC001BFC0003FE003BFE0001FF81F3FFF800FFFFC1FFF8003FFF80FFF8000
7FC003FF8029237DA22D>97 D<00FE00000000FFFE00000000FFFE00000000FFFE00000000FFFE
0000000007FE0000000003FE0000000003FE0000000003FE0000000003FE0000000003FE000000
0003FE0000000003FE0000000003FE0000000003FE0000000003FE0000000003FE0000000003FE
0000000003FE0000000003FE0000000003FE03FE000003FE1FFFE00003FE7FFFF80003FFFC07FC
0003FFE001FE0003FF8000FF0003FF00007F8003FE00003FC003FE00003FE003FE00003FE003FE
00001FF003FE00001FF003FE00001FF003FE00001FF803FE00001FF803FE00001FF803FE00001F
F803FE00001FF803FE00001FF803FE00001FF803FE00001FF803FE00001FF803FE00001FF003FE
00001FF003FE00001FF003FE00003FE003FE00003FC003FE00007FC003FF00007F8003FF8000FF
0003FBE001FE0003F9F80FFC0003F07FFFF00003E01FFFC00003C007FE00002D377EB633>I<00
03FFC000001FFFF800007FFFFE0001FF00FF0003FC00FF8007F801FF800FF001FF801FF001FF80
1FE001FF803FE000FF007FE0007E007FC00018007FC0000000FFC0000000FFC0000000FFC00000
00FFC0000000FFC0000000FFC0000000FFC0000000FFC0000000FFC00000007FC00000007FE000
00007FE00000003FE00003C01FE00003C01FF00007800FF800078007FC000F0003FE001E0001FF
80FC00007FFFF800001FFFE0000003FF000022237DA229>I<00000000FE00000000FFFE000000
00FFFE00000000FFFE00000000FFFE0000000007FE0000000003FE0000000003FE0000000003FE
0000000003FE0000000003FE0000000003FE0000000003FE0000000003FE0000000003FE000000
0003FE0000000003FE0000000003FE0000000003FE0000000003FE000003FF03FE00001FFFE3FE
00007FFFFBFE0001FF80FFFE0003FC001FFE0007F8000FFE000FF00007FE001FF00003FE003FE0
0003FE003FE00003FE007FC00003FE007FC00003FE007FC00003FE00FFC00003FE00FFC00003FE
00FFC00003FE00FFC00003FE00FFC00003FE00FFC00003FE00FFC00003FE00FFC00003FE00FFC0
0003FE007FC00003FE007FC00003FE007FC00003FE003FE00003FE003FE00003FE001FE00007FE
000FF00007FE0007F8001FFE0003FC003FFF0001FF01FBFFF800FFFFF3FFF8003FFFC3FFF80003
FE03FFF82D377DB633>I<0003FF0000001FFFE000007FFFF80001FF03FC0003FC00FE0007F800
7F000FF0003F001FE0003F803FE0001F803FE0001FC07FC0001FC07FC0001FC07FC0001FE0FFC0
000FE0FFC0000FE0FFFFFFFFE0FFFFFFFFE0FFFFFFFFE0FFC0000000FFC0000000FFC0000000FF
C00000007FC00000007FC00000003FE00000003FE00001E01FE00001E01FF00003E00FF00003C0
07F800078003FC001F8001FF80FF00007FFFFC00001FFFF0000001FF800023237DA22A>I<0000
3FE00003FFF8000FFFFC001FF0FE003FC1FE007F83FF00FF03FF01FF03FF01FE03FF03FE01FE03
FE00FC03FE007803FE000003FE000003FE000003FE000003FE000003FE000003FE000003FE0000
FFFFFE00FFFFFE00FFFFFE00FFFFFE0003FE000003FE000003FE000003FE000003FE000003FE00
0003FE000003FE000003FE000003FE000003FE000003FE000003FE000003FE000003FE000003FE
000003FE000003FE000003FE000003FE000003FE000003FE000003FE000003FE000003FE000003
FE000003FE0000FFFFFC00FFFFFC00FFFFFC00FFFFFC0020377DB61C>I<000000007C00001FFC
03FE0000FFFF87FF0003FFFFFF1F8007F80FF83F800FE003F83F801FE003FC3F803FC001FE1F00
3FC001FE0E003FC001FE00007FC001FF00007FC001FF00007FC001FF00007FC001FF00007FC001
FF00003FC001FE00003FC001FE00003FC001FE00001FE003FC00000FE003F8000007F80FF00000
07FFFFE000000EFFFF8000000C1FFC0000001C00000000001E00000000001E00000000001E0000
0000001F80000000001FFFFFF000001FFFFFFE00001FFFFFFF80000FFFFFFFE00007FFFFFFF000
03FFFFFFF80007FFFFFFF8001FFFFFFFFC003F80001FFC007F000003FE007E000001FE00FE0000
00FE00FE000000FE00FE000000FE00FE000000FE007F000001FC007F000001FC003F800003F800
1FE0000FF0000FFC007FE00003FFFFFF800000FFFFFE0000000FFFE0000029347DA32E>I<00FE
00000000FFFE00000000FFFE00000000FFFE00000000FFFE0000000007FE0000000003FE000000
0003FE0000000003FE0000000003FE0000000003FE0000000003FE0000000003FE0000000003FE
0000000003FE0000000003FE0000000003FE0000000003FE0000000003FE0000000003FE000000
0003FE00FF800003FE07FFE00003FE0FFFF80003FE3E07FC0003FE7003FC0003FEE003FE0003FE
C001FE0003FF8001FF0003FF0001FF0003FF0001FF0003FF0001FF0003FE0001FF0003FE0001FF
0003FE0001FF0003FE0001FF0003FE0001FF0003FE0001FF0003FE0001FF0003FE0001FF0003FE
0001FF0003FE0001FF0003FE0001FF0003FE0001FF0003FE0001FF0003FE0001FF0003FE0001FF
0003FE0001FF0003FE0001FF0003FE0001FF0003FE0001FF0003FE0001FF00FFFFF87FFFFCFFFF
F87FFFFCFFFFF87FFFFCFFFFF87FFFFC2E377DB633>I<01E00007F8000FFC000FFC001FFE001F
FE001FFE001FFE000FFC000FFC0007F80001E00000000000000000000000000000000000000000
000000000000000000FE007FFE007FFE007FFE007FFE0007FE0003FE0003FE0003FE0003FE0003
FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003
FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE00FFFFF0FFFFF0FFFFF0FFFFF014387DB7
1A>I<00003C000000FF000001FF800001FF800003FFC00003FFC00003FFC00003FFC00001FF80
0001FF800000FF0000003C00000000000000000000000000000000000000000000000000000000
00000000000000000000003FC0001FFFC0001FFFC0001FFFC0001FFFC00000FFC000007FC00000
7FC000007FC000007FC000007FC000007FC000007FC000007FC000007FC000007FC000007FC000
007FC000007FC000007FC000007FC000007FC000007FC000007FC000007FC000007FC000007FC0
00007FC000007FC000007FC000007FC000007FC000007FC000007FC000007FC000007FC000007F
C000007FC00C007FC03F007FC07F807FC0FFC07F80FFC0FF80FFC0FF00FFC0FF007F81FE007F83
FC003FFFF0000FFFC00001FF00001A4785B71C>I<00FE00000000FFFE00000000FFFE00000000
FFFE00000000FFFE0000000007FE0000000003FE0000000003FE0000000003FE0000000003FE00
00000003FE0000000003FE0000000003FE0000000003FE0000000003FE0000000003FE00000000
03FE0000000003FE0000000003FE0000000003FE0000000003FE003FFF8003FE003FFF8003FE00
3FFF8003FE003FFF8003FE000FE00003FE000FC00003FE003F800003FE007E000003FE00FC0000
03FE01F8000003FE03F0000003FE0FC0000003FE1F80000003FE3F80000003FE7FC0000003FFFF
C0000003FFFFE0000003FFFFF0000003FFDFF8000003FF0FF8000003FE0FFC000003FC07FE0000
03FC03FF000003FC01FF800003FC01FF800003FC00FFC00003FC007FE00003FC003FF00003FC00
1FF00003FC001FF80003FC000FFC00FFFFF07FFFE0FFFFF07FFFE0FFFFF07FFFE0FFFFF07FFFE0
2B377EB630>I<00FE00FFFE00FFFE00FFFE00FFFE0007FE0003FE0003FE0003FE0003FE0003FE
0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE
0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE
0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE
0003FE00FFFFF8FFFFF8FFFFF8FFFFF815377DB61A>I<01FC00FF80007FC000FFFC07FFE003FF
F000FFFC0FFFF807FFFC00FFFC3E07FC1F03FE00FFFC7003FC3801FE0007FCE003FE7001FF0003
FCC001FE6000FF0003FD8001FFC000FF8003FF0001FF8000FF8003FF0001FF8000FF8003FF0001
FF8000FF8003FE0001FF0000FF8003FE0001FF0000FF8003FE0001FF0000FF8003FE0001FF0000
FF8003FE0001FF0000FF8003FE0001FF0000FF8003FE0001FF0000FF8003FE0001FF0000FF8003
FE0001FF0000FF8003FE0001FF0000FF8003FE0001FF0000FF8003FE0001FF0000FF8003FE0001
FF0000FF8003FE0001FF0000FF8003FE0001FF0000FF8003FE0001FF0000FF8003FE0001FF0000
FF8003FE0001FF0000FF8003FE0001FF0000FF8003FE0001FF0000FF80FFFFF87FFFFC3FFFFEFF
FFF87FFFFC3FFFFEFFFFF87FFFFC3FFFFEFFFFF87FFFFC3FFFFE47237DA24C>I<01FC00FF8000
FFFC07FFE000FFFC0FFFF800FFFC3E07FC00FFFC7003FC0007FCE003FE0003FCC001FE0003FD80
01FF0003FF0001FF0003FF0001FF0003FF0001FF0003FE0001FF0003FE0001FF0003FE0001FF00
03FE0001FF0003FE0001FF0003FE0001FF0003FE0001FF0003FE0001FF0003FE0001FF0003FE00
01FF0003FE0001FF0003FE0001FF0003FE0001FF0003FE0001FF0003FE0001FF0003FE0001FF00
03FE0001FF0003FE0001FF0003FE0001FF0003FE0001FF00FFFFF87FFFFCFFFFF87FFFFCFFFFF8
7FFFFCFFFFF87FFFFC2E237DA233>I<0003FF8000001FFFF000007FFFFC0001FF01FF0003FC00
7F8007F8003FC00FF0001FE01FE0000FF03FE0000FF83FC00007F87FC00007FC7FC00007FC7FC0
0007FCFFC00007FEFFC00007FEFFC00007FEFFC00007FEFFC00007FEFFC00007FEFFC00007FEFF
C00007FEFFC00007FE7FC00007FC7FC00007FC7FC00007FC3FE0000FF83FE0000FF81FE0000FF0
0FF0001FE00FF8003FE003FC007F8001FF01FF0000FFFFFE00001FFFF0000003FF800027237DA2
2E>I<00FE03FE0000FFFE1FFFE000FFFE7FFFF800FFFFFC0FFC00FFFFE003FE0003FF8000FF00
03FF0000FF8003FE00007FC003FE00007FE003FE00003FE003FE00003FF003FE00003FF003FE00
001FF003FE00001FF803FE00001FF803FE00001FF803FE00001FF803FE00001FF803FE00001FF8
03FE00001FF803FE00001FF803FE00001FF803FE00001FF003FE00003FF003FE00003FF003FE00
003FE003FE00007FC003FE00007FC003FF0000FF8003FF8001FF0003FFE003FE0003FFF80FFC00
03FE7FFFF00003FE1FFFC00003FE07FE000003FE0000000003FE0000000003FE0000000003FE00
00000003FE0000000003FE0000000003FE0000000003FE0000000003FE0000000003FE00000000
03FE00000000FFFFF8000000FFFFF8000000FFFFF8000000FFFFF80000002D327EA233>I<01FC
07E000FFFC1FFC00FFFC3FFE00FFFC78FF00FFFCE0FF0007FCC1FF8003FDC1FF8003FD81FF8003
FF81FF8003FF00FF0003FF007E0003FF00180003FE00000003FE00000003FE00000003FE000000
03FE00000003FE00000003FE00000003FE00000003FE00000003FE00000003FE00000003FE0000
0003FE00000003FE00000003FE00000003FE00000003FE00000003FE00000003FE000000FFFFFC
0000FFFFFC0000FFFFFC0000FFFFFC000021237EA226>114 D<007FE0E003FFFFE00FFFFFE01F
801FE03E0007E07C0003E07C0001E0FC0001E0FC0001E0FE0001E0FF000000FFC00000FFFE0000
7FFFF0007FFFFC003FFFFF001FFFFF800FFFFFC003FFFFE000FFFFF00007FFF000003FF8000007
F8700003F8F00001F8F00001F8F80001F8F80001F0FC0001F0FE0003E0FF0007E0FFE01FC0FFFF
FF80F1FFFE00C03FF0001D237DA224>I<001E0000001E0000001E0000001E0000001E0000003E
0000003E0000003E0000003E0000007E0000007E000000FE000000FE000001FE000003FE000007
FE00001FFFFFC0FFFFFFC0FFFFFFC0FFFFFFC003FE000003FE000003FE000003FE000003FE0000
03FE000003FE000003FE000003FE000003FE000003FE000003FE000003FE000003FE000003FE00
0003FE000003FE000003FE00F003FE00F003FE00F003FE00F003FE00F003FE00F003FE00F003FE
00E001FF01E000FF01C000FF83C0007FFF80001FFE000003FC001C337EB224>I<00FE00007F00
FFFE007FFF00FFFE007FFF00FFFE007FFF00FFFE007FFF0007FE0003FF0003FE0001FF0003FE00
01FF0003FE0001FF0003FE0001FF0003FE0001FF0003FE0001FF0003FE0001FF0003FE0001FF00
03FE0001FF0003FE0001FF0003FE0001FF0003FE0001FF0003FE0001FF0003FE0001FF0003FE00
01FF0003FE0001FF0003FE0001FF0003FE0001FF0003FE0001FF0003FE0001FF0003FE0003FF00
03FE0003FF0003FE0007FF0001FE000FFF0001FF001DFF8000FF8079FFFC007FFFF1FFFC001FFF
C1FFFC0003FF01FFFC2E237DA233>I<FFFFE007FFE0FFFFE007FFE0FFFFE007FFE0FFFFE007FF
E007FE00007C0003FE0000780003FF0000F80001FF0000F00001FF8001F00000FF8001E00000FF
C003E000007FC003C000007FC003C000003FE0078000003FE0078000003FF00F8000001FF00F00
00001FF81F0000000FF81E0000000FFC3E00000007FC3C00000007FE7C00000003FE7800000003
FE7800000001FFF000000001FFF000000001FFF000000000FFE000000000FFE0000000007FC000
0000007FC0000000003F80000000003F80000000001F00000000001F0000002B237EA230>I<FF
FFC3FFFE01FFF8FFFFC3FFFE01FFF8FFFFC3FFFE01FFF8FFFFC3FFFE01FFF807FC001FE0001F00
07FE000FF0001F0003FE000FF0001E0003FE000FF0001E0001FF000FF8003C0001FF001FF8003C
0001FF801FFC007C0000FF801FFC00780000FF803DFC007800007FC03DFE00F000007FC07DFE00
F000007FE078FF01F000003FE078FF01E000003FE0F07F01E000001FF0F07F83C000001FF1F07F
83C000001FF9E03FC7C000000FF9E03FC78000000FFBC01FC780000007FFC01FEF00000007FFC0
1FEF00000007FF800FFF00000003FF800FFE00000003FF0007FE00000001FF0007FC00000001FF
0007FC00000001FE0003FC00000000FE0003F800000000FC0001F8000000007C0001F000000000
780000F000003D237EA242>I<FFFFC03FFFC0FFFFC03FFFC0FFFFC03FFFC0FFFFC03FFFC003FF
0007E00001FF800FC00000FF800F8000007FC01F0000003FE03E0000003FF07C0000001FF8F800
00000FF9F800000007FFF000000003FFE000000001FFC000000001FF8000000000FFC000000000
7FC0000000007FE000000000FFF000000001FFF800000001FFFC00000003E7FE00000007C3FE00
00000F81FF0000001F00FF8000003F00FFC000007E007FE000007C003FE00000F8001FF00001F0
000FF800FFFE007FFFE0FFFE007FFFE0FFFE007FFFE0FFFE007FFFE02B237EA230>I<FFFFE007
FFE0FFFFE007FFE0FFFFE007FFE0FFFFE007FFE007FE00007C0003FE0000780003FF0000F80001
FF0000F00001FF8001F00000FF8001E00000FFC003E000007FC003C000007FC003C000003FE007
8000003FE0078000003FF00F8000001FF00F0000001FF81F0000000FF81E0000000FFC3E000000
07FC3C00000007FE7C00000003FE7800000003FE7800000001FFF000000001FFF000000001FFF0
00000000FFE000000000FFE0000000007FC0000000007FC0000000003F80000000003F80000000
001F00000000001F00000000001E00000000001E00000000003E00000000003C0000003E007C00
00007F0078000000FF80F8000000FF80F0000000FF81F0000000FF83E0000000FF07C00000007F
1F800000003FFF000000001FFC0000000007F0000000002B327EA230>I<3FFFFFFF803FFFFFFF
803FFFFFFF803FE003FF003F8007FE003F000FFE003E000FFC007C001FF8007C003FF0007C007F
F00078007FE0007800FFC0007801FF80007803FF80000003FF00000007FE0000000FFC0000001F
FC0000001FF80000003FF00780007FE0078000FFE0078000FFC0078001FF80078003FF000F8007
FF000F8007FE000F800FFC001F001FF8001F003FF8003F003FF0007F007FE003FF00FFFFFFFF00
FFFFFFFF00FFFFFFFF0021237DA229>I E /Fl 36 121 df<000003FF80000000003FFFF80000
0001FFFFFF00000007FFFFFFC000000FFF01FFE000003FFC007FF800007FF0001FFC0000FFE000
0FFE0001FFC00007FF0003FFC00007FF8003FF800003FF8007FF800003FFC007FF000001FFC00F
FF000001FFE00FFF000001FFE01FFF000001FFF01FFF000001FFF01FFF000001FFF03FFE000000
FFF83FFE000000FFF83FFE000000FFF87FFE000000FFFC7FFE000000FFFC7FFE000000FFFC7FFE
000000FFFC7FFE000000FFFC7FFE000000FFFCFFFE000000FFFEFFFE000000FFFEFFFE000000FF
FEFFFE000000FFFEFFFE000000FFFEFFFE000000FFFEFFFE000000FFFEFFFE000000FFFEFFFE00
0000FFFEFFFE000000FFFEFFFE000000FFFEFFFE000000FFFEFFFE000000FFFEFFFE000000FFFE
FFFE000000FFFEFFFE000000FFFEFFFE000000FFFEFFFE000000FFFEFFFE000000FFFEFFFE0000
00FFFEFFFE000000FFFEFFFE000000FFFE7FFE000000FFFC7FFE000000FFFC7FFE000000FFFC7F
FE000000FFFC7FFE000000FFFC7FFE000000FFFC3FFE000000FFF83FFE000000FFF83FFF000001
FFF83FFF000001FFF81FFF000001FFF01FFF000001FFF00FFF000001FFE00FFF000001FFE00FFF
000001FFE007FF800003FFC003FF800003FF8003FFC00007FF8001FFE0000FFF0000FFE0000FFE
00007FF8003FFC00003FFC007FF800001FFF01FFF0000007FFFFFFC0000001FFFFFF000000003F
FFF80000000003FF800000374C7BCA42>48 D<000000780000000000FC0000000003FC00000000
0FFC000000003FFC00000001FFFC0000001FFFFC0000FFFFFFFC0000FFFFFFFC0000FFFFFFFC00
00FFFE7FFC0000FFE07FFC000000007FFC000000007FFC000000007FFC000000007FFC00000000
7FFC000000007FFC000000007FFC000000007FFC000000007FFC000000007FFC000000007FFC00
0000007FFC000000007FFC000000007FFC000000007FFC000000007FFC000000007FFC00000000
7FFC000000007FFC000000007FFC000000007FFC000000007FFC000000007FFC000000007FFC00
0000007FFC000000007FFC000000007FFC000000007FFC000000007FFC000000007FFC00000000
7FFC000000007FFC000000007FFC000000007FFC000000007FFC000000007FFC000000007FFC00
0000007FFC000000007FFC000000007FFC000000007FFC000000007FFC000000007FFC00000000
7FFC000000007FFC000000007FFC000000007FFC000000007FFC000000007FFC000000007FFC00
0000007FFC000000007FFC000000007FFC000000007FFC000000007FFC000000007FFC00000000
7FFC000000007FFC00007FFFFFFFFFFC7FFFFFFFFFFC7FFFFFFFFFFC7FFFFFFFFFFC7FFFFFFFFF
FC2E4B76CA42>I<00003FFC0000000003FFFFC00000000FFFFFF80000007FFFFFFE000000FFFF
FFFF800003FF807FFFE00007FC000FFFF0000FF00007FFF8001FE00003FFFC001F800001FFFE00
3FE00000FFFF007FF800007FFF007FFC00007FFF807FFE00007FFF80FFFE00003FFFC0FFFF0000
3FFFC0FFFF00003FFFC0FFFF00003FFFE0FFFF00001FFFE0FFFF00001FFFE07FFE00001FFFE07F
FE00001FFFE03FFC00001FFFE03FFC00001FFFE00FF000001FFFE003C000003FFFE0000000003F
FFC0000000003FFFC0000000003FFFC0000000003FFF80000000007FFF80000000007FFF000000
0000FFFE0000000000FFFE0000000001FFFC0000000001FFF80000000003FFF00000000003FFE0
0000000007FFC0000000000FFF80000000001FFF00000000001FFC00000000003FF80000000000
7FF00000000000FFC00000000001FF800000000001FF000000000003FC000000000007F8000000
00000FF000000000001FE00003E000003FC00003E000007F000003E00000FE000007C00001FC00
0007C00003F8000007C00007F0000007C0000FE000000FC0000F8000000FC0001F0000000F8000
3E0000001F80007FFFFFFFFF8000FFFFFFFFFF8001FFFFFFFFFF8003FFFFFFFFFF8007FFFFFFFF
FF800FFFFFFFFFFF001FFFFFFFFFFF003FFFFFFFFFFF007FFFFFFFFFFF007FFFFFFFFFFF00FFFF
FFFFFFFF00FFFFFFFFFFFE00FFFFFFFFFFFE00FFFFFFFFFFFE00334B79CA42>I<00000FFF8000
0000007FFFFC00000003FFFFFF8000000FFFFFFFE000001FF803FFF000007F8000FFFC0000FE00
007FFE0001FC00007FFF0003F800003FFF8003FF00003FFF8007FF80001FFFC007FFC0001FFFC0
07FFE0001FFFE00FFFE0001FFFE00FFFE0001FFFE00FFFE0001FFFE00FFFE0001FFFE00FFFE000
1FFFE00FFFE0001FFFE007FFE0001FFFC007FFC0003FFFC003FF80003FFFC001FF00003FFF8000
7C00003FFF80000000007FFF00000000007FFF00000000007FFE0000000000FFFC0000000001FF
F80000000001FFF00000000003FFE0000000000FFF80000000007FFE000000007FFFF800000000
7FFFE0000000007FFFFC000000007FFFFF800000000007FFE00000000000FFF800000000007FFE
00000000003FFF00000000001FFF80000000001FFFC0000000000FFFE0000000000FFFF0000000
000FFFF80000000007FFF80000000007FFFC0000000007FFFC0000000007FFFC0000000007FFFE
07F0000007FFFE1FFC000007FFFE3FFE000007FFFE7FFF000007FFFE7FFF000007FFFEFFFF8000
07FFFEFFFF800007FFFEFFFF800007FFFCFFFF800007FFFCFFFF800007FFFCFFFF800007FFF8FF
FF00000FFFF87FFF00000FFFF07FFE00000FFFF03FFC00001FFFE03FF800001FFFE01FE000003F
FFC00FF800007FFF8007FE0000FFFF0003FFF003FFFC0000FFFFFFFFF800003FFFFFFFE000000F
FFFFFF00000001FFFFFC000000001FFF800000374C7BCA42>I<0000000000F800000000000001
FC00000000000003FC00000000000003FC00000000000007FC0000000000000FFC000000000000
1FFC0000000000003FFC0000000000003FFC0000000000007FFC000000000000FFFC0000000000
01FFFC000000000003FFFC000000000003FFFC000000000007FFFC00000000000FFFFC00000000
001FFFFC00000000001F7FFC00000000003E7FFC00000000007E7FFC0000000000FC7FFC000000
0001F87FFC0000000001F07FFC0000000003E07FFC0000000007E07FFC000000000FC07FFC0000
00001F807FFC000000001F007FFC000000003E007FFC000000007E007FFC00000000FC007FFC00
000001F8007FFC00000001F0007FFC00000003E0007FFC00000007E0007FFC0000000FC0007FFC
0000001F80007FFC0000001F00007FFC0000003F00007FFC0000007E00007FFC000000FC00007F
FC000000F800007FFC000001F000007FFC000003F000007FFC000007E000007FFC00000FC00000
7FFC00000F8000007FFC00001F0000007FFC00003F0000007FFC00007E0000007FFC0000FC0000
007FFC0000FFFFFFFFFFFFFF80FFFFFFFFFFFFFF80FFFFFFFFFFFFFF80FFFFFFFFFFFFFF80FFFF
FFFFFFFFFF8000000000FFFC000000000000FFFC000000000000FFFC000000000000FFFC000000
000000FFFC000000000000FFFC000000000000FFFC000000000000FFFC000000000000FFFC0000
00000000FFFC000000000000FFFC000000000000FFFC000000000000FFFC000000000000FFFC00
0000001FFFFFFFFF8000001FFFFFFFFF8000001FFFFFFFFF8000001FFFFFFFFF8000001FFFFFFF
FF80394B7CCA42>I<03000000001C0007E00000007C0007FC000007FC0007FFE000FFFC0007FF
FFFFFFF80007FFFFFFFFF00007FFFFFFFFE00007FFFFFFFFE00007FFFFFFFFC00007FFFFFFFF80
0007FFFFFFFF000007FFFFFFFE000007FFFFFFF8000007FFFFFFF0000007FFFFFFC0000007FFFF
FF00000007FFFFFC00000007FFFFE000000007E0000000000007E0000000000007E00000000000
07E0000000000007E0000000000007E0000000000007E0000000000007E0000000000007E00000
00000007E0000000000007E00FFE00000007E0FFFFE0000007E3FFFFFC000007EFFFFFFF000007
FFF807FF800007FF8001FFE00007FE0000FFF00007F800007FF80007F000007FFC0007E000003F
FE0007C000003FFE00038000003FFF00000000003FFF00000000001FFF80000000001FFF800000
00001FFFC0000000001FFFC0000000001FFFC0000000001FFFC0000000001FFFE0000000001FFF
E007C000001FFFE01FF000001FFFE03FF800001FFFE07FFC00001FFFE07FFC00001FFFE0FFFE00
001FFFE0FFFE00001FFFE0FFFE00001FFFC0FFFE00001FFFC0FFFE00001FFFC0FFFC00001FFFC0
FFFC00001FFF807FF800003FFF807FF000003FFF003FC000003FFF003F0000007FFE001F000000
7FFC001F800000FFFC000FE00001FFF80007F00003FFF00003FC0007FFE00001FF803FFF800000
FFFFFFFF0000007FFFFFFC0000001FFFFFF000000003FFFF80000000007FF0000000334C79CA42
>I<00000007FF0000000000FFFFE000000007FFFFF80000001FFFFFFC0000007FFC01FE000001
FFE0003F000003FF80001F800007FF00003F80001FFE0000FFC0003FFC0001FFC0007FF80003FF
E0007FF00003FFE000FFF00007FFE001FFE00007FFE003FFE00007FFE003FFC00007FFE007FFC0
0003FFC007FFC00003FFC00FFF800001FF800FFF800000FF001FFF8000003C001FFF8000000000
3FFF80000000003FFF80000000003FFF00000000003FFF00000000007FFF00000000007FFF0000
0000007FFF00FFFC00007FFF03FFFF80007FFF07FFFFE000FFFF0FFFFFF000FFFF1F003FFC00FF
FF3C001FFE00FFFF78000FFF00FFFF700007FF80FFFFF00003FFC0FFFFE00003FFE0FFFFC00003
FFF0FFFFC00001FFF0FFFFC00001FFF8FFFF800001FFF8FFFF800001FFFCFFFF800001FFFCFFFF
800001FFFCFFFF000001FFFCFFFF000001FFFEFFFF000001FFFE7FFF000001FFFE7FFF000001FF
FE7FFF000001FFFE7FFF000001FFFE7FFF000001FFFE7FFF000001FFFE3FFF000001FFFE3FFF00
0001FFFE3FFF000001FFFE1FFF000001FFFC1FFF800001FFFC1FFF800001FFFC0FFF800001FFFC
0FFF800001FFF807FF800001FFF807FF800003FFF003FFC00003FFF001FFC00003FFE001FFE000
07FFC000FFF00007FF80007FF8000FFF00003FFC001FFE00001FFF00FFFC00000FFFFFFFF00000
03FFFFFFE0000000FFFFFF800000001FFFFC0000000003FFE00000374C7BCA42>I<07C0000000
00000FC000000000000FE000000000000FFF80000000000FFFFFFFFFFFFF0FFFFFFFFFFFFF0FFF
FFFFFFFFFF1FFFFFFFFFFFFF1FFFFFFFFFFFFE1FFFFFFFFFFFFC1FFFFFFFFFFFF81FFFFFFFFFFF
F81FFFFFFFFFFFF03FFFFFFFFFFFE03FFFFFFFFFFFC03FFFFFFFFFFF803FFFFFFFFFFF003FFFFF
FFFFFF003F80000000FE003F00000001FC007E00000003F8007E00000007F0007C00000007E000
7C0000000FE0007C0000001FC0007C0000003F8000F80000007F0000F8000000FE0000F8000000
FC000000000001FC000000000003F8000000000007F000000000000FE000000000000FE0000000
00001FC000000000003FC000000000003F8000000000007F800000000000FF800000000000FF00
0000000001FF000000000001FF000000000003FE000000000003FE000000000007FE0000000000
07FE00000000000FFE00000000000FFC00000000000FFC00000000001FFC00000000001FFC0000
0000003FFC00000000003FFC00000000003FFC00000000007FF800000000007FF800000000007F
F800000000007FF80000000000FFF80000000000FFF80000000000FFF80000000000FFF8000000
0000FFF80000000000FFF80000000001FFF80000000001FFF80000000001FFF80000000001FFF8
0000000001FFF80000000001FFF80000000001FFF80000000001FFF80000000001FFF800000000
01FFF80000000001FFF80000000000FFF000000000007FE000000000003FC000000000001F8000
0000384F79CD42>I<000003FFC0000000003FFFFC00000001FFFFFF80000007FFFFFFE000000F
FC00FFF800003FE0001FFC00007F80000FFE0000FF000007FF0000FE000003FF8001FE000001FF
8003FC000000FFC003FC000000FFC007FC000000FFC007FC0000007FE007FC0000007FE007FC00
00007FE00FFE0000007FE00FFE0000007FE00FFF0000007FE00FFF8000007FE00FFFC000007FE0
0FFFE00000FFC00FFFF80000FFC00FFFFE0000FF8007FFFF8001FF8007FFFFE003FF0007FFFFF0
03FE0003FFFFFC07FC0003FFFFFF0FF80001FFFFFFFFF00001FFFFFFFFE00000FFFFFFFF800000
7FFFFFFE0000003FFFFFFF8000001FFFFFFFE000000FFFFFFFF0000003FFFFFFFC000001FFFFFF
FE000007FFFFFFFF00001FFFFFFFFF80007FE7FFFFFFC000FFC1FFFFFFE003FF807FFFFFF007FE
001FFFFFF00FFC000FFFFFF80FFC0003FFFFF81FF80000FFFFFC3FF000003FFFFC3FF000001FFF
FC7FE0000007FFFE7FE0000001FFFE7FE0000000FFFEFFC00000003FFEFFC00000001FFEFFC000
00001FFEFFC00000000FFEFFC000000007FEFFC000000007FEFFC000000007FCFFC000000007FC
FFC000000007FC7FE000000007F87FE000000007F87FF00000000FF83FF00000000FF03FF80000
001FE01FFC0000003FE00FFE0000007FC007FF800000FF8003FFE00003FF0001FFFC003FFE0000
FFFFFFFFF800003FFFFFFFE0000007FFFFFF80000001FFFFFC000000000FFFC00000374C7BCA42
>I<000007FF80000000007FFFF800000003FFFFFE0000000FFFFFFF8000001FFF01FFE000007F
F8007FF00000FFF0001FF80001FFE0000FFC0003FFC0000FFE0007FF800007FF000FFF800007FF
801FFF800003FF801FFF800003FFC03FFF000003FFC03FFF000003FFE07FFF000003FFE07FFF00
0001FFF07FFF000001FFF07FFF000001FFF8FFFF000001FFF8FFFF000001FFF8FFFF000001FFF8
FFFF000001FFFCFFFF000001FFFCFFFF000001FFFCFFFF000001FFFCFFFF000001FFFCFFFF0000
01FFFCFFFF000001FFFEFFFF000001FFFE7FFF000001FFFE7FFF000003FFFE7FFF000003FFFE3F
FF000003FFFE3FFF000003FFFE3FFF000007FFFE1FFF000007FFFE0FFF800007FFFE0FFF80000F
FFFE07FF80001FFFFE03FFC0001DFFFE01FFE0003DFFFE00FFF00079FFFE007FF801F1FFFE001F
FFFFE1FFFE000FFFFFC1FFFC0003FFFF81FFFC00007FFE01FFFC0000000001FFFC0000000001FF
FC0000000001FFF80000000001FFF80000000003FFF80000000003FFF80000000003FFF0007800
0003FFF001FE000003FFE003FF000003FFE007FF800007FFC007FF800007FFC00FFFC00007FF80
0FFFC00007FF800FFFC0000FFF000FFFC0000FFE000FFF80001FFE000FFF80003FFC0007FF0000
7FF80007FE0000FFF00003F80001FFE00003F80007FFC00001FF803FFF000000FFFFFFFE000000
7FFFFFF80000001FFFFFE000000007FFFF00000000007FF0000000374C7BCA42>I<0000000000
3E00000000000000000000007F0000000000000000000000FF8000000000000000000000FF8000
000000000000000001FFC000000000000000000001FFC000000000000000000001FFC000000000
000000000003FFE000000000000000000003FFE000000000000000000007FFF000000000000000
000007FFF000000000000000000007FFF00000000000000000000FFFF80000000000000000000F
FFF80000000000000000001FFFFC0000000000000000001FFFFC0000000000000000001FFFFC00
00000000000000003FFFFE0000000000000000003FFFFE0000000000000000007FFFFF00000000
00000000007EFFFF000000000000000000FEFFFF800000000000000000FEFFFF80000000000000
0000FC7FFF800000000000000001FC7FFFC00000000000000001F83FFFC00000000000000003F8
3FFFE00000000000000003F83FFFE00000000000000003F01FFFE00000000000000007F01FFFF0
0000000000000007E00FFFF0000000000000000FE00FFFF8000000000000000FC00FFFF8000000
000000000FC007FFF8000000000000001FC007FFFC000000000000001F8003FFFC000000000000
003F8003FFFE000000000000003F0003FFFE000000000000003F0001FFFE000000000000007F00
01FFFF000000000000007E0000FFFF00000000000000FE0000FFFF80000000000000FC0000FFFF
80000000000000FC00007FFF80000000000001FC00007FFFC0000000000001F800003FFFC00000
00000003F800003FFFE0000000000003F000001FFFE0000000000007F000001FFFF00000000000
07F000001FFFF0000000000007E000000FFFF000000000000FE000000FFFF800000000000FC000
0007FFF800000000001FFFFFFFFFFFFC00000000001FFFFFFFFFFFFC00000000001FFFFFFFFFFF
FC00000000003FFFFFFFFFFFFE00000000003FFFFFFFFFFFFE00000000007F00000001FFFF0000
0000007E00000001FFFF00000000007E00000000FFFF0000000000FE00000000FFFF8000000000
FC000000007FFF8000000001FC000000007FFFC000000001F8000000007FFFC000000001F80000
00003FFFC000000003F8000000003FFFE000000003F0000000001FFFE000000007F0000000001F
FFF000000007E0000000000FFFF00000000FE0000000000FFFF80000000FE0000000000FFFF800
00000FC00000000007FFF80000001FC00000000007FFFC000000FFF80000000003FFFC0000FFFF
FFF000001FFFFFFFFF80FFFFFFF000001FFFFFFFFF80FFFFFFF000001FFFFFFFFF80FFFFFFF000
001FFFFFFFFF80FFFFFFF000001FFFFFFFFF8059507BCF64>65 D<FFFFFFFFFFFFFF00000000FF
FFFFFFFFFFFFF8000000FFFFFFFFFFFFFFFF000000FFFFFFFFFFFFFFFFC00000FFFFFFFFFFFFFF
FFF00000000FFFE000000FFFF80000000FFFE0000003FFFE0000000FFFE0000001FFFF0000000F
FFE0000000FFFF8000000FFFE00000007FFF8000000FFFE00000003FFFC000000FFFE00000001F
FFE000000FFFE00000001FFFE000000FFFE00000001FFFF000000FFFE00000000FFFF000000FFF
E00000000FFFF000000FFFE00000000FFFF800000FFFE00000000FFFF800000FFFE00000000FFF
F800000FFFE00000000FFFF800000FFFE00000000FFFF800000FFFE00000000FFFF800000FFFE0
0000000FFFF800000FFFE00000000FFFF800000FFFE00000000FFFF000000FFFE00000001FFFF0
00000FFFE00000001FFFE000000FFFE00000001FFFE000000FFFE00000003FFFC000000FFFE000
00003FFFC000000FFFE00000007FFF8000000FFFE0000000FFFF0000000FFFE0000001FFFE0000
000FFFE0000003FFF80000000FFFE000000FFFF00000000FFFE000007FFFC00000000FFFFFFFFF
FFFE000000000FFFFFFFFFFFF0000000000FFFFFFFFFFFFF000000000FFFFFFFFFFFFFE0000000
0FFFE0000003FFFC0000000FFFE0000000FFFE0000000FFFE00000003FFF8000000FFFE0000000
1FFFC000000FFFE00000000FFFE000000FFFE000000007FFF000000FFFE000000007FFF800000F
FFE000000003FFFC00000FFFE000000003FFFE00000FFFE000000003FFFE00000FFFE000000001
FFFF00000FFFE000000001FFFF00000FFFE000000001FFFF00000FFFE000000001FFFF80000FFF
E000000001FFFF80000FFFE000000000FFFF80000FFFE000000000FFFF80000FFFE000000000FF
FF80000FFFE000000000FFFF80000FFFE000000000FFFF80000FFFE000000001FFFF80000FFFE0
00000001FFFF80000FFFE000000001FFFF00000FFFE000000001FFFF00000FFFE000000003FFFF
00000FFFE000000003FFFE00000FFFE000000003FFFE00000FFFE000000007FFFC00000FFFE000
00000FFFFC00000FFFE00000001FFFF800000FFFE00000003FFFF000000FFFE00000007FFFE000
000FFFE0000001FFFFC000000FFFE000000FFFFF8000FFFFFFFFFFFFFFFFFE0000FFFFFFFFFFFF
FFFFF80000FFFFFFFFFFFFFFFFE00000FFFFFFFFFFFFFFFF000000FFFFFFFFFFFFFFE000000051
4F7BCE5E>I<0000000003FFF000000700000000FFFFFF00001F00000007FFFFFFE0003F000000
3FFFFFFFF8007F000001FFFFFFFFFE00FF000007FFFFC003FF81FF00001FFFF800007FC3FF0000
3FFFC000001FF7FF0000FFFF00000007FFFF0001FFFE00000001FFFF0007FFF800000000FFFF00
0FFFF0000000007FFF001FFFE0000000003FFF003FFFC0000000001FFF007FFF80000000000FFF
007FFF000000000007FF00FFFE000000000007FF01FFFE000000000003FF03FFFC000000000001
FF03FFF8000000000001FF07FFF8000000000000FF07FFF8000000000000FF0FFFF00000000000
00FF0FFFF00000000000007F1FFFF00000000000007F1FFFE00000000000007F3FFFE000000000
00003F3FFFE00000000000003F3FFFE00000000000003F7FFFE00000000000003F7FFFE0000000
0000003F7FFFC0000000000000007FFFC0000000000000007FFFC000000000000000FFFFC00000
0000000000FFFFC000000000000000FFFFC000000000000000FFFFC000000000000000FFFFC000
000000000000FFFFC000000000000000FFFFC000000000000000FFFFC000000000000000FFFFC0
00000000000000FFFFC000000000000000FFFFC000000000000000FFFFC000000000000000FFFF
C0000000000000007FFFC0000000000000007FFFC0000000000000007FFFC0000000000000007F
FFE0000000000000007FFFE00000000000001F3FFFE00000000000001F3FFFE00000000000001F
3FFFE00000000000001F1FFFE00000000000001F1FFFF00000000000001F0FFFF0000000000000
3E0FFFF00000000000003E07FFF80000000000003E07FFF80000000000003E03FFF80000000000
007C03FFFC0000000000007C01FFFE000000000000F800FFFE000000000001F8007FFF00000000
0001F0007FFF800000000003F0003FFFC00000000007E0001FFFE0000000000FC0000FFFF00000
00001F800007FFF8000000003F000001FFFE00000000FE000000FFFF00000001FC0000003FFFE0
000007F80000001FFFF800003FF000000007FFFFC003FFC000000001FFFFFFFFFF00000000003F
FFFFFFFC000000000007FFFFFFF0000000000000FFFFFF8000000000000003FFF8000000505179
CF5F>I<FFFFFFFFFFFFFE00000000FFFFFFFFFFFFFFF0000000FFFFFFFFFFFFFFFE000000FFFF
FFFFFFFFFFFFC00000FFFFFFFFFFFFFFFFF00000000FFFE000007FFFFC0000000FFFE0000003FF
FF0000000FFFE0000000FFFF8000000FFFE00000003FFFC000000FFFE00000000FFFE000000FFF
E000000007FFF800000FFFE000000003FFFC00000FFFE000000001FFFC00000FFFE000000000FF
FE00000FFFE0000000007FFF00000FFFE0000000003FFF80000FFFE0000000001FFFC0000FFFE0
000000001FFFC0000FFFE0000000000FFFE0000FFFE0000000000FFFE0000FFFE0000000000FFF
F0000FFFE00000000007FFF0000FFFE00000000007FFF8000FFFE00000000007FFF8000FFFE000
00000003FFF8000FFFE00000000003FFFC000FFFE00000000003FFFC000FFFE00000000003FFFC
000FFFE00000000003FFFE000FFFE00000000003FFFE000FFFE00000000003FFFE000FFFE00000
000003FFFE000FFFE00000000003FFFE000FFFE00000000001FFFF000FFFE00000000001FFFF00
0FFFE00000000001FFFF000FFFE00000000001FFFF000FFFE00000000001FFFF000FFFE0000000
0001FFFF000FFFE00000000001FFFF000FFFE00000000001FFFF000FFFE00000000001FFFF000F
FFE00000000001FFFF000FFFE00000000001FFFF000FFFE00000000001FFFF000FFFE000000000
01FFFF000FFFE00000000001FFFF000FFFE00000000003FFFE000FFFE00000000003FFFE000FFF
E00000000003FFFE000FFFE00000000003FFFE000FFFE00000000003FFFE000FFFE00000000003
FFFC000FFFE00000000003FFFC000FFFE00000000003FFFC000FFFE00000000007FFF8000FFFE0
0000000007FFF8000FFFE00000000007FFF8000FFFE00000000007FFF0000FFFE0000000000FFF
F0000FFFE0000000000FFFE0000FFFE0000000001FFFE0000FFFE0000000001FFFC0000FFFE000
0000003FFF80000FFFE0000000007FFF80000FFFE0000000007FFF00000FFFE000000000FFFE00
000FFFE000000001FFFC00000FFFE000000003FFF800000FFFE00000000FFFF000000FFFE00000
001FFFE000000FFFE00000007FFF8000000FFFE0000003FFFF0000000FFFE000003FFFFC0000FF
FFFFFFFFFFFFFFF00000FFFFFFFFFFFFFFFFC00000FFFFFFFFFFFFFFFF000000FFFFFFFFFFFFFF
F0000000FFFFFFFFFFFFFE00000000584F7BCE65>I<FFFFFFFFFFFFFFFFFC00FFFFFFFFFFFFFF
FFFC00FFFFFFFFFFFFFFFFFC00FFFFFFFFFFFFFFFFFE00FFFFFFFFFFFFFFFFFE00000FFFF00000
07FFFE00000FFFF00000007FFE00000FFFF00000001FFE00000FFFF000000007FE00000FFFF000
000003FE00000FFFF000000001FF00000FFFF000000000FF00000FFFF0000000007F00000FFFF0
000000007F00000FFFF0000000003F00000FFFF0000000003F00000FFFF0000000001F00000FFF
F0000000001F80000FFFF0000000001F80000FFFF0000000000F80000FFFF0000000000F80000F
FFF0000000000F80000FFFF00003E0000F80000FFFF00003E0000F80000FFFF00003E00007C000
0FFFF00003E00007C0000FFFF00003E00007C0000FFFF00003E0000000000FFFF00007E0000000
000FFFF00007E0000000000FFFF00007E0000000000FFFF0000FE0000000000FFFF0001FE00000
00000FFFF0003FE0000000000FFFF001FFE0000000000FFFFFFFFFE0000000000FFFFFFFFFE000
0000000FFFFFFFFFE0000000000FFFFFFFFFE0000000000FFFFFFFFFE0000000000FFFF001FFE0
000000000FFFF0003FE0000000000FFFF0001FE0000000000FFFF0000FE0000000000FFFF00007
E0000000000FFFF00007E0000000000FFFF00007E0000000000FFFF00003E00000F8000FFFF000
03E00000F8000FFFF00003E00000F8000FFFF00003E00001F0000FFFF00003E00001F0000FFFF0
0003E00001F0000FFFF00000000001F0000FFFF00000000001F0000FFFF00000000003F0000FFF
F00000000003E0000FFFF00000000003E0000FFFF00000000003E0000FFFF00000000007E0000F
FFF00000000007E0000FFFF0000000000FE0000FFFF0000000000FC0000FFFF0000000001FC000
0FFFF0000000001FC0000FFFF0000000003FC0000FFFF0000000007FC0000FFFF000000000FFC0
000FFFF000000001FFC0000FFFF000000003FF80000FFFF00000000FFF80000FFFF00000007FFF
80000FFFF0000007FFFF80FFFFFFFFFFFFFFFFFF80FFFFFFFFFFFFFFFFFF80FFFFFFFFFFFFFFFF
FF00FFFFFFFFFFFFFFFFFF00FFFFFFFFFFFFFFFFFF004D4E7BCD57>I<FFFFFFFFFFC0FFFFFFFF
FFC0FFFFFFFFFFC0FFFFFFFFFFC0FFFFFFFFFFC00007FFF800000007FFF800000007FFF8000000
07FFF800000007FFF800000007FFF800000007FFF800000007FFF800000007FFF800000007FFF8
00000007FFF800000007FFF800000007FFF800000007FFF800000007FFF800000007FFF8000000
07FFF800000007FFF800000007FFF800000007FFF800000007FFF800000007FFF800000007FFF8
00000007FFF800000007FFF800000007FFF800000007FFF800000007FFF800000007FFF8000000
07FFF800000007FFF800000007FFF800000007FFF800000007FFF800000007FFF800000007FFF8
00000007FFF800000007FFF800000007FFF800000007FFF800000007FFF800000007FFF8000000
07FFF800000007FFF800000007FFF800000007FFF800000007FFF800000007FFF800000007FFF8
00000007FFF800000007FFF800000007FFF800000007FFF800000007FFF800000007FFF8000000
07FFF800000007FFF800000007FFF800000007FFF800000007FFF800000007FFF800000007FFF8
00000007FFF800000007FFF800000007FFF800000007FFF800000007FFF800000007FFF8000000
07FFF80000FFFFFFFFFFC0FFFFFFFFFFC0FFFFFFFFFFC0FFFFFFFFFFC0FFFFFFFFFFC02A4F7CCE
32>73 D<FFFFFFFFFFFFFC000000FFFFFFFFFFFFFFE00000FFFFFFFFFFFFFFFC0000FFFFFFFFFF
FFFFFF0000FFFFFFFFFFFFFFFFC000000FFFE00000FFFFF000000FFFE000000FFFF800000FFFE0
000003FFFC00000FFFE0000001FFFE00000FFFE0000000FFFF00000FFFE00000007FFF80000FFF
E00000003FFFC0000FFFE00000003FFFC0000FFFE00000003FFFE0000FFFE00000001FFFE0000F
FFE00000001FFFF0000FFFE00000001FFFF0000FFFE00000001FFFF0000FFFE00000001FFFF800
0FFFE00000001FFFF8000FFFE00000001FFFF8000FFFE00000001FFFF8000FFFE00000001FFFF8
000FFFE00000001FFFF8000FFFE00000001FFFF8000FFFE00000001FFFF8000FFFE00000001FFF
F0000FFFE00000001FFFF0000FFFE00000001FFFF0000FFFE00000001FFFE0000FFFE00000003F
FFE0000FFFE00000003FFFC0000FFFE00000003FFFC0000FFFE00000007FFF80000FFFE0000000
FFFF00000FFFE0000001FFFE00000FFFE0000003FFFC00000FFFE000000FFFF800000FFFE00000
FFFFE000000FFFFFFFFFFFFF8000000FFFFFFFFFFFFE0000000FFFFFFFFFFFF80000000FFFFFFF
FFFF800000000FFFF0000000000000000FFFF0000000000000000FFFF0000000000000000FFFF0
000000000000000FFFF0000000000000000FFFF0000000000000000FFFF0000000000000000FFF
F0000000000000000FFFF0000000000000000FFFF0000000000000000FFFF0000000000000000F
FFF0000000000000000FFFF0000000000000000FFFF0000000000000000FFFF000000000000000
0FFFF0000000000000000FFFF0000000000000000FFFF0000000000000000FFFF0000000000000
000FFFF0000000000000000FFFF0000000000000000FFFF0000000000000000FFFF00000000000
00000FFFF0000000000000000FFFF0000000000000000FFFF0000000000000000FFFF000000000
0000000FFFF0000000000000000FFFF0000000000000000FFFF0000000000000000FFFF0000000
000000FFFFFFFFFF0000000000FFFFFFFFFF0000000000FFFFFFFFFF0000000000FFFFFFFFFF00
00000000FFFFFFFFFF00000000004D4F7BCE5A>80 D<FFFFFFFFFC0000007FFFFFF8FFFFFFFFFC
0000007FFFFFF8FFFFFFFFFC0000007FFFFFF8FFFFFFFFFC0000007FFFFFF8FFFFFFFFFC000000
7FFFFFF8001FFFE00000000000FFF800001FFFF000000000001FC000001FFFF000000000001FC0
00000FFFF800000000001F8000000FFFF800000000003F80000007FFFC00000000003F00000007
FFFC00000000007F00000003FFFC00000000007E00000003FFFE0000000000FE00000001FFFE00
00000000FC00000001FFFF0000000001FC00000001FFFF0000000001FC00000000FFFF80000000
01F800000000FFFF8000000003F8000000007FFF8000000003F0000000007FFFC000000007F000
0000003FFFC000000007E0000000003FFFE00000000FE0000000003FFFE00000000FE000000000
1FFFF00000000FC0000000001FFFF00000001FC0000000000FFFF80000001F80000000000FFFF8
0000003F800000000007FFF80000003F000000000007FFFC0000007F000000000003FFFC000000
7E000000000003FFFE000000FE000000000003FFFE000000FE000000000001FFFF000000FC0000
00000001FFFF000001FC000000000000FFFF000001F8000000000000FFFF800003F80000000000
007FFF800003F00000000000007FFFC00007F00000000000007FFFC00007F00000000000003FFF
E00007E00000000000003FFFE0000FE00000000000001FFFF0000FC00000000000001FFFF0001F
C00000000000000FFFF0001F800000000000000FFFF8003F8000000000000007FFF8003F000000
0000000007FFFC007F0000000000000007FFFC007F0000000000000003FFFE007E000000000000
0003FFFE00FE0000000000000001FFFF00FC0000000000000001FFFF01FC0000000000000000FF
FF01F80000000000000000FFFF83F80000000000000000FFFF83F800000000000000007FFFC3F0
00000000000000007FFFC7F000000000000000003FFFE7E000000000000000003FFFEFE0000000
00000000001FFFEFC000000000000000001FFFFFC000000000000000000FFFFF80000000000000
00000FFFFF8000000000000000000FFFFF80000000000000000007FFFF00000000000000000007
FFFF00000000000000000003FFFE00000000000000000003FFFE00000000000000000001FFFC00
000000000000000001FFFC00000000000000000001FFFC00000000000000000000FFF800000000
000000000000FFF8000000000000000000007FF0000000000000000000007FF000000000000000
0000003FE0000000000000000000003FE0000000000000000000001FC000000000000000000000
0F8000000000005D507DCE64>86 D<0003FFFF00000000003FFFFFF000000000FFFFFFFE000000
01FFFFFFFF80000003FF0007FFC0000007FF8001FFF0000007FF8000FFF800000FFFC0007FFC00
000FFFC0003FFE00000FFFC0001FFE00000FFFC0001FFF00000FFFC0001FFF000007FF80000FFF
000007FF80000FFF800003FF00000FFF800000FC00000FFF8000000000000FFF8000000000000F
FF8000000000000FFF8000000000000FFF8000000000000FFF80000000003FFFFF800000001FFF
FFFF80000000FFFFFFFF80000007FFFF0FFF8000003FFFE00FFF800000FFFE000FFF800001FFF8
000FFF800007FFE0000FFF80000FFFC0000FFF80001FFF80000FFF80003FFF00000FFF80003FFF
00000FFF80007FFE00000FFF80007FFE00000FFF8000FFFC00000FFF8000FFFC00000FFF8000FF
FC00000FFF8000FFFC00000FFF8000FFFC00001FFF8000FFFC00001FFF80007FFE00003FFF8000
7FFE00003BFF80003FFF00007BFF80003FFF8000F3FF80001FFFC003E3FFF0000FFFF01FC1FFFF
C003FFFFFF81FFFFE000FFFFFE00FFFFE0003FFFF8003FFFE00001FFC0000FFFC03B337CB240>
97 D<000003FFFE000000003FFFFFE0000001FFFFFFF8000007FFFFFFFC00001FFF8007FE0000
3FFC000FFF00007FF8000FFF0001FFF0001FFF8003FFE0001FFF8003FFC0001FFF8007FF80001F
FF800FFF80001FFF800FFF80000FFF001FFF00000FFF003FFF000007FE003FFF000001F8003FFF
00000000007FFE00000000007FFE00000000007FFE0000000000FFFE0000000000FFFE00000000
00FFFE0000000000FFFE0000000000FFFE0000000000FFFE0000000000FFFE0000000000FFFE00
00000000FFFE0000000000FFFE0000000000FFFE00000000007FFE00000000007FFE0000000000
7FFF00000000003FFF00000000003FFF00000000003FFF00000000001FFF80000007C00FFF8000
0007C00FFF80000007C007FFC000000F8003FFE000001F8003FFF000003F0001FFF800007E0000
7FFC0000FE00003FFE0003FC00001FFFC01FF0000007FFFFFFE0000001FFFFFF800000003FFFFE
0000000003FFE0000032337CB23B>99 D<000000000003FF00000000000FFFFF00000000000FFF
FF00000000000FFFFF00000000000FFFFF00000000000FFFFF0000000000001FFF000000000000
0FFF0000000000000FFF0000000000000FFF0000000000000FFF0000000000000FFF0000000000
000FFF0000000000000FFF0000000000000FFF0000000000000FFF0000000000000FFF00000000
00000FFF0000000000000FFF0000000000000FFF0000000000000FFF0000000000000FFF000000
0000000FFF0000000000000FFF0000000000000FFF0000000000000FFF0000000000000FFF0000
000000000FFF0000000000000FFF00000003FFC00FFF0000003FFFF80FFF000001FFFFFE0FFF00
0007FFFFFF8FFF00001FFFC03FEFFF00003FFE0007FFFF00007FF80001FFFF0001FFF00000FFFF
0003FFE000007FFF0003FFC000003FFF0007FF8000001FFF000FFF8000001FFF000FFF0000001F
FF001FFF0000001FFF001FFF0000001FFF003FFF0000001FFF003FFE0000001FFF007FFE000000
1FFF007FFE0000001FFF007FFE0000001FFF00FFFE0000001FFF00FFFE0000001FFF00FFFE0000
001FFF00FFFE0000001FFF00FFFE0000001FFF00FFFE0000001FFF00FFFE0000001FFF00FFFE00
00001FFF00FFFE0000001FFF00FFFE0000001FFF00FFFE0000001FFF007FFE0000001FFF007FFE
0000001FFF007FFE0000001FFF003FFE0000001FFF003FFF0000001FFF003FFF0000001FFF001F
FF0000001FFF001FFF0000001FFF000FFF8000001FFF0007FF8000003FFF0007FFC000007FFF00
03FFC00000FFFF0001FFE00001FFFF0000FFF00007FFFF00007FFC000FFFFF80001FFF007F9FFF
FF0007FFFFFF1FFFFF0001FFFFFC1FFFFF00007FFFF01FFFFF000007FF001FFFFF40507CCF49>
I<000007FFC0000000007FFFFC00000003FFFFFF0000000FFFFFFFC000001FFF01FFE000007FFC
007FF00000FFF0001FF80001FFE0000FFC0003FFC0000FFE0007FFC00007FF0007FF800003FF00
0FFF800003FF801FFF000003FF801FFF000001FF803FFF000001FFC03FFF000001FFC07FFE0000
01FFC07FFE000001FFE07FFE000000FFE07FFE000000FFE0FFFE000000FFE0FFFE000000FFE0FF
FFFFFFFFFFE0FFFFFFFFFFFFE0FFFFFFFFFFFFE0FFFFFFFFFFFFC0FFFE0000000000FFFE000000
0000FFFE0000000000FFFE0000000000FFFE00000000007FFE00000000007FFE00000000007FFE
00000000003FFF00000000003FFF00000000003FFF00000001C01FFF00000003E01FFF80000003
E00FFF80000007E007FF80000007C003FFC000000FC001FFE000001F8000FFF000007F00007FF8
0000FE00003FFE0007FC00001FFFC03FF8000007FFFFFFE0000001FFFFFFC00000003FFFFE0000
000003FFE0000033337CB23C>I<000000000000FC0000003FFE0007FF000003FFFFE01FFF8000
0FFFFFF87FFFC0003FFFFFFEFF3FC000FFF80FFFF03FE001FFC001FFC03FE003FF8000FFE03FE0
07FF00007FF03FE007FF00007FF03FC00FFF00007FF81F801FFE00003FFC06001FFE00003FFC00
001FFE00003FFC00003FFE00003FFE00003FFE00003FFE00003FFE00003FFE00003FFE00003FFE
00003FFE00003FFE00003FFE00003FFE00003FFE00003FFE00001FFE00003FFC00001FFE00003F
FC00001FFE00003FFC00000FFF00007FF8000007FF00007FF0000007FF00007FF0000003FF8000
FFE0000001FFC001FFC0000000FFF80FFF80000001FFFFFFFE00000001CFFFFFF800000003C3FF
FFE000000003C03FFE0000000007C000000000000007C000000000000007C00000000000000FC0
0000000000000FE00000000000000FE00000000000000FF00000000000000FFC00000000000007
FFFFFFFE00000007FFFFFFFFF0000007FFFFFFFFFE000003FFFFFFFFFF800003FFFFFFFFFFC000
01FFFFFFFFFFF00000FFFFFFFFFFF80000FFFFFFFFFFFC00007FFFFFFFFFFC0001FFFFFFFFFFFE
0007FFFFFFFFFFFE001FFC000003FFFF003FF00000001FFF003FE000000007FF007FE000000003
FF807FC000000003FF80FFC000000001FF80FFC000000001FF80FFC000000001FF80FFC0000000
01FF80FFC000000001FF807FE000000003FF007FE000000003FF003FF000000007FE003FF80000
000FFE001FFC0000001FFC000FFF0000007FF80007FFC00001FFF00001FFFC001FFFC000007FFF
FFFFFF0000001FFFFFFFFC00000001FFFFFFC0000000000FFFF80000003B4B7CB342>103
D<003FF00000000000FFFFF00000000000FFFFF00000000000FFFFF00000000000FFFFF0000000
0000FFFFF0000000000001FFF0000000000000FFF0000000000000FFF0000000000000FFF00000
00000000FFF0000000000000FFF0000000000000FFF0000000000000FFF0000000000000FFF000
0000000000FFF0000000000000FFF0000000000000FFF0000000000000FFF0000000000000FFF0
000000000000FFF0000000000000FFF0000000000000FFF0000000000000FFF0000000000000FF
F0000000000000FFF0000000000000FFF0000000000000FFF0000000000000FFF0000000000000
FFF0003FF8000000FFF001FFFF000000FFF007FFFFC00000FFF01FFFFFE00000FFF03F80FFF000
00FFF07C007FF80000FFF0F8003FFC0000FFF1E0003FFC0000FFF3C0003FFE0000FFF780001FFE
0000FFF700001FFE0000FFFF00001FFF0000FFFE00001FFF0000FFFE00001FFF0000FFFC00001F
FF0000FFFC00001FFF0000FFFC00001FFF0000FFF800001FFF0000FFF800001FFF0000FFF80000
1FFF0000FFF800001FFF0000FFF800001FFF0000FFF800001FFF0000FFF800001FFF0000FFF800
001FFF0000FFF800001FFF0000FFF800001FFF0000FFF800001FFF0000FFF800001FFF0000FFF8
00001FFF0000FFF800001FFF0000FFF800001FFF0000FFF800001FFF0000FFF800001FFF0000FF
F800001FFF0000FFF800001FFF0000FFF800001FFF0000FFF800001FFF0000FFF800001FFF0000
FFF800001FFF0000FFF800001FFF0000FFF800001FFF0000FFF800001FFF0000FFF800001FFF00
00FFF800001FFF0000FFF800001FFF00FFFFFFF81FFFFFFFFFFFFFF81FFFFFFFFFFFFFF81FFFFF
FFFFFFFFF81FFFFFFFFFFFFFF81FFFFFFF40507BCF49>I<007E000001FF800003FFC00007FFE0
000FFFF0000FFFF0001FFFF8001FFFF8001FFFF8001FFFF8001FFFF8001FFFF8000FFFF0000FFF
F00007FFE00003FFC00001FF8000007E0000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000003FF000FFFFF000FFFFF000
FFFFF000FFFFF000FFFFF00001FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000FFF0
0000FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000FF
F00000FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000
FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000FFF000
00FFF00000FFF00000FFF00000FFF000FFFFFFE0FFFFFFE0FFFFFFE0FFFFFFE0FFFFFFE01B517B
D025>I<003FF00000000000FFFFF00000000000FFFFF00000000000FFFFF00000000000FFFFF0
0000000000FFFFF0000000000001FFF0000000000000FFF0000000000000FFF0000000000000FF
F0000000000000FFF0000000000000FFF0000000000000FFF0000000000000FFF0000000000000
FFF0000000000000FFF0000000000000FFF0000000000000FFF0000000000000FFF00000000000
00FFF0000000000000FFF0000000000000FFF0000000000000FFF0000000000000FFF000000000
0000FFF0000000000000FFF0000000000000FFF0000000000000FFF0000000000000FFF0000000
000000FFF00003FFFFF000FFF00003FFFFF000FFF00003FFFFF000FFF00003FFFFF000FFF00003
FFFFF000FFF000007FF80000FFF000003FC00000FFF000007F800000FFF00000FF000000FFF000
01FE000000FFF00003F8000000FFF0000FF0000000FFF0001FE0000000FFF0003F80000000FFF0
00FF00000000FFF001FE00000000FFF003FC00000000FFF007F000000000FFF01FE000000000FF
F03FE000000000FFF07FF000000000FFF0FFF000000000FFF3FFF800000000FFF7FFFC00000000
FFFFFFFE00000000FFFFFFFF00000000FFFF9FFF00000000FFFF1FFF80000000FFFC0FFFC00000
00FFF807FFE0000000FFF003FFF0000000FFF001FFF0000000FFF001FFF8000000FFF000FFFC00
0000FFF0007FFE000000FFF0003FFF000000FFF0001FFF000000FFF0001FFF800000FFF0000FFF
C00000FFF00007FFE00000FFF00003FFF00000FFF00001FFF00000FFF00001FFF80000FFF00000
FFFC0000FFF000007FFE0000FFF000007FFF00FFFFFFF007FFFFFEFFFFFFF007FFFFFEFFFFFFF0
07FFFFFEFFFFFFF007FFFFFEFFFFFFF007FFFFFE3F507CCF46>107 D<003FF000FFFFF000FFFF
F000FFFFF000FFFFF000FFFFF00001FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000
FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000FFF000
00FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000FFF0
0000FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000FF
F00000FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000
FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000FFF000
00FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000FFF00000FFF0
0000FFF00000FFF00000FFF00000FFF000FFFFFFF0FFFFFFF0FFFFFFF0FFFFFFF0FFFFFFF01C50
7BCF25>I<003FF0001FFC000001FFC00000FFFFF001FFFF80001FFFF80000FFFFF007FFFFE000
7FFFFE0000FFFFF00FFFFFF000FFFFFF0000FFFFF03FC07FF803FC07FF8000FFFFF07E003FFC07
E003FFC00001FFF0F8001FFE0F8001FFE00000FFF1E0001FFE1E0001FFE00000FFF3C0001FFF3C
0001FFF00000FFF380000FFF380000FFF00000FFF700000FFF700000FFF00000FFFF00000FFFF0
0000FFF80000FFFE00000FFFE00000FFF80000FFFE00000FFFE00000FFF80000FFFC00000FFFC0
0000FFF80000FFFC00000FFFC00000FFF80000FFFC00000FFFC00000FFF80000FFF800000FFF80
0000FFF80000FFF800000FFF800000FFF80000FFF800000FFF800000FFF80000FFF800000FFF80
0000FFF80000FFF800000FFF800000FFF80000FFF800000FFF800000FFF80000FFF800000FFF80
0000FFF80000FFF800000FFF800000FFF80000FFF800000FFF800000FFF80000FFF800000FFF80
0000FFF80000FFF800000FFF800000FFF80000FFF800000FFF800000FFF80000FFF800000FFF80
0000FFF80000FFF800000FFF800000FFF80000FFF800000FFF800000FFF80000FFF800000FFF80
0000FFF80000FFF800000FFF800000FFF80000FFF800000FFF800000FFF80000FFF800000FFF80
0000FFF80000FFF800000FFF800000FFF80000FFF800000FFF800000FFF80000FFF800000FFF80
0000FFF80000FFF800000FFF800000FFF80000FFF800000FFF800000FFF80000FFF800000FFF80
0000FFF80000FFF800000FFF800000FFF80000FFF800000FFF800000FFF80000FFF800000FFF80
0000FFF80000FFF800000FFF800000FFF800FFFFFFF80FFFFFFF80FFFFFFF8FFFFFFF80FFFFFFF
80FFFFFFF8FFFFFFF80FFFFFFF80FFFFFFF8FFFFFFF80FFFFFFF80FFFFFFF8FFFFFFF80FFFFFFF
80FFFFFFF865337BB26E>I<003FF0003FF80000FFFFF001FFFF0000FFFFF007FFFFC000FFFFF0
1FFFFFE000FFFFF03F80FFF000FFFFF07C007FF80001FFF0F8003FFC0000FFF1E0003FFC0000FF
F3C0003FFE0000FFF780001FFE0000FFF700001FFE0000FFFF00001FFF0000FFFE00001FFF0000
FFFE00001FFF0000FFFC00001FFF0000FFFC00001FFF0000FFFC00001FFF0000FFF800001FFF00
00FFF800001FFF0000FFF800001FFF0000FFF800001FFF0000FFF800001FFF0000FFF800001FFF
0000FFF800001FFF0000FFF800001FFF0000FFF800001FFF0000FFF800001FFF0000FFF800001F
FF0000FFF800001FFF0000FFF800001FFF0000FFF800001FFF0000FFF800001FFF0000FFF80000
1FFF0000FFF800001FFF0000FFF800001FFF0000FFF800001FFF0000FFF800001FFF0000FFF800
001FFF0000FFF800001FFF0000FFF800001FFF0000FFF800001FFF0000FFF800001FFF0000FFF8
00001FFF0000FFF800001FFF0000FFF800001FFF0000FFF800001FFF00FFFFFFF81FFFFFFFFFFF
FFF81FFFFFFFFFFFFFF81FFFFFFFFFFFFFF81FFFFFFFFFFFFFF81FFFFFFF40337BB249>I<0000
03FFE000000000003FFFFE0000000001FFFFFFC000000007FFFFFFF00000001FFF007FFC000000
3FFC001FFE000000FFF00007FF800001FFE00003FFC00003FFC00001FFE00007FF800000FFF000
07FF800000FFF0000FFF0000007FF8001FFF0000007FFC001FFF0000007FFC003FFF0000007FFE
003FFE0000003FFE003FFE0000003FFE007FFE0000003FFF007FFE0000003FFF007FFE0000003F
FF007FFE0000003FFF00FFFE0000003FFF80FFFE0000003FFF80FFFE0000003FFF80FFFE000000
3FFF80FFFE0000003FFF80FFFE0000003FFF80FFFE0000003FFF80FFFE0000003FFF80FFFE0000
003FFF80FFFE0000003FFF807FFE0000003FFF007FFE0000003FFF007FFE0000003FFF007FFE00
00003FFF003FFF0000007FFE003FFF0000007FFE001FFF0000007FFC001FFF0000007FFC000FFF
0000007FF8000FFF800000FFF80007FF800000FFF00003FFC00001FFE00001FFE00003FFC00000
FFF00007FF8000007FFC001FFF0000001FFF80FFFC00000007FFFFFFF000000001FFFFFFC00000
00003FFFFE000000000003FFE000000039337CB242>I<003FF000FFE00000FFFFF00FFFFE0000
FFFFF03FFFFF8000FFFFF0FFFFFFE000FFFFF3FE01FFF800FFFFF7F0007FFE0001FFFFC0001FFF
0000FFFF80000FFF8000FFFE000007FFC000FFFC000007FFE000FFF8000003FFE000FFF8000003
FFF000FFF8000001FFF800FFF8000001FFF800FFF8000000FFFC00FFF8000000FFFC00FFF80000
00FFFC00FFF8000000FFFE00FFF8000000FFFE00FFF80000007FFE00FFF80000007FFF00FFF800
00007FFF00FFF80000007FFF00FFF80000007FFF00FFF80000007FFF00FFF80000007FFF00FFF8
0000007FFF00FFF80000007FFF00FFF80000007FFF00FFF80000007FFF00FFF80000007FFF00FF
F80000007FFE00FFF8000000FFFE00FFF8000000FFFE00FFF8000000FFFC00FFF8000000FFFC00
FFF8000001FFF800FFF8000001FFF800FFF8000001FFF000FFF8000003FFF000FFFC000003FFE0
00FFFC000007FFC000FFFE00000FFFC000FFFF00001FFF8000FFFFC0003FFE0000FFFFE000FFFC
0000FFFBFC03FFF00000FFF9FFFFFFE00000FFF87FFFFF800000FFF81FFFFC000000FFF801FF80
000000FFF8000000000000FFF8000000000000FFF8000000000000FFF8000000000000FFF80000
00000000FFF8000000000000FFF8000000000000FFF8000000000000FFF8000000000000FFF800
0000000000FFF8000000000000FFF8000000000000FFF8000000000000FFF8000000000000FFF8
000000000000FFF8000000000000FFF80000000000FFFFFFF800000000FFFFFFF800000000FFFF
FFF800000000FFFFFFF800000000FFFFFFF80000000040497CB249>I<003FE003F800FFFFE01F
FF00FFFFE03FFFC0FFFFE0FFFFE0FFFFE1FC3FF0FFFFE1F07FF801FFE3C07FF800FFE780FFFC00
FFE780FFFC00FFEF00FFFC00FFEE00FFFC00FFFE00FFFC00FFFC007FF800FFFC007FF800FFFC00
3FF000FFF8000FC000FFF800000000FFF800000000FFF800000000FFF000000000FFF000000000
FFF000000000FFF000000000FFF000000000FFF000000000FFF000000000FFF000000000FFF000
000000FFF000000000FFF000000000FFF000000000FFF000000000FFF000000000FFF000000000
FFF000000000FFF000000000FFF000000000FFF000000000FFF000000000FFF000000000FFF000
000000FFF000000000FFF000000000FFF000000000FFF000000000FFF0000000FFFFFFFC0000FF
FFFFFC0000FFFFFFFC0000FFFFFFFC0000FFFFFFFC00002E337CB236>114
D<0003FFE00E00003FFFFC7E0000FFFFFFFE0003FFFFFFFE0007FE003FFE000FE00007FE001FC0
0001FE003F800000FE003F0000007E007F0000007E007F0000003E00FF0000003E00FF0000003E
00FF8000003E00FFC000003E00FFE000000000FFFC00000000FFFFC00000007FFFFF0000007FFF
FFF800003FFFFFFF00003FFFFFFFC0001FFFFFFFF0000FFFFFFFF80007FFFFFFFC0003FFFFFFFE
0000FFFFFFFF00003FFFFFFF800007FFFFFF8000007FFFFFC0000001FFFFC00000000FFFE00000
0001FFE078000000FFE0F80000007FE0F80000003FE0FC0000001FE0FC0000001FE0FC0000001F
E0FE0000001FC0FF0000001FC0FF0000001F80FF8000003F80FFC000007F00FFF00000FF00FFF8
0001FE00FFFF800FFC00FF7FFFFFF000FE1FFFFFE000F807FFFF0000E000FFF000002B337CB234
>I<00003E00000000003E00000000003E00000000003E00000000003E00000000007E00000000
007E00000000007E00000000007E0000000000FE0000000000FE0000000000FE0000000001FE00
00000001FE0000000003FE0000000007FE0000000007FE000000000FFE000000001FFE00000000
3FFE00000000FFFE00000001FFFE0000000FFFFFFFFC00FFFFFFFFFC00FFFFFFFFFC00FFFFFFFF
FC00FFFFFFFFFC00003FFE000000003FFE000000003FFE000000003FFE000000003FFE00000000
3FFE000000003FFE000000003FFE000000003FFE000000003FFE000000003FFE000000003FFE00
0000003FFE000000003FFE000000003FFE000000003FFE000000003FFE000000003FFE00000000
3FFE000000003FFE000000003FFE000000003FFE000000003FFE000000003FFE000000003FFE00
0000003FFE000000003FFE000F80003FFE000F80003FFE000F80003FFE000F80003FFE000F8000
3FFE000F80003FFE000F80003FFE000F80003FFE000F80003FFE000F80001FFE001F00001FFF00
1F00000FFF001F00000FFF003E000007FF807C000003FFE0FC000001FFFFF80000007FFFF00000
001FFFC000000003FF000029497EC833>I<FFFFFFC07FFFFF8007FFFFFFFFFFC07FFFFF8007FF
FFFFFFFFC07FFFFF8007FFFFFFFFFFC07FFFFF8007FFFFFFFFFFC07FFFFF8007FFFF01FFF00001
FFE000003FE001FFF00000FFE000001F8001FFF80000FFE000001F8000FFF800007FF000001F00
00FFFC00007FF000003F00007FFC00007FF800003E00007FFC00007FF800003E00007FFE0000FF
FC00007E00003FFE0000FFFC00007C00003FFF0000FFFC0000FC00001FFF0001FFFE0000F80000
1FFF0001FFFE0000F800001FFF8003FFFF0001F800000FFF8003E7FF0001F000000FFFC003E7FF
0003F0000007FFC007E7FF8003E0000007FFC007C3FF8003E0000007FFE00FC3FFC007E0000003
FFE00F81FFC007C0000003FFF00F81FFC00FC0000001FFF01F81FFE00F80000001FFF01F00FFE0
0F80000001FFF83F00FFF01F80000000FFF83E007FF01F00000000FFFC3E007FF03F000000007F
FC7E007FF83E000000007FFC7C003FF83E000000007FFEFC003FFC7E000000003FFEF8001FFC7C
000000003FFFF8001FFCFC000000001FFFF8001FFEF8000000001FFFF0000FFEF8000000001FFF
F0000FFFF8000000000FFFE00007FFF0000000000FFFE00007FFF00000000007FFE00007FFE000
00000007FFC00003FFE00000000007FFC00003FFE00000000003FF800001FFC00000000003FF80
0001FFC00000000001FF800001FF800000000001FF000000FF800000000000FF000000FF000000
000000FE0000007F000000000000FE0000007F0000000000007C0000003E00000058337DB25F>
119 D<7FFFFFE000FFFFFC007FFFFFE000FFFFFC007FFFFFE000FFFFFC007FFFFFE000FFFFFC00
7FFFFFE000FFFFFC00007FFE00000FFC0000003FFF000007F00000001FFF80000FE00000000FFF
80001FC000000007FFC0003F8000000007FFE0007F0000000003FFF0007E0000000001FFF800FC
0000000000FFFC01F800000000007FFC03F800000000003FFE07F000000000001FFF0FE0000000
00001FFF9FC000000000000FFFFF80000000000007FFFF00000000000003FFFE00000000000001
FFFC00000000000000FFF800000000000000FFFC000000000000007FFE000000000000003FFF00
0000000000001FFF800000000000003FFF800000000000007FFFC0000000000000FFFFE0000000
000000FFFFF0000000000001F9FFF8000000000003F8FFFC000000000007F07FFC00000000000F
E03FFE00000000001FC03FFF00000000003F801FFF80000000007F000FFFC000000000FE0007FF
E000000000FC0003FFE000000001F80001FFF000000003F00001FFF800000007F00000FFFC0000
000FE000007FFE0000001FC000003FFF000000FFE000001FFF0000FFFFFC0003FFFFFF80FFFFFC
0003FFFFFF80FFFFFC0003FFFFFF80FFFFFC0003FFFFFF80FFFFFC0003FFFFFF8041337EB246>
I E /Fm 79 125 df<00007F83F00001E04E18000700FC7C000E01F87C001C01F07C003C01F078
007801E000007801E000007801E000007801E000007801E00000F003C00000F003C00000F003C0
001FFFFFFF001FFFFFFF0000F003C00001E007800001E007800001E007800001E007800001E007
800001E007800003C00F000003C00F000003C00F000003C00F000003C00F000003C00F00000780
1E000007801E000007801E000007801E000007801E000007801E00000F803E0000FFE1FFF000FF
E1FFE00026267EA520>11 D<00007F000001E0C000070020000E00E0001C01F0003C03E0007801
E0007800C000780000007800000078000000F0000000F0000000F000001FFFFFC01FFFFFC000F0
07C001E0078001E0078001E0078001E0078001E0078001E0078003C00F0003C00F0003C00F0003
C00F0003C00F0003C00F0007801E0007801E0007801E0007801E0007801E0007801E000F803E00
FFE1FFE0FFE1FFC01C267EA51F>I<00007FB00001E0F0000701F0000E01F0001C01F0003C01E0
007801E0007801E0007801E0007801E0007801E000F003C000F003C000F003C01FFFFFC01FFFFF
C000F003C001E0078001E0078001E0078001E0078001E0078001E0078003C00F0003C00F0003C0
0F0003C00F0003C00F0003C00F0007801E0007801E0007801E0007801E0007801E0007801E000F
803E00FFF1FFE0FFF3FFC01C267EA51F>I<00003F80FE000001E063C1800007801E0040000E00
FC01C0001C00F803E0003C01F807C0007801F003C0007800F00180007800F00000007800F00000
007800F0000000F001E0000000F001E0000000F001E000001FFFFFFFFF801FFFFFFFFF8000F001
E00F8001E003C00F0001E003C00F0001E003C00F0001E003C00F0001E003C00F0001E003C00F00
03C007801E0003C007801E0003C007801E0003C007801E0003C007801E0003C007801E0007800F
003C0007800F003C0007800F003C0007800F003C0007800F003C0007800F003C000F801F007C00
FFF0FFE3FFC0FFF1FFE7FF802B267EA52E>I<1C03803E07C07E0FC07E0FC07E0FC03A07400200
40020040020040040080040080080100080100100200200400400800801000121179A51C>34
D<1C3E7E7E7E3A0202020404080810204080071177A50F>39 D<00004000018000030000060000
0C0000180000300000600000600000C00001C0000180000380000700000700000E00000E00001C
00001C00001C0000380000380000380000780000700000700000700000F00000F00000E00000E0
0000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E0
00006000006000007000003000003000003000001800001800000C000004000002000001000000
8000123979A916>I<004000002000003000001800000800000C00000600000600000700000300
0003000003800003800003800001800001800001C00001C00001C00001C00001C00001C00001C0
0001C00001C00003C00003C0000380000380000380000380000780000700000700000700000F00
000E00000E00000C00001C00001C0000380000380000700000700000E00000C00001C000018000
03000006000004000008000010000020000040000080000012397FA916>I<1C3E3F7F3F1D0101
02020404081010608008117D850F>44 D<FFF8FFF8FFF80D037D8D12>I<387C7EFC7C3807067C
850F>I<000000180000001C00000038000000380000007000000070000000E0000000E0000001
C0000001C00000038000000380000007000000070000000E0000000E0000001C0000001C000000
38000000380000007000000070000000E0000000E0000001C0000001C000000380000003800000
07000000070000000E0000000E0000001C0000001C000000380000003800000070000000700000
00E0000000E0000001C0000003C000000380000007000000070000000E0000000E0000001C0000
001C00000038000000380000007000000070000000E0000000E0000000C00000001E387FA91C>
I<000FE0000038380000701C0001E00E0001C00E0003800F0007800F0007000F000F000F000F00
0F801F000F801E000F803E000F803E000F803E000F803E000F007C001F007C001F007C001F007C
001F007C001F007C001F00F8003E00F8003E00F8003E00F8003E00F8003C00F8007C00F8007800
F8007800780078007800F0007800E0003801E0003803C0001C0700000E0E000003F8000019267C
A41C>I<000080000380000F8000FF8007FF00060F00000F00000F00000F00000F00001E00001E
00001E00001E00001E00001E00003C00003C00003C00003C00003C00003C000078000078000078
0000780000780000780000F00000F00000F00000F00000F00000F00001F000FFFFC0FFFFC01225
7BA41C>I<0007E000001FFC0000707E0000C01F0001001F0003000F8002000F8007800F8007C0
0FC007E00FC00FC00F8007C00F8003800F8000001F0000001F0000003E0000003E0000007C0000
00F8000000F0000001E0000003800000070000000E0000001C0000003000000060000000C00000
018004000300040006000C000C000800100018003FFFF0007FFFF000FFFFF000FFFFE0001A257D
A41C>I<0007F000001FFC0000703E0000C01F0001001F0001E00F8003E00F8003E01F8003E01F
8001C01F0000001F0000003E0000003E0000007C00000078000000E0000003C000007F80000000
E0000000780000007C0000003E0000003E0000003E0000003F0000003F0038003F007C003F00FC
007E00FC007E00FC007C00F800FC004000F8004001F0003003E0001C07C0000FFF000001FC0000
19267DA41C>I<00000400000C00001C00003C0000780000F80000F80001780002780004780008
F00018F00030F00020F00040F00080F00101E00201E00601E00401E00801E01001E02003C04003
C0C003C0FFFFFEFFFFFE0003C0000780000780000780000780000780000780000F8001FFFC01FF
F817257CA41C>I<00800100F00E00FFFC00FFF801FFF001FFC0013E0001000001000001000002
0000020000020000020000023F0002C0C00500E006007004007800007800007C00007C00007C00
007C00007C38007C7C007C7C0078FC00F8F800F8C000F04001E04001E06003C03007801C1F000F
FC0007F00018267CA41C>I<0001F80007FE001F03003C0100700F00E01F01C01F03C00E078000
0780000F00001F00001E00001E1F803E20E03EC0703D00387D003C7E003C7E001E7C001E7C003E
7C003EF8003EF8003EF8003EF8003EF8003C78007C78007C7800787800F03800F03801E01C03C0
0E0F8007FE0001F80018267CA41C>I<0800001C00001FFFFF3FFFFF3FFFFE3FFFFC6000084000
10C000208000208000400000800001000002000004000008000008000010000030000060000060
0000E00001C00001C00003C0000380000780000780000780000F80000F00001F00001F00001F00
001F00003E00003E00003E00001C0000182778A51C>I<0003F000001FFC00003C1E0000700F00
00C0070001C00380018003800380038003800380038003800780070003C0070003E00E0003F81C
0003FC380001FE600000FF8000007FC000003FE00000CFF8000387FC000601FC000C00FE001C00
3E0038001F0070000F0070000F0070000F00E0000E00E0000E00E0000E0070000C007000180078
0030003C00E0001F03C00007FF000001FC000019267DA41C>I<001FC0007FE001F07803C03807
801C0F001E1F001E1E001E3E001E3E001F3C001F7C001F7C001F7C001F7C001F7C003E7C003E7C
003E3C007E3C00BE1C00BE0E013C07067C01F87C00007C0000780000F80000F00000F00001E070
01C0F80380F80780F00F00801C00E078007FF0001F800018267BA41C>I<07000F800FC01F800F
80070000000000000000000000000000000000000000000000000038007C007E00FC007C003800
0A187C970F>I<038007C007E00FC007C003800000000000000000000000000000000000000000
000000001C003E003E007E003E001E00020002000400040004000800100010002000400080000B
237D970F>I<00E001F003F003F003E001C0000000000000000000000000010001000100030003
00030007000700070007000E000E000E000E001E001E001E001E003E003E003E007E007E007E00
7E00FC007C0038000C287E9B0F>I<000700000F80001F80001F80001F00000E00000000000000
000000000000000000000000000800000800000800000800001000001000001000003000002000
00600000C00001C0000380000700000F00001E00003C00007C00C07C01E0F803E0F803E0F801E0
F800407800807801001C0E000FF00013277E9B1A>62 D<01FE000E07801003C02003E07003E078
03E0F803E0F803E07003E00007C0000780000F00001E0000380000700000600000C00000800001
800001000001000002000002000002000002000002000000000000000000000000000000000000
00001C00003E00003F00007E00003E00001C0000132678A51A>I<000000C000000000C0000000
01C000000001C000000003C000000003E000000007E000000007E00000000BE00000000BE00000
0013F000000031F000000021F000000041F000000041F000000081F000000080F800000100F800
000100F800000200F800000200F800000400FC000004007C000008007C000008007C00001FFFFC
00001FFFFE000020003E000020003E000040003E000040003E000080003E000180001F00010000
1F000300001F000700001F000F80003F80FFE003FFFCFFE003FFF826277EA62A>65
D<01FFFFFC0003FFFFFF00001F800F80000F8007C0000F8007E0001F0003E0001F0003F0001F00
03F0001F0003F0001F0003F0001F0003F0003E0003E0003E0007E0003E0007C0003E000F80003E
001F00003E003E00007C01F800007FFFF800007C003E00007C001F00007C000F80007C0007C000
F80007C000F80007E000F80007E000F80007E000F80007E000F80007E001F0000FC001F0000FC0
01F0001F8001F0001F8001F0003F0001F0007E0003F001F8007FFFFFF000FFFFFF800024267EA5
27>I<00003FC0100001FFF0300007F01830001F800670003E0002F0007C0001F000F00001E001
E00000E003E00000E007C00000600F800000601F800000601F000000403F000000403F00000040
7E000000007E000000007E00000000FC00000000FC00000000FC00000000FC00000000FC000000
00FC00000000FC00000000FC00000000FC00000100FC000001007C000001007C000002007C0000
02003E000004003E00000C001F000008000F8000100007C000600003E000C00001FC070000007F
FE0000000FF0000024287AA628>I<01FFFFFC0003FFFFFF00001F801FC0000F8003E0000F8001
F0001F0000F8001F0000F8001F00007C001F00007C001F00003E001F00003E003E00003E003E00
003E003E00003E003E00003E003E00003E003E00003E007C00003E007C00007E007C00007E007C
00007E007C00007E007C00007C00F80000FC00F80000FC00F80000F800F80001F800F80001F000
F80001F001F00003E001F00007C001F0000F8001F0001F0001F0003E0001F0007C0003F003F000
7FFFFFC000FFFFFF000027267EA52A>I<01FFFFFFF003FFFFFFF0001F8001F0000F800070000F
800030001F000030001F000010001F000010001F000010001F000010001F000010003E00401000
3E004010003E004000003E004000003E00C000003E01C000007FFF8000007FFF8000007C038000
007C018000007C018000007C01800000F801002000F801002000F800002000F800004000F80000
4000F800004001F00000C001F000008001F000018001F000038001F000070001F0000F0003F000
7F007FFFFFFE00FFFFFFFE0024267EA526>I<01FFFFFFE003FFFFFFE0001F8003E0000F8000E0
000F800060001F000060001F000020001F000020001F000020001F000020001F000020003E0000
20003E008020003E008000003E008000003E018000003E018000007C070000007FFF0000007FFF
0000007C070000007C030000007C03000000F802000000F802000000F802000000F800000000F8
00000000F800000001F000000001F000000001F000000001F000000001F000000001F000000003
F00000007FFFC00000FFFFC0000023267EA524>I<00003FC0100001FFF0300007F01830001F80
0670003E0002F0007C0001F000F00001E001E00000E003E00000E007C00000600F800000601F80
0000601F000000403F000000403F000000407E000000007E000000007E00000000FC00000000FC
00000000FC00000000FC00000000FC00000000FC0007FFF0FC000FFFF0FC00001F80FC00001F00
FC00001F007C00001F007C00001F007C00003E003E00003E003E00003E001F00003E000F80007E
0007C0005E0003E0019C0001FC070C00007FFC0400000FF0000024287AA62B>I<01FFFE1FFFE0
03FFFE3FFFE0001F8001F800000F8000F800000F8000F800001F0001F000001F0001F000001F00
01F000001F0001F000001F0001F000001F0001F000003E0003E000003E0003E000003E0003E000
003E0003E000003E0003E000003E0003E000007FFFFFC000007FFFFFC000007C0007C000007C00
07C000007C0007C000007C0007C00000F8000F800000F8000F800000F8000F800000F8000F8000
00F8000F800000F8000F800001F0001F000001F0001F000001F0001F000001F0001F000001F000
1F000001F0001F000003F0003F00007FFF87FFF800FFFF8FFFF8002B267EA52A>I<03FFFE03FF
FE001F80000F80000F80001F00001F00001F00001F00001F00001F00003E00003E00003E00003E
00003E00003E00007C00007C00007C00007C00007C00007C0000F80000F80000F80000F80000F8
0000F80001F00001F00001F00001F00001F00001F00003F000FFFF80FFFF8017267FA514>I<00
1FFFF0001FFFE000007E0000003E0000003E0000007C0000007C0000007C0000007C0000007C00
00007C000000F8000000F8000000F8000000F8000000F8000000F8000001F0000001F0000001F0
000001F0000001F0000001F0000003E0000003E0000003E0000003E0000003E0000003E0007807
C000FC07C000FC07C000FC078000F80F8000B00F0000401E0000403C0000307800000FC000001C
277DA51C>I<01FFFE00FFF003FFFE00FFE0001F80003F00000F80001800000F80003000001F00
004000001F00008000001F00010000001F00020000001F00040000001F00080000003E00200000
003E00400000003E00800000003E01000000003E03000000003E0F800000007C1F800000007C2F
800000007C47C00000007C87C00000007D03E00000007C03E0000000F801F0000000F801F00000
00F801F8000000F800F8000000F800FC000000F8007C000001F0007C000001F0003E000001F000
3E000001F0001F000001F0001F000001F0001F800003F0003FC0007FFF81FFFC00FFFF81FFF800
2C267EA52B>I<01FFFF0003FFFF00001FC000000F8000000F8000001F0000001F0000001F0000
001F0000001F0000001F0000003E0000003E0000003E0000003E0000003E0000003E0000007C00
00007C0000007C0000007C0000007C0000007C000000F8000100F8000100F8000100F8000200F8
000200F8000201F0000601F0000401F0000C01F0001C01F0003801F0007803F003F87FFFFFF0FF
FFFFF020267EA523>I<01FF8000007FF003FF800000FFF0001F8000017C00000BC000017C0000
0BC000027C000013C00002F8000013C00004F8000013C00004F8000011E00008F8000011E00008
F8000011E00010F8000021E00011F0000021E00021F0000020F00021F0000020F00041F0000020
F00041F0000020F00081F0000040F00103E0000040780103E0000040780203E0000040780203E0
000040780403E0000040780403E00000803C0807C00000803C0807C00000803C1007C00000803C
1007C00000803C2007C00000801E2007C00001001E400F800001001E400F800001001E800F8000
01001F000F800001000F000F800003000E000F80000F800E001F80007FF80C03FFFC00FFF80C07
FFFC0034267EA533>I<01FF8001FFE003FFC003FFE0000FC0003E00000BE0001800000BE00008
000011F00010000011F00010000010F80010000010F800100000107C00100000107C0010000020
3E00200000203E00200000201F00200000201F00200000201F80200000200F80200000400FC040
00004007C04000004007E04000004003E04000004003F04000004001F04000008001F880000080
00F88000008000FC80000080007C80000080007C80000080003E80000100003F00000100001F00
000100001F00000100000F00000100000F00000300000700000F80000600007FF800020000FFF8
000200002B267EA52A>I<00007F80000003C0F000000F003C00001E001E000078000F0000F000
078001E00007C003E00003C007C00003E007800003E00F800001F01F000001F01F000001F03F00
0001F03E000001F07E000001F07E000001F07E000001F0FC000003F0FC000003F0FC000003F0FC
000003F0FC000003F0FC000007E0FC000007E0FC000007E0FC00000FC0FC00000FC0FC00000F80
7C00001F007C00001F007C00003E003E00007C001E000078001F0000F0000F0001E000078003C0
0001C00F000000F03C0000001FE0000024287AA62B>I<01FFFFF80003FFFFFF00001F801F8000
0F8007E0000F8003E0001F0001F0001F0001F0001F0001F8001F0001F8001F0001F8001F0001F8
003E0003F0003E0003F0003E0003E0003E0003E0003E0007C0003E000F80007C001F00007C007C
00007FFFF000007C000000007C000000007C00000000F800000000F800000000F800000000F800
000000F800000000F800000001F000000001F000000001F000000001F000000001F000000001F0
00000003F00000007FFF800000FFFF80000025267EA526>I<01FFFFF00003FFFFFC00001F803F
00000F800F80000F8007C0001F0003E0001F0003E0001F0003F0001F0003F0001F0003F0001F00
03F0003E0007E0003E0007E0003E0007C0003E000F80003E001F00003E003C00007C01F000007F
FF8000007C01C000007C00E000007C00F000007C00780000F800780000F8007C0000F8007C0000
F8007C0000F8007C0000F8007C0001F000FC0001F000FC0001F000FC0001F000FC0201F000FC02
01F000FC0403F0007C047FFF803E08FFFF801E1000000007E027277EA529>82
D<0003F010001FFC10003C0E300070037000E001F001C000F003C0006003800060078000600780
006007800060078000600780004007C0000007C0000007F0000003FF000003FFF00001FFFC0000
FFFE00003FFF000007FF8000007F8000001F8000000FC0000007C0000007C0200003C0200003C0
200003C060000780600007806000070070000F0070000E0078001C00FE003800E780F000C1FFE0
00807F80001C287DA61F>I<1FFFFFFFF01FFFFFFFF01F007C01F038007C007030007C00303000
F800302000F800302000F800304000F800304000F800204000F800204001F000208001F0002000
01F000000001F000000001F000000001F000000003E000000003E000000003E000000003E00000
0003E000000003E000000007C000000007C000000007C000000007C000000007C000000007C000
00000F800000000F800000000F800000000F800000000F800000000F800000001F8000001FFFFF
00001FFFFF000024267AA528>I<7FFF807FF8FFFF80FFF807E0000F8003E000060003E0000200
07C000040007C000040007C000040007C000040007C000040007C00004000F800008000F800008
000F800008000F800008000F800008000F800008001F000010001F000010001F000010001F0000
10001F000010001F000010003E000020003E000020003E000020003E000020003E000020003E00
0040003E000040003E000080001E000080001E000100000F000200000F00040000078018000003
E070000000FFE00000003F000000252778A52A>I<FFFE000FFEFFFE000FFE07E00003F007C000
00C007E000008003E000010003E000010003E000020003E000020003F000040001F0000C0001F0
00080001F000100001F000100000F800200000F800200000F800400000F800400000FC00800000
7C008000007C010000007C020000007C020000007E040000003E040000003E080000003E080000
003F100000001F100000001F200000001F600000001F400000001F800000000F800000000F0000
00000F000000000E000000000E0000000004000000272779A52A>I<FFFE07FFE01FFCFFFE0FFF
E01FFC0FE0007E0003E007C0007C00018007C0007C00010007C0007C00010007C0003E00020007
C0007E00020007C0007E00040003E000FE00040003E000BE00080003E001BE00080003E0013F00
100003E0011F00100003E0021F00300003F0021F00200001F0041F00600001F0041F00400001F0
081F00400001F0080F80800001F0100F80800001F0100F81000000F8200F81000000F8200F8200
0000F8400F82000000F8400FC4000000F88007C4000000F88007C8000000FD0007C80000007D00
07D00000007E0007D00000007E0007E00000007C0003E00000007C0003C0000000780003C00000
00380003800000003000038000000030000300000000200003000000362779A539>I<01FFFE03
FFE001FFFC03FFE0000FE000FC000007C00070000007E00040000003E00080000003F001800000
01F00100000001F80200000000F80400000000FC08000000007C10000000007E30000000003E20
000000003F40000000001F80000000001F80000000000F80000000000FC0000000000FC0000000
000FE00000000017E00000000023F00000000043F00000000081F00000000181F80000000100F8
0000000200FC00000004007C00000008007E00000010003E00000030003F00000020001F000000
40001F800001C0000F800007E0001FC000FFF800FFFE00FFF800FFFE002B267FA52A>I<FFFE00
07FFFFFE0007FF0FE00001F007E00001C003E000010003F000010001F000020001F800040001F8
00080000F800180000FC001000007C002000007E004000003E00C000003F008000003F01000000
1F020000001F840000000F840000000FC800000007D000000007E000000007E000000007C00000
0007C000000007C000000007C000000007C000000007800000000F800000000F800000000F8000
00000F800000000F800000000F000000001F80000003FFFC000007FFFC0000282679A52A>I<01
00200200400400800801001002001002002004002004004008004008004008009C1380BE17C0FE
1FC07E0FC07C0F80380700131175A51C>92 D<00FF00000301C0000780E0000F8070000F807800
078078000200780000007800000078000000F000003FF00001F0F0000780F0001F00F0003E00F0
007C01E0007C01E080F801E080F801E080F803E080F805E100780DE1003C10FE000FE078001918
7D971C>97 D<03C0003FC0003FC00007C00007C000078000078000078000078000078000078000
0F00000F00000F00000F0FC00F30700FC0381F001C1F001E1E001E1E001F1E001F1E001F3C001F
3C001F3C001F3C001F3C001F3C001E78003E78003C78003C7800787800F07400E0E403C0C30700
80F80018267AA51F>I<003FC000E0300380780700F80F00F81E00783E00203C00007C00007C00
00F80000F80000F80000F80000F80000F80000F80000F800007800207800403C00401C01800F06
0003F80015187C9719>I<000003C000003FC000003FC0000007C0000007C00000078000000780
0000078000000780000007800000078000000F0000000F0000000F00001F0F0000E0CF0003C02F
0007001E000F001E001E001E003C001E003C001E007C001E0078003C00F8003C00F8003C00F800
3C00F8003C00F8003C00F8007800F8007800F8007800780078007800F800380178001C02F8000E
0CFF8003F0FF001A267CA51F>I<003F0001E1C00380E00700E00E00F01E00F03C00703C00707C
00F07800F0FFFFF0F80000F80000F80000F80000F80000F80000F800007800207800403800401C
01800E060003F80014187C9719>I<0000F800078C000E3E001E3E003C3E003C3C007800007800
00780000780000780000F00000F00000F0001FFF801FFF8000F00001E00001E00001E00001E000
01E00001E00003C00003C00003C00003C00003C00003C000078000078000078000078000078000
0780000F8000FFFC00FFF80017267EA511>I<000000F0000FC3080078743800E0383001E03C00
03C03C0007C03E0007C03E0007C03E0007C03C0007807C00078078000380780003C0F00002E1C0
00067F0000040000000C0000000C0000000C0000000E00000007FFC00007FFF80003FFFC000C00
7E0018001E0030000E0070000E0060000E00E0000E00E0000E00E0000C0070001C003000380018
00E0000E03C00001FE00001D257F981C>I<003C000003FC000003FC0000007C0000007C000000
780000007800000078000000780000007800000078000000F0000000F0000000F0000000F0FC00
00F30F0000F4070001E8078001F0078001F0078001E0078001E0078001E0078003C00F0003C00F
0003C00F0003C00F0003C00F0003C00F0007801E0007801E0007801E0007801E0007801E000780
1E000F803E00FFF9FFE0FFF1FFC01B267EA51F>I<0038007C00FC00FC00F80070000000000000
0000000000000000000000F00FF01FF001E001E001E001E001E001E003C003C003C003C003C003
C00780078007800780078007800F80FFF0FFF00E267FA50F>I<0000700000F80001F80001F800
01F00000E00000000000000000000000000000000000000000000000000001E0003FE0003FE000
03C00003C00003C00003C00003C00003C0000780000780000780000780000780000780000F0000
0F00000F00000F00000F00000F00001E00001E00001E00001E00001E00001E00003C00003C0070
3C00F83800F87000F0E00061C0003F0000153183A511>I<003C000003FC000003FC0000007C00
00007C000000780000007800000078000000780000007800000078000000F0000000F0000000F0
000000F03FF000F03FE000F01F0001E01C0001E0100001E0200001E0400001E0800001E3000003
C7000003CF000003DF800003E7800003C7C00003C3C0000783E0000781E0000781E0000781F000
0780F0000780F8000F80FC00FFF3FF80FFF3FF801C267EA51D>I<003C03FC03FC007C007C0078
0078007800780078007800F000F000F000F000F000F001E001E001E001E001E001E003C003C003
C003C003C003C00780078007800780078007800F80FFF8FFF00E267FA50F>I<00F07E00FC001F
F187030E001FF6038C070001E803D0078001E803D0078001F003E0078001E003C0078001E003C0
078001E003C0078003C007800F0003C007800F0003C007800F0003C007800F0003C007800F0003
C007800F0007800F001E0007800F001E0007800F001E0007800F001E0007800F001E0007800F00
1E000F801F003E00FFF9FFF3FFE0FFF1FFE3FFC02B187E972F>I<00F0FC001FF30F001FF40700
01E8078001F0078001F0078001E0078001E0078001E0078003C00F0003C00F0003C00F0003C00F
0003C00F0003C00F0007801E0007801E0007801E0007801E0007801E0007801E000F803E00FFF9
FFE0FFF1FFC01B187E971F>I<003F8000E0E00380700700380E003C1E003C3C001E3C001E7C00
1E78003EF8003EF8003EF8003EF8003EF8003CF8007CF80078F800787800F07800E03801C01C03
800E0E0003F80017187C971C>I<003C3F0007FCC3C007FF00E0007C00F0007C00780078007800
78007C0078007C0078007C00F0007C00F0007C00F0007C00F0007C00F0007C00F000F801E000F8
01E000F001E001F001E001E001E003C001F0078003D00F0003CC3C0003C3E00003C0000003C000
0003C0000007800000078000000780000007800000078000000F800000FFF80000FFF800001E23
80971F>I<001F0100F0C303C04707802E0F002E1E001E3E001E3C001E7C001E7C003CF8003CF8
003CF8003CF8003CF8003CF80078F80078F800787800787800F83C01781C02F00F0CF003F0F000
00F00000F00000F00001E00001E00001E00001E00001E00003E0003FFE003FFE18237C971D>I<
00F1E01FF2381FF47801E8F801F0F801F07001E00001E00001E00003C00003C00003C00003C000
03C00003C0000780000780000780000780000780000780000F8000FFFC00FFF80015187E9716>
I<007E100381F00600700E00600C00201C00201C00201E00201F00001FF8000FFE0007FF0001FF
80001FC00003C04003C04001C06001C06001C0600180700380F00700CC0C0083F00014187E9716
>I<002000400040004000C000C001C0038007800F803FFFFFFF07800F000F000F000F000F000F
001E001E001E001E001E001E023C043C043C043C043C043C081C100E3007C010227BA116>I<07
801EFF83FEFF83FE0F003C0F003C0F003C0F003C0F003C0F003C1E00781E00781E00781E00781E
00781E00783C00F03C00F03C00F03C01F03C01F03C02F01C05F00E09FF07F1FE18187B971F>I<
FFF07FC0FFE07FC01F001E000F0018000F0010000F0010000F8020000780200007804000078040
0007C0800003C1800003C1000003C2000003C2000001E4000001E4000001E8000001E8000001F0
000000F0000000E0000000C0000000C000001A187B971D>I<FFE7FF0FF8FFE7FF0FF81F00F803
C01F007001800F007801000F007802000F00F802000F00B804000F0138040007813C080007823C
080007823C100007843C100007841C200003C81C200003C81E400003D01E400003D01E800003E0
0E800003E00F000001C00F000001C00E000001800C0000018004000025187B9728>I<0FFE0FF8
0FFE0FF800F807C000F8060000780400003C0800003C1000001E2000001E4000000F8000000F80
00000780000007C0000007C000000BE0000011E0000020F0000040F00000807800010078000300
3C001F007E00FF81FFE0FF81FFE01D187F971D>I<07FF83FE07FF03FE00F800F0007800C00078
008000780080007C0100003C0100003C0200003C0200003E0400001E0C00001E0800001E100000
1E1000000F2000000F2000000F4000000F4000000F800000078000000700000006000000060000
0004000000040000000800000018000030100000F8200000F8200000F8400000F0800000410000
003E0000001F2380971D>I<07FFFF07801E0E003C0C00780800F81800F01001E01003C0100780
000F00001E00003C00003C0000780000F00401E00803C0080780080F00101F00101E00303C0070
7801E0FFFFE018187E9719>I<FFFFFFFFFFFFFC36017E8E37>124 D E /Fn
29 122 df<03FFFFF007FFFFF80FFFFFF018102000301020006010200040302000802060000020
6000006060000060600000C0600000C0E00000C0E00001C0E0000180E0000380E0000380E00007
80F0000700F0000F00F0000F00F8000F0078000E0070001D187E9720>25
D<78FCFCFCFC7806067C850F>58 D<78FCFCFEFE7A020202020404080810204007117C850F>I<
000000030000000F0000003F000000FC000003F000000FC000003F000000FC000003F000000FC0
00003F000000FC000003F000000FC000003F000000FC000000F0000000FC0000003F0000000FC0
000003F0000000FC0000003F0000000FC0000003F0000000FC0000003F0000000FC0000003F000
0000FC0000003F0000000F0000000720217B9D2B>I<0000180000380000380000700000700000
700000E00000E00000E00001C00001C00001C0000380000380000380000700000700000700000E
00000E00000E00001C00001C00001C0000380000380000380000700000700000E00000E00000E0
0001C00001C00001C0000380000380000380000700000700000700000E00000E00000E00001C00
001C00001C0000380000380000380000700000700000700000E00000E00000C0000015387DA91C
>I<00000018000000001800000000380000000038000000007800000000F800000000F8000000
01FC000000017C000000027C000000047C000000047C000000087C000000087C000000107C0000
00207C000000207E000000407E000000403E000000803E000001003E000001003E000002003E00
0006003E000004003E00000FFFFE00000FFFFF000010001F000030001F000020001F000040001F
000040001F000080001F000100001F000100001F000300001F800F80001F80FFE003FFFCFFE003
FFF826277EA62A>65 D<003FFFFF80007FFFFFE00001F001F00001F000F80003E0007C0003E000
7C0003E0003C0003E0003C0007C0003C0007C0007C0007C0007C0007C00078000F8000F8000F80
01F0000F8001E0000F8007C0001F000F80001F007E00001FFFFE00001F000F80003E0003C0003E
0003E0003E0001E0003E0001F0007C0001F0007C0001F0007C0001F0007C0001F000F80003E000
F80003E000F80003C000F80007C001F0000F8001F0001F0001F0007E0003F001FC007FFFFFF000
FFFFFF800026267EA52A>I<003FFFFFFE007FFFFFFE0001F0003E0001F0000E0003E000060003
E000060003E000060003E000020007C000020007C000020007C000020007C00804000F80100400
0F801000000F801000000F803000001F006000001FFFE000001FFFE000001F00E000003E004000
003E004000003E004000003E004008007C008010007C000010007C000020007C00002000F80000
2000F800004000F80000C000F800008001F000018001F000038001F000070003F0003F007FFFFF
FF00FFFFFFFE0027267EA529>69 D<003FFFFFFC007FFFFFFC0001F0007C0001F0001C0003E000
0C0003E0000C0003E0000C0003E000040007C000040007C000040007C000040007C00008000F80
2008000F802000000F802000000F806000001F004000001F00C000001FFFC000001FFFC000003E
018000003E008000003E008000003E008000007C010000007C010000007C000000007C00000000
F800000000F800000000F800000000F800000001F000000001F000000001F000000003F0000000
7FFFC00000FFFFC0000026267EA524>I<007FFFC0007FFFC00001F0000001F0000003E0000003
E0000003E0000003E0000007C0000007C0000007C0000007C000000F8000000F8000000F800000
0F8000001F0000001F0000001F0000001F0000003E0000003E0000003E0000003E0000007C0000
007C0000007C0000007C000000F8000000F8000000F8000000F8000001F0000001F0000001F000
0003F00000FFFF8000FFFF80001A267FA518>73 D<003FFFFF80007FFFFFE00001F001F00001F0
00780003E0003C0003E0003E0003E0003E0003E0003E0007C0003E0007C0003E0007C0003E0007
C0003E000F80007C000F80007C000F8000F8000F8000F0001F0001E0001F000780001F001F0000
1FFFF800003E000000003E000000003E000000003E000000007C000000007C000000007C000000
007C00000000F800000000F800000000F800000000F800000001F000000001F000000001F00000
0003F00000007FFF800000FFFF80000027267EA524>80 D<00007E010001FF82000781C6000E00
6E001C003E0038001C0078001C00F0000C00F0000C01E0000801E0000801E0000801E0000801F0
000001F0000001FC000001FFC00000FFFC00007FFE00003FFF80001FFF800003FFC000003FC000
0007E0000003E0000003E0000003E0100003E0100003E0300003C0200003C0300003C030000780
7000070078000F0078001E006E003C00E780F000C1FFE000807F800020287DA622>83
D<007C3001C2780301F00701F00E00F01C00F03C01E03801E07801E07801E0F003C0F003C0F003
C0F003C0E00780E00782E00782E00782E00F04E00F0460170470270830C3900F01E017187D971D
>97 D<03C0003FC0007FC00007C0000780000780000780000780000F00000F00000F00000F0000
1E00001E00001E3C001EC3003D03803E01803C01C03C01C07801C07801C07801C07801C0F003C0
F003C0F003C0F003C0E00780E00780E00700E00F00E00E00E01C0060380070300030E0000F8000
12267DA518>I<00000F0000FF0001FF00001F00001E00001E00001E00001E00003C00003C0000
3C00003C000078000078007C7801C2780301F00701F00E00F01C00F03C01E03801E07801E07801
E0F003C0F003C0F003C0F003C0E00780E00782E00782E00782E00F04E00F0460170470270830C3
900F01E018267DA51D>100 D<003F0000E1800380C00700600E00601C00603C00C03800C07803
80780E00FFF800F00000F00000F00000F00000E00000E00000E00010F000207000407000803803
001C1C0007E00014187D971A>I<0007C300001C278000301F0000701F0000E00F0001C00F0003
C01E0003801E0007801E0007801E000F003C000F003C000F003C000F003C000E0078000E007800
0E0078000E0078000E00F0000E00F0000601F0000702F000030DE00000F1E0000001E0000001E0
000003C0000003C0000003C0003007800078078000F80F0000F81E0000703800003FE000001923
7F971A>103 D<0078000007F800000FF8000000F8000000F0000000F0000000F0000000F00000
01E0000001E0000001E0000001E0000003C0000003C0000003C7E00003C8380007B0380007C03C
0007C01C0007803C000F003C000F003C000F003C000F003C001E0078001E0078001E0078001E00
F0003C00F0003C00F0403C01E0403C01E0407801E0807803C0807803C1007801C200F000C40060
0078001A267DA520>I<0030007800F800F800700000000000000000000000000000000000000F
00118021C021E041E043C083C083C00780078007800F000F001E001E001E103C103C103C207820
7840384018800F000D267EA513>I<00003800007C00007C000078000030000000000000000000
000000000000000000000000000000000000000F800011C00020E00020E00040F00040F00081E0
0081E00001E00001E00003C00003C00003C00003C0000780000780000780000780000F00000F00
000F00000F00001E00001E00001E00001E00003C00003C00003C00307800787800F87000F8E000
71C0003F0000163181A517>I<0F00FC03F000138306041C0021C407181C0041C807A01E0041F0
07A00E0041E007C01E0083C007801E0083C007801E0003C007801E0003C007801E0007800F003C
0007800F003C0007800F003C0007800F0078000F001E0078000F001E0078200F001E00F0200F00
1E00F0201E003C00F0401E003C01E0401E003C01E0801E003C00E1003C0078006200180030003C
002B187E9731>109 D<0F01F80013820E0021CC0E0041D00F0041F0070041E00F0083C00F0083
C00F0003C00F0003C00F0007801E0007801E0007801E0007803C000F003C000F003C100F007810
0F0078101E0078201E00F0201E00F0401E0070803C00310018001E001C187E9721>I<003F0000
E1C00180600700700E00301E00381C0038380038780038780038F00078F00078F00078F00078E0
00F0E000F0E000E0E001C0E003C0600380700700300C001C380007E00015187D971B>I<00F01E
0001386180021C81C0041D00C0041E00E0041E00E0083C00E0083C00E0003C00E0003C00E00078
01E0007801E0007801E0007801E000F003C000F003C000F0038000F0078001E0070001E00E0001
F01C0001F0180003C8700003C7C00003C0000003C0000007800000078000000780000007800000
0F0000000F0000000F000000FFF00000FFF000001B2382971C>I<0F03C0138C2021D0F041D1F0
41E1F041E1E083C0C083C00003C00003C0000780000780000780000780000F00000F00000F0000
0F00001E00001E00001E00001E00003C000018000014187E9719>114 D<006000F000F000F001
E001E001E001E003C003C0FFFFFFFF07800780078007800F000F000F000F001E001E001E001E00
3C003C043C043C0878087810381038201C400F8010227EA114>116 D<07800600C008C00F01E0
10E01E03E020F01E01E040F01E00E041E01E00C081E03C004081E03C004003C03C004003C03C00
4003C07800800780780080078078008007807800800F00F001000F00F001000F00F001000F00F0
02000F00F002000F00F004000701700800078178080003C23C300000FC0FC00023187E9728>
119 D<00F81F00030C2080040E43C0080787C0080787C010078780200F0300200F0000000F0000
000F0000001E0000001E0000001E0000001E0000003C0000003C0100003C0100303C0100787802
00F8780400F8780400F09C0800410C30003E07C0001A187E9720>I<07800608C00F10E01E20F0
1E40F01E41E01E81E03C81E03C03C03C03C03C03C0780780780780780780780F00F00F00F00F00
F00F00F00F01E00F01E00F01E00703E0038FC001F3C00003C00003C00007803807807C0F007C0E
00F81C0070180040300020E0001F800018237E971B>I E /Fo 63 124 df<0007FC00003FFF00
00FE038001F807C003F007E003E00FE007E00FE007E00FE007E007C007E0010007E0000007E000
0007E00000FFFFFFE0FFFFFFE0FFFFFFE007E007E007E007E007E007E007E007E007E007E007E0
07E007E007E007E007E007E007E007E007E007E007E007E007E007E007E007E007E007E007E007
E007E007E007E007E007E007E007E07FFC3FFE7FFC3FFE7FFC3FFE1F267FA523>12
D<0007FFE0003FFFE000FE07E001F80FE003F00FE003E00FE007E00FE007E007E007E007E007E0
07E007E007E007E007E007E007E0FFFFFFE0FFFFFFE0FFFFFFE007E007E007E007E007E007E007
E007E007E007E007E007E007E007E007E007E007E007E007E007E007E007E007E007E007E007E0
07E007E007E007E007E007E007E007E007E007E007E007E07FFE7FFE7FFE7FFE7FFE7FFE1F267F
A523>I<0007FE01FF0000003FFF9FFFC00000FE03FF01E00001F803FC01F00003F007F801F800
03E007F003F80007E007F003F80007E007F003F80007E003F001F00007E003F000400007E003F0
00000007E003F000000007E003F0000000FFFFFFFFFFF800FFFFFFFFFFF800FFFFFFFFFFF80007
E003F001F80007E003F001F80007E003F001F80007E003F001F80007E003F001F80007E003F001
F80007E003F001F80007E003F001F80007E003F001F80007E003F001F80007E003F001F80007E0
03F001F80007E003F001F80007E003F001F80007E003F001F80007E003F001F80007E003F001F8
0007E003F001F80007E003F001F8007FFE3FFF1FFF807FFE3FFF1FFF807FFE3FFF1FFF8031267F
A535>I<1C00707F01FC7F81FEFF83FEFFC3FFFFC3FF7FC1FF7FC1FF1CC07300C00300C0030180
0601800603000C03000C0600180C00301C00703800E020008018147EA521>34
D<1C007F007F80FF80FFC0FFC07FC07FC01CC000C000C0018001800300030006000C001C003800
20000A147C8812>44 D<FFFEFFFEFFFEFFFEFFFE0F057F8E15>I<1C003E007F00FF80FF80FF80
7F003E001C0009097C8812>I<007FC00001FFF00007E0FC000F803E001F001F001F001F003F00
1F803E000F807E000FC07E000FC07E000FC0FE000FE0FE000FE0FE000FE0FE000FE0FE000FE0FE
000FE0FE000FE0FE000FE0FE000FE0FE000FE0FE000FE0FE000FE0FE000FE0FE000FE07E000FC0
7E000FC07E000FC07E000FC03F001F803F001F801F803F000FC07E0007E0FC0001FFF000007FC0
001B247EA320>48 D<000E00001E0000FE001FFE00FFFE00FFFE00E0FE0000FE0000FE0000FE00
00FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE00
00FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE007FFFFE7FFFFE7FFFFE
17247CA320>I<01FF000007FFE0001FFFF8003E07FC007C01FE007E00FF00FF007F00FF007F80
FF007F80FF003F807E003F803C003F8000007F8000007F0000007F000000FE000000FC000001F8
000001F0000003E0000007C000000F8000001F0000003C00000078038000F0038001C003800380
0700070007000FFFFF001FFFFF003FFFFF007FFFFF00FFFFFE00FFFFFE00FFFFFE0019247DA320
>I<00FF000007FFE0000FFFF8001F01FC003E00FE007F00FE007F807F007F807F007F807F003F
007F001E00FF000C00FE000000FC000000FC000001F8000007E00000FF800000FFE0000003F800
0000FC000000FE0000007F0000007F0008007F803E007F807F007F80FF807F80FF807F80FF807F
00FF807F007F00FE007E00FE003F03FC001FFFF80007FFE00000FF000019247DA320>I<00003C
0000003C0000007C000000FC000001FC000003FC000003FC000007FC00000EFC00001CFC000038
FC000078FC000070FC0000E0FC0001C0FC000380FC000700FC000700FC000E00FC001C00FC0038
00FC007000FC00F000FC00FFFFFFE0FFFFFFE0FFFFFFE00001FC000001FC000001FC000001FC00
0001FC000001FC000001FC00007FFFE0007FFFE0007FFFE01B247EA320>I<18000C001F007C00
1FFFF8001FFFF0001FFFE0001FFFC0001FFF80001FFE00001C6000001C0000001C0000001C0000
001C0000001C0000001C7F80001FFFE0001F81F8001C00FC001800FE0000007F0000007F000000
7F0000007F8038007F807C007F80FE007F80FF007F80FF007F80FE007F00FC007F007800FE0038
00FC001E03F8000FFFF00007FFC00001FE000019247DA320>I<000FE000007FF80000FFFC0003
F81E0007E03F000FC07F001F807F001F007F003F007F003F003E007E0000007E0000007E000000
FE1F8000FE7FE000FEE0F800FF807C00FF007E00FF003E00FF003F00FE003F00FE003F80FE003F
80FE003F80FE003F807E003F807E003F807E003F803F003F003F003F001F007E001F807C000FC0
F80007FFF00001FFE000007F800019247DA320>I<380000003E0000003FFFFFC03FFFFFC03FFF
FFC07FFFFF807FFFFF007FFFFE007FFFFC007000380070007000E0007000E000E000E001C00000
0380000007800000070000000F0000001E0000001E0000003E0000003E0000007E0000007C0000
007C000000FC000000FC000000FC000000FC000001FC000001FC000001FC000001FC000001FC00
0001FC000001FC000000F80000007000001A267CA520>I<00FF800003FFF00007FFF8000F80FC
001E003E003C003E003C001F007C001F007E001F007F001F007FC01E007FE03E003FF83C003FFE
78001FFFF0000FFFC00007FFF00003FFF80007FFFC000F3FFE001E0FFF003C07FF007C01FF8078
007F80F8001F80F8001F80F8000F80F8000F80F8000F007C000F007C001E003E001E001F80FC00
0FFFF80007FFE00000FF800019247DA320>I<00FF000003FFC00007FFF0001FC1F8003F00FC00
3F007C007E007E007E003E00FE003F00FE003F00FE003F00FE003F80FE003F80FE003F80FE003F
807E007F807E007F803F007F801F00FF800F81BF8003FF3F8000FE3F8000003F8000003F000000
3F0000003F003E007E007F007E007F007C007F00FC007F00F8003E01F0003C07E0001FFFC0000F
FF000003FC000019247DA320>I<1C003E007F00FF80FF80FF807F003E001C0000000000000000
000000000000001C003E007F00FF80FF80FF807F003E001C0009197C9812>I<00000E00000000
001F00000000001F00000000003F80000000003F80000000003F80000000007FC0000000007FC0
00000000FFE000000000FFE000000000FFE000000001DFF000000001CFF000000003CFF8000000
0387F80000000387F80000000707FC0000000703FC0000000F03FE0000000E01FE0000000E01FE
0000001C01FF0000001C00FF0000003C00FF80000038007F8000003FFFFF8000007FFFFFC00000
7FFFFFC00000F0003FE00000E0001FE00000E0001FE00001C0000FF00001C0000FF00003C0000F
F80003800007F800FFFC00FFFFE0FFFC00FFFFE0FFFC00FFFFE02B267EA530>65
D<FFFFFFF000FFFFFFFE00FFFFFFFF8003F8003FC003F8001FE003F8000FF003F80007F003F800
07F803F80003F803F80003F803F80003F803F80007F803F80007F003F80007F003F8000FE003F8
001FC003F8007F8003FFFFFE0003FFFFFE0003F8003F8003F8000FE003F80007F003F80007F803
F80003F803F80003FC03F80003FC03F80003FC03F80003FC03F80003FC03F80003FC03F80003FC
03F80007F803F80007F803F8000FF003F8003FE0FFFFFFFFC0FFFFFFFF00FFFFFFF80026267EA5
2D>I<0000FF8018000FFFF038003FFFFC7800FFC03EF801FE000FF803F80003F807F00001F80F
E00000F81FC00000781FC00000783F800000783F800000387F800000387F000000387F00000000
FF00000000FF00000000FF00000000FF00000000FF00000000FF00000000FF00000000FF000000
007F000000007F000000007F800000383F800000383F800000381FC00000381FC00000700FE000
007007F00000E003F80001C001FE00078000FFC03F00003FFFFE00000FFFF8000000FFC0002526
7CA52E>I<FFFFFFF00000FFFFFFFE0000FFFFFFFF800003FC003FE00003FC000FF00003FC0003
F80003FC0001FC0003FC0000FE0003FC0000FE0003FC00007F0003FC00007F0003FC00003F8003
FC00003F8003FC00003F8003FC00003FC003FC00003FC003FC00003FC003FC00003FC003FC0000
3FC003FC00003FC003FC00003FC003FC00003FC003FC00003FC003FC00003FC003FC00003F8003
FC00003F8003FC00003F8003FC00007F0003FC00007F0003FC00007F0003FC0000FE0003FC0001
FC0003FC0003F80003FC000FF00003FC003FE000FFFFFFFFC000FFFFFFFE0000FFFFFFF000002A
267EA531>I<FFFFFFFF80FFFFFFFF80FFFFFFFF8003FC007F8003FC000FC003FC0007C003FC00
03C003FC0003C003FC0001C003FC0001C003FC0001C003FC0380E003FC0380E003FC0380E003FC
03800003FC07800003FC0F800003FFFF800003FFFF800003FFFF800003FC0F800003FC07800003
FC03803803FC03803803FC03803803FC03807003FC00007003FC00007003FC0000F003FC0000F0
03FC0001E003FC0001E003FC0003E003FC000FE003FC003FE0FFFFFFFFC0FFFFFFFFC0FFFFFFFF
C025267EA52A>I<FFFFFFFF00FFFFFFFF00FFFFFFFF0003FC007F0003FC001F8003FC000F8003
FC00078003FC00078003FC00038003FC00038003FC00038003FC0701C003FC0701C003FC0701C0
03FC07000003FC0F000003FC1F000003FFFF000003FFFF000003FFFF000003FC1F000003FC0F00
0003FC07000003FC07000003FC07000003FC07000003FC00000003FC00000003FC00000003FC00
000003FC00000003FC00000003FC00000003FC00000003FC000000FFFFF80000FFFFF80000FFFF
F8000022267EA528>I<0000FF801800000FFFF03800003FFFFC780000FFC03EF80001FE000FF8
0003F80003F80007F00001F8000FE00000F8001FC0000078001FC0000078003F80000078003F80
000038007F80000038007F00000038007F0000000000FF0000000000FF0000000000FF00000000
00FF0000000000FF0000000000FF0000000000FF0000000000FF0007FFFF807F0007FFFF807F00
07FFFF807F800007F8003F800007F8003F800007F8001FC00007F8001FC00007F8000FE00007F8
0007F00007F80003F80007F80001FE000FF80000FFC03FF800003FFFFCF800000FFFF078000000
FFC0180029267CA532>I<FFFFF0FFFFF0FFFFF003FC0003FC0003FC0003FC0003FC0003FC0003
FC0003FC0003FC0003FC0003FC0003FC0003FC0003FC0003FC0003FC0003FC0003FC0003FC0003
FC0003FC0003FC0003FC0003FC0003FC0003FC0003FC0003FC0003FC0003FC0003FC0003FC00FF
FFF0FFFFF0FFFFF014267EA518>73 D<FFFFF800FFFFF800FFFFF80003FC000003FC000003FC00
0003FC000003FC000003FC000003FC000003FC000003FC000003FC000003FC000003FC000003FC
000003FC000003FC000003FC000003FC000003FC000003FC000003FC000703FC000703FC000703
FC000703FC000E03FC000E03FC000E03FC001E03FC001E03FC003E03FC007E03FC00FE03FC03FC
FFFFFFFCFFFFFFFCFFFFFFFC20267EA526>76 D<FFFE000000FFFEFFFE000000FFFEFFFF000001
FFFE03FF000001FF8003FF000001FF8003BF800003BF8003BF800003BF80039FC000073F80039F
C000073F80038FE0000E3F80038FE0000E3F80038FE0000E3F800387F0001C3F800387F0001C3F
800383F800383F800383F800383F800381FC00703F800381FC00703F800380FE00E03F800380FE
00E03F800380FE00E03F8003807F01C03F8003807F01C03F8003803F83803F8003803F83803F80
03801FC7003F8003801FC7003F8003801FC7003F8003800FEE003F8003800FEE003F80038007FC
003F80038007FC003F80038003F8003F80038003F8003F80038003F8003F80FFFE01F00FFFFEFF
FE01F00FFFFEFFFE00E00FFFFE37267EA53C>I<FFFC0003FFF8FFFE0003FFF8FFFF0003FFF803
FF80000E0003FFC0000E0003BFC0000E00039FE0000E00039FF0000E00038FF8000E000387FC00
0E000383FE000E000381FE000E000380FF000E000380FF800E0003807FC00E0003803FE00E0003
801FF00E0003800FF00E00038007F80E00038007FC0E00038003FE0E00038001FF0E00038000FF
8E000380007F8E000380003FCE000380003FEE000380001FFE000380000FFE0003800007FE0003
800003FE0003800001FE0003800001FE0003800000FE00038000007E00038000003E00FFFE0000
1E00FFFE00000E00FFFE00000E002D267EA532>I<0001FF0000001FFFF000007F01FC0001FC00
7F0003F0001F8007E0000FC00FE0000FE01FC00007F01FC00007F03F800003F83F800003F87F80
0003FC7F000001FC7F000001FCFF000001FEFF000001FEFF000001FEFF000001FEFF000001FEFF
000001FEFF000001FEFF000001FEFF000001FEFF000001FE7F000001FC7F800003FC7F800003FC
3F800003F83F800003F81FC00007F01FC00007F00FE0000FE007F0001FC003F8003F8001FC007F
00007F01FC00001FFFF0000003FF800027267CA530>I<FFFFFFF000FFFFFFFE00FFFFFFFF0003
FC007FC003FC001FE003FC000FE003FC0007F003FC0007F003FC0007F803FC0007F803FC0007F8
03FC0007F803FC0007F803FC0007F803FC0007F003FC0007F003FC000FE003FC001FC003FC007F
8003FFFFFF0003FFFFF80003FC00000003FC00000003FC00000003FC00000003FC00000003FC00
000003FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC
000000FFFFF00000FFFFF00000FFFFF0000025267EA52C>I<FFFFFFC00000FFFFFFFC0000FFFF
FFFF000003FC00FF800003FC001FC00003FC000FE00003FC000FF00003FC0007F00003FC0007F8
0003FC0007F80003FC0007F80003FC0007F80003FC0007F80003FC0007F00003FC000FF00003FC
000FE00003FC001FC00003FC00FF000003FFFFFC000003FFFFFC000003FC01FF000003FC007F80
0003FC003FC00003FC003FC00003FC001FE00003FC001FE00003FC001FE00003FC001FE00003FC
001FE00003FC001FE00003FC001FE00003FC001FE01003FC001FE03803FC000FE03803FC000FF0
30FFFFF007F870FFFFF003FFE0FFFFF0007F802D267EA530>82 D<00FF018007FFC3800FFFF780
1F81FF803E003F807E000F807C000F807C000780FC000780FC000380FC000380FE000380FF0000
00FFE000007FFE00007FFFE0003FFFF8001FFFFC000FFFFE0007FFFF0003FFFF00007FFF800007
FF8000007FC000001FC000001FC060000FC0E0000FC0E0000FC0E0000FC0F0000F80F0000F80F8
001F00FE001F00FFC07E00F7FFFC00E1FFF000C03FC0001A267CA523>I<7FFFFFFFFC7FFFFFFF
FC7FFFFFFFFC7F00FF01FC7C00FF007C7800FF003C7000FF001CF000FF001EF000FF001EE000FF
000EE000FF000EE000FF000EE000FF000EE000FF000E0000FF00000000FF00000000FF00000000
FF00000000FF00000000FF00000000FF00000000FF00000000FF00000000FF00000000FF000000
00FF00000000FF00000000FF00000000FF00000000FF00000000FF00000000FF00000000FF0000
0000FF000000FFFFFF0000FFFFFF0000FFFFFF0027257EA42C>I<FFFFE0FFFFC07FFEFFFFE0FF
FFC07FFEFFFFE0FFFFC07FFE07FC0007F80003C003FC0007FC00038003FC0003FC00038003FE00
03FC00078001FE0007FE00070001FE0007FE00070000FF0007FE000E0000FF000EFF000E0000FF
800EFF001E00007F801EFF801C00007F801C7F801C00007FC01C7F803C00003FC03C7FC0380000
3FC0383FC03800001FE0383FC07000001FE0701FE07000001FE0701FE07000000FF0701FE0E000
000FF0E00FF0E000000FF8E00FF1E0000007F9E00FF9C0000007F9C007F9C0000007FDC007FBC0
000003FFC007FF80000003FF8003FF80000001FF8003FF00000001FF0001FF00000001FF0001FF
00000000FF0001FE00000000FE0000FE00000000FE0000FE000000007E0000FC000000007C0000
7C000000003C000078000000003800003800003F267FA542>87 D<FFFFE001FFF8FFFFE001FFF8
FFFFE001FFF803FE00001E0001FF00001C0001FF80003C0000FF80003800007FC0007800007FE0
00F000003FE000E000001FF001E000001FF803C000000FF80380000007FC0780000007FE0F0000
0003FE0E00000001FF1E00000001FFBC00000000FFB8000000007FF8000000007FF0000000003F
F0000000001FE0000000001FE0000000001FE0000000001FE0000000001FE0000000001FE00000
00001FE0000000001FE0000000001FE0000000001FE0000000001FE0000000001FE0000000001F
E000000007FFFF80000007FFFF80000007FFFF80002D267FA530>89 D<01000407001C0E00380C
00301800603000C03000C0600180600180C00300C00300CE0338FF83FEFF83FEFFC3FFFFC3FF7F
C1FF7F81FE3F80FE0E003818147AA521>92 D<03FF00000FFFE0001F03F0003F80F8003F80FC00
3F807C001F007E000E007E0000007E0000007E00001FFE0001FFFE000FF87E001FC07E003F007E
007E007E00FC007E00FC007E00FC007E00FC007E00FC00FE007E00FE003F03BFF01FFF1FF003FC
0FF01C197E981F>97 D<FFC00000FFC00000FFC000000FC000000FC000000FC000000FC000000F
C000000FC000000FC000000FC000000FC000000FC000000FC3F8000FDFFE000FFC1F800FF007C0
0FE003E00FC003F00FC003F80FC001F80FC001F80FC001FC0FC001FC0FC001FC0FC001FC0FC001
FC0FC001FC0FC001FC0FC001F80FC001F80FC003F00FC003F00FE003E00FF007C00FB81F800F1F
FE000E07F0001E267EA523>I<007FE001FFF807E07C0F80FE1F00FE3F00FE7F007C7E00387E00
00FE0000FE0000FE0000FE0000FE0000FE0000FE00007E00007E00007F000E3F000E1F801C0F80
3C07E0F801FFE0007F8017197E981C>I<0000FFC00000FFC00000FFC000000FC000000FC00000
0FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC0003F8FC001FFEFC007
E07FC00F801FC01F001FC03F000FC03F000FC07E000FC07E000FC0FE000FC0FE000FC0FE000FC0
FE000FC0FE000FC0FE000FC0FE000FC07E000FC07E000FC07F000FC03F000FC01F001FC00F803F
C007E0FFFC01FFCFFC007F0FFC1E267EA523>I<007F8003FFE007C1F00F80781F003C3F003E7E
003E7E001E7E001FFE001FFE001FFFFFFFFFFFFFFE0000FE0000FE00007E00007E00003F00073F
00071F000E0F801C07E07801FFF0003FC018197E981D>I<000FC0007FF000F8F801F1FC03F1FC
07E1FC07E0F807E07007E00007E00007E00007E00007E000FFFF00FFFF00FFFF0007E00007E000
07E00007E00007E00007E00007E00007E00007E00007E00007E00007E00007E00007E00007E000
07E00007E00007E00007E0007FFF007FFF007FFF0016267EA513>I<00FE07C007FFDFE00F83F9
F01F01F1F03E00F8E03E00F8407E00FC007E00FC007E00FC007E00FC007E00FC003E00F8003E00
F8001F01F0000F83E0001FFFC00018FE00003800000038000000380000003C0000003FFFF0001F
FFFE000FFFFF0007FFFF801FFFFFC03C001FC0780007E0F80003E0F80003E0F80003E0F80003E0
7C0007C03E000F801F803F0007FFFC0000FFE0001C257E9820>I<FFC00000FFC00000FFC00000
0FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000
000FC1FC000FC7FE000FCE1F000FD80F800FF00FC00FE00FC00FE00FC00FC00FC00FC00FC00FC0
0FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00F
C00FC00FC00FC00FC00FC0FFFC7FFCFFFC7FFCFFFC7FFC1E267DA523>I<0F001F803FC03FE03F
E03FE03FC01F800F0000000000000000000000FFC0FFC0FFC00FC00FC00FC00FC00FC00FC00FC0
0FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC0FFF8FFF8FFF80D277EA611>I<000E
00001F00003F80007FC0007FC0007FC0003F80001F00000E000000000000000000000000000000
0000FFC000FFC000FFC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000F
C0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000F
C0000FC0000FC0380FC07C0FC0FE0F80FE1F80FE1F007C3E003FFC000FE000123284A613>I<FF
C00000FFC00000FFC000000FC000000FC000000FC000000FC000000FC000000FC000000FC00000
0FC000000FC000000FC000000FC07FF00FC07FF00FC07FF00FC01E000FC03C000FC078000FC0F0
000FC1E0000FC380000FCF80000FDF80000FFFC0000FFFE0000FF3F0000FC1F8000F81F8000F80
FC000F807E000F803F000F801F000F801F800F800FC0FFF83FFCFFF83FFCFFF83FFC1E267EA522
>I<FFC0FFC0FFC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00F
C00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC0FFFCFFFCFFFC
0E267EA511>I<FF81FC00FE00FF87FF03FF80FF8E0F8707C00F9807CC03E00FB007D803E00FE0
07F003F00FE007F003F00FC007E003F00FC007E003F00FC007E003F00FC007E003F00FC007E003
F00FC007E003F00FC007E003F00FC007E003F00FC007E003F00FC007E003F00FC007E003F00FC0
07E003F00FC007E003F00FC007E003F00FC007E003F0FFFC7FFE3FFFFFFC7FFE3FFFFFFC7FFE3F
FF30197D9835>I<FF81FC00FF87FE00FF8E1F000F980F800FB00FC00FE00FC00FE00FC00FC00F
C00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC0
0FC00FC00FC00FC00FC00FC00FC00FC00FC0FFFC7FFCFFFC7FFCFFFC7FFC1E197D9823>I<007F
C00001FFF00007E0FC000F803E001F001F003F001F807E000FC07E000FC07E000FC0FE000FE0FE
000FE0FE000FE0FE000FE0FE000FE0FE000FE0FE000FE07E000FC07E000FC07E000FC03F001F80
1F001F000F803E0007E0FC0003FFF800007FC0001B197E9820>I<FFC3F800FFDFFE00FFFC1F80
0FF007C00FE007E00FC003F00FC003F80FC003F80FC001F80FC001FC0FC001FC0FC001FC0FC001
FC0FC001FC0FC001FC0FC001FC0FC001F80FC003F80FC003F00FC003F00FE007E00FF00FC00FF8
1F800FDFFE000FC7F0000FC000000FC000000FC000000FC000000FC000000FC000000FC000000F
C00000FFFC0000FFFC0000FFFC00001E247E9823>I<003F80E001FFE1E007F071E00FC01BE01F
800FE03F000FE03F0007E07F0007E07E0007E0FE0007E0FE0007E0FE0007E0FE0007E0FE0007E0
FE0007E0FE0007E07E0007E07F0007E03F0007E03F000FE01F800FE00FC03FE007E077E001FFE7
E0003F87E0000007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E00000
7FFE00007FFE00007FFE1F247E9822>I<FF87C0FF8FF0FF98F80FB1FC0FE1FC0FE1FC0FE0F80F
C0700FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000F
C0000FC000FFFE00FFFE00FFFE0016197E981A>I<03FCC01FFFC03C07C07003C07001C0F001C0
F001C0F80000FE00007FF8007FFE003FFF801FFFC007FFE0007FE00003F06001F0E000F0E000F0
F000F0F000E0F801E0FE03C0F7FF00C1FC0014197E9819>I<00E00000E00000E00000E00001E0
0001E00001E00003E00007E0000FE0001FFFC0FFFFC0FFFFC007E00007E00007E00007E00007E0
0007E00007E00007E00007E00007E00007E00007E00007E0E007E0E007E0E007E0E007E0E007E0
E003E0C001F1C000FF80003E0013237FA219>I<FFC0FFC0FFC0FFC0FFC0FFC00FC00FC00FC00F
C00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC0
0FC00FC00FC00FC00FC00FC00FC00FC00FC00FC01FC00FC01FC007C03FC003E06FFC01FFCFFC00
7F8FFC1E197D9823>I<FFF807FEFFF807FEFFF807FE0FE001E007E001C007E001C003F0038003
F0038001F8070001F8070001FC0F0000FC0E0000FE1E00007E1C00007E1C00003F3800003F3800
001FF000001FF000001FF000000FE000000FE0000007C0000007C000000380001F197F9822>I<
FFF8FFE07FE0FFF8FFE07FE0FFF8FFE07FE00FC00F800E000FC00F800E0007E01F801C0007E01F
C01C0007F01FC03C0003F03FE0380003F03BE0380001F83BE0700001F871F0700001F871F0F000
00FCF1F0E00000FCE0F8E00000FEE0F9E000007FE0FDC000007FC07DC000003FC07F8000003F80
3F8000003F803F8000001F803F0000001F001F0000000F001E0000000E000E00002B197F982E>
I<FFF81FFCFFF81FFCFFF81FFC07E0078003F00F0001F81E0000FC3C0000FE7800007EF000003F
F000001FE000000FC0000007E000000FF000001FF000003DF800003CFC0000787E0000F03F0001
E03F8003C01F8007800FC0FFE01FFEFFE01FFEFFE01FFE1F197F9822>I<FFF807FEFFF807FEFF
F807FE0FE001E007E001C007E001C003F0038003F0038001F8070001F8070001FC0F0000FC0E00
00FE1E00007E1C00007E1C00003F3800003F3800001FF000001FF000001FF000000FE000000FE0
000007C0000007C000000380000003800000070000380700007C0F0000FE0E0000FE1E0000FE1C
0000FE38000074F000003FE000001F8000001F247F9822>I<FFFFFFFEFFFFFFFE1F02808F20>
123 D E /Fp 59 123 df<00007FE0000007FFF800001FE03C00007F000E0000FE003F0001FC00
7F8001F8007F8003F8007F8003F8007F8003F8003F0003F8001E0003F800000003F800000003F8
00000003F800000003F8000000FFFFFFFF80FFFFFFFF80FFFFFFFF8003F8003F8003F8003F8003
F8003F8003F8003F8003F8003F8003F8003F8003F8003F8003F8003F8003F8003F8003F8003F80
03F8003F8003F8003F8003F8003F8003F8003F8003F8003F8003F8003F8003F8003F8003F8003F
8003F8003F8003F8003F8003F8003F8003F8003F8003F8003F8003F8003F807FFF83FFFC7FFF83
FFFC7FFF83FFFC262E7FAD2A>12 D<1E001E003F003F007F807F80FFC0FFC0FFC0FFC0FFE0FFE0
FFE0FFE07FE07FE03F603F601E601E60006000600060006000C000C000C000C000C000C0018001
80018001800300030006000600060006000C000C0038003800300030001B177EAD27>34
D<FFFFE0FFFFE0FFFFE0FFFFE0FFFFE0FFFFE013067F9119>45 D<1E003F007F80FFC0FFC0FFC0
FFC07F803F001E000A0A7B8915>I<001FE00000FFFC0003F87F0007E01F800FC00FC01F8007E0
1F8007E03F8007F03F0003F03F0003F07F0003F87F0003F87F0003F87F0003F8FF0003FCFF0003
FCFF0003FCFF0003FCFF0003FCFF0003FCFF0003FCFF0003FCFF0003FCFF0003FCFF0003FCFF00
03FCFF0003FCFF0003FCFF0003FCFF0003FC7F0003F87F0003F87F0003F87F0003F83F8007F03F
8007F01F8007E01F8007E00FC00FC007E01F8003F87F0000FFFC00001FE0001E2B7DAA25>48
D<0001C0000003C000000FC00000FFC000FFFFC000FFFFC000FF3FC000003FC000003FC000003F
C000003FC000003FC000003FC000003FC000003FC000003FC000003FC000003FC000003FC00000
3FC000003FC000003FC000003FC000003FC000003FC000003FC000003FC000003FC000003FC000
003FC000003FC000003FC000003FC000003FC000003FC000003FC000003FC000003FC000003FC0
00003FC0007FFFFFC07FFFFFC07FFFFFC01A2B7BAA25>I<007FC00003FFF8000FFFFC001F01FF
003C007F807C003FC07E003FC0FF001FE0FF801FE0FF801FF0FF800FF0FF800FF07F000FF03E00
1FF000001FF000001FE000001FE000001FC000003FC000003F8000007F0000007E000000FC0000
01F8000001F0000003E0000007C000000F0000001E0000003C00700078007000F0007000E000E0
018000E0030000E007FFFFE00FFFFFE01FFFFFE03FFFFFE07FFFFFC0FFFFFFC0FFFFFFC0FFFFFF
C01C2B7CAA25>I<003FE00001FFFC0003FFFF0007C07F800F001FC01F801FE03FC01FE03FE00F
F03FE00FF03FE00FF03FE00FF01FC00FF00F801FE000001FE000001FC000003F8000003F000000
7E000001FC00007FE000007FFE0000007F0000001FC000000FE000000FF000000FF8000007F800
0007F8000007FC3F0007FC7F8007FC7F8007FCFFC007FCFFC007FCFFC007F8FFC00FF87F800FF0
7F000FE03C001FC01F807F800FFFFF0003FFFC00007FE0001E2B7DAA25>I<000001C0000003C0
000007C000000FC000001FC000001FC000003FC000007FC00000FFC00001DFC00001DFC000039F
C000071FC0000E1FC0001E1FC0001C1FC000381FC000701FC000E01FC000E01FC001C01FC00380
1FC007001FC00E001FC00E001FC01C001FC038001FC070001FC0E0001FC0FFFFFFFFFFFFFFFFFF
FFFFFF00003FC000003FC000003FC000003FC000003FC000003FC000003FC000003FC0001FFFFF
001FFFFF001FFFFF202B7EAA25>I<0C0001801F801F801FFFFF001FFFFE001FFFFC001FFFF800
1FFFF0001FFFC0001FFF00001C0000001C0000001C0000001C0000001C0000001C0000001C0000
001C3FC0001CFFF8001FC0FC001F003F001C003F8008003FC000001FC000001FE000001FE00000
1FF000001FF000001FF03E001FF07F001FF0FF001FF0FF801FF0FF801FF0FF001FE0FF001FE07E
003FC070003FC038003F801C007F000F81FE0007FFFC0003FFF00000FF80001C2B7CAA25>I<00
01FC00000FFF00003FFFC000FF03C001F803E003F007F007E00FF00FC00FF01FC00FF01F800FF0
3F8007E03F8003C07F8000007F0000007F0000007F000000FF07F000FF1FFE00FF383F00FF600F
80FFC007C0FFC007E0FF8003F0FF8003F8FF8003F8FF0003FCFF0003FCFF0003FCFF0003FC7F00
03FC7F0003FC7F0003FC7F0003FC3F8003F83F8003F81F8003F81F8007F00FC007E007E00FC003
F03F8001FFFF00007FFC00001FF0001E2B7DAA25>I<380000003E0000003FFFFFFE3FFFFFFE3F
FFFFFE3FFFFFFC7FFFFFF87FFFFFF07FFFFFE07FFFFFC0780001C07000038070000700E0000E00
E0001C00E0001C0000003800000070000000F0000000E0000001E0000003C0000003C0000007C0
000007C000000FC000000FC000001F8000001F8000001F8000003F8000003F8000003F8000003F
8000003F8000007F8000007F8000007F8000007F8000007F8000007F8000007F8000007F800000
3F0000001E00001F2D7CAC25>I<001FF00000FFFE0001FFFF0003E01F80070007C00F0003E01E
0003E01E0001F03E0001F03E0001F03F0001F03F8001F03FE001E03FF803E01FFE03C01FFF0780
0FFFCF000FFFFE0007FFFC0003FFFE0000FFFF8000FFFFC003FFFFE00787FFF01F03FFF03E00FF
F83C003FF87C000FFC780007FCF80001FCF80000FCF800007CF800007CF800007CF80000787C00
00787C0000F03E0000E01F0003E00FE00FC007FFFF0001FFFC00003FF0001E2B7DAA25>I<003F
E00000FFFC0003FFFE0007F03F000FC00F801F800FC03F8007E07F0007E07F0007F07F0003F0FF
0003F8FF0003F8FF0003F8FF0003F8FF0003FCFF0003FCFF0003FCFF0003FC7F0007FC7F0007FC
3F0007FC1F800FFC0F800FFC07C01BFC03F073FC01FFE3FC003F83FC000003F8000003F8000003
F8000003F80F0007F01F8007F03FC007E03FC00FE03FC00FC03FC01F803F801F001F007E000F01
FC0007FFF80003FFE00000FF00001E2B7DAA25>I<000001C0000000000003E0000000000003E0
000000000003E0000000000007F0000000000007F000000000000FF800000000000FF800000000
000FF800000000001FFC00000000001FFC00000000003FFE00000000003BFE00000000003BFE00
0000000073FF000000000071FF0000000000F1FF8000000000E0FF8000000000E0FF8000000001
C0FFC000000001C07FC000000003C07FE000000003803FE000000003803FE000000007003FF000
000007001FF00000000F001FF80000000E000FF80000000E000FF80000001C000FFC0000001FFF
FFFC0000003FFFFFFE0000003FFFFFFE000000380003FE000000700003FF000000700001FF0000
00F00001FF800000E00000FF800000E00000FF800001E00000FFC00001C000007FC00001C00000
7FC00003C000003FE000FFFE000FFFFF80FFFE000FFFFF80FFFE000FFFFF80312E7DAD38>65
D<FFFFFFFF8000FFFFFFFFF000FFFFFFFFFC0001FE0003FF0001FE0000FF8001FE00007FC001FE
00003FE001FE00001FE001FE00001FE001FE00001FF001FE00000FF001FE00000FF001FE00000F
F001FE00001FF001FE00001FF001FE00001FE001FE00003FE001FE00003FC001FE00007F8001FE
0000FF0001FE0007FC0001FFFFFFF00001FFFFFFF80001FE0001FF0001FE00007F8001FE00001F
E001FE00001FE001FE00000FF001FE00000FF801FE000007F801FE000007FC01FE000007FC01FE
000007FC01FE000007FC01FE000007FC01FE000007FC01FE000007FC01FE000007F801FE00000F
F801FE00001FF001FE00003FF001FE00007FE001FE0001FFC0FFFFFFFFFF00FFFFFFFFFC00FFFF
FFFFE0002E2E7EAD35>I<00000FFC00180000FFFF80380007FFFFE078001FFC01F8F8003FE000
3DF800FF80000FF801FE000007F803FC000003F807F8000001F80FF0000000F80FF0000000F81F
E0000000781FE0000000783FC0000000783FC0000000387FC0000000387FC0000000387F800000
0000FF8000000000FF8000000000FF8000000000FF8000000000FF8000000000FF8000000000FF
8000000000FF8000000000FF8000000000FF80000000007F80000000007FC0000000007FC00000
00383FC0000000383FC0000000381FE0000000381FE0000000700FF0000000700FF00000007007
F8000000E003FC000001C001FE0000038000FF80000700003FE0001E00001FFC00FC000007FFFF
F0000000FFFFC00000000FFE00002D2E7CAD36>I<FFFFFFFF800000FFFFFFFFF00000FFFFFFFF
FE000001FF0003FF000001FF00007FC00001FF00001FE00001FF00000FF00001FF000007F80001
FF000003FC0001FF000001FC0001FF000001FE0001FF000000FE0001FF000000FF0001FF000000
FF0001FF0000007F8001FF0000007F8001FF0000007F8001FF0000007F8001FF0000007FC001FF
0000007FC001FF0000007FC001FF0000007FC001FF0000007FC001FF0000007FC001FF0000007F
C001FF0000007FC001FF0000007FC001FF0000007FC001FF0000007FC001FF0000007F8001FF00
00007F8001FF0000007F8001FF000000FF0001FF000000FF0001FF000000FF0001FF000001FE00
01FF000001FE0001FF000003FC0001FF000007F80001FF00000FF00001FF00001FE00001FF0000
7FC00001FF0003FF8000FFFFFFFFFE0000FFFFFFFFF00000FFFFFFFF800000322E7EAD39>I<FF
FFFFFFFF00FFFFFFFFFF00FFFFFFFFFF0001FF0001FF0001FF00003F8001FF00001F8001FF0000
0F8001FF0000078001FF0000078001FF0000038001FF0000038001FF0000038001FF000003C001
FF003801C001FF003801C001FF003801C001FF0038000001FF0038000001FF0078000001FF00F8
000001FF01F8000001FFFFF8000001FFFFF8000001FFFFF8000001FF01F8000001FF00F8000001
FF0078000001FF0038000001FF0038007001FF0038007001FF0038007001FF003800E001FF0000
00E001FF000000E001FF000000E001FF000001E001FF000001E001FF000003C001FF000003C001
FF000007C001FF00000FC001FF00003FC001FF0001FFC0FFFFFFFFFF80FFFFFFFFFF80FFFFFFFF
FF802C2E7EAD31>I<FFFFFFFFFE00FFFFFFFFFE00FFFFFFFFFE0001FF0003FE0001FF00007F00
01FF00003F0001FF00001F0001FF00000F0001FF00000F0001FF0000070001FF0000070001FF00
00070001FF0000078001FF0038038001FF0038038001FF0038038001FF0038000001FF00380000
01FF0078000001FF00F8000001FF01F8000001FFFFF8000001FFFFF8000001FFFFF8000001FF01
F8000001FF00F8000001FF0078000001FF0038000001FF0038000001FF0038000001FF00380000
01FF0038000001FF0000000001FF0000000001FF0000000001FF0000000001FF0000000001FF00
00000001FF0000000001FF0000000001FF0000000001FF0000000001FF00000000FFFFFF800000
FFFFFF800000FFFFFF800000292E7EAD2F>I<00000FFC0018000000FFFF8038000007FFFFE078
00001FFC01F8F800003FE0003DF80000FF80000FF80001FE000007F80003FC000003F80007F800
0001F8000FF0000000F8000FF0000000F8001FE000000078001FE000000078003FC00000007800
3FC000000038007FC000000038007FC000000038007F800000000000FF800000000000FF800000
000000FF800000000000FF800000000000FF800000000000FF800000000000FF800000000000FF
800000000000FF800000000000FF80001FFFFFC07F80001FFFFFC07FC0001FFFFFC07FC000000F
F8003FC000000FF8003FC000000FF8001FE000000FF8001FE000000FF8000FF000000FF8000FF0
00000FF80007F800000FF80003FC00000FF80001FE00000FF80000FF80001FF800003FE0003FF8
00001FFC00FBF8000007FFFFF0F8000000FFFFC0780000000FFE001800322E7CAD3B>I<FFFFFE
FFFFFEFFFFFE01FF0001FF0001FF0001FF0001FF0001FF0001FF0001FF0001FF0001FF0001FF00
01FF0001FF0001FF0001FF0001FF0001FF0001FF0001FF0001FF0001FF0001FF0001FF0001FF00
01FF0001FF0001FF0001FF0001FF0001FF0001FF0001FF0001FF0001FF0001FF0001FF0001FF00
01FF0001FF0001FF00FFFFFEFFFFFEFFFFFE172E7EAD1C>73 D<FFFFFF8000FFFFFF8000FFFFFF
800001FF00000001FF00000001FF00000001FF00000001FF00000001FF00000001FF00000001FF
00000001FF00000001FF00000001FF00000001FF00000001FF00000001FF00000001FF00000001
FF00000001FF00000001FF00000001FF00000001FF00000001FF00000001FF00000001FF000000
01FF00000001FF00000001FF00000E01FF00000E01FF00000E01FF00000E01FF00001C01FF0000
1C01FF00001C01FF00003C01FF00003C01FF00007C01FF00007C01FF0000FC01FF0001FC01FF00
07F801FF001FF8FFFFFFFFF8FFFFFFFFF8FFFFFFFFF8272E7EAD2D>76 D<FFFF800000007FFFC0
FFFF800000007FFFC0FFFFC0000000FFFFC001FFC0000000FFE00001DFE0000001DFE00001DFE0
000001DFE00001DFE0000001DFE00001CFF00000039FE00001CFF00000039FE00001C7F8000007
1FE00001C7F80000071FE00001C3FC00000E1FE00001C3FC00000E1FE00001C1FE00001C1FE000
01C1FE00001C1FE00001C1FE00001C1FE00001C0FF0000381FE00001C0FF0000381FE00001C07F
8000701FE00001C07F8000701FE00001C03FC000E01FE00001C03FC000E01FE00001C01FE001C0
1FE00001C01FE001C01FE00001C01FE001C01FE00001C00FF003801FE00001C00FF003801FE000
01C007F807001FE00001C007F807001FE00001C003FC0E001FE00001C003FC0E001FE00001C001
FE1C001FE00001C001FE1C001FE00001C001FE1C001FE00001C000FF38001FE00001C000FF3800
1FE00001C0007FF0001FE00001C0007FF0001FE00001C0003FE0001FE00001C0003FE0001FE000
01C0001FC0001FE00001C0001FC0001FE00001C0001FC0001FE000FFFF800F800FFFFFC0FFFF80
0F800FFFFFC0FFFF8007000FFFFFC0422E7EAD47>I<FFFF00000FFFF8FFFF80000FFFF8FFFFC0
000FFFF801FFE000001C0001FFF000001C0001DFF800001C0001DFF800001C0001CFFC00001C00
01C7FE00001C0001C3FF00001C0001C1FF80001C0001C0FF80001C0001C0FFC0001C0001C07FE0
001C0001C03FF0001C0001C01FF8001C0001C00FFC001C0001C00FFC001C0001C007FE001C0001
C003FF001C0001C001FF801C0001C000FFC01C0001C0007FC01C0001C0007FE01C0001C0003FF0
1C0001C0001FF81C0001C0000FFC1C0001C00007FE1C0001C00007FE1C0001C00003FF1C0001C0
0001FF9C0001C00000FFDC0001C000007FFC0001C000003FFC0001C000003FFC0001C000001FFC
0001C000000FFC0001C0000007FC0001C0000003FC0001C0000003FC0001C0000001FC0001C000
0000FC0001C00000007C00FFFF8000003C00FFFF8000001C00FFFF8000001C00352E7EAD3A>I<
00003FF800000003FFFF8000000FF01FE000003F8003F800007E0000FC0001FC00007F0003F800
003F8007F000001FC007F000001FC00FE000000FE01FE000000FF01FC0000007F03FC0000007F8
3FC0000007F87FC0000007FC7F80000003FC7F80000003FC7F80000003FCFF80000003FEFF8000
0003FEFF80000003FEFF80000003FEFF80000003FEFF80000003FEFF80000003FEFF80000003FE
FF80000003FEFF80000003FE7F80000003FC7F80000003FC7FC0000007FC7FC0000007FC3FC000
0007F83FC0000007F81FE000000FF01FE000000FF00FF000001FE00FF000001FE007F800003FC0
03FC00007F8001FE0000FF0000FF0001FE00003F8003F800000FF01FE0000003FFFF800000003F
F800002F2E7CAD38>I<FFFFFFFF0000FFFFFFFFF000FFFFFFFFFC0001FF0007FE0001FF0000FF
0001FF00007F8001FF00003FC001FF00003FE001FF00001FE001FF00001FE001FF00001FF001FF
00001FF001FF00001FF001FF00001FF001FF00001FF001FF00001FF001FF00001FE001FF00001F
E001FF00003FE001FF00003FC001FF00007F8001FF0000FF0001FF0007FE0001FFFFFFF80001FF
FFFFC00001FF0000000001FF0000000001FF0000000001FF0000000001FF0000000001FF000000
0001FF0000000001FF0000000001FF0000000001FF0000000001FF0000000001FF0000000001FF
0000000001FF0000000001FF0000000001FF0000000001FF0000000001FF00000000FFFFFE0000
00FFFFFE000000FFFFFE0000002C2E7EAD33>I<FFFFFFFC000000FFFFFFFFC00000FFFFFFFFF8
000001FF0007FE000001FF0001FF000001FF00007F800001FF00003FC00001FF00003FE00001FF
00001FE00001FF00001FF00001FF00001FF00001FF00001FF00001FF00001FF00001FF00001FF0
0001FF00001FF00001FF00001FE00001FF00001FE00001FF00003FC00001FF00003FC00001FF00
007F000001FF0001FE000001FF000FF8000001FFFFFFE0000001FFFFFFC0000001FF001FF00000
01FF0007FC000001FF0003FE000001FF0001FF000001FF0001FF000001FF0000FF800001FF0000
FF800001FF0000FF800001FF0000FF800001FF0000FF800001FF0000FF800001FF0000FF800001
FF0000FF800001FF0000FF800001FF0000FF801001FF0000FF803801FF00007F803801FF00007F
C03801FF00003FC070FFFFFE001FE0E0FFFFFE0007FFC0FFFFFE0000FF80352E7EAD38>82
D<003FE0060001FFFC0E0003FFFF1E000FE01FFE001F0003FE003E0000FE003E00007E007C0000
3E007C00001E00FC00001E00FC00001E00FC00000E00FE00000E00FE00000E00FF00000000FFC0
0000007FF80000007FFF8000007FFFFC00003FFFFF80001FFFFFC0000FFFFFF00007FFFFF80003
FFFFFC0000FFFFFC00001FFFFE000001FFFF0000000FFF00000001FF000000007F800000007F80
0000003F806000001F80E000001F80E000001F80E000001F80F000001F00F000001F00F800003F
00F800003E00FE00007C00FF8000F800FFF003F000F3FFFFE000E07FFF8000C00FFE0000212E7C
AD2A>I<7FFFFFFFFFF07FFFFFFFFFF07FFFFFFFFFF07F803FE00FF07E003FE003F07C003FE001
F078003FE000F070003FE00070F0003FE00078F0003FE00078F0003FE00078E0003FE00038E000
3FE00038E0003FE00038E0003FE00038E0003FE0003800003FE0000000003FE0000000003FE000
0000003FE0000000003FE0000000003FE0000000003FE0000000003FE0000000003FE000000000
3FE0000000003FE0000000003FE0000000003FE0000000003FE0000000003FE0000000003FE000
0000003FE0000000003FE0000000003FE0000000003FE0000000003FE0000000003FE000000000
3FE0000000003FE0000000003FE0000000003FE0000000FFFFFFF80000FFFFFFF80000FFFFFFF8
002D2D7DAC34>I<FFFFFE001FFFF0FFFFFE001FFFF0FFFFFE001FFFF001FF000000380001FF00
0000380001FF000000380001FF000000380001FF000000380001FF000000380001FF0000003800
01FF000000380001FF000000380001FF000000380001FF000000380001FF000000380001FF0000
00380001FF000000380001FF000000380001FF000000380001FF000000380001FF000000380001
FF000000380001FF000000380001FF000000380001FF000000380001FF000000380001FF000000
380001FF000000380001FF000000380001FF000000380001FF000000380001FF000000380001FF
000000380001FF000000380000FF000000380000FF000000700000FF8000007000007F800000E0
00003F800000E000001FC00001C000000FE0000780000007F8000F00000003FE00FE00000000FF
FFFC000000003FFFF00000000003FF000000342E7EAD39>I<FFFFF8000FFFE0FFFFF8000FFFE0
FFFFF8000FFFE003FE000000380003FF000000780001FF000000700001FF800000700000FF8000
00E00000FF800000E00000FFC00001E000007FC00001C000007FE00001C000003FE00003800000
3FF000038000003FF000078000001FF000070000001FF8000F0000000FF8000E0000000FFC000E
00000007FC001C00000007FC001C00000007FE003C00000003FE003800000003FF007800000001
FF007000000001FF807000000000FF80E000000000FF80E000000000FFC1E0000000007FC1C000
0000007FE3C0000000003FE380000000003FF380000000001FF700000000001FF700000000001F
FF00000000000FFE00000000000FFE000000000007FC000000000007FC000000000003F8000000
000003F8000000000003F8000000000001F0000000000001F0000000000000E0000000332E7EAD
38>I<FFFFFC1FFFFF003FFFC0FFFFFC1FFFFF003FFFC0FFFFFC1FFFFF003FFFC003FF00007FC0
0000F00001FF00007FE00000E00001FF00003FE00000E00001FF80003FE00001E00000FF80001F
F00001C00000FF80001FF00001C00000FFC0001FF80003C000007FC0001FF800038000007FE000
1FF800038000003FE0003FFC00070000003FE0003FFC00070000003FF0003FFC000F0000001FF0
0073FE000E0000001FF00073FE000E0000001FF80073FF001E0000000FF800E1FF001C0000000F
F800E1FF001C00000007FC01E1FF803800000007FC01C0FF803800000007FE01C0FF8078000000
03FE03C0FFC07000000003FE03807FC07000000003FF03807FE0F000000001FF07003FE0E00000
0001FF07003FE0E000000000FF8F003FF1C000000000FF8E001FF1C000000000FFCE001FF1C000
0000007FDE001FFB80000000007FDC000FFB80000000007FFC000FFF80000000003FF80007FF00
000000003FF80007FF00000000003FF80007FF00000000001FF00003FE00000000001FF00003FE
00000000000FF00003FC00000000000FE00001FC00000000000FE00001FC000000000007C00000
F8000000000007C00000F8000000000007C00000F8000000000003800000700000004A2E7FAD4D
>I<0180018003800380060006000C000C000C000C001800180030003000300030006000600060
00600060006000C000C000C000C000CF00CF00DF80DF80FFC0FFC0FFE0FFE0FFE0FFE07FE07FE0
7FE07FE03FC03FC01F801F800F000F001B1777AD27>92 D<00FFE0000003FFF800000F807E0000
0FC03F00001FE01F80001FE01FC0001FE00FC0000FC00FE00007800FE00000000FE00000000FE0
0000000FE00000007FE000003FFFE00001FFCFE00007F80FE0000FE00FE0001F800FE0003F000F
E0007F000FE000FE000FE000FE000FE000FE000FE000FE000FE000FE001FE0007F001FE0003F00
37F0001FC0E7FF800FFFC3FF8001FF00FF80211E7E9D24>97 D<03F0000000FFF0000000FFF000
0000FFF000000007F000000007F000000007F000000007F000000007F000000007F000000007F0
00000007F000000007F000000007F000000007F000000007F000000007F07F800007F1FFF00007
F780FC0007FE003E0007FC001F0007F8001F8007F0000FC007F0000FE007F00007F007F00007F0
07F00007F007F00007F807F00007F807F00007F807F00007F807F00007F807F00007F807F00007
F807F00007F807F00007F007F00007F007F0000FE007F0000FE007F0000FC007F8001F8007FC00
1F0007EE007E0007C781FC000783FFF00007007F8000252E7EAD2A>I<000FFC00007FFF0001F8
07C007E00FC00FC01FE01FC01FE01F801FE03F800FC07F8007807F0000007F000000FF000000FF
000000FF000000FF000000FF000000FF000000FF000000FF0000007F0000007F0000007F800000
3F8000701F8000701FC000E00FC000E007E003C001F80F80007FFE00000FF0001C1E7E9D21>I<
0000003F0000000FFF0000000FFF0000000FFF000000007F000000007F000000007F000000007F
000000007F000000007F000000007F000000007F000000007F000000007F000000007F00000000
7F00000FF87F00007FFE7F0001FC0F7F0003F003FF0007C000FF000FC0007F001F80007F003F80
007F003F80007F007F00007F007F00007F00FF00007F00FF00007F00FF00007F00FF00007F00FF
00007F00FF00007F00FF00007F00FF00007F007F00007F007F00007F007F00007F003F80007F00
1F80007F000FC000FF0007C001FF0003E003FF0001F80F7FF8007FFC7FF8000FF07FF8252E7EAD
2A>I<001FF00000FFFE0001F83F0007E00F800FC007C01F8007E01F8003E03F8003F07F0003F0
7F0001F87F0001F8FF0001F8FF0001F8FFFFFFF8FFFFFFF8FF000000FF000000FF000000FF0000
007F0000007F0000007F8000003F8000381F8000380FC0007007C000E003E001E001FC0F80007F
FF00000FF8001D1E7E9D22>I<0003FC00001FFE00003F0F00007E1F8000FC3FC001FC3FC003F8
3FC003F81F8003F80F0003F8060003F8000003F8000003F8000003F8000003F8000003F80000FF
FFF000FFFFF000FFFFF00003F8000003F8000003F8000003F8000003F8000003F8000003F80000
03F8000003F8000003F8000003F8000003F8000003F8000003F8000003F8000003F8000003F800
0003F8000003F8000003F8000003F8000003F8000003F8000003F800007FFFE0007FFFE0007FFF
E0001A2E7EAD17>I<003FC03E0001FFF9FF0003F0FFCF8007C03E1F800FC03F0F801F801F8700
1F801F80003F801FC0003F801FC0003F801FC0003F801FC0003F801FC0003F801FC0001F801F80
001F801F80000FC03F000007C03E000007F0FC00000FFFF800000C3FC000001C000000001C0000
00001C000000001E000000001F000000001FFFFE00000FFFFFC0000FFFFFF00007FFFFF80003FF
FFFC000FFFFFFE003E0001FE007C00003F007800001F00F800001F00F800001F00F800001F00F8
00001F007C00003E003E00007C001F0000F8000FE007F00003FFFFC000003FFC0000212C7E9D25
>I<03F0000000FFF0000000FFF0000000FFF000000007F000000007F000000007F000000007F0
00000007F000000007F000000007F000000007F000000007F000000007F000000007F000000007
F000000007F01FC00007F07FF00007F1E0F80007F380FC0007F6007E0007FC007E0007FC007F00
07F8007F0007F8007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F
0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F000
7F0007F0007F0007F0007F0007F0007F0007F0007F00FFFF8FFFF8FFFF8FFFF8FFFF8FFFF8252E
7DAD2A>I<03C00FE01FF01FF01FF81FF81FF01FF00FE003C00000000000000000000000000000
03F07FF07FF07FF007F007F007F007F007F007F007F007F007F007F007F007F007F007F007F007
F007F007F007F007F007F007F007F0FFFFFFFFFFFF102F7EAE14>I<03F0000000FFF0000000FF
F0000000FFF000000007F000000007F000000007F000000007F000000007F000000007F0000000
07F000000007F000000007F000000007F000000007F000000007F000000007F00FFF8007F00FFF
8007F00FFF8007F001F00007F001C00007F007800007F00F000007F01E000007F03C000007F078
000007F0F0000007F1E0000007F3F0000007F7F8000007FFFC000007FDFC000007F8FE000007F0
7F000007E03F000007E03F800007E01FC00007E00FE00007E00FE00007E007F00007E003F80007
E001F80007E001FC00FFFF0FFFE0FFFF0FFFE0FFFF0FFFE0232E7EAD27>107
D<03F000FFF000FFF000FFF00007F00007F00007F00007F00007F00007F00007F00007F00007F0
0007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F0
0007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F0
0007F00007F00007F00007F000FFFF80FFFF80FFFF80112E7EAD14>I<03E01FC001FC0000FFE0
7FF007FF0000FFE1E0F81E0F8000FFE380FC380FC00007E6007E6007E00007EC007EC007E00007
EC007FC007F00007F8007F8007F00007F8007F8007F00007F0007F0007F00007F0007F0007F000
07F0007F0007F00007F0007F0007F00007F0007F0007F00007F0007F0007F00007F0007F0007F0
0007F0007F0007F00007F0007F0007F00007F0007F0007F00007F0007F0007F00007F0007F0007
F00007F0007F0007F00007F0007F0007F00007F0007F0007F00007F0007F0007F00007F0007F00
07F00007F0007F0007F000FFFF8FFFF8FFFF80FFFF8FFFF8FFFF80FFFF8FFFF8FFFF80391E7D9D
3E>I<03E01FC000FFE07FF000FFE1E0F800FFE380FC0007E6007E0007EC007E0007EC007F0007
F8007F0007F8007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F00
07F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F
0007F0007F0007F0007F0007F0007F0007F0007F00FFFF8FFFF8FFFF8FFFF8FFFF8FFFF8251E7D
9D2A>I<001FF80000FFFF0003F81FC007E007E00FC003F01F8001F83F8001FC3F8001FC7F0000
FE7F0000FE7F0000FEFF0000FFFF0000FFFF0000FFFF0000FFFF0000FFFF0000FFFF0000FFFF00
00FF7F0000FE7F0000FE7F0000FE3F8001FC3F8001FC1F8001F80FC003F007E007E003F81FC000
FFFF00001FF800201E7E9D25>I<03F07F8000FFF1FFF000FFF781FC00FFFE007E0007FC003F00
07F8001F8007F0001FC007F0000FE007F0000FF007F0000FF007F00007F007F00007F807F00007
F807F00007F807F00007F807F00007F807F00007F807F00007F807F00007F807F00007F007F000
0FF007F0000FE007F0000FE007F0001FC007F8001F8007FC003F0007FE007E0007F781FC0007F3
FFF00007F07F800007F000000007F000000007F000000007F000000007F000000007F000000007
F000000007F000000007F000000007F0000000FFFF800000FFFF800000FFFF800000252B7E9D2A
>I<000FF00E00007FFC1E0001FC1E3E0003F0073E0007E003FE000FC001FE001FC001FE003F80
00FE007F8000FE007F8000FE007F0000FE00FF0000FE00FF0000FE00FF0000FE00FF0000FE00FF
0000FE00FF0000FE00FF0000FE00FF0000FE007F0000FE007F8000FE007F8000FE003F8000FE00
1FC001FE001FC001FE000FE003FE0007F007FE0001F81EFE00007FF8FE00001FE0FE00000000FE
00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE00000000
FE00000000FE0000001FFFF000001FFFF000001FFFF0242B7E9D27>I<03E0FC00FFE1FF00FFE3
0F80FFE61F8007EC3FC007EC3FC007F83FC007F81F8007F80F0007F8000007F0000007F0000007
F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F00000
07F0000007F0000007F0000007F0000007F00000FFFFC000FFFFC000FFFFC0001A1E7E9D1F>I<
01FF0C0FFFFC1E01FC38007C70003C70001CF0001CF0001CF8001CFC0000FFC0007FFF007FFFC0
3FFFF00FFFF807FFFC01FFFE000FFE00007F60003FE0001FE0000FF0000FF0000FF8000EF8001E
FE001CFF80F8E3FFE0C0FF80181E7E9D1D>I<0038000038000038000038000078000078000078
0000F80000F80001F80003F80007F8001FFFFCFFFFFCFFFFFC03F80003F80003F80003F80003F8
0003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80E03F80E03F8
0E03F80E03F80E03F80E03F80E01F81C00FC1C007C38003FF0000FE0172A7FA91D>I<03F0003F
00FFF00FFF00FFF00FFF00FFF00FFF0007F0007F0007F0007F0007F0007F0007F0007F0007F000
7F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0
007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F000FF0007
F000FF0003F001FF0001F0037F0000FC0E7FF8007FFC7FF8001FF07FF8251E7D9D2A>I<FFFE01
FFC0FFFE01FFC0FFFE01FFC00FE0001C000FF0003C0007F000380007F800780003F800700003F8
00700001FC00E00001FC00E00001FE01E00000FE01C00000FF03C000007F038000007F03800000
3F870000003F870000003FCF0000001FCE0000001FFE0000000FFC0000000FFC00000007F80000
0007F800000007F800000003F000000003F000000001E000000001E00000221E7E9D27>I<FFFE
1FFF81FFE0FFFE1FFF81FFE0FFFE1FFF81FFE007F001F8001C0007F001F8001C0007F800FC003C
0003F800FC00380003F801FE00380001FC01FE00700001FC01FE00700001FC03BF00F00000FE03
BF00E00000FE07BF00E00000FF071F81E000007F071F81C000007F0F1FC1C000003F8E0FC38000
003F8E0FC38000003FDC07E78000001FDC07E70000001FFC07F70000000FF803FE0000000FF803
FE0000000FF001FE00000007F001FC00000007F001FC00000007E000FC00000003E000F8000000
03E000F800000001C000700000331E7F9D36>I<FFFE03FFE0FFFE03FFE0FFFE03FFE003F80078
0003FC00F00001FC01E00000FE03C000007F038000007F878000003FCF0000001FDE0000000FFC
00000007F800000007F800000003F800000001FC00000003FE00000007FF000000077F8000000F
3F8000001E1FC000003C0FE00000780FF00000F007F00000F003F80001E001FC0003C000FE00FF
F807FFF0FFF807FFF0FFF807FFF0241E7F9D27>I<7FFF00FFE07FFF00FFE07FFF00FFE007F000
0E0007F8001E0003F8001C0003FC003C0001FC00380001FC00380000FE00700000FE00700000FF
00F000007F00E000007F81E000003F81C000003F81C000001FC38000001FC38000001FE7800000
0FE70000000FFF00000007FE00000007FE00000003FC00000003FC00000003FC00000001F80000
0001F800000000F000000000F000000000E000000000E000000001E000000001C000003803C000
007C03800000FE03800000FE07000000FE0F000000FC1E000000783C0000003FF00000000FC000
0000232B7F9D27>I<3FFFFFE03FFFFFE03F801FC03E003F803C007F8038007F007800FE007001
FE007003FC007003F8007007F000000FF000000FE000001FC000003FC000007F8000007F000000
FE00E001FE00E001FC00E003F800E007F801E00FF001E00FE001C01FC003C03FC003C03F8007C0
7F003FC0FFFFFFC0FFFFFFC01B1E7E9D21>I E /Fq 46 122 df<0000000003FFFC0000003FFF
E000000000000000FFFFFF80000FFFFFFC0000000000000FFFFFFFF000FFFFFFFF000000000000
7FFFFFFFF803FFFFFFFFC00000000001FFFFFFFFFE1FFFFFFFFFE00000000007FFFF801FFF7FFF
F800FFF0000000000FFFF80001FFFFFF80001FF8000000003FFFC00000FFFFFC000007FC000000
007FFF000001FFFFF000001FFE00000000FFFC000003FFFFC000003FFF00000001FFF8000007FF
FF8000007FFF00000003FFF000000FFFFF0000007FFF80000007FFE000001FFFFE000000FFFF80
000007FFE000001FFFFE000000FFFF8000000FFFC000001FFFFC000000FFFF8000000FFFC00000
1FFFFC000001FFFFC000001FFFC000001FFFFC000001FFFF8000001FFF8000001FFFF8000000FF
FF8000001FFF8000001FFFF8000000FFFF8000001FFF8000001FFFF8000000FFFF8000001FFF80
00000FFFF80000007FFF0000001FFF80000007FFF80000007FFF0000001FFF80000003FFF80000
003FFE0000001FFF80000001FFF80000001FFC0000001FFF80000001FFF800000007F00000001F
FF80000001FFF800000000000000001FFF80000001FFF800000000000000001FFF80000001FFF8
00000000000000001FFF80000001FFF800000000000000001FFF80000001FFF800000000000000
001FFF80000001FFF800000000000000001FFF80000001FFF800000000000000001FFF80000001
FFF800000000000000001FFF80000001FFF800000000000000001FFF80000001FFF800007FFFFF
C000FFFFFFFFFFFFFFFFFFFFFFFFFFFFC000FFFFFFFFFFFFFFFFFFFFFFFFFFFFC000FFFFFFFFFF
FFFFFFFFFFFFFFFFFFC000FFFFFFFFFFFFFFFFFFFFFFFFFFFFC000FFFFFFFFFFFFFFFFFFFFFFFF
FFFFC000FFFFFFFFFFFFFFFFFFFFFFFFFFFFC000FFFFFFFFFFFFFFFFFFFFFFFFFFFFC000001FFF
C0000001FFFC0000003FFFC000001FFFC0000001FFFC0000001FFFC000001FFFC0000001FFFC00
00001FFFC000001FFFC0000001FFFC0000001FFFC000001FFFC0000001FFFC0000001FFFC00000
1FFFC0000001FFFC0000001FFFC000001FFFC0000001FFFC0000001FFFC000001FFFC0000001FF
FC0000001FFFC000001FFFC0000001FFFC0000001FFFC000001FFFC0000001FFFC0000001FFFC0
00001FFFC0000001FFFC0000001FFFC000001FFFC0000001FFFC0000001FFFC000001FFFC00000
01FFFC0000001FFFC000001FFFC0000001FFFC0000001FFFC000001FFFC0000001FFFC0000001F
FFC000001FFFC0000001FFFC0000001FFFC000001FFFC0000001FFFC0000001FFFC000001FFFC0
000001FFFC0000001FFFC000001FFFC0000001FFFC0000001FFFC000001FFFC0000001FFFC0000
001FFFC000001FFFC0000001FFFC0000001FFFC000001FFFC0000001FFFC0000001FFFC000001F
FFC0000001FFFC0000001FFFC000001FFFC0000001FFFC0000001FFFC000001FFFC0000001FFFC
0000001FFFC000001FFFC0000001FFFC0000001FFFC000001FFFC0000001FFFC0000001FFFC000
001FFFC0000001FFFC0000001FFFC000001FFFC0000001FFFC0000001FFFC000001FFFC0000001
FFFC0000001FFFC000001FFFC0000001FFFC0000001FFFC000001FFFC0000001FFFC0000001FFF
C000001FFFC0000001FFFC0000001FFFC000001FFFC0000001FFFC0000001FFFC000001FFFC000
0001FFFC0000001FFFC000001FFFC0000001FFFC0000001FFFC000001FFFC0000001FFFC000000
1FFFC000001FFFC0000001FFFC0000001FFFC000001FFFC0000001FFFC0000001FFFC000001FFF
C0000001FFFC0000001FFFC000001FFFC0000001FFFC0000001FFFC000001FFFC0000001FFFC00
00001FFFC000001FFFC0000001FFFC0000001FFFC000001FFFC0000001FFFC0000001FFFC00000
1FFFC0000001FFFC0000001FFFC000001FFFC0000001FFFC0000001FFFC000001FFFC0000001FF
FC0000001FFFC0007FFFFFFFF007FFFFFFFF007FFFFFFFF07FFFFFFFF007FFFFFFFF007FFFFFFF
F07FFFFFFFF007FFFFFFFF007FFFFFFFF07FFFFFFFF007FFFFFFFF007FFFFFFFF07FFFFFFFF007
FFFFFFFF007FFFFFFFF07FFFFFFFF007FFFFFFFF007FFFFFFFF07FFFFFFFF007FFFFFFFF007FFF
FFFFF07C607DDF84>14 D<01FC0007FF000FFF801FFFC03FFFE07FFFF07FFFF8FFFFF8FFFFFCFF
FFFCFFFFFCFFFFFCFFFFFEFFFFFE7FFFFE7FFFFE3FFFFE1FFFFE0FFFBE07FF3E01FC3E00003E00
007E00007C00007C00007C00007C0000FC0000F80001F80001F80001F00003F00003E00007E000
0FC0000FC0001F80003F00007F00007E0001FC0003F80007F0000FE0000FC0000F800007000017
3075942C>44 D<FFFFFFFFFF80FFFFFFFFFF80FFFFFFFFFF80FFFFFFFFFF80FFFFFFFFFF80FFFF
FFFFFF80FFFFFFFFFF80FFFFFFFFFF80FFFFFFFFFF80FFFFFFFFFF80FFFFFFFFFF80FFFFFFFFFF
80FFFFFFFFFF80FFFFFFFFFF80290E7EA435>I<01FC0007FF000FFF801FFFC03FFFE07FFFF07F
FFF0FFFFF8FFFFF8FFFFF8FFFFF8FFFFF8FFFFF8FFFFF87FFFF07FFFF03FFFE01FFFC00FFF8007
FF0001FC00151575942C>I<0000001FFE00000000000003FFFFF000000000001FFFFFFE000000
00007FFFFFFF8000000001FFFFFFFFE000000003FFF807FFF00000000FFFE001FFFC0000001FFF
80007FFE0000003FFF00003FFF0000007FFE00001FFF800000FFFC00000FFFC00000FFF8000007
FFC00001FFF8000007FFE00003FFF0000003FFF00003FFF0000003FFF00007FFE0000001FFF800
07FFE0000001FFF8000FFFE0000001FFFC000FFFE0000001FFFC000FFFE0000001FFFC001FFFE0
000001FFFE001FFFE0000001FFFE001FFFC0000000FFFE003FFFC0000000FFFF003FFFC0000000
FFFF003FFFC0000000FFFF003FFFC0000000FFFF007FFFC0000000FFFF807FFFC0000000FFFF80
7FFFC0000000FFFF807FFFC0000000FFFF807FFFC0000000FFFF807FFFC0000000FFFF807FFFC0
000000FFFF80FFFFC0000000FFFFC0FFFFC0000000FFFFC0FFFFC0000000FFFFC0FFFFC0000000
FFFFC0FFFFC0000000FFFFC0FFFFC0000000FFFFC0FFFFC0000000FFFFC0FFFFC0000000FFFFC0
FFFFC0000000FFFFC0FFFFC0000000FFFFC0FFFFC0000000FFFFC0FFFFC0000000FFFFC0FFFFC0
000000FFFFC0FFFFC0000000FFFFC0FFFFC0000000FFFFC0FFFFC0000000FFFFC0FFFFC0000000
FFFFC0FFFFC0000000FFFFC0FFFFC0000000FFFFC0FFFFC0000000FFFFC0FFFFC0000000FFFFC0
FFFFC0000000FFFFC0FFFFC0000000FFFFC0FFFFC0000000FFFFC07FFFC0000000FFFF807FFFC0
000000FFFF807FFFC0000000FFFF807FFFC0000000FFFF807FFFC0000000FFFF807FFFC0000000
FFFF807FFFC0000000FFFF803FFFC0000000FFFF003FFFC0000000FFFF003FFFE0000001FFFF00
3FFFE0000001FFFF001FFFE0000001FFFE001FFFE0000001FFFE001FFFE0000001FFFE000FFFE0
000001FFFC000FFFE0000001FFFC0007FFE0000001FFF80007FFF0000003FFF80003FFF0000003
FFF00003FFF0000003FFF00001FFF8000007FFE00000FFF8000007FFC00000FFFC00000FFFC000
007FFE00001FFF8000003FFF00003FFF0000001FFF80007FFE0000000FFFE001FFFC00000007FF
F807FFF800000001FFFFFFFFE0000000007FFFFFFF80000000001FFFFFFE000000000003FFFFF0
0000000000003FFF00000000425B7AD94F>48 D<00000000F8000000000001FC000000000007FC
00000000001FFC00000000007FFC0000000001FFFC000000000FFFFC00000000FFFFFC0000007F
FFFFFC0000FFFFFFFFFC0000FFFFFFFFFC0000FFFFFFFFFC0000FFFFFFFFFC0000FFFFF7FFFC00
00FFFF07FFFC0000FF8007FFFC0000000007FFFC0000000007FFFC0000000007FFFC0000000007
FFFC0000000007FFFC0000000007FFFC0000000007FFFC0000000007FFFC0000000007FFFC0000
000007FFFC0000000007FFFC0000000007FFFC0000000007FFFC0000000007FFFC0000000007FF
FC0000000007FFFC0000000007FFFC0000000007FFFC0000000007FFFC0000000007FFFC000000
0007FFFC0000000007FFFC0000000007FFFC0000000007FFFC0000000007FFFC0000000007FFFC
0000000007FFFC0000000007FFFC0000000007FFFC0000000007FFFC0000000007FFFC00000000
07FFFC0000000007FFFC0000000007FFFC0000000007FFFC0000000007FFFC0000000007FFFC00
00000007FFFC0000000007FFFC0000000007FFFC0000000007FFFC0000000007FFFC0000000007
FFFC0000000007FFFC0000000007FFFC0000000007FFFC0000000007FFFC0000000007FFFC0000
000007FFFC0000000007FFFC0000000007FFFC0000000007FFFC0000000007FFFC0000000007FF
FC0000000007FFFC0000000007FFFC0000000007FFFC0000000007FFFC0000000007FFFC000000
0007FFFC0000000007FFFC0000000007FFFC0000000007FFFC0000000007FFFC0000000007FFFC
0000000007FFFC0000000007FFFC00003FFFFFFFFFFFFF3FFFFFFFFFFFFF3FFFFFFFFFFFFF3FFF
FFFFFFFFFF3FFFFFFFFFFFFF3FFFFFFFFFFFFF3FFFFFFFFFFFFF385A75D94F>I<000000000000
3F800000000000000000000000007FC00000000000000000000000007FC0000000000000000000
000000FFE0000000000000000000000000FFE0000000000000000000000001FFF0000000000000
000000000001FFF0000000000000000000000001FFF0000000000000000000000003FFF8000000
000000000000000003FFF8000000000000000000000007FFFC000000000000000000000007FFFC
000000000000000000000007FFFC00000000000000000000000FFFFE0000000000000000000000
0FFFFE00000000000000000000001FFFFF00000000000000000000001FFFFF0000000000000000
0000003FFFFF80000000000000000000003FFFFF80000000000000000000003FFFFF8000000000
0000000000007FFFFFC0000000000000000000007FFFFFC000000000000000000000FFFFFFE000
000000000000000000FFFFFFE000000000000000000000FFFFFFE000000000000000000001FFFF
FFF000000000000000000001FDFFFFF000000000000000000003FCFFFFF8000000000000000000
03F8FFFFF800000000000000000007F87FFFFC00000000000000000007F87FFFFC000000000000
00000007F03FFFFC0000000000000000000FF03FFFFE0000000000000000000FE03FFFFE000000
0000000000001FE01FFFFF0000000000000000001FE01FFFFF0000000000000000001FC00FFFFF
0000000000000000003FC00FFFFF8000000000000000003F800FFFFF8000000000000000007F80
07FFFFC000000000000000007F8007FFFFC000000000000000007F0003FFFFC000000000000000
00FF0003FFFFE00000000000000000FE0003FFFFE00000000000000001FE0001FFFFF000000000
00000001FC0001FFFFF00000000000000003FC0000FFFFF80000000000000003FC0000FFFFF800
00000000000003F800007FFFF80000000000000007F800007FFFFC0000000000000007F000007F
FFFC000000000000000FF000003FFFFE000000000000000FF000003FFFFE000000000000000FE0
00001FFFFE000000000000001FE000001FFFFF000000000000001FC000001FFFFF000000000000
003FC000000FFFFF800000000000003F8000000FFFFF800000000000007F80000007FFFFC00000
000000007F80000007FFFFC00000000000007F00000003FFFFC0000000000000FF00000003FFFF
E0000000000000FFFFFFFFFFFFFFE0000000000001FFFFFFFFFFFFFFF0000000000001FFFFFFFF
FFFFFFF0000000000001FFFFFFFFFFFFFFF0000000000003FFFFFFFFFFFFFFF8000000000003FF
FFFFFFFFFFFFF8000000000007FFFFFFFFFFFFFFFC000000000007F0000000007FFFFC00000000
000FF0000000003FFFFE00000000000FF0000000003FFFFE00000000000FE0000000001FFFFE00
000000001FE0000000001FFFFF00000000001FC0000000001FFFFF00000000003FC0000000000F
FFFF80000000003FC0000000000FFFFF80000000003F800000000007FFFF80000000007F800000
000007FFFFC0000000007F000000000007FFFFC000000000FF000000000003FFFFE000000000FF
000000000003FFFFE000000000FE000000000001FFFFE000000001FE000000000001FFFFF00000
0001FC000000000001FFFFF000000003FC000000000000FFFFF800000003F8000000000000FFFF
F80000000FFF0000000000007FFFFC0000FFFFFFFFC000000FFFFFFFFFFFE0FFFFFFFFC000000F
FFFFFFFFFFE0FFFFFFFFC000000FFFFFFFFFFFE0FFFFFFFFC000000FFFFFFFFFFFE0FFFFFFFFC0
00000FFFFFFFFFFFE0FFFFFFFFC000000FFFFFFFFFFFE0FFFFFFFFC000000FFFFFFFFFFFE06B5F
7ADE78>65 D<FFFFFFFFFFFFFFFFE000000000FFFFFFFFFFFFFFFFFF00000000FFFFFFFFFFFFFF
FFFFF0000000FFFFFFFFFFFFFFFFFFFC000000FFFFFFFFFFFFFFFFFFFF000000FFFFFFFFFFFFFF
FFFFFFC00000FFFFFFFFFFFFFFFFFFFFF000000001FFFF80000003FFFFF800000001FFFF800000
007FFFFC00000001FFFF800000001FFFFE00000001FFFF800000000FFFFF00000001FFFF800000
0007FFFF80000001FFFF8000000003FFFF80000001FFFF8000000001FFFFC0000001FFFF800000
0001FFFFE0000001FFFF8000000000FFFFE0000001FFFF8000000000FFFFF0000001FFFF800000
00007FFFF0000001FFFF80000000007FFFF0000001FFFF80000000007FFFF8000001FFFF800000
00007FFFF8000001FFFF80000000007FFFF8000001FFFF80000000007FFFF8000001FFFF800000
00003FFFF8000001FFFF80000000003FFFF8000001FFFF80000000007FFFF8000001FFFF800000
00007FFFF8000001FFFF80000000007FFFF8000001FFFF80000000007FFFF0000001FFFF800000
00007FFFF0000001FFFF80000000007FFFF0000001FFFF8000000000FFFFE0000001FFFF800000
0000FFFFE0000001FFFF8000000001FFFFC0000001FFFF8000000001FFFF80000001FFFF800000
0003FFFF80000001FFFF8000000007FFFF00000001FFFF800000000FFFFE00000001FFFF800000
001FFFFC00000001FFFF800000003FFFF000000001FFFF80000000FFFFE000000001FFFF800000
07FFFF8000000001FFFF8000007FFFFE0000000001FFFFFFFFFFFFFFF00000000001FFFFFFFFFF
FFFF800000000001FFFFFFFFFFFFFFF00000000001FFFFFFFFFFFFFFFE0000000001FFFFFFFFFF
FFFFFFC000000001FFFF800000003FFFF000000001FFFF800000000FFFFC00000001FFFF800000
0003FFFE00000001FFFF8000000001FFFF80000001FFFF8000000000FFFFC0000001FFFF800000
00007FFFE0000001FFFF80000000007FFFF0000001FFFF80000000003FFFF8000001FFFF800000
00003FFFF8000001FFFF80000000001FFFFC000001FFFF80000000001FFFFE000001FFFF800000
00000FFFFE000001FFFF80000000000FFFFF000001FFFF80000000000FFFFF000001FFFF800000
00000FFFFF000001FFFF80000000000FFFFF000001FFFF800000000007FFFF800001FFFF800000
000007FFFF800001FFFF800000000007FFFF800001FFFF800000000007FFFF800001FFFF800000
000007FFFF800001FFFF800000000007FFFF800001FFFF800000000007FFFF800001FFFF800000
000007FFFF800001FFFF80000000000FFFFF800001FFFF80000000000FFFFF000001FFFF800000
00000FFFFF000001FFFF80000000000FFFFF000001FFFF80000000001FFFFE000001FFFF800000
00001FFFFE000001FFFF80000000003FFFFE000001FFFF80000000003FFFFC000001FFFF800000
00007FFFFC000001FFFF8000000000FFFFF8000001FFFF8000000001FFFFF0000001FFFF800000
0003FFFFE0000001FFFF800000000FFFFFC0000001FFFF800000003FFFFF80000001FFFF800000
01FFFFFF0000FFFFFFFFFFFFFFFFFFFFFE0000FFFFFFFFFFFFFFFFFFFFF80000FFFFFFFFFFFFFF
FFFFFFF00000FFFFFFFFFFFFFFFFFFFFC00000FFFFFFFFFFFFFFFFFFFE000000FFFFFFFFFFFFFF
FFFFF0000000FFFFFFFFFFFFFFFFFE00000000615E7ADD71>I<000000000003FFFC0000001C00
00000001FFFFFFC000003E000000001FFFFFFFFC00007E00000000FFFFFFFFFF0000FE00000007
FFFFFFFFFFC003FE0000001FFFFFFFFFFFF007FE0000007FFFFFFFFFFFF80FFE000001FFFFFFE0
01FFFE1FFE000007FFFFFC00001FFF3FFE00000FFFFFE0000003FFFFFE00001FFFFF00000000FF
FFFE00007FFFFC000000003FFFFE0000FFFFF0000000001FFFFE0001FFFFC00000000007FFFE00
03FFFF800000000003FFFE0007FFFF000000000001FFFE000FFFFE000000000000FFFE001FFFFC
0000000000007FFE003FFFF80000000000003FFE007FFFF00000000000003FFE007FFFE0000000
0000001FFE00FFFFE00000000000000FFE01FFFFC00000000000000FFE01FFFFC0000000000000
07FE03FFFF8000000000000007FE07FFFF8000000000000003FE07FFFF0000000000000003FE0F
FFFF0000000000000003FE0FFFFF0000000000000001FE1FFFFE0000000000000001FE1FFFFE00
00000000000001FE1FFFFE0000000000000000FE3FFFFC0000000000000000FE3FFFFC00000000
00000000FE3FFFFC0000000000000000FE7FFFFC00000000000000007C7FFFFC00000000000000
00007FFFFC0000000000000000007FFFF80000000000000000007FFFF8000000000000000000FF
FFF8000000000000000000FFFFF8000000000000000000FFFFF8000000000000000000FFFFF800
0000000000000000FFFFF8000000000000000000FFFFF8000000000000000000FFFFF800000000
0000000000FFFFF8000000000000000000FFFFF8000000000000000000FFFFF800000000000000
0000FFFFF8000000000000000000FFFFF8000000000000000000FFFFF8000000000000000000FF
FFF8000000000000000000FFFFF8000000000000000000FFFFF80000000000000000007FFFF800
00000000000000007FFFF80000000000000000007FFFFC0000000000000000007FFFFC00000000
00000000007FFFFC0000000000000000003FFFFC0000000000000000003FFFFC00000000000000
007C3FFFFC0000000000000000FE1FFFFE0000000000000000FE1FFFFE0000000000000000FE1F
FFFE0000000000000000FE0FFFFF0000000000000000FE0FFFFF0000000000000001FE07FFFF00
00000000000001FE07FFFF8000000000000001FC03FFFF8000000000000001FC01FFFFC0000000
00000003FC01FFFFC000000000000003F800FFFFE000000000000007F8007FFFE0000000000000
07F8007FFFF00000000000000FF0003FFFF80000000000000FE0001FFFFC0000000000001FE000
0FFFFE0000000000003FC00007FFFF0000000000007F800003FFFF800000000000FF800001FFFF
C00000000001FF000000FFFFF00000000007FE0000007FFFFC000000000FFC0000001FFFFF0000
00003FF80000000FFFFFE0000001FFF000000007FFFFFC00000FFFC000000001FFFFFFE000FFFF
80000000007FFFFFFFFFFFFE00000000001FFFFFFFFFFFFC000000000007FFFFFFFFFFF0000000
000000FFFFFFFFFFC00000000000001FFFFFFFFE0000000000000001FFFFFFF000000000000000
0003FFFE000000005F6077DE72>I<FFFFFFFFFFFFFFFF800000000000FFFFFFFFFFFFFFFFFE00
00000000FFFFFFFFFFFFFFFFFFC000000000FFFFFFFFFFFFFFFFFFF800000000FFFFFFFFFFFFFF
FFFFFF00000000FFFFFFFFFFFFFFFFFFFFC0000000FFFFFFFFFFFFFFFFFFFFF00000000001FFFF
C000001FFFFFF80000000001FFFFC0000000FFFFFE0000000001FFFFC00000001FFFFF00000000
01FFFFC000000007FFFF8000000001FFFFC000000001FFFFC000000001FFFFC0000000007FFFF0
00000001FFFFC0000000003FFFF800000001FFFFC0000000001FFFF800000001FFFFC000000000
0FFFFC00000001FFFFC00000000007FFFE00000001FFFFC00000000003FFFF00000001FFFFC000
00000001FFFF80000001FFFFC00000000001FFFF80000001FFFFC00000000000FFFFC0000001FF
FFC000000000007FFFC0000001FFFFC000000000007FFFE0000001FFFFC000000000003FFFF000
0001FFFFC000000000003FFFF0000001FFFFC000000000003FFFF8000001FFFFC000000000001F
FFF8000001FFFFC000000000001FFFF8000001FFFFC000000000001FFFFC000001FFFFC0000000
00001FFFFC000001FFFFC000000000000FFFFC000001FFFFC000000000000FFFFE000001FFFFC0
00000000000FFFFE000001FFFFC000000000000FFFFE000001FFFFC000000000000FFFFF000001
FFFFC000000000000FFFFF000001FFFFC000000000000FFFFF000001FFFFC0000000000007FFFF
000001FFFFC0000000000007FFFF000001FFFFC0000000000007FFFF000001FFFFC00000000000
07FFFF800001FFFFC0000000000007FFFF800001FFFFC0000000000007FFFF800001FFFFC00000
00000007FFFF800001FFFFC0000000000007FFFF800001FFFFC0000000000007FFFF800001FFFF
C0000000000007FFFF800001FFFFC0000000000007FFFF800001FFFFC0000000000007FFFF8000
01FFFFC0000000000007FFFF800001FFFFC0000000000007FFFF800001FFFFC0000000000007FF
FF800001FFFFC0000000000007FFFF800001FFFFC0000000000007FFFF800001FFFFC000000000
0007FFFF800001FFFFC0000000000007FFFF000001FFFFC0000000000007FFFF000001FFFFC000
0000000007FFFF000001FFFFC000000000000FFFFF000001FFFFC000000000000FFFFF000001FF
FFC000000000000FFFFF000001FFFFC000000000000FFFFE000001FFFFC000000000000FFFFE00
0001FFFFC000000000000FFFFE000001FFFFC000000000000FFFFC000001FFFFC000000000001F
FFFC000001FFFFC000000000001FFFFC000001FFFFC000000000001FFFF8000001FFFFC0000000
00001FFFF8000001FFFFC000000000003FFFF0000001FFFFC000000000003FFFF0000001FFFFC0
00000000007FFFE0000001FFFFC000000000007FFFE0000001FFFFC00000000000FFFFC0000001
FFFFC00000000000FFFFC0000001FFFFC00000000001FFFF80000001FFFFC00000000003FFFF00
000001FFFFC00000000003FFFF00000001FFFFC00000000007FFFE00000001FFFFC0000000000F
FFFC00000001FFFFC0000000003FFFF800000001FFFFC0000000007FFFF000000001FFFFC00000
0001FFFFE000000001FFFFC000000003FFFFC000000001FFFFC00000001FFFFF8000000001FFFF
C0000000FFFFFE0000000001FFFFC000001FFFFFFC000000FFFFFFFFFFFFFFFFFFFFF0000000FF
FFFFFFFFFFFFFFFFFFC0000000FFFFFFFFFFFFFFFFFFFF00000000FFFFFFFFFFFFFFFFFFFC0000
0000FFFFFFFFFFFFFFFFFFE000000000FFFFFFFFFFFFFFFFFE0000000000FFFFFFFFFFFFFFFFC0
0000000000695E7ADD79>I<FFFFFFFFFFFFFFFFFFFFF000FFFFFFFFFFFFFFFFFFFFF000FFFFFF
FFFFFFFFFFFFFFF000FFFFFFFFFFFFFFFFFFFFF000FFFFFFFFFFFFFFFFFFFFF800FFFFFFFFFFFF
FFFFFFFFF800FFFFFFFFFFFFFFFFFFFFF8000001FFFFE0000007FFFFF8000001FFFFE00000003F
FFF8000001FFFFE000000007FFF8000001FFFFE000000001FFF8000001FFFFE000000000FFF800
0001FFFFE0000000007FF8000001FFFFE0000000003FFC000001FFFFE0000000001FFC000001FF
FFE0000000000FFC000001FFFFE00000000007FC000001FFFFE00000000007FC000001FFFFE000
00000003FC000001FFFFE00000000003FC000001FFFFE00000000003FC000001FFFFE000000000
01FE000001FFFFE00000000001FE000001FFFFE00000000001FE000001FFFFE00000000000FE00
0001FFFFE00001FC0000FE000001FFFFE00001FC0000FE000001FFFFE00001FC0000FE000001FF
FFE00001FC0000FE000001FFFFE00001FC0000FE000001FFFFE00001FC00007F000001FFFFE000
01FC00007F000001FFFFE00001FC00007F000001FFFFE00003FC00007F000001FFFFE00003FC00
0000000001FFFFE00003FC000000000001FFFFE00007FC000000000001FFFFE0000FFC00000000
0001FFFFE0001FFC000000000001FFFFE0003FFC000000000001FFFFE001FFFC000000000001FF
FFFFFFFFFC000000000001FFFFFFFFFFFC000000000001FFFFFFFFFFFC000000000001FFFFFFFF
FFFC000000000001FFFFFFFFFFFC000000000001FFFFFFFFFFFC000000000001FFFFFFFFFFFC00
0000000001FFFFE001FFFC000000000001FFFFE0003FFC000000000001FFFFE0001FFC00000000
0001FFFFE0000FFC000000000001FFFFE00007FC000000000001FFFFE00003FC000000000001FF
FFE00003FC000000000001FFFFE00003FC000003F80001FFFFE00001FC000003F80001FFFFE000
01FC000003F80001FFFFE00001FC000007F00001FFFFE00001FC000007F00001FFFFE00001FC00
0007F00001FFFFE00001FC000007F00001FFFFE00001FC000007F00001FFFFE00001FC00000FF0
0001FFFFE000000000000FE00001FFFFE000000000000FE00001FFFFE000000000000FE00001FF
FFE000000000001FE00001FFFFE000000000001FE00001FFFFE000000000001FE00001FFFFE000
000000003FE00001FFFFE000000000003FC00001FFFFE000000000003FC00001FFFFE000000000
007FC00001FFFFE000000000007FC00001FFFFE00000000000FFC00001FFFFE00000000001FFC0
0001FFFFE00000000001FF800001FFFFE00000000003FF800001FFFFE00000000007FF800001FF
FFE0000000000FFF800001FFFFE0000000003FFF800001FFFFE0000000007FFF800001FFFFE000
000003FFFF000001FFFFE00000000FFFFF000001FFFFE0000001FFFFFF00FFFFFFFFFFFFFFFFFF
FFFF00FFFFFFFFFFFFFFFFFFFFFF00FFFFFFFFFFFFFFFFFFFFFF00FFFFFFFFFFFFFFFFFFFFFF00
FFFFFFFFFFFFFFFFFFFFFE00FFFFFFFFFFFFFFFFFFFFFE00FFFFFFFFFFFFFFFFFFFFFE005D5D7A
DC68>I<FFFFFFFFFFFFFFFFFFFFC0FFFFFFFFFFFFFFFFFFFFC0FFFFFFFFFFFFFFFFFFFFC0FFFF
FFFFFFFFFFFFFFFFC0FFFFFFFFFFFFFFFFFFFFE0FFFFFFFFFFFFFFFFFFFFE0FFFFFFFFFFFFFFFF
FFFFE00001FFFFE000000FFFFFE00001FFFFE0000000FFFFE00001FFFFE00000001FFFE00001FF
FFE000000007FFE00001FFFFE000000003FFE00001FFFFE000000001FFE00001FFFFE000000000
FFF00001FFFFE0000000007FF00001FFFFE0000000003FF00001FFFFE0000000001FF00001FFFF
E0000000001FF00001FFFFE0000000000FF00001FFFFE0000000000FF00001FFFFE0000000000F
F00001FFFFE00000000007F80001FFFFE00000000007F80001FFFFE00000000007F80001FFFFE0
0000000003F80001FFFFE00000000003F80001FFFFE00000000003F80001FFFFE00003F80003F8
0001FFFFE00003F80003F80001FFFFE00003F80003F80001FFFFE00003F80001FC0001FFFFE000
03F80001FC0001FFFFE00003F80001FC0001FFFFE00003F80001FC0001FFFFE00003F800000000
01FFFFE00007F80000000001FFFFE00007F80000000001FFFFE00007F80000000001FFFFE0000F
F80000000001FFFFE0001FF80000000001FFFFE0003FF80000000001FFFFE0007FF80000000001
FFFFE003FFF80000000001FFFFFFFFFFF80000000001FFFFFFFFFFF80000000001FFFFFFFFFFF8
0000000001FFFFFFFFFFF80000000001FFFFFFFFFFF80000000001FFFFFFFFFFF80000000001FF
FFFFFFFFF80000000001FFFFE003FFF80000000001FFFFE0007FF80000000001FFFFE0003FF800
00000001FFFFE0001FF80000000001FFFFE0000FF80000000001FFFFE00007F80000000001FFFF
E00007F80000000001FFFFE00007F80000000001FFFFE00003F80000000001FFFFE00003F80000
000001FFFFE00003F80000000001FFFFE00003F80000000001FFFFE00003F80000000001FFFFE0
0003F80000000001FFFFE00003F80000000001FFFFE00003F80000000001FFFFE0000000000000
0001FFFFE00000000000000001FFFFE00000000000000001FFFFE00000000000000001FFFFE000
00000000000001FFFFE00000000000000001FFFFE00000000000000001FFFFE000000000000000
01FFFFE00000000000000001FFFFE00000000000000001FFFFE00000000000000001FFFFE00000
000000000001FFFFE00000000000000001FFFFE00000000000000001FFFFE00000000000000001
FFFFE00000000000000001FFFFE00000000000000001FFFFE00000000000000001FFFFE0000000
0000000001FFFFE0000000000000FFFFFFFFFFFFFC00000000FFFFFFFFFFFFFC00000000FFFFFF
FFFFFFFC00000000FFFFFFFFFFFFFC00000000FFFFFFFFFFFFFC00000000FFFFFFFFFFFFFC0000
0000FFFFFFFFFFFFFC00000000565D7ADC64>I<000000000003FFFE0000000E00000000000000
FFFFFFE000001F0000000000001FFFFFFFFC00003F000000000000FFFFFFFFFF80007F00000000
0003FFFFFFFFFFE001FF00000000001FFFFFFFFFFFF803FF00000000007FFFFFFFFFFFFC07FF00
00000001FFFFFFF000FFFF0FFF0000000003FFFFFC00000FFF9FFF000000000FFFFFE0000001FF
FFFF000000001FFFFF000000007FFFFF000000007FFFFC000000001FFFFF00000000FFFFF00000
00000FFFFF00000001FFFFE00000000003FFFF00000003FFFF800000000001FFFF00000007FFFF
000000000000FFFF0000000FFFFE0000000000007FFF0000001FFFFC0000000000003FFF000000
3FFFF80000000000001FFF0000007FFFF00000000000001FFF0000007FFFE00000000000000FFF
000000FFFFE000000000000007FF000001FFFFC000000000000007FF000001FFFFC00000000000
0003FF000003FFFF8000000000000003FF000007FFFF8000000000000001FF000007FFFF000000
0000000001FF00000FFFFF0000000000000001FF00000FFFFF0000000000000000FF00000FFFFE
0000000000000000FF00001FFFFE0000000000000000FF00001FFFFE0000000000000000FF0000
3FFFFC00000000000000007F00003FFFFC00000000000000007F00003FFFFC0000000000000000
7F00003FFFFC00000000000000003E00007FFFFC00000000000000000000007FFFFC0000000000
0000000000007FFFFC00000000000000000000007FFFF800000000000000000000007FFFF80000
000000000000000000FFFFF80000000000000000000000FFFFF80000000000000000000000FFFF
F80000000000000000000000FFFFF80000000000000000000000FFFFF800000000000000000000
00FFFFF80000000000000000000000FFFFF80000000000000000000000FFFFF800000000000000
00000000FFFFF80000000000000000000000FFFFF80000000000000000000000FFFFF800000000
00000000000000FFFFF80000000000000000000000FFFFF80000000000000000000000FFFFF800
000000000000000000007FFFF800000000000000000000007FFFF800000000FFFFFFFFFFFFE07F
FFFC00000000FFFFFFFFFFFFE07FFFFC00000000FFFFFFFFFFFFE07FFFFC00000000FFFFFFFFFF
FFE03FFFFC00000000FFFFFFFFFFFFE03FFFFC00000000FFFFFFFFFFFFE03FFFFC00000000FFFF
FFFFFFFFE03FFFFE0000000000000FFFFF00001FFFFE0000000000000FFFFF00001FFFFE000000
0000000FFFFF00000FFFFE0000000000000FFFFF00000FFFFF0000000000000FFFFF00000FFFFF
0000000000000FFFFF000007FFFF0000000000000FFFFF000007FFFF8000000000000FFFFF0000
03FFFF8000000000000FFFFF000001FFFFC000000000000FFFFF000001FFFFC000000000000FFF
FF000000FFFFE000000000000FFFFF0000007FFFF000000000000FFFFF0000007FFFF000000000
000FFFFF0000003FFFF800000000000FFFFF0000001FFFFC00000000000FFFFF0000000FFFFE00
000000000FFFFF00000007FFFF00000000000FFFFF00000003FFFFC0000000001FFFFF00000001
FFFFE0000000001FFFFF00000000FFFFF8000000003FFFFF000000007FFFFE000000003FFFFF00
0000001FFFFF800000007FFFFF000000000FFFFFF0000001FFFFFF0000000003FFFFFE000007FF
FFFF0000000001FFFFFFF8007FFE7FFF00000000007FFFFFFFFFFFFC1FFF00000000001FFFFFFF
FFFFF80FFF000000000003FFFFFFFFFFE003FF000000000000FFFFFFFFFF8000FF000000000000
1FFFFFFFFE00003F00000000000000FFFFFFF000000E0000000000000003FFFE0000000000006B
6077DE7D>I<FFFFFFFFFFFFF0FFFFFFFFFFFFF0FFFFFFFFFFFFF0FFFFFFFFFFFFF0FFFFFFFFFF
FFF0FFFFFFFFFFFFF0FFFFFFFFFFFFF00000FFFFF000000000FFFFF000000000FFFFF000000000
FFFFF000000000FFFFF000000000FFFFF000000000FFFFF000000000FFFFF000000000FFFFF000
000000FFFFF000000000FFFFF000000000FFFFF000000000FFFFF000000000FFFFF000000000FF
FFF000000000FFFFF000000000FFFFF000000000FFFFF000000000FFFFF000000000FFFFF00000
0000FFFFF000000000FFFFF000000000FFFFF000000000FFFFF000000000FFFFF000000000FFFF
F000000000FFFFF000000000FFFFF000000000FFFFF000000000FFFFF000000000FFFFF0000000
00FFFFF000000000FFFFF000000000FFFFF000000000FFFFF000000000FFFFF000000000FFFFF0
00000000FFFFF000000000FFFFF000000000FFFFF000000000FFFFF000000000FFFFF000000000
FFFFF000000000FFFFF000000000FFFFF000000000FFFFF000000000FFFFF000000000FFFFF000
000000FFFFF000000000FFFFF000000000FFFFF000000000FFFFF000000000FFFFF000000000FF
FFF000000000FFFFF000000000FFFFF000000000FFFFF000000000FFFFF000000000FFFFF00000
0000FFFFF000000000FFFFF000000000FFFFF000000000FFFFF000000000FFFFF000000000FFFF
F000000000FFFFF000000000FFFFF000000000FFFFF000000000FFFFF000000000FFFFF0000000
00FFFFF000000000FFFFF000000000FFFFF000000000FFFFF000000000FFFFF000000000FFFFF0
00000000FFFFF000000000FFFFF000000000FFFFF000000000FFFFF00000FFFFFFFFFFFFF0FFFF
FFFFFFFFF0FFFFFFFFFFFFF0FFFFFFFFFFFFF0FFFFFFFFFFFFF0FFFFFFFFFFFFF0FFFFFFFFFFFF
F0345E7CDD3C>73 D<FFFFFFFFFFFFFC00000000FFFFFFFFFFFFFC00000000FFFFFFFFFFFFFC00
000000FFFFFFFFFFFFFC00000000FFFFFFFFFFFFFC00000000FFFFFFFFFFFFFC00000000FFFFFF
FFFFFFFC000000000001FFFFE00000000000000001FFFFE00000000000000001FFFFE000000000
00000001FFFFE00000000000000001FFFFE00000000000000001FFFFE00000000000000001FFFF
E00000000000000001FFFFE00000000000000001FFFFE00000000000000001FFFFE00000000000
000001FFFFE00000000000000001FFFFE00000000000000001FFFFE00000000000000001FFFFE0
0000000000000001FFFFE00000000000000001FFFFE00000000000000001FFFFE0000000000000
0001FFFFE00000000000000001FFFFE00000000000000001FFFFE00000000000000001FFFFE000
00000000000001FFFFE00000000000000001FFFFE00000000000000001FFFFE000000000000000
01FFFFE00000000000000001FFFFE00000000000000001FFFFE00000000000000001FFFFE00000
000000000001FFFFE00000000000000001FFFFE00000000000000001FFFFE00000000000000001
FFFFE00000000000000001FFFFE00000000000000001FFFFE00000000000000001FFFFE0000000
0000000001FFFFE00000000000000001FFFFE00000000000000001FFFFE00000000000000001FF
FFE00000000000000001FFFFE00000000000000001FFFFE00000000000000001FFFFE000000000
00000001FFFFE00000000000000001FFFFE00000000000000001FFFFE00000000000000001FFFF
E00000000000000001FFFFE00000000000000001FFFFE00000000000000001FFFFE00000000000
000001FFFFE0000000003F800001FFFFE0000000003F800001FFFFE0000000003F800001FFFFE0
000000003F800001FFFFE0000000007F800001FFFFE0000000007F000001FFFFE0000000007F00
0001FFFFE0000000007F000001FFFFE0000000007F000001FFFFE0000000007F000001FFFFE000
000000FF000001FFFFE000000000FF000001FFFFE000000000FF000001FFFFE000000000FF0000
01FFFFE000000001FE000001FFFFE000000001FE000001FFFFE000000003FE000001FFFFE00000
0003FE000001FFFFE000000003FE000001FFFFE000000007FE000001FFFFE00000000FFE000001
FFFFE00000000FFE000001FFFFE00000001FFE000001FFFFE00000003FFE000001FFFFE0000000
7FFC000001FFFFE0000000FFFC000001FFFFE0000001FFFC000001FFFFE0000007FFFC000001FF
FFE000001FFFFC000001FFFFE000007FFFFC000001FFFFE00007FFFFFC00FFFFFFFFFFFFFFFFFF
FC00FFFFFFFFFFFFFFFFFFFC00FFFFFFFFFFFFFFFFFFF800FFFFFFFFFFFFFFFFFFF800FFFFFFFF
FFFFFFFFFFF800FFFFFFFFFFFFFFFFFFF800FFFFFFFFFFFFFFFFFFF800515E7ADD5F>76
D<FFFFFFFFE00000000000000003FFFFFFFF80FFFFFFFFF00000000000000007FFFFFFFF80FFFF
FFFFF8000000000000000FFFFFFFFF80FFFFFFFFFC000000000000001FFFFFFFFF80FFFFFFFFFC
000000000000001FFFFFFFFF80FFFFFFFFFC000000000000001FFFFFFFFF80FFFFFFFFFE000000
000000003FFFFFFFFF800001FFFFFE000000000000003FFFFFC000000001FFFFFF000000000000
007EFFFFC000000001FFFFFF000000000000007EFFFFC000000001FEFFFF80000000000000FCFF
FFC000000001FEFFFF80000000000000FCFFFFC000000001FEFFFF80000000000000FCFFFFC000
000001FE7FFFC0000000000001F8FFFFC000000001FE7FFFC0000000000001F8FFFFC000000001
FE3FFFE0000000000003F0FFFFC000000001FE3FFFE0000000000003F0FFFFC000000001FE1FFF
F0000000000007E0FFFFC000000001FE1FFFF0000000000007E0FFFFC000000001FE0FFFF80000
0000000FC0FFFFC000000001FE0FFFF800000000000FC0FFFFC000000001FE0FFFF80000000000
0FC0FFFFC000000001FE07FFFC00000000001F80FFFFC000000001FE07FFFC00000000001F80FF
FFC000000001FE03FFFE00000000003F00FFFFC000000001FE03FFFE00000000003F00FFFFC000
000001FE01FFFF00000000007E00FFFFC000000001FE01FFFF00000000007E00FFFFC000000001
FE01FFFF00000000007E00FFFFC000000001FE00FFFF8000000000FC00FFFFC000000001FE00FF
FF8000000000FC00FFFFC000000001FE007FFFC000000001F800FFFFC000000001FE007FFFC000
000001F800FFFFC000000001FE003FFFE000000003F000FFFFC000000001FE003FFFE000000003
F000FFFFC000000001FE003FFFE000000003F000FFFFC000000001FE001FFFF000000007E000FF
FFC000000001FE001FFFF000000007E000FFFFC000000001FE000FFFF80000000FC000FFFFC000
000001FE000FFFF80000000FC000FFFFC000000001FE0007FFFC0000001F8000FFFFC000000001
FE0007FFFC0000001F8000FFFFC000000001FE0003FFFE0000003F0000FFFFC000000001FE0003
FFFE0000003F0000FFFFC000000001FE0003FFFE0000003F0000FFFFC000000001FE0001FFFF00
00007E0000FFFFC000000001FE0001FFFF0000007E0000FFFFC000000001FE0000FFFF800000FC
0000FFFFC000000001FE0000FFFF800000FC0000FFFFC000000001FE00007FFFC00001F80000FF
FFC000000001FE00007FFFC00001F80000FFFFC000000001FE00007FFFC00001F80000FFFFC000
000001FE00003FFFE00003F00000FFFFC000000001FE00003FFFE00003F00000FFFFC000000001
FE00001FFFF00007E00000FFFFC000000001FE00001FFFF00007E00000FFFFC000000001FE0000
0FFFF8000FC00000FFFFC000000001FE00000FFFF8000FC00000FFFFC000000001FE000007FFFC
001F800000FFFFC000000001FE000007FFFC001F800000FFFFC000000001FE000007FFFC001F80
0000FFFFC000000001FE000003FFFE003F000000FFFFC000000001FE000003FFFE003F000000FF
FFC000000001FE000001FFFF007E000000FFFFC000000001FE000001FFFF007E000000FFFFC000
000001FE000000FFFF80FC000000FFFFC000000001FE000000FFFF80FC000000FFFFC000000001
FE000000FFFF80FC000000FFFFC000000001FE0000007FFFC1F8000000FFFFC000000001FE0000
007FFFC1F8000000FFFFC000000001FE0000003FFFE3F0000000FFFFC000000001FE0000003FFF
E3F0000000FFFFC000000001FE0000001FFFF7E0000000FFFFC000000001FE0000001FFFF7E000
0000FFFFC000000001FE0000001FFFF7E0000000FFFFC000000001FE0000000FFFFFC0000000FF
FFC000000001FE0000000FFFFFC0000000FFFFC000000001FE00000007FFFF80000000FFFFC000
000001FE00000007FFFF80000000FFFFC000000001FE00000003FFFF00000000FFFFC000000001
FE00000003FFFF00000000FFFFC000000001FE00000001FFFE00000000FFFFC000000001FE0000
0001FFFE00000000FFFFC000000001FE00000001FFFE00000000FFFFC000000001FE00000000FF
FC00000000FFFFC000000001FE00000000FFFC00000000FFFFC000000007FF800000007FF80000
0000FFFFC00000FFFFFFFFFC00007FF800007FFFFFFFFFFF80FFFFFFFFFC00003FF000007FFFFF
FFFFFF80FFFFFFFFFC00003FF000007FFFFFFFFFFF80FFFFFFFFFC00003FF000007FFFFFFFFFFF
80FFFFFFFFFC00001FE000007FFFFFFFFFFF80FFFFFFFFFC00000FC000007FFFFFFFFFFF80FFFF
FFFFFC0000078000007FFFFFFFFFFF80895E7ADD96>I<00000000003FFFC00000000000000000
000FFFFFFF000000000000000000FFFFFFFFF00000000000000007FFFFFFFFFE00000000000000
1FFFFFFFFFFF800000000000007FFFFFFFFFFFE0000000000001FFFFF801FFFFF8000000000007
FFFF80001FFFFE00000000001FFFFC000003FFFF80000000003FFFF0000000FFFFC0000000007F
FFC00000003FFFE000000000FFFF800000001FFFF000000003FFFF000000000FFFFC00000007FF
FE0000000007FFFE0000000FFFFC0000000003FFFF0000001FFFF80000000001FFFF8000001FFF
F00000000000FFFF8000003FFFE000000000007FFFC000007FFFE000000000007FFFE00000FFFF
C000000000003FFFF00000FFFFC000000000003FFFF00001FFFF8000000000001FFFF80003FFFF
8000000000001FFFFC0003FFFF0000000000000FFFFC0007FFFF0000000000000FFFFE0007FFFF
0000000000000FFFFE000FFFFE00000000000007FFFF000FFFFE00000000000007FFFF000FFFFE
00000000000007FFFF001FFFFC00000000000003FFFF801FFFFC00000000000003FFFF801FFFFC
00000000000003FFFF803FFFFC00000000000003FFFFC03FFFFC00000000000003FFFFC03FFFFC
00000000000003FFFFC07FFFF800000000000001FFFFE07FFFF800000000000001FFFFE07FFFF8
00000000000001FFFFE07FFFF800000000000001FFFFE07FFFF800000000000001FFFFE07FFFF8
00000000000001FFFFE0FFFFF800000000000001FFFFF0FFFFF800000000000001FFFFF0FFFFF8
00000000000001FFFFF0FFFFF800000000000001FFFFF0FFFFF800000000000001FFFFF0FFFFF8
00000000000001FFFFF0FFFFF800000000000001FFFFF0FFFFF800000000000001FFFFF0FFFFF8
00000000000001FFFFF0FFFFF800000000000001FFFFF0FFFFF800000000000001FFFFF0FFFFF8
00000000000001FFFFF0FFFFF800000000000001FFFFF0FFFFF800000000000001FFFFF0FFFFF8
00000000000001FFFFF07FFFF800000000000001FFFFE07FFFF800000000000001FFFFE07FFFFC
00000000000003FFFFE07FFFFC00000000000003FFFFE07FFFFC00000000000003FFFFE03FFFFC
00000000000003FFFFC03FFFFC00000000000003FFFFC03FFFFC00000000000003FFFFC03FFFFC
00000000000003FFFFC01FFFFE00000000000007FFFF801FFFFE00000000000007FFFF801FFFFE
00000000000007FFFF800FFFFE00000000000007FFFF000FFFFF0000000000000FFFFF0007FFFF
0000000000000FFFFE0007FFFF0000000000000FFFFE0003FFFF8000000000001FFFFC0003FFFF
8000000000001FFFFC0001FFFFC000000000003FFFF80001FFFFC000000000003FFFF80000FFFF
E000000000007FFFF000007FFFE000000000007FFFE000003FFFF00000000000FFFFC000003FFF
F80000000001FFFFC000001FFFFC0000000003FFFF8000000FFFFC0000000003FFFF00000007FF
FE0000000007FFFE00000003FFFF000000000FFFFC00000001FFFFC00000003FFFF800000000FF
FFE00000007FFFF0000000003FFFF8000001FFFFC0000000001FFFFE000007FFFF800000000007
FFFF80001FFFFE000000000003FFFFF801FFFFFC000000000000FFFFFFFFFFFFF0000000000000
1FFFFFFFFFFF8000000000000007FFFFFFFFFE0000000000000000FFFFFFFFF000000000000000
000FFFFFFF000000000000000000003FFFC00000000000646077DE77>79
D<FFFFFFFFFFFFFFFF00000000FFFFFFFFFFFFFFFFF8000000FFFFFFFFFFFFFFFFFF800000FFFF
FFFFFFFFFFFFFFE00000FFFFFFFFFFFFFFFFFFF80000FFFFFFFFFFFFFFFFFFFE0000FFFFFFFFFF
FFFFFFFFFF80000001FFFFC000003FFFFFC0000001FFFFC0000003FFFFE0000001FFFFC0000000
FFFFF8000001FFFFC00000003FFFFC000001FFFFC00000001FFFFC000001FFFFC00000000FFFFE
000001FFFFC000000007FFFF000001FFFFC000000007FFFF800001FFFFC000000003FFFF800001
FFFFC000000003FFFFC00001FFFFC000000003FFFFC00001FFFFC000000001FFFFC00001FFFFC0
00000001FFFFE00001FFFFC000000001FFFFE00001FFFFC000000001FFFFE00001FFFFC0000000
01FFFFF00001FFFFC000000001FFFFF00001FFFFC000000001FFFFF00001FFFFC000000001FFFF
F00001FFFFC000000001FFFFF00001FFFFC000000001FFFFF00001FFFFC000000001FFFFF00001
FFFFC000000001FFFFF00001FFFFC000000001FFFFF00001FFFFC000000001FFFFF00001FFFFC0
00000001FFFFE00001FFFFC000000001FFFFE00001FFFFC000000001FFFFE00001FFFFC0000000
01FFFFC00001FFFFC000000003FFFFC00001FFFFC000000003FFFF800001FFFFC000000003FFFF
800001FFFFC000000007FFFF000001FFFFC000000007FFFF000001FFFFC00000000FFFFE000001
FFFFC00000001FFFFC000001FFFFC00000003FFFF8000001FFFFC0000000FFFFF0000001FFFFC0
000003FFFFE0000001FFFFC000003FFFFF80000001FFFFFFFFFFFFFFFF00000001FFFFFFFFFFFF
FFFC00000001FFFFFFFFFFFFFFF000000001FFFFFFFFFFFFFF8000000001FFFFFFFFFFFFF80000
000001FFFFFFFFFFFF000000000001FFFFE0000000000000000001FFFFE0000000000000000001
FFFFE0000000000000000001FFFFE0000000000000000001FFFFE0000000000000000001FFFFE0
000000000000000001FFFFE0000000000000000001FFFFE0000000000000000001FFFFE0000000
000000000001FFFFE0000000000000000001FFFFE0000000000000000001FFFFE0000000000000
000001FFFFE0000000000000000001FFFFE0000000000000000001FFFFE0000000000000000001
FFFFE0000000000000000001FFFFE0000000000000000001FFFFE0000000000000000001FFFFE0
000000000000000001FFFFE0000000000000000001FFFFE0000000000000000001FFFFE0000000
000000000001FFFFE0000000000000000001FFFFE0000000000000000001FFFFE0000000000000
000001FFFFE0000000000000000001FFFFE0000000000000000001FFFFE0000000000000000001
FFFFE0000000000000000001FFFFE0000000000000000001FFFFE0000000000000000001FFFFE0
000000000000000001FFFFE0000000000000000001FFFFE000000000000000FFFFFFFFFFFFC000
00000000FFFFFFFFFFFFC00000000000FFFFFFFFFFFFC00000000000FFFFFFFFFFFFC000000000
00FFFFFFFFFFFFC00000000000FFFFFFFFFFFFC00000000000FFFFFFFFFFFFC000000000005C5E
7ADD6C>I<FFFFFFFFFFFFFFF0000000000000FFFFFFFFFFFFFFFFC00000000000FFFFFFFFFFFF
FFFFFC0000000000FFFFFFFFFFFFFFFFFF8000000000FFFFFFFFFFFFFFFFFFF000000000FFFFFF
FFFFFFFFFFFFFC00000000FFFFFFFFFFFFFFFFFFFF000000000001FFFFC000007FFFFF80000000
0001FFFFC0000007FFFFE00000000001FFFFC0000000FFFFF00000000001FFFFC00000007FFFF8
0000000001FFFFC00000001FFFFC0000000001FFFFC00000000FFFFE0000000001FFFFC0000000
07FFFF0000000001FFFFC000000007FFFF8000000001FFFFC000000003FFFF8000000001FFFFC0
00000003FFFFC000000001FFFFC000000003FFFFC000000001FFFFC000000003FFFFE000000001
FFFFC000000001FFFFE000000001FFFFC000000001FFFFE000000001FFFFC000000001FFFFF000
000001FFFFC000000001FFFFF000000001FFFFC000000001FFFFF000000001FFFFC000000001FF
FFF000000001FFFFC000000001FFFFF000000001FFFFC000000001FFFFF000000001FFFFC00000
0001FFFFF000000001FFFFC000000001FFFFF000000001FFFFC000000001FFFFE000000001FFFF
C000000001FFFFE000000001FFFFC000000001FFFFE000000001FFFFC000000003FFFFC0000000
01FFFFC000000003FFFFC000000001FFFFC000000003FFFF8000000001FFFFC000000003FFFF80
00000001FFFFC000000007FFFF0000000001FFFFC00000000FFFFE0000000001FFFFC00000000F
FFFC0000000001FFFFC00000003FFFF80000000001FFFFC00000007FFFF00000000001FFFFC000
0001FFFFC00000000001FFFFC0000007FFFF800000000001FFFFC00000FFFFFE000000000001FF
FFFFFFFFFFFFF8000000000001FFFFFFFFFFFFFFC0000000000001FFFFFFFFFFFFFE0000000000
0001FFFFFFFFFFFFFE00000000000001FFFFFFFFFFFFFF80000000000001FFFFC00003FFFFE000
0000000001FFFFC000007FFFF8000000000001FFFFC000003FFFFC000000000001FFFFC000000F
FFFE000000000001FFFFC0000007FFFF000000000001FFFFC0000003FFFF800000000001FFFFC0
000003FFFFC00000000001FFFFC0000001FFFFC00000000001FFFFC0000001FFFFE00000000001
FFFFC0000000FFFFF00000000001FFFFC0000000FFFFF00000000001FFFFC0000000FFFFF00000
000001FFFFC00000007FFFF80000000001FFFFC00000007FFFF80000000001FFFFC00000007FFF
F80000000001FFFFC00000007FFFF80000000001FFFFC00000007FFFF80000000001FFFFC00000
007FFFF80000000001FFFFC00000007FFFF80000000001FFFFC00000007FFFF80000000001FFFF
C00000007FFFF80000000001FFFFC00000007FFFFC0000000001FFFFC00000007FFFFC00000000
01FFFFC00000007FFFFC0000000001FFFFC00000007FFFFC0000000001FFFFC00000007FFFFC00
00000001FFFFC00000007FFFFC0000000001FFFFC00000007FFFFC0000000001FFFFC00000007F
FFFC0000000001FFFFC00000007FFFFC00003E0001FFFFC00000007FFFFC00007F0001FFFFC000
00007FFFFE00007F0001FFFFC00000003FFFFE00007F0001FFFFC00000003FFFFE00007F0001FF
FFC00000003FFFFF0000FF0001FFFFC00000001FFFFF0000FE0001FFFFC00000000FFFFF0000FE
0001FFFFC00000000FFFFF8001FCFFFFFFFFFFFF800007FFFFC003FCFFFFFFFFFFFF800003FFFF
E007F8FFFFFFFFFFFF800001FFFFF81FF0FFFFFFFFFFFF8000007FFFFFFFF0FFFFFFFFFFFF8000
003FFFFFFFE0FFFFFFFFFFFF80000007FFFFFF80FFFFFFFFFFFF80000000FFFFFE000000000000
000000000003FFF000705F7ADD77>82 D<000001FFFC0000070000001FFFFFC0000F800000FFFF
FFF8001F800003FFFFFFFF003F80000FFFFFFFFFC07F80001FFFFFFFFFE0FF80003FFFC00FFFF9
FF80007FFC00007FFFFF8000FFF000001FFFFF8001FFE0000003FFFF8003FF80000001FFFF8007
FF800000007FFF800FFF000000003FFF800FFF000000001FFF801FFE000000000FFF803FFE0000
000007FF803FFC0000000003FF803FFC0000000003FF807FFC0000000001FF807FFC0000000001
FF807FFC0000000000FF807FFC0000000000FF80FFFC0000000000FF80FFFE00000000007F80FF
FE00000000007F80FFFE00000000007F80FFFF00000000003F80FFFF00000000003F80FFFF8000
0000003F80FFFFC0000000003F80FFFFE0000000001F00FFFFF8000000000000FFFFFE00000000
00007FFFFFC000000000007FFFFFFC00000000007FFFFFFFE0000000003FFFFFFFFF000000003F
FFFFFFFFF00000003FFFFFFFFFFF0000001FFFFFFFFFFFE000000FFFFFFFFFFFF800000FFFFFFF
FFFFFE000007FFFFFFFFFFFF000003FFFFFFFFFFFF800001FFFFFFFFFFFFE00000FFFFFFFFFFFF
F000007FFFFFFFFFFFF800003FFFFFFFFFFFFC00001FFFFFFFFFFFFC00000FFFFFFFFFFFFE0000
03FFFFFFFFFFFF000001FFFFFFFFFFFF8000007FFFFFFFFFFF8000000FFFFFFFFFFFC0000000FF
FFFFFFFFC00000000FFFFFFFFFE0000000007FFFFFFFE00000000003FFFFFFF000000000003FFF
FFF0000000000003FFFFF0000000000000FFFFF00000000000007FFFF80000000000003FFFF800
00000000001FFFF80000000000000FFFF87C000000000007FFF8FE000000000007FFF8FE000000
000003FFF8FE000000000003FFF8FE000000000003FFF8FE000000000001FFF8FE000000000001
FFF8FF000000000001FFF8FF000000000001FFF0FF000000000001FFF0FF800000000001FFF0FF
800000000001FFF0FFC00000000001FFE0FFC00000000003FFE0FFE00000000003FFE0FFF00000
000003FFC0FFF80000000007FFC0FFFC0000000007FF80FFFE000000000FFF00FFFF800000001F
FF00FFFFE00000003FFE00FFFFFC0000007FFC00FFFFFF800001FFF800FFFFFFFE001FFFF000FF
CFFFFFFFFFFFE000FF83FFFFFFFFFFC000FF01FFFFFFFFFF0000FE003FFFFFFFFC0000FC000FFF
FFFFF00000F80000FFFFFFC0000070000003FFF8000000456077DE58>I<1FFFFFFFFFFFFFFFFF
FFFFFC001FFFFFFFFFFFFFFFFFFFFFFC001FFFFFFFFFFFFFFFFFFFFFFC001FFFFFFFFFFFFFFFFF
FFFFFC001FFFFFFFFFFFFFFFFFFFFFFC001FFFFFFFFFFFFFFFFFFFFFFC003FFFFFFFFFFFFFFFFF
FFFFFE003FFFFE0001FFFFE0003FFFFE003FFFE00001FFFFE00003FFFE003FFF800001FFFFE000
00FFFE003FFE000001FFFFE000003FFE003FFC000001FFFFE000001FFE003FF8000001FFFFE000
000FFE003FF0000001FFFFE0000007FE003FE0000001FFFFE0000003FE003FE0000001FFFFE000
0003FE003FC0000001FFFFE0000001FE007FC0000001FFFFE0000001FF007F80000001FFFFE000
0000FF007F80000001FFFFE0000000FF007F80000001FFFFE0000000FF007F80000001FFFFE000
0000FF007F00000001FFFFE00000007F007F00000001FFFFE00000007F007F00000001FFFFE000
00007F007F00000001FFFFE00000007F007F00000001FFFFE00000007F007F00000001FFFFE000
00007F00FF00000001FFFFE00000007F80FE00000001FFFFE00000003F80FE00000001FFFFE000
00003F80FE00000001FFFFE00000003F80FE00000001FFFFE00000003F80FE00000001FFFFE000
00003F800000000001FFFFE000000000000000000001FFFFE000000000000000000001FFFFE000
000000000000000001FFFFE000000000000000000001FFFFE000000000000000000001FFFFE000
000000000000000001FFFFE000000000000000000001FFFFE000000000000000000001FFFFE000
000000000000000001FFFFE000000000000000000001FFFFE000000000000000000001FFFFE000
000000000000000001FFFFE000000000000000000001FFFFE000000000000000000001FFFFE000
000000000000000001FFFFE000000000000000000001FFFFE000000000000000000001FFFFE000
000000000000000001FFFFE000000000000000000001FFFFE000000000000000000001FFFFE000
000000000000000001FFFFE000000000000000000001FFFFE000000000000000000001FFFFE000
000000000000000001FFFFE000000000000000000001FFFFE000000000000000000001FFFFE000
000000000000000001FFFFE000000000000000000001FFFFE000000000000000000001FFFFE000
000000000000000001FFFFE000000000000000000001FFFFE000000000000000000001FFFFE000
000000000000000001FFFFE000000000000000000001FFFFE000000000000000000001FFFFE000
000000000000000001FFFFE000000000000000000001FFFFE000000000000000000001FFFFE000
000000000000000001FFFFE000000000000000000001FFFFE000000000000000000001FFFFE000
000000000000000001FFFFE000000000000000000001FFFFE000000000000000000001FFFFE000
000000000000000001FFFFE000000000000000000001FFFFE000000000000000000001FFFFE000
000000000000000001FFFFE000000000000000000001FFFFE000000000000000000001FFFFE000
0000000000003FFFFFFFFFFFFFFF00000000003FFFFFFFFFFFFFFF00000000003FFFFFFFFFFFFF
FF00000000003FFFFFFFFFFFFFFF00000000003FFFFFFFFFFFFFFF00000000003FFFFFFFFFFFFF
FF00000000003FFFFFFFFFFFFFFF000000615C7ADB6E>I<FFFFFFFFFFFC003FFFFFFFFFFE0000
1FFFFFFFF8FFFFFFFFFFFC003FFFFFFFFFFE00001FFFFFFFF8FFFFFFFFFFFC003FFFFFFFFFFE00
001FFFFFFFF8FFFFFFFFFFFC003FFFFFFFFFFE00001FFFFFFFF8FFFFFFFFFFFC003FFFFFFFFFFE
00001FFFFFFFF8FFFFFFFFFFFC003FFFFFFFFFFE00001FFFFFFFF8FFFFFFFFFFFC003FFFFFFFFF
FE00001FFFFFFFF80007FFFF8000000003FFFFC00000000003FFC0000007FFFFC000000003FFFF
E000000000007F00000007FFFFC000000001FFFFE00000000000FF00000003FFFFC000000001FF
FFF00000000000FE00000003FFFFE000000001FFFFF00000000001FE00000003FFFFE000000000
FFFFF00000000001FE00000001FFFFE000000000FFFFF80000000001FC00000001FFFFF0000000
00FFFFF80000000003FC00000000FFFFF0000000007FFFF80000000003F800000000FFFFF80000
00007FFFFC0000000003F800000000FFFFF8000000003FFFFC0000000007F8000000007FFFF800
0000003FFFFE0000000007F0000000007FFFFC000000003FFFFE000000000FF0000000003FFFFC
000000001FFFFE000000000FE0000000003FFFFE000000003FFFFF000000000FE0000000003FFF
FE000000003FFFFF000000001FE0000000001FFFFE000000003FFFFF000000001FC0000000001F
FFFF000000007FFFFF800000003FC0000000001FFFFF000000007FFFFF800000003FC000000000
0FFFFF00000000FFFFFFC00000003F80000000000FFFFF80000000FFFFFFC00000007F80000000
0007FFFF80000000FFFFFFC00000007F000000000007FFFFC0000001FFFFFFE00000007F000000
000007FFFFC0000001FDFFFFE0000000FF000000000003FFFFC0000001FDFFFFF0000000FE0000
00000003FFFFE0000003FDFFFFF0000001FE000000000001FFFFE0000003F8FFFFF0000001FC00
0000000001FFFFF0000007F8FFFFF8000001FC000000000001FFFFF0000007F8FFFFF8000003FC
000000000000FFFFF0000007F07FFFF8000003F8000000000000FFFFF800000FF07FFFFC000007
F8000000000000FFFFF800000FE03FFFFC000007F80000000000007FFFF800001FE03FFFFE0000
07F00000000000007FFFFC00001FE03FFFFE00000FF00000000000003FFFFC00001FC01FFFFE00
000FE00000000000003FFFFE00003FC01FFFFF00000FE00000000000003FFFFE00003F800FFFFF
00001FE00000000000001FFFFE00003F800FFFFF80001FC00000000000001FFFFF00007F800FFF
FF80003FC00000000000000FFFFF00007F0007FFFF80003F800000000000000FFFFF8000FF0007
FFFFC0003F800000000000000FFFFF8000FF0007FFFFC0007F8000000000000007FFFF8000FE00
03FFFFC0007F0000000000000007FFFFC001FE0003FFFFE000FF0000000000000007FFFFC001FC
0001FFFFE000FF0000000000000003FFFFC003FC0001FFFFF000FE0000000000000003FFFFE003
FC0001FFFFF001FE0000000000000001FFFFE003F80000FFFFF001FC0000000000000001FFFFF0
07F80000FFFFF801FC0000000000000001FFFFF007F000007FFFF803FC0000000000000000FFFF
F007F000007FFFFC03F80000000000000000FFFFF80FF000007FFFFC07F800000000000000007F
FFF80FE000003FFFFC07F000000000000000007FFFFC1FE000003FFFFE07F00000000000000000
7FFFFC1FE000003FFFFE0FF000000000000000003FFFFC1FC000001FFFFE0FE000000000000000
003FFFFE3FC000001FFFFF1FE000000000000000003FFFFE3F8000000FFFFF1FE0000000000000
00001FFFFE7F8000000FFFFF9FC000000000000000001FFFFF7F8000000FFFFFBFC00000000000
0000000FFFFF7F00000007FFFFBF8000000000000000000FFFFFFF00000007FFFFFF8000000000
000000000FFFFFFE00000003FFFFFF80000000000000000007FFFFFE00000003FFFFFF00000000
000000000007FFFFFE00000003FFFFFF00000000000000000007FFFFFC00000001FFFFFF000000
00000000000003FFFFFC00000001FFFFFE00000000000000000003FFFFFC00000001FFFFFE0000
0000000000000001FFFFF800000000FFFFFC00000000000000000001FFFFF800000000FFFFFC00
000000000000000001FFFFF0000000007FFFFC00000000000000000000FFFFF0000000007FFFF8
00000000000000000000FFFFF0000000007FFFF8000000000000000000007FFFE0000000003FFF
F0000000000000000000007FFFE0000000003FFFF0000000000000000000007FFFC0000000001F
FFF0000000000000000000003FFFC0000000001FFFE0000000000000000000003FFFC000000000
1FFFE0000000000000000000003FFF80000000000FFFE0000000000000000000001FFF80000000
000FFFC0000000000000000000001FFF80000000000FFFC0000000000000000000000FFF000000
000007FF80000000000000000000000FFF000000000007FF80000000000000000000000FFE0000
00000003FF800000000000000000000007FE000000000003FF000000000000000000000007FE00
0000000003FF000000000000000000000003FC000000000001FE000000000000000000000001F8
000000000000FC0000000000009D5F7DDDA4>87 D<FFFFFFFFFFFF00000000FFFFFFFF80FFFFFF
FFFFFF00000000FFFFFFFF80FFFFFFFFFFFF00000000FFFFFFFF80FFFFFFFFFFFF00000000FFFF
FFFF80FFFFFFFFFFFF00000000FFFFFFFF80FFFFFFFFFFFF00000000FFFFFFFF80FFFFFFFFFFFF
00000000FFFFFFFF800003FFFFF80000000000007FF800000003FFFFFC0000000000003FE00000
0001FFFFFC0000000000007FC000000000FFFFFE0000000000007F8000000000FFFFFF00000000
0000FF80000000007FFFFF000000000001FF00000000003FFFFF800000000001FE00000000003F
FFFFC00000000003FE00000000001FFFFFC00000000007FC00000000000FFFFFE00000000007F8
000000000007FFFFF0000000000FF8000000000007FFFFF0000000001FF0000000000003FFFFF8
000000001FE0000000000001FFFFFC000000003FE0000000000001FFFFFE000000007FC0000000
000000FFFFFE000000007F800000000000007FFFFF00000000FF000000000000007FFFFF800000
01FF000000000000003FFFFF80000001FE000000000000001FFFFFC0000003FC00000000000000
1FFFFFE0000007FC000000000000000FFFFFE0000007F80000000000000007FFFFF000000FF000
00000000000007FFFFF800001FF00000000000000003FFFFF800001FE00000000000000001FFFF
FC00003FC00000000000000001FFFFFE00007FC00000000000000000FFFFFE00007F8000000000
000000007FFFFF0000FF0000000000000000007FFFFF8001FF0000000000000000003FFFFF8001
FE0000000000000000001FFFFFC003FC0000000000000000000FFFFFE007FC0000000000000000
000FFFFFE007F800000000000000000007FFFFF00FF000000000000000000003FFFFF81FF00000
0000000000000003FFFFF83FE000000000000000000001FFFFFC3FC000000000000000000000FF
FFFE7FC000000000000000000000FFFFFFFF80000000000000000000007FFFFFFF000000000000
00000000003FFFFFFF00000000000000000000003FFFFFFE00000000000000000000001FFFFFFC
00000000000000000000000FFFFFFC00000000000000000000000FFFFFF8000000000000000000
000007FFFFF0000000000000000000000003FFFFF0000000000000000000000003FFFFE0000000
000000000000000001FFFFC0000000000000000000000001FFFFC0000000000000000000000001
FFFFC0000000000000000000000001FFFFC0000000000000000000000001FFFFC0000000000000
000000000001FFFFC0000000000000000000000001FFFFC0000000000000000000000001FFFFC0
000000000000000000000001FFFFC0000000000000000000000001FFFFC0000000000000000000
000001FFFFC0000000000000000000000001FFFFC0000000000000000000000001FFFFC0000000
000000000000000001FFFFC0000000000000000000000001FFFFC0000000000000000000000001
FFFFC0000000000000000000000001FFFFC0000000000000000000000001FFFFC0000000000000
000000000001FFFFC0000000000000000000000001FFFFC0000000000000000000000001FFFFC0
000000000000000000000001FFFFC0000000000000000000000001FFFFC0000000000000000000
000001FFFFC0000000000000000000000001FFFFC0000000000000000000000001FFFFC0000000
000000000000000001FFFFC0000000000000000000000001FFFFC0000000000000000000000001
FFFFC0000000000000000000000001FFFFC0000000000000000000000001FFFFC0000000000000
00000000FFFFFFFFFFFF800000000000000000FFFFFFFFFFFF800000000000000000FFFFFFFFFF
FF800000000000000000FFFFFFFFFFFF800000000000000000FFFFFFFFFFFF8000000000000000
00FFFFFFFFFFFF800000000000000000FFFFFFFFFFFF8000000000715E7DDD78>89
D<00001FFFFE000000000003FFFFFFF0000000000FFFFFFFFE000000003FFFFFFFFF800000007F
FFFFFFFFE0000000FFF8003FFFF0000001FFF80007FFFC000001FFFC0001FFFE000003FFFE0000
FFFF000003FFFE00007FFF000003FFFE00003FFF800003FFFE00003FFFC00003FFFE00001FFFE0
0003FFFE00001FFFE00003FFFE00001FFFE00001FFFC00000FFFF00000FFF800000FFFF000007F
F000000FFFF000003FE000000FFFF000000F8000000FFFF00000000000000FFFF0000000000000
0FFFF00000000000000FFFF00000000000000FFFF0000000000000FFFFF00000000007FFFFFFF0
00000001FFFFFFFFF00000001FFFFFFFFFF0000000FFFFFFFFFFF0000007FFFFF80FFFF000001F
FFFF000FFFF000007FFFF8000FFFF00000FFFFC0000FFFF00001FFFF00000FFFF00007FFFC0000
0FFFF0000FFFF800000FFFF0001FFFF000000FFFF0001FFFE000000FFFF0003FFFC000000FFFF0
007FFFC000000FFFF0007FFF8000000FFFF0007FFF8000000FFFF000FFFF0000000FFFF000FFFF
0000000FFFF000FFFF0000000FFFF000FFFF0000000FFFF000FFFF0000001FFFF000FFFF000000
1FFFF000FFFF8000001FFFF0007FFF8000003FFFF0007FFF8000007FFFF0003FFFC000007FFFF0
003FFFE00001FBFFF8001FFFF00003F3FFFE000FFFFC000FE3FFFFFE07FFFF80FFC1FFFFFF03FF
FFFFFF81FFFFFF00FFFFFFFF00FFFFFF003FFFFFFC007FFFFF0007FFFFF0001FFFFF00001FFF00
0001FFFE483D7CBC4D>97 D<0007FF80000000000000FFFFFF80000000000000FFFFFF80000000
000000FFFFFF80000000000000FFFFFF80000000000000FFFFFF80000000000000FFFFFF800000
00000000FFFFFF8000000000000000FFFF80000000000000007FFF80000000000000003FFF8000
0000000000003FFF80000000000000003FFF80000000000000003FFF80000000000000003FFF80
000000000000003FFF80000000000000003FFF80000000000000003FFF80000000000000003FFF
80000000000000003FFF80000000000000003FFF80000000000000003FFF80000000000000003F
FF80000000000000003FFF80000000000000003FFF80000000000000003FFF8000000000000000
3FFF80000000000000003FFF80000000000000003FFF80000000000000003FFF80000000000000
003FFF80000000000000003FFF80000000000000003FFF80000000000000003FFF800000000000
00003FFF80000000000000003FFF8001FFF0000000003FFF803FFFFF800000003FFF80FFFFFFF0
0000003FFF87FFFFFFFC0000003FFF8FFFFFFFFF0000003FFFBFFE00FFFF8000003FFFFFF0001F
FFE000003FFFFF800007FFF000003FFFFE000003FFF800003FFFFC000001FFFC00003FFFF80000
00FFFE00003FFFE00000007FFF00003FFFE00000007FFF00003FFFC00000003FFF80003FFFC000
00003FFFC0003FFFC00000001FFFC0003FFFC00000001FFFE0003FFFC00000001FFFE0003FFFC0
0000001FFFF0003FFFC00000001FFFF0003FFFC00000000FFFF8003FFFC00000000FFFF8003FFF
C00000000FFFF8003FFFC00000000FFFF8003FFFC00000000FFFFC003FFFC00000000FFFFC003F
FFC00000000FFFFC003FFFC00000000FFFFC003FFFC00000000FFFFC003FFFC00000000FFFFC00
3FFFC00000000FFFFC003FFFC00000000FFFFC003FFFC00000000FFFFC003FFFC00000000FFFFC
003FFFC00000000FFFFC003FFFC00000000FFFFC003FFFC00000000FFFF8003FFFC00000000FFF
F8003FFFC00000000FFFF8003FFFC00000000FFFF8003FFFC00000001FFFF0003FFFC00000001F
FFF0003FFFC00000001FFFF0003FFFC00000001FFFE0003FFFC00000001FFFE0003FFFC0000000
3FFFC0003FFFC00000003FFFC0003FFFC00000007FFF80003FFFE00000007FFF00003FFFF00000
00FFFE00003FFFF8000000FFFC00003FFFFC000001FFF800003FFFFE000007FFF000003FFEFF80
000FFFE000003FFC7FE0003FFFC000003FFC3FFC03FFFF0000003FF80FFFFFFFFE0000003FF007
FFFFFFF80000003FE001FFFFFFE00000003FC0003FFFFE000000003F800007FFE00000004E607C
DF58>I<0000001FFFF80000000003FFFFFFC00000001FFFFFFFF00000007FFFFFFFFC000001FF
FFFFFFFE000007FFFFFFFFFF00000FFFFC001FFF80001FFFE0003FFF80007FFF80007FFFC000FF
FF00007FFFC001FFFE00007FFFC001FFFC00007FFFC003FFF800007FFFC007FFF800007FFFC00F
FFF000007FFFC00FFFF000003FFF801FFFF000001FFF001FFFE000000FFE003FFFE0000007FC00
3FFFE0000001F0007FFFE000000000007FFFC000000000007FFFC000000000007FFFC000000000
00FFFFC00000000000FFFFC00000000000FFFFC00000000000FFFFC00000000000FFFFC0000000
0000FFFFC00000000000FFFFC00000000000FFFFC00000000000FFFFC00000000000FFFFC00000
000000FFFFC00000000000FFFFC00000000000FFFFC000000000007FFFC000000000007FFFE000
000000007FFFE000000000007FFFE000000000003FFFE000000000003FFFF000000000001FFFF0
00000000001FFFF000000003E00FFFF800000007F00FFFF800000007F007FFFC0000000FF003FF
FC0000000FE001FFFE0000001FE001FFFF0000003FC000FFFFC000007F80007FFFE00001FF0000
1FFFF80007FE00000FFFFF803FFC000007FFFFFFFFF8000001FFFFFFFFF00000007FFFFFFFC000
00001FFFFFFF0000000003FFFFFC00000000001FFF8000003C3D7BBC46>I<00000000000000FF
F00000000000001FFFFFF00000000000001FFFFFF00000000000001FFFFFF00000000000001FFF
FFF00000000000001FFFFFF00000000000001FFFFFF00000000000001FFFFFF000000000000000
1FFFF0000000000000000FFFF00000000000000007FFF00000000000000007FFF0000000000000
0007FFF00000000000000007FFF00000000000000007FFF00000000000000007FFF00000000000
000007FFF00000000000000007FFF00000000000000007FFF00000000000000007FFF000000000
00000007FFF00000000000000007FFF00000000000000007FFF00000000000000007FFF0000000
0000000007FFF00000000000000007FFF00000000000000007FFF00000000000000007FFF00000
000000000007FFF00000000000000007FFF00000000000000007FFF00000000000000007FFF000
00000000000007FFF00000000000000007FFF00000000000000007FFF0000000001FFF8007FFF0
00000001FFFFF807FFF00000001FFFFFFE07FFF00000007FFFFFFF87FFF0000001FFFFFFFFE7FF
F0000007FFFF00FFF7FFF000000FFFF0001FFFFFF000001FFFC00003FFFFF000003FFF800001FF
FFF000007FFE0000007FFFF00000FFFC0000003FFFF00001FFFC0000001FFFF00003FFF8000000
0FFFF00007FFF80000000FFFF0000FFFF00000000FFFF0000FFFF00000000FFFF0001FFFE00000
000FFFF0001FFFE00000000FFFF0003FFFE00000000FFFF0003FFFE00000000FFFF0003FFFE000
00000FFFF0007FFFC00000000FFFF0007FFFC00000000FFFF0007FFFC00000000FFFF000FFFFC0
0000000FFFF000FFFFC00000000FFFF000FFFFC00000000FFFF000FFFFC00000000FFFF000FFFF
C00000000FFFF000FFFFC00000000FFFF000FFFFC00000000FFFF000FFFFC00000000FFFF000FF
FFC00000000FFFF000FFFFC00000000FFFF000FFFFC00000000FFFF000FFFFC00000000FFFF000
FFFFC00000000FFFF0007FFFC00000000FFFF0007FFFC00000000FFFF0007FFFC00000000FFFF0
007FFFC00000000FFFF0003FFFE00000000FFFF0003FFFE00000000FFFF0001FFFE00000000FFF
F0001FFFE00000000FFFF0000FFFE00000000FFFF0000FFFF00000000FFFF00007FFF00000001F
FFF00003FFF80000003FFFF00003FFF80000003FFFF00001FFFC0000007FFFF00000FFFE000001
FFFFF000007FFF000003FFFFF800003FFF80000FFFFFFC00001FFFE0003FFFFFFFFC0007FFFC03
FFEFFFFFFC0003FFFFFFFF8FFFFFFC0000FFFFFFFF0FFFFFFC00001FFFFFFC0FFFFFFC000007FF
FFE00FFFFFFC0000003FFE000FFFFFFC4E607BDF58>I<0000001FFF800000000001FFFFFC0000
00000FFFFFFF800000007FFFFFFFE0000001FFFFFFFFF8000007FFFC01FFFC00000FFFE0007FFF
00003FFFC0001FFF80007FFF00000FFFC000FFFE000003FFC001FFFC000003FFE003FFF8000001
FFF003FFF8000000FFF007FFF0000000FFF80FFFF0000000FFF80FFFF00000007FFC1FFFE00000
007FFC1FFFE00000007FFE3FFFE00000003FFE3FFFE00000003FFE7FFFC00000003FFE7FFFC000
00003FFE7FFFC00000003FFF7FFFC00000003FFFFFFFC00000003FFFFFFFC00000001FFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFF
C00000000000FFFFC00000000000FFFFC00000000000FFFFC00000000000FFFFC000000000007F
FFC000000000007FFFC000000000007FFFC000000000007FFFE000000000003FFFE00000000000
3FFFE000000000001FFFE000000000001FFFF0000000003E0FFFF0000000007F0FFFF000000000
7F07FFF800000000FF07FFF800000000FE03FFFC00000001FE01FFFE00000003FC00FFFF000000
07F8007FFFC000001FF8003FFFE000003FF0001FFFF80000FFE00007FFFF800FFFC00003FFFFFF
FFFF800000FFFFFFFFFE0000003FFFFFFFF800000007FFFFFFE000000000FFFFFF000000000007
FFE00000403D7CBC49>I<00000000FFF8000000001FFFFE00000000FFFFFF80000003FFFFFFE0
00000FFFFFFFF000001FFFE07FF800003FFF00FFF800007FFC01FFFC0000FFF801FFFC0001FFF0
03FFFE0003FFF003FFFE0007FFE003FFFE0007FFE003FFFE000FFFC003FFFE000FFFC003FFFE00
0FFFC001FFFC001FFF8001FFFC001FFF8000FFF8001FFF80007FF0001FFF80003FE0001FFF8000
0200001FFF80000000001FFF80000000001FFF80000000001FFF80000000001FFF80000000001F
FF80000000001FFF80000000001FFF80000000001FFF80000000001FFF80000000001FFF800000
00001FFF80000000001FFF80000000001FFF80000000FFFFFFFFFF8000FFFFFFFFFF8000FFFFFF
FFFF8000FFFFFFFFFF8000FFFFFFFFFF8000FFFFFFFFFF8000FFFFFFFFFF8000001FFFC0000000
001FFFC0000000001FFFC0000000001FFFC0000000001FFFC0000000001FFFC0000000001FFFC0
000000001FFFC0000000001FFFC0000000001FFFC0000000001FFFC0000000001FFFC000000000
1FFFC0000000001FFFC0000000001FFFC0000000001FFFC0000000001FFFC0000000001FFFC000
0000001FFFC0000000001FFFC0000000001FFFC0000000001FFFC0000000001FFFC0000000001F
FFC0000000001FFFC0000000001FFFC0000000001FFFC0000000001FFFC0000000001FFFC00000
00001FFFC0000000001FFFC0000000001FFFC0000000001FFFC0000000001FFFC0000000001FFF
C0000000001FFFC0000000001FFFC0000000001FFFC0000000001FFFC0000000001FFFC0000000
001FFFC0000000001FFFC0000000001FFFC0000000001FFFC0000000001FFFC0000000001FFFC0
000000001FFFC00000007FFFFFFFFC00007FFFFFFFFC00007FFFFFFFFC00007FFFFFFFFC00007F
FFFFFFFC00007FFFFFFFFC00007FFFFFFFFC000037607BDF30>I<000000000000001FE0000001
FFFC0001FFF000001FFFFFC007FFF80000FFFFFFF80FFFFC0003FFFFFFFE3FFFFE000FFFFFFFFF
FFE7FF001FFFE03FFFFF0FFF003FFF0007FFF80FFF007FFC0001FFF00FFF00FFF80000FFF80FFF
01FFF80000FFFC0FFF03FFF000007FFE07FE07FFF000007FFF03FC07FFF000007FFF01F80FFFE0
00003FFF80000FFFE000003FFF80000FFFE000003FFF80001FFFE000003FFFC0001FFFE000003F
FFC0001FFFE000003FFFC0001FFFE000003FFFC0001FFFE000003FFFC0001FFFE000003FFFC000
1FFFE000003FFFC0001FFFE000003FFFC0000FFFE000003FFF80000FFFE000003FFF80000FFFE0
00003FFF800007FFF000007FFF000007FFF000007FFF000003FFF000007FFE000001FFF80000FF
FC000000FFF80000FFF80000007FFC0001FFF00000003FFF0007FFE00000003FFFE03FFFC00000
007FFFFFFFFF800000007FFFFFFFFE00000000F8FFFFFFF800000001F81FFFFFC000000001F801
FFFC0000000001F80000000000000003F00000000000000003F80000000000000003F800000000
00000003F80000000000000003FC0000000000000003FC0000000000000003FE00000000000000
03FF0000000000000003FFC000000000000003FFFFFFFFFF00000003FFFFFFFFFFF8000001FFFF
FFFFFFFF800001FFFFFFFFFFFFE00000FFFFFFFFFFFFF80000FFFFFFFFFFFFFC00007FFFFFFFFF
FFFE00003FFFFFFFFFFFFF00001FFFFFFFFFFFFF80000FFFFFFFFFFFFFC0007FFFFFFFFFFFFFE0
01FFFFFFFFFFFFFFF007FFFFFFFFFFFFFFF00FFFC0000003FFFFF81FFE000000001FFFF83FFC00
00000003FFF87FF80000000000FFFC7FF800000000007FFCFFF800000000007FFCFFF000000000
003FFCFFF000000000003FFCFFF000000000003FFCFFF000000000003FFCFFF000000000003FFC
FFF800000000007FFC7FF800000000007FF87FFC0000000000FFF83FFC0000000000FFF01FFE00
00000001FFE01FFF0000000003FFE00FFFC00000000FFFC007FFF00000003FFF8001FFFE000001
FFFE0000FFFFF0003FFFFC00003FFFFFFFFFFFF000000FFFFFFFFFFFC0000001FFFFFFFFFE0000
00001FFFFFFFE00000000000FFFFFC000000485A7CBD4F>I<0007FF80000000000000FFFFFF80
000000000000FFFFFF80000000000000FFFFFF80000000000000FFFFFF80000000000000FFFFFF
80000000000000FFFFFF80000000000000FFFFFF8000000000000000FFFF80000000000000007F
FF80000000000000003FFF80000000000000003FFF80000000000000003FFF8000000000000000
3FFF80000000000000003FFF80000000000000003FFF80000000000000003FFF80000000000000
003FFF80000000000000003FFF80000000000000003FFF80000000000000003FFF800000000000
00003FFF80000000000000003FFF80000000000000003FFF80000000000000003FFF8000000000
0000003FFF80000000000000003FFF80000000000000003FFF80000000000000003FFF80000000
000000003FFF80000000000000003FFF80000000000000003FFF80000000000000003FFF800000
00000000003FFF80000000000000003FFF80000000000000003FFF80003FFE000000003FFF8001
FFFFE00000003FFF800FFFFFF80000003FFF801FFFFFFC0000003FFF807FFFFFFF0000003FFF80
FFC07FFF8000003FFF81FE001FFFC000003FFF83F8001FFFC000003FFF87E0000FFFE000003FFF
8F80000FFFE000003FFF9F00000FFFF000003FFFBE00000FFFF000003FFFFC000007FFF000003F
FFFC000007FFF800003FFFF8000007FFF800003FFFF0000007FFF800003FFFF0000007FFF80000
3FFFF0000007FFF800003FFFE0000007FFF800003FFFE0000007FFF800003FFFE0000007FFF800
003FFFC0000007FFF800003FFFC0000007FFF800003FFFC0000007FFF800003FFFC0000007FFF8
00003FFFC0000007FFF800003FFFC0000007FFF800003FFFC0000007FFF800003FFFC0000007FF
F800003FFFC0000007FFF800003FFFC0000007FFF800003FFFC0000007FFF800003FFFC0000007
FFF800003FFFC0000007FFF800003FFFC0000007FFF800003FFFC0000007FFF800003FFFC00000
07FFF800003FFFC0000007FFF800003FFFC0000007FFF800003FFFC0000007FFF800003FFFC000
0007FFF800003FFFC0000007FFF800003FFFC0000007FFF800003FFFC0000007FFF800003FFFC0
000007FFF800003FFFC0000007FFF800003FFFC0000007FFF800003FFFC0000007FFF800003FFF
C0000007FFF800003FFFC0000007FFF800003FFFC0000007FFF800003FFFC0000007FFF800003F
FFC0000007FFF800003FFFC0000007FFF800FFFFFFFFF01FFFFFFFFEFFFFFFFFF01FFFFFFFFEFF
FFFFFFF01FFFFFFFFEFFFFFFFFF01FFFFFFFFEFFFFFFFFF01FFFFFFFFEFFFFFFFFF01FFFFFFFFE
FFFFFFFFF01FFFFFFFFE4F607ADF58>I<0007C00000003FF80000007FFC000000FFFE000001FF
FF000003FFFF800003FFFF800007FFFFC00007FFFFC00007FFFFC00007FFFFC00007FFFFC00007
FFFFC00007FFFFC00003FFFF800003FFFF800001FFFF000000FFFE0000007FFC0000003FF80000
0007C0000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000
00000007FF80007FFFFF80007FFFFF80007FFFFF80007FFFFF80007FFFFF80007FFFFF80007FFF
FF800000FFFF8000007FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF800000
3FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000
003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF80
00003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF
8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003F
FF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000FF
FFFFFFC0FFFFFFFFC0FFFFFFFFC0FFFFFFFFC0FFFFFFFFC0FFFFFFFFC0FFFFFFFFC022617AE02C
>I<0007FF80000000000000FFFFFF80000000000000FFFFFF80000000000000FFFFFF80000000
000000FFFFFF80000000000000FFFFFF80000000000000FFFFFF80000000000000FFFFFF800000
0000000000FFFF80000000000000007FFF80000000000000003FFF80000000000000003FFF8000
0000000000003FFF80000000000000003FFF80000000000000003FFF80000000000000003FFF80
000000000000003FFF80000000000000003FFF80000000000000003FFF80000000000000003FFF
80000000000000003FFF80000000000000003FFF80000000000000003FFF80000000000000003F
FF80000000000000003FFF80000000000000003FFF80000000000000003FFF8000000000000000
3FFF80000000000000003FFF80000000000000003FFF80000000000000003FFF80000000000000
003FFF80000000000000003FFF80000000000000003FFF80000000000000003FFF800000000000
00003FFF800007FFFFFF80003FFF800007FFFFFF80003FFF800007FFFFFF80003FFF800007FFFF
FF80003FFF800007FFFFFF80003FFF800007FFFFFF80003FFF800007FFFFFF80003FFF8000007F
FE0000003FFF8000003FF80000003FFF800000FFF00000003FFF800001FFC00000003FFF800003
FF800000003FFF800007FF000000003FFF80001FFE000000003FFF80003FF8000000003FFF8000
7FF0000000003FFF8001FFE0000000003FFF8003FF80000000003FFF8007FF00000000003FFF80
0FFE00000000003FFF803FFC00000000003FFF807FF000000000003FFF80FFE000000000003FFF
81FFE000000000003FFF87FFF000000000003FFF8FFFF800000000003FFF9FFFFC00000000003F
FFFFFFFE00000000003FFFFFFFFE00000000003FFFFFFFFF00000000003FFFFFFFFF8000000000
3FFFFFFFFFC0000000003FFFFC7FFFE0000000003FFFF83FFFE0000000003FFFF03FFFF0000000
003FFFE01FFFF8000000003FFF800FFFFC000000003FFF0007FFFE000000003FFF0003FFFE0000
00003FFF0003FFFF000000003FFF0001FFFF800000003FFF0000FFFFC00000003FFF00007FFFE0
0000003FFF00003FFFF00000003FFF00001FFFF00000003FFF00001FFFF80000003FFF00000FFF
FC0000003FFF000007FFFE0000003FFF000003FFFF0000003FFF000001FFFF0000003FFF000001
FFFF8000003FFF000000FFFFC000003FFF0000007FFFE000003FFF0000007FFFF000FFFFFFFFC0
07FFFFFFF8FFFFFFFFC007FFFFFFF8FFFFFFFFC007FFFFFFF8FFFFFFFFC007FFFFFFF8FFFFFFFF
C007FFFFFFF8FFFFFFFFC007FFFFFFF8FFFFFFFFC007FFFFFFF84D607CDF54>107
D<0007FF8000FFFFFF8000FFFFFF8000FFFFFF8000FFFFFF8000FFFFFF8000FFFFFF8000FFFFFF
800000FFFF8000007FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003F
FF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF800000
3FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000
003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF80
00003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF
8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003F
FF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF800000
3FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000
003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF80
00003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF8000003FFF
8000003FFF8000003FFF8000003FFF8000FFFFFFFFE0FFFFFFFFE0FFFFFFFFE0FFFFFFFFE0FFFF
FFFFE0FFFFFFFFE0FFFFFFFFE023607ADF2C>I<000FFF00001FFF00000001FFF0000000FFFFFF
0001FFFFF000001FFFFF000000FFFFFF0007FFFFFC00007FFFFFC00000FFFFFF001FFFFFFE0001
FFFFFFE00000FFFFFF007FFFFFFF0007FFFFFFF00000FFFFFF00FFE07FFF800FFE07FFF80000FF
FFFF01FE001FFFC01FE001FFFC0000FFFFFF03F8000FFFE03F8000FFFE000000FFFF07E00007FF
F07E00007FFF0000007FFF0FC00007FFF0FC00007FFF0000003FFF1F000007FFF9F000007FFF80
00003FFF3E000007FFFBE000007FFF8000003FFF7C000003FFFFC000003FFF8000003FFF7C0000
03FFFFC000003FFFC000003FFFF8000003FFFF8000003FFFC000003FFFF0000003FFFF0000003F
FFC000003FFFF0000003FFFF0000003FFFC000003FFFF0000003FFFF0000003FFFC000003FFFE0
000003FFFE0000003FFFC000003FFFE0000003FFFE0000003FFFC000003FFFE0000003FFFE0000
003FFFC000003FFFC0000003FFFC0000003FFFC000003FFFC0000003FFFC0000003FFFC000003F
FFC0000003FFFC0000003FFFC000003FFFC0000003FFFC0000003FFFC000003FFFC0000003FFFC
0000003FFFC000003FFFC0000003FFFC0000003FFFC000003FFFC0000003FFFC0000003FFFC000
003FFFC0000003FFFC0000003FFFC000003FFFC0000003FFFC0000003FFFC000003FFFC0000003
FFFC0000003FFFC000003FFFC0000003FFFC0000003FFFC000003FFFC0000003FFFC0000003FFF
C000003FFFC0000003FFFC0000003FFFC000003FFFC0000003FFFC0000003FFFC000003FFFC000
0003FFFC0000003FFFC000003FFFC0000003FFFC0000003FFFC000003FFFC0000003FFFC000000
3FFFC000003FFFC0000003FFFC0000003FFFC000003FFFC0000003FFFC0000003FFFC000003FFF
C0000003FFFC0000003FFFC000003FFFC0000003FFFC0000003FFFC000003FFFC0000003FFFC00
00003FFFC000003FFFC0000003FFFC0000003FFFC000003FFFC0000003FFFC0000003FFFC00000
3FFFC0000003FFFC0000003FFFC000003FFFC0000003FFFC0000003FFFC000003FFFC0000003FF
FC0000003FFFC000003FFFC0000003FFFC0000003FFFC000003FFFC0000003FFFC0000003FFFC0
00003FFFC0000003FFFC0000003FFFC000003FFFC0000003FFFC0000003FFFC000003FFFC00000
03FFFC0000003FFFC000003FFFC0000003FFFC0000003FFFC000FFFFFFFFF00FFFFFFFFF00FFFF
FFFFF0FFFFFFFFF00FFFFFFFFF00FFFFFFFFF0FFFFFFFFF00FFFFFFFFF00FFFFFFFFF0FFFFFFFF
F00FFFFFFFFF00FFFFFFFFF0FFFFFFFFF00FFFFFFFFF00FFFFFFFFF0FFFFFFFFF00FFFFFFFFF00
FFFFFFFFF0FFFFFFFFF00FFFFFFFFF00FFFFFFFFF07C3D7ABC85>I<000FFF00003FFE000000FF
FFFF0001FFFFE00000FFFFFF000FFFFFF80000FFFFFF001FFFFFFC0000FFFFFF007FFFFFFF0000
FFFFFF00FFC07FFF8000FFFFFF01FE001FFFC000FFFFFF03F8001FFFC00000FFFF07E0000FFFE0
00007FFF0F80000FFFE000003FFF1F00000FFFF000003FFF3E00000FFFF000003FFF7C000007FF
F000003FFF7C000007FFF800003FFFF8000007FFF800003FFFF0000007FFF800003FFFF0000007
FFF800003FFFF0000007FFF800003FFFE0000007FFF800003FFFE0000007FFF800003FFFE00000
07FFF800003FFFC0000007FFF800003FFFC0000007FFF800003FFFC0000007FFF800003FFFC000
0007FFF800003FFFC0000007FFF800003FFFC0000007FFF800003FFFC0000007FFF800003FFFC0
000007FFF800003FFFC0000007FFF800003FFFC0000007FFF800003FFFC0000007FFF800003FFF
C0000007FFF800003FFFC0000007FFF800003FFFC0000007FFF800003FFFC0000007FFF800003F
FFC0000007FFF800003FFFC0000007FFF800003FFFC0000007FFF800003FFFC0000007FFF80000
3FFFC0000007FFF800003FFFC0000007FFF800003FFFC0000007FFF800003FFFC0000007FFF800
003FFFC0000007FFF800003FFFC0000007FFF800003FFFC0000007FFF800003FFFC0000007FFF8
00003FFFC0000007FFF800003FFFC0000007FFF800003FFFC0000007FFF800003FFFC0000007FF
F800003FFFC0000007FFF800003FFFC0000007FFF800FFFFFFFFF01FFFFFFFFEFFFFFFFFF01FFF
FFFFFEFFFFFFFFF01FFFFFFFFEFFFFFFFFF01FFFFFFFFEFFFFFFFFF01FFFFFFFFEFFFFFFFFF01F
FFFFFFFEFFFFFFFFF01FFFFFFFFE4F3D7ABC58>I<0000000FFFC0000000000001FFFFFE000000
00000FFFFFFFC0000000007FFFFFFFF800000001FFFFFFFFFE00000003FFFC00FFFF0000000FFF
E0001FFFC000001FFF800007FFE000003FFF000003FFF00000FFFC000000FFFC0000FFFC000000
FFFC0001FFF80000007FFE0003FFF00000003FFF0007FFF00000003FFF8007FFE00000001FFF80
0FFFE00000001FFFC01FFFE00000001FFFE01FFFE00000001FFFE03FFFE00000001FFFF03FFFC0
0000000FFFF03FFFC00000000FFFF07FFFC00000000FFFF87FFFC00000000FFFF87FFFC0000000
0FFFF87FFFC00000000FFFF8FFFFC00000000FFFFCFFFFC00000000FFFFCFFFFC00000000FFFFC
FFFFC00000000FFFFCFFFFC00000000FFFFCFFFFC00000000FFFFCFFFFC00000000FFFFCFFFFC0
0000000FFFFCFFFFC00000000FFFFCFFFFC00000000FFFFCFFFFC00000000FFFFCFFFFC0000000
0FFFFC7FFFC00000000FFFF87FFFC00000000FFFF87FFFC00000000FFFF87FFFC00000000FFFF8
3FFFE00000001FFFF03FFFE00000001FFFF01FFFE00000001FFFE01FFFE00000001FFFE00FFFF0
0000003FFFC00FFFF00000003FFFC007FFF00000003FFF8003FFF80000007FFF0003FFFC000000
FFFF0001FFFE000001FFFE0000FFFF000003FFFC00007FFF800007FFF800003FFFE0001FFFF000
000FFFFC00FFFFC0000007FFFFFFFFFF80000001FFFFFFFFFE000000007FFFFFFFF8000000001F
FFFFFFE00000000001FFFFFE0000000000000FFFC0000000463D7CBC4F>I<0007FF8000FFF800
0000FFFFFF801FFFFF800000FFFFFF80FFFFFFF00000FFFFFF83FFFFFFFC0000FFFFFF8FFFFFFF
FF0000FFFFFFBFFFFFFFFFC000FFFFFFFFFE01FFFFE000FFFFFFFFE0003FFFF00000FFFFFF8000
0FFFF800003FFFFE000007FFFC00003FFFFC000003FFFE00003FFFF0000001FFFF00003FFFE000
0000FFFF80003FFFC0000000FFFF80003FFFC00000007FFFC0003FFFC00000007FFFE0003FFFC0
0000003FFFE0003FFFC00000003FFFF0003FFFC00000003FFFF0003FFFC00000001FFFF0003FFF
C00000001FFFF8003FFFC00000001FFFF8003FFFC00000001FFFF8003FFFC00000001FFFF8003F
FFC00000000FFFFC003FFFC00000000FFFFC003FFFC00000000FFFFC003FFFC00000000FFFFC00
3FFFC00000000FFFFC003FFFC00000000FFFFC003FFFC00000000FFFFC003FFFC00000000FFFFC
003FFFC00000000FFFFC003FFFC00000000FFFFC003FFFC00000000FFFFC003FFFC00000000FFF
FC003FFFC00000000FFFF8003FFFC00000001FFFF8003FFFC00000001FFFF8003FFFC00000001F
FFF8003FFFC00000001FFFF0003FFFC00000001FFFF0003FFFC00000003FFFF0003FFFC0000000
3FFFE0003FFFC00000003FFFE0003FFFC00000007FFFC0003FFFC00000007FFFC0003FFFC00000
00FFFF80003FFFE0000000FFFF00003FFFF0000001FFFE00003FFFF8000003FFFC00003FFFFC00
0007FFF800003FFFFE00000FFFF000003FFFFF80001FFFE000003FFFFFE0007FFFC000003FFFFF
FC03FFFF0000003FFFCFFFFFFFFE0000003FFFC7FFFFFFF80000003FFFC1FFFFFFE00000003FFF
C03FFFFE000000003FFFC007FFE0000000003FFFC0000000000000003FFFC0000000000000003F
FFC0000000000000003FFFC0000000000000003FFFC0000000000000003FFFC000000000000000
3FFFC0000000000000003FFFC0000000000000003FFFC0000000000000003FFFC0000000000000
003FFFC0000000000000003FFFC0000000000000003FFFC0000000000000003FFFC00000000000
00003FFFC0000000000000003FFFC0000000000000003FFFC0000000000000003FFFC000000000
0000003FFFC0000000000000003FFFC0000000000000FFFFFFFFF00000000000FFFFFFFFF00000
000000FFFFFFFFF00000000000FFFFFFFFF00000000000FFFFFFFFF00000000000FFFFFFFFF000
00000000FFFFFFFFF000000000004E587CBC58>I<000FFF000FFC00FFFFFF003FFF80FFFFFF00
FFFFE0FFFFFF01FFFFF0FFFFFF03FFFFF8FFFFFF07F87FFCFFFFFF0FE07FFEFFFFFF1F80FFFE00
FFFF3F01FFFF007FFF3E01FFFF003FFF7C01FFFF003FFF7C01FFFF003FFFF801FFFF003FFFF801
FFFF003FFFF001FFFF003FFFF000FFFE003FFFE0007FFC003FFFE0003FF8003FFFE0001FF0003F
FFC00007C0003FFFC0000000003FFFC0000000003FFFC0000000003FFFC0000000003FFF800000
00003FFF80000000003FFF80000000003FFF80000000003FFF80000000003FFF80000000003FFF
80000000003FFF80000000003FFF80000000003FFF80000000003FFF80000000003FFF80000000
003FFF80000000003FFF80000000003FFF80000000003FFF80000000003FFF80000000003FFF80
000000003FFF80000000003FFF80000000003FFF80000000003FFF80000000003FFF8000000000
3FFF80000000003FFF80000000003FFF80000000003FFF80000000003FFF80000000003FFF8000
0000003FFF80000000FFFFFFFFF80000FFFFFFFFF80000FFFFFFFFF80000FFFFFFFFF80000FFFF
FFFFF80000FFFFFFFFF80000FFFFFFFFF80000383D7CBC41>114 D<00007FFF803C000007FFFF
F8FE00003FFFFFFFFE0000FFFFFFFFFE0001FFE003FFFE0003FE00003FFE0007F800000FFE000F
F0000007FE001FE0000003FE003FE0000001FE003FC0000001FE007FC0000001FE007FC0000000
FE00FFC0000000FE00FFE0000000FE00FFE0000000FE00FFF00000007C00FFF80000000000FFFF
0000000000FFFFE000000000FFFFFF00000000FFFFFFFC0000007FFFFFFFC000007FFFFFFFF800
003FFFFFFFFE00001FFFFFFFFF80001FFFFFFFFFE0000FFFFFFFFFF00007FFFFFFFFF80003FFFF
FFFFFC0000FFFFFFFFFE00007FFFFFFFFF00001FFFFFFFFF000003FFFFFFFF8000007FFFFFFFC0
000001FFFFFFC000000007FFFFC0000000007FFFE0000000001FFFE07C00000007FFE0FE000000
01FFE0FE00000001FFE0FF00000000FFE0FF00000000FFE0FF000000007FE0FF800000007FE0FF
800000007FC0FFC00000007FC0FFC00000007FC0FFE0000000FF80FFF0000000FF80FFF8000001
FF00FFFC000001FF00FFFE000007FE00FFFFC0001FFC00FFFFF800FFF800FFFFFFFFFFF000FF9F
FFFFFFC000FE07FFFFFF0000FC01FFFFFC000070001FFF800000333D7BBC3E>I<00000FE00000
0000000FE000000000000FE000000000000FE000000000000FE000000000000FE000000000001F
E000000000001FE000000000001FE000000000001FE000000000001FE000000000003FE0000000
00003FE000000000003FE000000000007FE000000000007FE00000000000FFE00000000000FFE0
0000000001FFE00000000001FFE00000000003FFE00000000007FFE0000000000FFFE000000000
1FFFE0000000003FFFE0000000007FFFE000000001FFFFFFFFFE000FFFFFFFFFFE00FFFFFFFFFF
FE00FFFFFFFFFFFE00FFFFFFFFFFFE00FFFFFFFFFFFE00FFFFFFFFFFFE00001FFFE0000000001F
FFE0000000001FFFE0000000001FFFE0000000001FFFE0000000001FFFE0000000001FFFE00000
00001FFFE0000000001FFFE0000000001FFFE0000000001FFFE0000000001FFFE0000000001FFF
E0000000001FFFE0000000001FFFE0000000001FFFE0000000001FFFE0000000001FFFE0000000
001FFFE0000000001FFFE0000000001FFFE0000000001FFFE0000000001FFFE0000000001FFFE0
000000001FFFE0000000001FFFE0000000001FFFE0000000001FFFE0000000001FFFE000000000
1FFFE0000000001FFFE0003F80001FFFE0003F80001FFFE0003F80001FFFE0003F80001FFFE000
3F80001FFFE0003F80001FFFE0003F80001FFFE0003F80001FFFE0003F80001FFFE0003F80001F
FFE0003F80001FFFE0007F80000FFFF0007F00000FFFF0007F00000FFFF000FF000007FFF800FE
000003FFFC01FC000003FFFF07FC000001FFFFFFF8000000FFFFFFF00000003FFFFFE00000001F
FFFF8000000003FFFF00000000007FF8000031577DD63E>I<0007FFC0000000FFF800FFFFFFC0
001FFFFFF800FFFFFFC0001FFFFFF800FFFFFFC0001FFFFFF800FFFFFFC0001FFFFFF800FFFFFF
C0001FFFFFF800FFFFFFC0001FFFFFF800FFFFFFC0001FFFFFF80000FFFFC000001FFFF800007F
FFC000000FFFF800003FFFC0000007FFF800003FFFC0000007FFF800003FFFC0000007FFF80000
3FFFC0000007FFF800003FFFC0000007FFF800003FFFC0000007FFF800003FFFC0000007FFF800
003FFFC0000007FFF800003FFFC0000007FFF800003FFFC0000007FFF800003FFFC0000007FFF8
00003FFFC0000007FFF800003FFFC0000007FFF800003FFFC0000007FFF800003FFFC0000007FF
F800003FFFC0000007FFF800003FFFC0000007FFF800003FFFC0000007FFF800003FFFC0000007
FFF800003FFFC0000007FFF800003FFFC0000007FFF800003FFFC0000007FFF800003FFFC00000
07FFF800003FFFC0000007FFF800003FFFC0000007FFF800003FFFC0000007FFF800003FFFC000
0007FFF800003FFFC0000007FFF800003FFFC0000007FFF800003FFFC0000007FFF800003FFFC0
000007FFF800003FFFC0000007FFF800003FFFC0000007FFF800003FFFC000000FFFF800003FFF
C000000FFFF800003FFFC000000FFFF800003FFFC000001FFFF800003FFFC000001FFFF800003F
FFC000003FFFF800001FFFC000003FFFF800001FFFC000007FFFF800001FFFC00000FBFFF80000
0FFFE00001FBFFFC000007FFE00003F3FFFE000007FFF0000FE3FFFFFE0003FFFE007FC3FFFFFE
0001FFFFFFFF83FFFFFE00007FFFFFFE03FFFFFE00001FFFFFFC03FFFFFE000007FFFFF003FFFF
FE0000003FFF8003FFFFFE4F3D7ABC58>I<FFFFFFFF80001FFFFFE0FFFFFFFF80001FFFFFE0FF
FFFFFF80001FFFFFE0FFFFFFFF80001FFFFFE0FFFFFFFF80001FFFFFE0FFFFFFFF80001FFFFFE0
FFFFFFFF80001FFFFFE0007FFFC00000007FE000007FFFC00000003FC000003FFFE00000003F80
00003FFFE00000007F8000001FFFE00000007F0000001FFFF0000000FF0000000FFFF0000000FE
0000000FFFF8000001FE00000007FFF8000001FC00000007FFFC000003FC00000007FFFC000003
FC00000003FFFE000007F800000003FFFE000007F800000001FFFF00000FF000000001FFFF0000
0FF000000000FFFF80001FE000000000FFFF80001FE0000000007FFFC0001FC0000000007FFFC0
003FC0000000003FFFC0003F80000000003FFFE0007F80000000001FFFE0007F00000000001FFF
F000FF00000000000FFFF000FE00000000000FFFF801FE00000000000FFFF801FE000000000007
FFFC03FC000000000007FFFC03FC000000000003FFFE07F8000000000003FFFE07F80000000000
01FFFF07F0000000000001FFFF0FF0000000000000FFFF0FE0000000000000FFFF9FE000000000
00007FFF9FC00000000000007FFFFFC00000000000003FFFFF800000000000003FFFFF80000000
0000003FFFFF800000000000001FFFFF000000000000001FFFFF000000000000000FFFFE000000
000000000FFFFE0000000000000007FFFC0000000000000007FFFC0000000000000003FFF80000
000000000003FFF80000000000000001FFF00000000000000001FFF00000000000000000FFE000
00000000000000FFE00000000000000000FFE000000000000000007FC000000000000000003F80
000000004B3D7CBC54>I<FFFFFFFF81FFFFFFF8003FFFFFE0FFFFFFFF81FFFFFFF8003FFFFFE0
FFFFFFFF81FFFFFFF8003FFFFFE0FFFFFFFF81FFFFFFF8003FFFFFE0FFFFFFFF81FFFFFFF8003F
FFFFE0FFFFFFFF81FFFFFFF8003FFFFFE0FFFFFFFF81FFFFFFF8003FFFFFE0007FFF800000FFFC
0000007FE000007FFFC00000FFFC0000003FC000003FFFC00000FFFC0000003F8000003FFFE000
007FFE0000007F8000001FFFE000007FFE0000007F0000001FFFE000003FFF0000007F0000001F
FFF000007FFF000000FF0000000FFFF000007FFF000000FE0000000FFFF800007FFF800001FE00
000007FFF80000FFFF800001FC00000007FFF80000FFFFC00001FC00000007FFFC0001FFFFC000
03FC00000003FFFC0001FFFFC00003F800000003FFFE0001FFFFE00007F800000001FFFE0003FF
FFE00007F000000001FFFE0003FBFFF00007F000000001FFFF0007FBFFF0000FF000000000FFFF
0007FBFFF0000FE000000000FFFF8007F1FFF8001FE0000000007FFF800FF1FFF8001FC0000000
007FFF800FE0FFFC001FC0000000007FFFC01FE0FFFC003FC0000000003FFFC01FE0FFFC003F80
000000003FFFE01FC07FFE007F80000000001FFFE03FC07FFE007F00000000001FFFE03F803FFF
00FF00000000001FFFF07F803FFF00FF00000000000FFFF07F803FFF00FE00000000000FFFF87F
001FFF81FE000000000007FFF8FF001FFF81FC000000000007FFF8FE000FFFC3FC000000000007
FFFDFE000FFFC3FC000000000003FFFDFE000FFFC3F8000000000003FFFFFC0007FFE7F8000000
000001FFFFFC0007FFE7F0000000000001FFFFF80003FFFFF0000000000001FFFFF80003FFFFF0
000000000000FFFFF80003FFFFE0000000000000FFFFF00001FFFFE00000000000007FFFF00001
FFFFC00000000000007FFFE00000FFFFC00000000000007FFFE00000FFFFC00000000000003FFF
E00000FFFF800000000000003FFFC000007FFF800000000000001FFFC000007FFF000000000000
001FFF8000003FFF000000000000001FFF8000003FFF000000000000000FFF8000003FFE000000
000000000FFF0000001FFE0000000000000007FF0000001FFC0000000000000007FE0000000FFC
0000000000000007FE0000000FFC0000000000000003FC00000007F80000000000000001F80000
0003F0000000006B3D7DBC72>I<7FFFFFFF8001FFFFFFC07FFFFFFF8001FFFFFFC07FFFFFFF80
01FFFFFFC07FFFFFFF8001FFFFFFC07FFFFFFF8001FFFFFFC07FFFFFFF8001FFFFFFC07FFFFFFF
8001FFFFFFC0001FFFF000001FFE0000000FFFF800000FF800000007FFFC00001FF000000003FF
FE00003FE000000001FFFF00007FE000000001FFFF0000FFC000000000FFFF8001FF8000000000
7FFFC001FF00000000003FFFE003FE00000000001FFFF007FC00000000000FFFF80FF800000000
000FFFF81FF0000000000007FFFC3FF0000000000003FFFE7FE0000000000001FFFFFFC0000000
000000FFFFFF800000000000007FFFFF000000000000003FFFFE000000000000003FFFFC000000
000000001FFFF8000000000000000FFFF80000000000000007FFFC0000000000000003FFFE0000
000000000001FFFE0000000000000001FFFF0000000000000001FFFF8000000000000003FFFFC0
00000000000007FFFFE00000000000000FFFFFF00000000000001FFFFFF00000000000003FFFFF
F80000000000007FE7FFFC0000000000007FC3FFFE000000000000FF81FFFF000000000001FF00
FFFF800000000003FE007FFF800000000007FC007FFFC0000000000FFC003FFFE0000000001FF8
001FFFF0000000003FF0000FFFF8000000003FE00007FFFC000000007FC00003FFFC00000000FF
800003FFFE00000001FF000001FFFF00000003FE000000FFFF80000007FC0000007FFFC000001F
FE0000003FFFE000FFFFFFE00007FFFFFFF8FFFFFFE00007FFFFFFF8FFFFFFE00007FFFFFFF8FF
FFFFE00007FFFFFFF8FFFFFFE00007FFFFFFF8FFFFFFE00007FFFFFFF8FFFFFFE00007FFFFFFF8
4D3D7DBC54>I<7FFFFFFFC0000FFFFFF07FFFFFFFC0000FFFFFF07FFFFFFFC0000FFFFFF07FFF
FFFFC0000FFFFFF07FFFFFFFC0000FFFFFF07FFFFFFFC0000FFFFFF07FFFFFFFC0000FFFFFF000
3FFFE00000003FF000003FFFE00000001FE000001FFFF00000001FC000001FFFF00000003FC000
000FFFF00000003F8000000FFFF80000007F80000007FFF80000007F00000007FFFC000000FF00
000003FFFC000000FE00000003FFFE000001FE00000003FFFE000001FE00000001FFFF000003FC
00000001FFFF000003FC00000000FFFF800007F800000000FFFF800007F8000000007FFFC0000F
F0000000007FFFC0000FF0000000003FFFE0000FE0000000003FFFE0001FE0000000001FFFE000
1FC0000000001FFFF0003FC0000000000FFFF0003F80000000000FFFF8007F800000000007FFF8
007F000000000007FFFC00FF000000000007FFFC00FF000000000003FFFE01FE000000000003FF
FE01FE000000000001FFFF03FC000000000001FFFF03FC000000000000FFFF83F8000000000000
FFFF87F80000000000007FFF87F00000000000007FFFCFF00000000000003FFFCFE00000000000
003FFFFFE00000000000001FFFFFC00000000000001FFFFFC00000000000001FFFFFC000000000
00000FFFFF800000000000000FFFFF8000000000000007FFFF0000000000000007FFFF00000000
00000003FFFE0000000000000003FFFE0000000000000001FFFC0000000000000001FFFC000000
0000000000FFF80000000000000000FFF800000000000000007FF000000000000000007FF00000
0000000000007FF000000000000000003FE000000000000000003FE000000000000000003FC000
000000000000003FC000000000000000007F8000000000000000007F8000000000000000007F00
0000000000000000FF000000000000000000FE000000000007E00001FE00000000001FF80001FC
00000000003FFC0003FC00000000007FFE0003F800000000007FFE0007F80000000000FFFF0007
F80000000000FFFF000FF00000000000FFFF000FE00000000000FFFF001FE00000000000FFFF00
3FC00000000000FFFF007F8000000000007FFE00FF0000000000007FFE01FE0000000000003FFC
07FC0000000000003FF83FF80000000000001FFFFFF00000000000000FFFFFE000000000000003
FFFF8000000000000001FFFE00000000000000003FE0000000000000004C587DBC54>I
E /Fr 86 125 df<000FE07C00003819C30000E01F878001C03F0F8003C03F0F8007803E070007
801E000007801E000007801E000007801E000007801E000007801E000007801E000007801E0000
FFFFFFF800FFFFFFF80007801E000007801E000007801E000007801E000007801E000007801E00
0007801E000007801E000007801E000007801E000007801E000007801E000007801E000007801E
000007801E000007801E000007801E000007801E000007801E000007801E00007FF0FFF0007FF0
FFF00021267FA520>11 D<000FE0000038180000E0040001C01E0003C03E0007803E0007803E00
07801C00078000000780000007800000078000000780000007800000FFFFFE00FFFFFE0007803E
0007801E0007801E0007801E0007801E0007801E0007801E0007801E0007801E0007801E000780
1E0007801E0007801E0007801E0007801E0007801E0007801E0007801E0007801E0007801E007F
F0FFE07FF0FFE01B267FA51F>I<000FF60000381E0000E03E0001C03E0003C03E0007801E0007
801E0007801E0007801E0007801E0007801E0007801E0007801E0007801E00FFFFFE00FFFFFE00
07801E0007801E0007801E0007801E0007801E0007801E0007801E0007801E0007801E0007801E
0007801E0007801E0007801E0007801E0007801E0007801E0007801E0007801E0007801E000780
1E007FF9FFE07FF9FFE01B267FA51F>I<0007F01FC000003C0C70300000F003C0080001C00F80
3C0003C01F807C0007801F007C0007801F007C0007800F00380007800F00000007800F00000007
800F00000007800F00000007800F00000007800F000000FFFFFFFFFC00FFFFFFFFFC0007800F00
7C0007800F003C0007800F003C0007800F003C0007800F003C0007800F003C0007800F003C0007
800F003C0007800F003C0007800F003C0007800F003C0007800F003C0007800F003C0007800F00
3C0007800F003C0007800F003C0007800F003C0007800F003C0007800F003C0007800F003C007F
F8FFF3FFC07FF8FFF3FFC02A267FA52E>I<038007800F801F001E003C007000E000C000090974
A51C>19 D<780F00FC1F80FC1F80FE1FC0FE1FC07A0F4002004002004002004002004004008004
008008010008010010020020040040080012117EA51C>34 D<03C00000C00C200001C018100003
C0300C0007803006001F007005C06F0060043F8E00E002001C00E002001C00E002003800E00200
7800E002007000E00200E000E00201E000E00201C000E002038000600403800070040700003004
0F000030080E000018101C00000C203C000003C038000000007003C00000700C200000E0181000
01E030080001C0300400038070040003806004000700E002000F00E002000E00E002001C00E002
003C00E002003800E002007000E002007000E00200E000600401E000700401C000300403800030
0803800018100700000C2003000003C0272D7DA92E>37 D<78FCFCFEFE7A020202020404080810
204007117CA50F>39 D<000800100020004000C001800300030006000E000C001C001C00180038
003800300070007000700070007000F000E000E000E000E000E000E000E000E000E000E000E000
F0007000700070007000700030003800380018001C001C000C000E00060003000300018000C000
400020001000080D397BA916>I<800040002000100018000C000600060003000380018001C001
C000C000E000E00060007000700070007000700078003800380038003800380038003800380038
00380038007800700070007000700070006000E000E000C001C001C0018003800300060006000C
00180010002000400080000D397DA916>I<007000007000007000007000007000607030F07078
F820F83E23E00F278003AE0000F80000F80003AE000F27803E23E0F820F8F07078607030007000
00700000700000700000700015187DA91C>I<0000700000000070000000007000000000700000
000070000000007000000000700000000070000000007000000000700000000070000000007000
0000007000000000700000000070000000007000000000700000FFFFFFFFF0FFFFFFFFF0FFFFFF
FFF000007000000000700000000070000000007000000000700000000070000000007000000000
700000000070000000007000000000700000000070000000007000000000700000000070000000
00700000000070000024257D9F2B>I<78FCFCFEFE7A020202020404080810204007117C850F>I<
FFF8FFF8FFF80D037F8D12>I<78FCFCFCFC7806067C850F>I<0000180000380000380000700000
700000700000E00000E00000E00001C00001C00001C00003800003800003800007000007000007
00000E00000E00000E00001C00001C00001C0000380000380000380000700000700000E00000E0
0000E00001C00001C00001C0000380000380000380000700000700000700000E00000E00000E00
001C00001C00001C0000380000380000380000700000700000700000E00000E00000C000001538
7DA91C>I<00FE000383800701C00E00E01C00701C00703C007838003878003C78003C78003C78
003CF8003EF8003EF8003EF8003EF8003EF8003EF8003EF8003EF8003EF8003EF8003EF8003EF8
003EF8003EF8003E78003C78003C78003C3C00783C00783C00781C00700E00E00701C003838000
FE0017267EA41C>I<00600000E00003E0003FE000FDE000C1E00001E00001E00001E00001E000
01E00001E00001E00001E00001E00001E00001E00001E00001E00001E00001E00001E00001E000
01E00001E00001E00001E00001E00001E00001E00001E00001E00001E00001E00003F000FFFFC0
FFFFC012257BA41C>I<01F80007FF001C1F803007C02003E04001F04001F0F801F8FC01F8FC00
F8FC00F8FC00F87801F80001F80001F00001F00003E00003C00007C0000780000F00001E00001C
0000380000600000C0000180000100000200080400080C00101800103000103FFFF07FFFF0FFFF
E0FFFFE015257DA41C>I<00FE0003FF800F07C01801E01001F03E01F03E01F83E00F83E00F81C
01F80001F80001F00001F00001E00003C0000780000E0001FE000007800001E00000F00000F800
00FC00007C00007E00007E30007E78007EFC007EFC007EFC007CF800FC4000F86000F83001F01E
07E007FF8000FE0017267EA41C>I<0000C00000C00001C00003C00003C00007C0000FC0000BC0
0013C00033C00023C00043C000C3C00083C00103C00303C00203C00403C00C03C00803C01003C0
3003C02003C04003C0C003C0FFFFFEFFFFFE0003C00003C00003C00003C00003C00003C00003C0
0003C0007FFE007FFE17257EA41C>I<1000201E01C01FFFC01FFF801FFF001FFC0013E0001000
0010000010000010000010000010000010000010FC001307001403801801C01001E00001E00000
F00000F00000F80000F80000F87000F8F800F8F800F8F800F8F800F08000F04001F04001E02003
C03007801C0F0007FE0003F80015267DA41C>I<001F80007FE000F03003C0300780780F00F80E
00F81E00703C00003C00003C0000780000780000787E00F88380F900C0FA00E0FC0070FC0078FC
003CF8003CF8003EF8003EF8003EF8003EF8003E78003E78003E78003E78003C3C003C3C007C1C
00781E00700F00E00783C001FF80007E0017267EA41C>I<2000003800003FFFFE3FFFFE7FFFFC
7FFFFC400008400010400020800020800040000080000080000100000200000200000400000C00
000C0000180000180000380000380000380000700000700000F00000F00000F00000F00000F000
01F00001F00001F00001F00001F00001F00001F00000E00017277DA51C>I<007E0003FF800783
C00E00E01C00701800703800383800383800383800383C00383E00701F00701FC0E00FE0C007FB
0003FE0001FF0000FF80033FE0060FF01C07F83801FC3000FC70003C60001EE0001EE0000EE000
0EE0000EE0000E70000C70001C3800381C00700F01E007FF8000FE0017267EA41C>I<00FE0003
FF800783C00E00E01C00F03C0070780078780078F8003CF8003CF8003CF8003CF8003EF8003EF8
003EF8003E78003E78007E3C007E1C007E1C00BE0E013E03823E00FC3E00003C00003C00003C00
007C0000780000781C00F03E00F03E01E03C01C01803801C0F000FFC0003F00017267EA41C>I<
78FCFCFCFC7800000000000000000000000078FCFCFCFC7806187C970F>I<78FCFCFCFC780000
0000000000000000000070F8FCFCFC7C040404040808081020204006237C970F>I<7FFFFFFFE0
FFFFFFFFF0FFFFFFFFF00000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000FFFFFFFFF0FFFFFFFFF07FFFFFFFE0240F7D942B>61
D<03F8001C0F002007804003C06003C0F803E0F803E0F803E07003E00003C00007C0000780000E
00001C000018000030000030000060000060000040000040000040000040000040000040000040
0000000000000000000000000000000000000001E00003F00003F00003F00003F00001E0001326
7DA51A>63 D<00002000000000700000000070000000007000000000F800000000F800000000F8
000000017C000000017C000000017C000000023E000000023E000000023E000000041F00000004
1F0000000C1F800000080F800000080F800000100FC000001007C000001007C000002003E00000
2003E000002003E000004001F000007FFFF000007FFFF000008000F800008000F800018000FC00
0100007C000100007C000200007E000200003E000200003E000600001F001F00003F00FFE003FF
F8FFE003FFF825277EA62A>65 D<FFFFFE0000FFFFFFC00003E003E00003E001F00003E000F800
03E000FC0003E0007C0003E0007E0003E0007E0003E0007E0003E0007E0003E0007E0003E0007C
0003E000FC0003E000F80003E001F00003E003E00003E00FC00003FFFFC00003E001F00003E000
7C0003E0007E0003E0003E0003E0003F0003E0001F0003E0001F8003E0001F8003E0001F8003E0
001F8003E0001F8003E0001F8003E0003F0003E0003F0003E0007E0003E000FC0003E003F800FF
FFFFE000FFFFFF800021267EA527>I<0001FE0080000FFF8180003F01C380007C00338001F000
1F8003E0000F8007C00007800F800003800F800003801F000001803F000001803E000001807E00
0000807E000000807C000000807C00000000FC00000000FC00000000FC00000000FC00000000FC
00000000FC00000000FC00000000FC000000007C000000007C000000007E000000807E00000080
3E000000803F000000801F000001000F800001000F8000030007C000020003E000040001F00008
00007C003000003F00E000000FFF80000001FE000021287DA628>I<FFFFFE0000FFFFFFC00003
E003F00003E000F80003E0007C0003E0003E0003E0001F0003E0000F8003E0000F8003E00007C0
03E00007C003E00007E003E00003E003E00003E003E00003E003E00003F003E00003F003E00003
F003E00003F003E00003F003E00003F003E00003F003E00003F003E00003F003E00003E003E000
03E003E00003E003E00007C003E00007C003E000078003E0000F8003E0001F0003E0003E0003E0
007C0003E000F80003E003F000FFFFFFC000FFFFFE000024267EA52A>I<FFFFFFFC00FFFFFFFC
0003E0007C0003E0001E0003E0000E0003E000060003E000060003E000020003E000020003E000
020003E000010003E004010003E004010003E004000003E004000003E00C000003E01C000003FF
FC000003FFFC000003E01C000003E00C000003E004000003E004000003E004008003E004008003
E000008003E000018003E000010003E000010003E000010003E000030003E000030003E0000300
03E000070003E0001E0003E0007E00FFFFFFFE00FFFFFFFE0021267EA526>I<FFFFFFF8FFFFFF
F803E000F803E0003C03E0001C03E0000C03E0000C03E0000403E0000403E0000403E0000203E0
000203E0080203E0080003E0080003E0080003E0180003E0380003FFF80003FFF80003E0380003
E0180003E0080003E0080003E0080003E0080003E0000003E0000003E0000003E0000003E00000
03E0000003E0000003E0000003E0000003F00000FFFFC000FFFFC0001F267EA524>I<0001FE00
80000FFF8180003F01C380007C00338001F0001F8003E0000F8007C00007800F800003800F8000
03801F000001803F000001803E000001807E000000807E000000807C000000807C00000000FC00
000000FC00000000FC00000000FC00000000FC00000000FC00000000FC00000000FC0007FFF87C
0007FFF87C00001F807E00000F807E00000F803E00000F803F00000F801F00000F800F80000F80
0F80000F8007C0000F8003E0000F8001F0001780007C002380003F80C180000FFF80800001FE00
0025287DA62B>I<FFFF8FFFF8FFFF8FFFF803E0003E0003E0003E0003E0003E0003E0003E0003
E0003E0003E0003E0003E0003E0003E0003E0003E0003E0003E0003E0003E0003E0003E0003E00
03E0003E0003E0003E0003E0003E0003FFFFFE0003FFFFFE0003E0003E0003E0003E0003E0003E
0003E0003E0003E0003E0003E0003E0003E0003E0003E0003E0003E0003E0003E0003E0003E000
3E0003E0003E0003E0003E0003E0003E0003E0003E0003E0003E0003E0003E00FFFF8FFFF8FFFF
8FFFF825267EA52A>I<FFFF80FFFF8007F00003E00003E00003E00003E00003E00003E00003E0
0003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E0
0003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00007F0
00FFFF80FFFF8011267FA514>I<03FFFC03FFFC000FC00007C00007C00007C00007C00007C000
07C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C000
07C00007C00007C00007C00007C00007C00007C00007C07807C0FC07C0FC07C0FC07C0F8078070
0F80400F00201E0018380007E00016277EA51C>I<FFFF803FF8FFFF803FF803E0000FC003E000
060003E000040003E000080003E000100003E000200003E000400003E000800003E001000003E0
02000003E004000003E008000003E010000003E030000003E078000003E0FC000003E17C000003
E23E000003E43E000003E81F000003F00F800003E00F800003E007C00003E007E00003E003E000
03E001F00003E001F00003E000F80003E0007C0003E0007C0003E0003E0003E0003F0003E0001F
0003E0003FC0FFFF81FFF8FFFF81FFF825267EA52B>I<FFFFC000FFFFC00003F0000003E00000
03E0000003E0000003E0000003E0000003E0000003E0000003E0000003E0000003E0000003E000
0003E0000003E0000003E0000003E0000003E0000003E0000003E0000003E0000003E0000003E0
000403E0000403E0000403E0000403E0000803E0000803E0000803E0001803E0001803E0003803
E0007803E000F003E003F0FFFFFFF0FFFFFFF01E267EA523>I<FFE000003FFCFFE000003FFC03
E000003F0002F000005F0002F000005F00027800009F00027800009F00027800009F00023C0001
1F00023C00011F00023C00011F00021E00021F00021E00021F00021E00021F00020F00041F0002
0F00041F00020780081F00020780081F00020780081F000203C0101F000203C0101F000203C010
1F000201E0201F000201E0201F000200F0401F000200F0401F000200F0401F00020078801F0002
0078801F00020078801F0002003D001F0002003D001F0002003D001F0002001E001F0007001E00
1F000F800C001F00FFF80C07FFFCFFF80C07FFFC2E267EA533>I<FFE000FFF8FFF000FFF803F8
000F8002F8000700027C000200027C000200023E000200021F000200021F000200020F80020002
0FC002000207C002000203E002000203F002000201F002000200F802000200FC020002007C0200
02003E020002003F020002001F020002000F820002000F8200020007C200020003E200020003E2
00020001F200020000FA00020000FA000200007E000200007E000200003E000200001E00020000
1E000700000E000F80000600FFF8000600FFF800020025267EA52A>I<0003FC0000001E078000
007801E00000F000F00001E000780003C0003C000780001E000F00000F001F00000F801F00000F
803E000007C03E000007C07E000007E07C000003E07C000003E0FC000003F0FC000003F0FC0000
03F0FC000003F0FC000003F0FC000003F0FC000003F0FC000003F0FC000003F0FC000003F07C00
0003E07E000007E07E000007E03E000007C03E000007C01F00000F801F00000F800F80001F0007
80001E0003C0003C0001E000780000F000F000007801E000001E0780000003FC000024287DA62B
>I<FFFFFE00FFFFFFC003E007F003E000F803E0007C03E0007C03E0003E03E0003E03E0003F03
E0003F03E0003F03E0003F03E0003F03E0003E03E0003E03E0007C03E0007803E001F003E007E0
03FFFF8003E0000003E0000003E0000003E0000003E0000003E0000003E0000003E0000003E000
0003E0000003E0000003E0000003E0000003E0000003E0000003E00000FFFF8000FFFF80002026
7EA526>I<0003FC0000001E078000007801E00000F000F00001E000780003C0003C000780001E
000F80001F001F00000F801F00000F803E000007C03E000007C07E000007E07E000007E07C0000
03E0FC000003F0FC000003F0FC000003F0FC000003F0FC000003F0FC000003F0FC000003F0FC00
0003F0FC000003F0FC000003F07C000003E07E000007E07E000007E03E000007C03E000007C01F
00000F801F00F00F800F81081F000782041E0003C2023C0001E203780000F201F000007A01E000
001F0780100003FD8010000001C010000001C030000000E030000000F0F0000000FFE0000000FF
E00000007FE00000007FC00000003F800000001F0024327DA62B>I<FFFFF80000FFFFFF000003
E00FC00003E003F00003E000F80003E000F80003E0007C0003E0007E0003E0007E0003E0007E00
03E0007E0003E0007E0003E0007C0003E0007C0003E000F80003E001F00003E003E00003E00F80
0003FFFC000003E01E000003E007000003E003800003E003C00003E001E00003E001F00003E001
F00003E001F00003E001F00003E001F00003E001F80003E001F80003E001F80003E001F80403E0
01F80403E000FC0403E000FC08FFFF807E08FFFF801E1000000007E026277EA529>I<01FC0407
FF0C0F038C1C00DC38003C78001C70001CF0000CF0000CF0000CF00004F00004F80004F800007C
00007F00003FF0001FFF000FFFC007FFF003FFF8003FFC0003FC00007E00003E00001F00001F80
000F80000F80000F80000FC0000FC0000EE0001EE0001CF8003CEC0038C780F0C1FFE0807F8018
287DA61F>I<7FFFFFFFC07FFFFFFFC07C01F007C07001F001C06001F000C04001F000404001F0
0040C001F000608001F000208001F000208001F000208001F000208001F000200001F000000001
F000000001F000000001F000000001F000000001F000000001F000000001F000000001F0000000
01F000000001F000000001F000000001F000000001F000000001F000000001F000000001F00000
0001F000000001F000000001F000000001F000000001F000000003F8000001FFFFF00001FFFFF0
0023267EA528>I<FFFF80FFF8FFFF80FFF803E0000F8003E000070003E000020003E000020003
E000020003E000020003E000020003E000020003E000020003E000020003E000020003E0000200
03E000020003E000020003E000020003E000020003E000020003E000020003E000020003E00002
0003E000020003E000020003E000020003E000020003E000020003E000020003E000020001E000
040001F000040000F000040000F00008000078001800003C003000001E006000000F81C0000007
FF80000000FC000025277EA52A>I<FFFE000FFEFFFE000FFE07E00001F007E00000C003E00000
8003E000008001F000010001F000010001F000010000F800020000F800020000FC000600007C00
0400007C000400003E000800003E000800003F000800001F001000001F001000001F803000000F
802000000F8020000007C040000007C040000007E040000003E080000003E080000001F1000000
01F100000001F900000000FA00000000FA00000000FE000000007C000000007C00000000380000
00003800000000380000000010000027277FA52A>I<FFFE0FFFE01FFCFFFE0FFFE01FFC0FE000
7E0003E007C0007C0001C007C0003E00008003E0003E00010003E0003E00010003E0003F000100
03F0003F00030001F0003F00020001F0004F80020001F8004F80020000F8004F80040000F80087
C0040000F80087C00400007C0087C00800007C0187E00800007C0103E00800003E0103E0100000
3E0103F01000003E0201F01000001F0201F02000001F0201F82000001F0400F82000000F8400F8
4000000F8400F84000000F88007C40000007C8007C80000007C8007C80000007D0003E80000003
F0003F00000003F0003F00000003E0001F00000003E0001F00000001E0001E00000001C0000E00
000001C0000E00000000C0000C00000000800004000036277FA539>I<7FFF00FFF07FFF00FFF0
03FC003F0001F8001C0000F800180000FC001000007E002000003E006000003F004000001F8080
00000F818000000FC100000007C200000003E600000003F400000001F800000001F800000000FC
000000007C000000007E000000007F000000009F000000019F800000010FC000000207C0000006
07E000000403F000000801F000001801F800001000F8000020007C000060007E000040003E0000
80003F0001C0001F8007E0003FC0FFF801FFFEFFF801FFFE27267FA52A>I<FFFE0007FEFFFE00
07FE07E00001F003E00000C003F000008001F000010001F800010000FC00020000FC000400007E
000400003E000800003F001800001F801000001F802000000FC020000007C040000007E0C00000
03E080000003F100000001F900000000FA00000000FE000000007C000000007C000000007C0000
00007C000000007C000000007C000000007C000000007C000000007C000000007C000000007C00
0000007C000000007C000000007C0000001FFFF000001FFFF00027267FA52A>I<3FFFFFE03FFF
FFE03F8007C03C000FC038000F8030001F0030001F0060003E0060007E0040007C004000F80040
00F8004001F0000003F0000003E0000007C000000FC000000F8000001F0000001F0000003E0000
007E0000007C000000F8002001F8002001F0002003E0002003E0002007C000600FC000600F8000
401F0000C01F0000C03E0001C07E0003C07C001FC0FFFFFFC0FFFFFFC01B267DA522>I<FFFFFF
E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0
E0E0E0E0E0E0E0E0E0E0E0FFFFFF08387BA90F>I<040080080100100200200400200400400800
400800801000801000801000801000BC1780FE1FC0FE1FC07E0FC07E0FC03C0780121179A51C>
I<FFFFFF0707070707070707070707070707070707070707070707070707070707070707070707
070707070707070707070707070707FFFFFF08387FA90F>I<07F80000180E00003C0780003E03
C0003E01C0003E01E0000801E0000001E0000001E0000001E00000FFE00003E1E0000F01E0001E
01E0003C01E0007C01E000F801E080F801E080F801E080F803E0807803E0807C04F1801E08FF00
07F03C0019187E971C>97 D<0F000000FF000000FF0000001F0000000F0000000F0000000F0000
000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0FC0000F3070000F40
38000F801C000F000E000F000F000F0007800F0007800F0007800F0007C00F0007C00F0007C00F
0007C00F0007C00F0007C00F0007800F0007800F000F800F000F000F000E000F801C000E403800
0C20F000081F80001A267EA51F>I<00FF800380600700F00E01F01C01F03C01F07C0040780000
780000F80000F80000F80000F80000F80000F800007800007800007C00003C00101C00100E0020
07004003818000FE0014187E9719>I<00003C000003FC000003FC0000007C0000003C0000003C
0000003C0000003C0000003C0000003C0000003C0000003C0000003C0000003C00007E3C0003C1
3C000700BC000E007C001C003C003C003C007C003C0078003C0078003C00F8003C00F8003C00F8
003C00F8003C00F8003C00F8003C0078003C0078003C0078003C003C003C001C003C000E007C00
0700BE0003833FC000FC3FC01A267EA51F>I<00FC000387000E03801E01C03C01E03C01E07800
E07800F0F800F0F800F0FFFFF0F80000F80000F80000F800007800007800007C00003C00101C00
100E002007004003818000FE0014187E9719>I<003F0000F18001C3C003C7C00387C007838007
8000078000078000078000078000078000078000078000FFFC00FFFC0007800007800007800007
800007800007800007800007800007800007800007800007800007800007800007800007800007
80000780000780000780007FFC007FFC0012267FA511>I<00001E01F861070E871E07871C0382
3C03C07C03E07C03E07C03E07C03E07C03E03C03C01C03801E0780170E0011F800300000300000
3000003000003800001FFF800FFFE00FFFF01800F830003C70001EE0000EE0000EE0000EE0000E
E0000E70001C3800381C00700701C001FF0018257E981C>I<0F000000FF000000FF0000001F00
00000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F
0000000F0FC0000F1070000F2078000F4038000F803C000F803C000F003C000F003C000F003C00
0F003C000F003C000F003C000F003C000F003C000F003C000F003C000F003C000F003C000F003C
000F003C000F003C000F003C00FFF1FFC0FFF1FFC01A267EA51F>I<0E001F003F003F001F000E
00000000000000000000000000000000000F00FF00FF001F000F000F000F000F000F000F000F00
0F000F000F000F000F000F000F000F000F000F000F00FFF0FFF00C267FA50F>I<007800FC00FC
00FC00FC007800000000000000000000000000000000003C07FC07FC007C003C003C003C003C00
3C003C003C003C003C003C003C003C003C003C003C003C003C003C003C003C003C003C003C003C
003C703CF838F878F87060E01F800E3182A511>I<0F000000FF000000FF0000001F0000000F00
00000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F
03FF000F03FF000F00F0000F00C0000F0080000F0100000F0200000F0400000F0800000F1C0000
0F3C00000F7E00000F9E00000F0F00000F0F80000F0780000F07C0000F03C0000F01E0000F01F0
000F01F0000F01F800FFE3FF80FFE3FF8019267EA51D>I<0F00FF00FF001F000F000F000F000F
000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F00
0F000F000F000F000F000F000F000F000F00FFF0FFF00C267FA50F>I<0F07E00FC000FF187830
F000FF203C4078001F401C8038000F801F003C000F801F003C000F001E003C000F001E003C000F
001E003C000F001E003C000F001E003C000F001E003C000F001E003C000F001E003C000F001E00
3C000F001E003C000F001E003C000F001E003C000F001E003C000F001E003C000F001E003C000F
001E003C00FFF1FFE3FFC0FFF1FFE3FFC02A187E972F>I<0F0FC000FF107000FF2078001F4038
000F803C000F803C000F003C000F003C000F003C000F003C000F003C000F003C000F003C000F00
3C000F003C000F003C000F003C000F003C000F003C000F003C000F003C000F003C00FFF1FFC0FF
F1FFC01A187E971F>I<00FE000383800701C01E00F01C00703C007878003C78003C78003CF800
3EF8003EF8003EF8003EF8003EF8003EF8003E78003C78003C3C00783C00781E00F00F01E00383
8000FE0017187E971C>I<0F0FC000FF307000FF4038000F801C000F001E000F000F000F000F80
0F000F800F0007800F0007C00F0007C00F0007C00F0007C00F0007C00F0007C00F0007800F000F
800F000F800F000F000F001E000F801C000F4038000F20F0000F1F80000F0000000F0000000F00
00000F0000000F0000000F0000000F0000000F0000000F000000FFF00000FFF000001A237E971F
>I<007C040003C30C0007008C000E005C001E007C003C003C007C003C007C003C0078003C00F8
003C00F8003C00F8003C00F8003C00F8003C00F8003C0078003C007C003C007C003C003C003C00
1E007C000E007C000700BC0003833C0000FC3C0000003C0000003C0000003C0000003C0000003C
0000003C0000003C0000003C0000003C000003FFC00003FFC01A237E971D>I<0F1F00FF2380FF
47C01F87C00F87C00F83800F00000F00000F00000F00000F00000F00000F00000F00000F00000F
00000F00000F00000F00000F00000F00000F0000FFF800FFF80012187E9716>I<07E100181B00
300700600300E00300E00100E00100F00100FC00007FE0003FF8001FFC0007FE00007F00000F80
800780800380C00380C00380C00300E00300F00600CC1C0083F00011187E9716>I<0080000080
000080000080000180000180000180000380000780000F80001FFF00FFFF000780000780000780
000780000780000780000780000780000780000780000780000780000780800780800780800780
8007808007808003810003C10001E200007C0011227FA116>I<0F003C00FF03FC00FF03FC001F
007C000F003C000F003C000F003C000F003C000F003C000F003C000F003C000F003C000F003C00
0F003C000F003C000F003C000F003C000F003C000F007C000F007C0007007C000700BE0003C33F
C000FC3FC01A187E971F>I<FFF07FC0FFF07FC00F801E000F800C00078008000780080003C010
0003C0100003C0100001E0200001E0200000F0400000F0400000F040000078800000788000003D
0000003D0000003D0000001E0000001E0000001E0000000C0000000C00001A187F971D>I<FFE3
FF0FF8FFE3FF0FF81F007803E00F007801800F0038018007803C010007807C010007C05C030003
C05E020003C08E020001E08E040001E08F040001E107040000F107880000F107880000F2038800
007A03D000007A03D000007C01D000003C01E000003C01E000003800E000001800C000001800C0
0025187F9728>I<FFE0FFC0FFE0FFC00F807C000780300003C0200003E0400001E0800000F180
0000790000007A0000003C0000001E0000001F0000001F0000002780000063C0000043C0000081
E0000100F0000200F800060078001F007C00FF81FFE0FF81FFE01B187F971D>I<FFF07FC0FFF0
7FC00F801E000F800C00078008000780080003C0100003C0100003C0100001E0200001E0200000
F0400000F0400000F040000078800000788000003D0000003D0000003D0000001E0000001E0000
001E0000000C0000000C00000008000000080000001800000010000020100000F8200000F82000
00F8400000F0C00000618000001E0000001A237F971D>I<7FFFF07801E06003E04003C0400780
C00F80800F00801E00803E00003C0000780000F00000F00001E00003C01007C0100780100F0010
1F00301E00203C00607C00607801E0FFFFE014187E9719>I<FFFFFFFFFFFFFC3601808E37>124
D E /Fs 57 123 df<000007F01F0000003C1C70C00000700CE0C00000F01EE1E00000E03DE3C0
0001E019E1800001E003C0000001E003C0000003C003C0000003C003C0000003C003C0000003C0
0780000003C007800000078007800000FFFFFFFE0000FFFFFFFE000007800F00000007800F0000
000F000F0000000F000F0000000F000F0000000F001E0000000F001E0000001E001E0000001E00
1E0000001E001E0000001E003C0000001E003C0000001E003C0000003C003C0000003C003C0000
003C003C0000003C00780000003C00780000007800780000007800780000007800700000007800
F0000000F000F0000000F000F0000000F000E0000000F001E0000000E001E0000071E701C00000
F1CF03800000F1CF03800000E18E0600000063060C0000003E01F00000002B3182A522>11
D<000007FE0000001E0380000078018000007003C00000E007800001E003000001E000000001E0
00000003C000000003C000000003C000000003C000000003C00000000780000000FFFFFE0000FF
FFFE000007803C000007803C00000F003C00000F003C00000F007800000F007800000F00780000
1E007800001E00F000001E00F000001E00F000001E00F000003C01E000003C01E180003C01E180
003C01E180003C03C300007803C300007803C300007801C600007800C400007800780000F00000
0000F000000000F000000000E000000000E000000071E0000000F1C0000000F1C0000000E18000
000063000000003C00000000223182A51F>I<000007F8F000001C0EF000003806F00000700FF0
0000F01FE00000E00DE00001E001E00001E001E00001E003C00003C003C00003C003C00003C003
C00003C007800003C0078000FFFFFF8000FFFFFF800007800F000007800F000007800F00000F00
0F00000F001E00000F001E00000F001E00000F001E00000F003C00001E003C00001E003C00001E
003C00001E007800001E007860003C007860003C007860003C00F0C0003C00F0C0003C00F0C000
7800718000780031000078001E00007800000000F000000000F000000000F000000000E0000000
70E0000000F1C0000000F1C0000000E18000000063000000003E00000000243182A521>I<0000
00C018000001C038000001C0380000038070000003807000000700E000000700E000000E01C000
000E01C000001C038000001C0380000038070000003807000000700E000000700E000000E01C00
0000E01C000FFFFFFFF01FFFFFFFFC1FFFFFFFFC000700E000000700E000000700E000000E01C0
00000E01C000000E01C000001C038000001C038000001C038000FFFFFFFFE0FFFFFFFFE07FFFFF
FFC000E01C000001C038000001C0380000038070000003807000000700E000000700E000000E01
C000000E01C000001C038000001C038000001C0380000038070000003807000000700E00000070
0E000000600C00000026317AA52D>35 D<07000F801F801F801F800E8000800080010001000200
04000400080010002000C000091175A511>39 D<00001000002000004000008000010000030000
0600000C0000180000380000700000600000E00001C00001C0000380000380000700000700000F
00000E00000E00001E00001C00001C00003C000038000038000078000078000070000070000070
0000F00000F00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E0
0000E00000600000600000600000300000300000100000180000080000040000040000143979A9
17>I<0002000001000000800000C00000C0000060000060000070000070000030000030000038
000038000038000038000038000038000038000038000038000078000078000078000070000070
0000700000F00000F00000E00000E00001E00001E00001C00003C00003C0000380000780000700
000700000E00000E00001C00001C0000380000380000700000600000E00001C000018000030000
0600000C0000180000100000600000C00000153980A917>I<000E00000E00001C00001C00001C
001818183C18383E18F81F11E007B78001FE0000780000F00003FC000F6F003C47C0F8C3E0E0C1
E0C0C0C001C00001C00001C000038000038000151876A91C>I<07000F801F801F801F800E8000
80008001000100020004000400080010002000C00009117D8511>44 D<FFF0FFF0FFF0FFE00C04
7B8D14>I<387CFCFCF87006067A8511>I<0000200000600000E00001C00003C00007C0001FC001
F78003C780000780000780000F00000F00000F00000F00001E00001E00001E00001E00003C0000
3C00003C00003C0000780000780000780000780000F00000F00000F00000F00001E00001E00001
E00003E000FFFF00FFFF0013257AA41C>49 D<0003E000000C180000180C0000200E0000600700
00C00700008007000188070001040780030407800304070006080F0006080F0006080F0006101E
0006201E0006603C0003803800000070000000E0000001C00000038000000F0000001C00000070
000000E000000180000003000200060006000C00060018000C0038000C00300018007F00380061
E07000E07FE000C03FC000C00F000019267CA41C>I<0003F0000C1800100C00600E00C00700C0
0701800F01900F03080F03080F03080F03101E03201E01C03C0000380000700000E0003FC0007F
000003000001C00000C00000E00000E00000E00000F00000F06001E0F001E0F001E0E003C0C003
C0C00380C00700400E00601C003070000FC00018267BA41C>I<038007C00FC00FC00F80070000
000000000000000000000000000000000000000000000038007C00FC00FC00F80070000A187A97
11>58 D<0000006000000000E000000000E000000001E000000001F000000003F000000003F000
000006F00000000EF00000000CF000000018F000000018F000000030F000000030F000000060F0
00000060F0000000C0F0000000C0F000000180F000000300F000000300F000000600F000000600
F800000C007800000C007800001FFFF800001FFFF80000300078000070007800006000780000C0
00780000C000780001800078000180007800030000780007000078001F80007800FFE00FFFC0FF
E00FFFC022277DA629>65 D<007FFFFE00007FFFFF800003C007C00003C003E000078001F00007
8001F000078000F000078000F0000F0000F0000F0001F0000F0001F0000F0001E0001E0003E000
1E0007C0001E000780001E000F00003C003E00003C01F800003FFFF800003C003C000078001E00
0078001F000078000F000078000F8000F0000F8000F0000F8000F0000F8000F0000F8001E0001F
0001E0001F0001E0001E0001E0003E0003C0007C0003C000F80003C001F00007C007E000FFFFFF
8000FFFFFE000024267DA527>I<00001FC0300000FFF0600003F03860000F800CE0001E0007E0
003C0007C000780003C000F00003C001E00003C003C000038007C000038007800003800F000003
801F000003001F000003003E000000003E000000003C000000007C000000007C000000007C0000
0000F800000000F800000000F800000000F800000000F800000000F800001800F800001800F800
003000F800003000780000300078000060007C0000C0003C000180001E000300001E000600000F
800C000007E078000001FFE00000007F800000242878A628>I<007FFFFFF8007FFFFFF80003C0
01F80003C000780007800038000780003800078000300007800030000F000030000F000030000F
000030000F003030001E006060001E006000001E006000001E00E000003C01C000003FFFC00000
3FFFC000003C03C000007801800000780180000078018000007801806000F00300C000F00000C0
00F000018000F000018001E000018001E000030001E000070001E000060003C0000E0003C0001E
0003C0003C0007C001FC00FFFFFFFC00FFFFFFF80025267DA526>69 D<007FFFFFF0007FFFFFF0
0003C003F00003C000F00007800070000780007000078000600007800060000F000060000F0000
60000F000060000F000060001E00C0C0001E00C000001E00C000001E01C000003C018000003C03
8000003FFF8000003FFF8000007807000000780300000078030000007803000000F006000000F0
06000000F000000000F000000001E000000001E000000001E000000001E000000003C000000003
C000000003C000000007C0000000FFFF000000FFFF00000024267DA524>I<00001FC0300000FF
F0600003F03860000F800CE0001E0007E0003C0007C000780003C000F00003C001E00003C003C0
00038007C000038007800003800F000003801F000003001F000003003E000000003E000000003C
000000007C000000007C000000007C00000000F800000000F800000000F8000FFF80F8001FFF80
F800007800F800007800F800007800F800007800F80000F000780000F000780000F0007C0000F0
003C0001E0001E0001E0001F0003E0000F800EE00007E03CC00001FFF04000007F800000242878
A62B>I<007FFF007FFF0003C00003C0000780000780000780000780000F00000F00000F00000F
00001E00001E00001E00001E00003C00003C00003C00003C0000780000780000780000780000F0
0000F00000F00000F00001E00001E00001E00001E00003C00003C00003C00007C000FFFE00FFFE
0018267DA515>73 D<007FFF80007FFF800003C0000003C0000007800000078000000780000007
8000000F0000000F0000000F0000000F0000001E0000001E0000001E0000001E0000003C000000
3C0000003C0000003C00000078000000780000007800000078000400F0000C00F0000C00F0000C
00F0001801E0001801E0003801E0003001E0007003C0007003C000E003C003E007C00FE0FFFFFF
C0FFFFFFC01E267DA523>76 D<007FE000007FF0007FE000007FE00003E00000FC000003E00001
BC000006E00001F8000006E0000378000006E0000378000006E000067800000CE0000CF000000C
E0000CF000000CE00018F000000C700018F0000018700031E0000018700031E0000018700061E0
0000187000C1E00000307000C3C0000030700183C0000030700183C0000030700303C000006070
06078000006070060780000060380C0780000060380C07800000C038180F000000C038300F0000
00C038300F000000C038600F0000018038601E0000018038C01E0000018039801E000001803980
1E000003003B003C000003001F003C000003001E003C00000F801C007C0000FFF81C0FFFE000FF
F0180FFFC00034267DA532>I<00003F80000001E0E0000007803800000E001C00001C001E0000
78000E0000F0000F0001E000070001C000078003C000078007800007800F800007800F00000780
1F000007801E000007803E000007803E000007803C00000F807C00000F807C00000F807C00000F
80F800001F00F800001F00F800001F00F800003E00F800003E00F800003C00F800007C00F80000
7800F80000F800F80001F000780001E000780003C00038000780003C000F00001C001E00000E00
3C000007007000000381C0000000FE000000212878A62A>79 D<007FFFFC00007FFFFF800003C0
07C00003C003E000078001E000078001F000078001F000078001F0000F0001F0000F0001F0000F
0001F0000F0001F0001E0003E0001E0003E0001E0007C0001E000780003C000F00003C001E0000
3C00F800003FFFE000007800000000780000000078000000007800000000F000000000F0000000
00F000000000F000000001E000000001E000000001E000000001E000000003C000000003C00000
0003C000000007C0000000FFFE000000FFFC00000024267DA526>I<007FFFF800007FFFFE0000
03C01F800003C007C000078003C000078003E000078003E000078003E0000F0003E0000F0003E0
000F0003E0000F0003C0001E0007C0001E000780001E000F00001E001E00003C003800003C01E0
00003FFF0000003C038000007801C000007800E000007800E000007800F00000F000F00000F000
F00000F000F00000F000F00001E001F00001E001F00001E001F00001E001F00003C003F02003C0
03F06003C001F06007C001F0C0FFFE00F080FFFC00F1800000003E0023277DA528>82
D<0000FC0C0003FF08000F0798001C01F8003800F8007000F00070007000E0007000E0007001C0
006001C0006001C0006001C0006001C0000001E0000001F0000001FC000000FF8000007FF00000
3FFC00000FFC000001FE0000003F0000000F0000000F0000000F00000007001800070018000700
38000E0030000E0030000E0038001C0078001C00780038007C0070007E00E000E783C000C3FF80
0080FE00001E287CA61F>I<0FFFFFFFC00FFFFFFFC00F807807C01E007801C01C00F001C01800
F001C03800F001803000F001803001E001806001E001806001E001806001E00180C003C0030000
03C000000003C000000003C000000007800000000780000000078000000007800000000F000000
000F000000000F000000000F000000001E000000001E000000001E000000001E000000003C0000
00003C000000003C000000003C00000000780000000078000000007800000000F80000007FFFF0
00007FFFF00000222677A528>I<7FFF03FFE07FFE03FFC003C0007E0003C00038000780003000
0780003000078000300007800030000F000060000F000060000F000060000F000060001E0000C0
001E0000C0001E0000C0001E0000C0003C000180003C000180003C000180003C00018000780003
0000780003000078000300007800030000F000060000F000060000F000060000F0000C0000F000
0C0000E0000C0000E000180000E000300000F00030000070006000007000C0000038038000001E
0F0000000FFC00000003F0000000232775A529>I<FFF800FFE0FFF800FFE00F80001F000F0000
1C000F800018000780001800078000300007800070000780006000078000C000078000C0000780
018000078001800007800300000780060000078006000007800C000003C00C000003C018000003
C038000003C030000003C060000003C060000003C0C0000003C0C0000003C180000003C3800000
03C300000003C600000003C600000001EC00000001EC00000001F800000001F000000001F00000
0001E000000001E000000001C000000001C0000000232775A529>I<003C3000E2780181F00301
F00701F00E00F01E01E01C01E03C01E03C01E07803C07803C07803C07803C0700780F00786F007
86700786700F0C700F0C701F0C3037181843100F81E017187B971C>97 D<01E0001FE0003FE000
03E00003C00003C00003C00003C0000780000780000780000780000F00000F00000F3E000F4300
1F81801F01C01E01C01E01C03C01C03C01E03C01E03C01C07803C07803C07803C07803C0700780
F00780F00700700F00700E00701C0070180030300018E0000F800013267BA519>I<003E0000E1
800380800701C00E03C01C03C01C0380380000780000780000F00000F00000F00000F00000E000
00E00000E00000E00080E00180E00300700600300C001838000FC00012187A9719>I<00000F00
00FF0001FF00001F00001E00001E00001E00001E00003C00003C00003C00003C00007800007800
3C7800E2780181F00301F00701F00E00F01E01E01C01E03C01E03C01E07803C07803C07803C078
03C0700780F00786F00786700786700F0C700F0C701F0C3037181843100F81E018267BA51C>I<
003E0001C1000381800700C00E00C01C00C03C0180380180780700781C00FFF000F00000F00000
F00000F00000E00000E00000E00080E00180700300700600300C0018380007C00012187A9719>
I<00001E00000071800000E1800000E3C00001E7800001E3000003C0000003C0000003C0000003
C0000003C00000078000000780000007800000FFFE0001FFFE00000F0000000F0000000F000000
0F0000000F0000001E0000001E0000001E0000001E0000001E0000003C0000003C0000003C0000
003C0000003C0000003C00000078000000780000007800000078000000F0000000F0000000F000
0000F0000000E0000001E0000001E0000071C00000F1C00000F1800000E3800000630000003C00
00001A3182A511>I<000F0C00389E00607C00C07C01C07C03803C0780780700780F00780F0078
1E00F01E00F01E00F01E00F01C01E03C01E03C01E01C01E01C03C01C03C01C07C00C0FC0061780
03E780000780000780000F00000F00000F00001E00601E00F03C00F07800E0E0007F800017237D
9719>I<0078000007F800000FF8000000F8000000F0000000F0000000F0000000F0000001E000
0001E0000001E0000001E0000003C0000003C0000003C7C00003D8700007B0780007E0380007C0
3800078078000F8078000F0078000F0078000F0078001E00F0001E00F0001E00F0001E01E0003C
01E0003C01E1803C03C1803C03C1807803C300780783007803860078038400F00188006000F000
19267DA51C>I<0030007800780030000000000000000000000000000000000000078019C030E0
21E061E061E0C1E0C3C003C00780078007800F000F000F001E181E183C183C303C303C2038601C
C00F000D257CA411>I<0000300000780000780000300000000000000000000000000000000000
00000000000000000000000F000031800061C000C1E00081E00181E00183C00303C00003C00003
C0000780000780000780000780000F00000F00000F00000F00001E00001E00001E00001E00003C
00003C00003C00003C0000780000780000780000F00060F000F1E000F1C000E300007C00001530
82A411>I<00780007F8000FF80000F80000F00000F00000F00000F00001E00001E00001E00001
E00003C00003C00003C07803C08407830E07841E07841E07880C0F10000F20000F40000F80001F
80001EF0001E38001E3C003C1E003C1E0C3C1E0C3C1E0C783C18781C18781C10781C30F00E6060
07C017267DA519>I<00F00FF01FF001F001E001E001E001E003C003C003C003C0078007800780
07800F000F000F000F001E001E001E001E003C003C003C003C00780078C078C078C0F180F180F1
80710033001E000C267CA50E>I<0F01F807C00011870E18700031CC0E30780061F80F60380061
F007C0380061E00F807800C3E00F807800C3C00F00780003C00F00780003C00F00780007801E00
F00007801E00F00007801E00F00007801E01E0000F003C01E0000F003C01E1800F003C03C1800F
003C03C1801E007803C3001E00780783001E00780386001E00780384003C00F001880018006000
F00029187C972D>I<0F01F00011861C0031CC1E0061F80E0061F00E0061E01E00C3E01E00C3C0
1E0003C01E0003C01E0007803C0007803C0007803C00078078000F0078000F0078600F00F0600F
00F0601E00F0C01E01E0C01E00E1801E00E1003C00620018003C001B187C971F>I<003F0000E1
800380C00700E00E00701C00701C0070380070780070780070F000F0F000F0F000F0F000F0E001
E0E001E0E001C0E00380E00380E00700700E00301C001870000FC00014187A971C>I<00F03E00
01184300031D8180061F01C0061E01C0061E01C00C3C01C00C3C01E0003C01E0003C01C0007803
C0007803C0007803C0007803C000F0078000F0078000F0070000F00F0001E00E0001F01C0001F0
180001F0300003C8E00003C7800003C0000003C00000078000000780000007800000078000000F
0000000F0000000F000000FFF00000FFF000001B2380971C>I<003C1800E2380181700301F007
01F00E00F01E01E01C01E03C01E03C01E07803C07803C07803C07803C0700780F00780F0078070
0780700F00700F00701F00303F00185E000F9E00001E00001E00003C00003C00003C00003C0000
78000078000078000FFF800FFF8015237B9719>I<0F07E0118C3031D83861F07861E07861E030
C3C000C3C00003C00003C0000780000780000780000780000F00000F00000F00000F00001E0000
1E00001E00001E00003C000018000015187C9717>I<003F0000618000C0C00180E00381E00381
E00781C007800007C00007FC0003FF0003FF8001FFC0003FC00007C00003C03001C07801C0F003
80E003806007006006003818000FE00013187D9717>I<006000F000F000F001E001E001E001E0
03C003C0FFFCFFFC07800780078007800F000F000F000F001E001E001E001E003C003C183C183C
18783078307860384018C00F000E227BA112>I<0780060008C00F0010E01E0030E01E0060F01E
0061E01E00C1E03C00C1E03C0003C03C0003C03C0003C078000780780007807800078078000F00
F0000F00F0C00F00F0C00F00F0C00F01E1800F01E1800F01E1800702E300038C620001F83C001A
187C971E>I<07803008C07810E07830E07860F03861E038C1E018C1E01803C01803C01803C030
0780300780300780300F00600F00600F00400F00C00F00800F01800F010007020003840000F800
15187C9719>I<078006030008C00F078010E01E078030E01E078060F01E038061E01E0380C1E0
3C0180C1E03C018003C03C018003C03C018003C07803000780780300078078030007807803000F
00F006000F00F006000F00F004000F00F00C000F00F008000F00F018000701F010000703702000
03C638400000FC0F800021187C9725>I<01F07C0618C60C1D87180F0F100F0F300F06601E0060
1E00001E00001E00003C00003C00003C00003C0000780000780600780600780660F00CF0F008F0
F018E1B8306318603E0F8018187D971A>I<07800608C00F10E01E30E01E60F01E61E01EC1E03C
C1E03C03C03C03C03C03C0780780780780780780780F00F00F00F00F00F00F00F00F01E00F01E0
0F01E00703E0038FC001FBC00003C00003C00007800007803C0F003C0E00781C00201800303000
10E0000F800018237C971B>I<00700C01F81803FC1803FE700703E00600C00001800001800003
00000600000C0000380000700000C0000180000300000600300600700C00E01F01C039FFC070FF
80607F00C03C0016187D9717>I E /Ft 86 127 df<2004F00FF81FF81FF81FF00FF00FF00FF0
0FF00FF00FF00FF00F700E700E700E600610117AA21D>34 D<00C06001E0F001E0F001E0F001E0
F001E0F001E0F001E0F001E0F07FFFFEFFFFFFFFFFFF7FFFFE03C1E003C1E003C1E007C3E00783
C00783C00783C00783C07FFFFEFFFFFFFFFFFF7FFFFE0F07800F07800F07800F07800F07800F07
800F07800F078006030018227EA11D>I<1C00303E00787F00787700F8E380F0E380F0E381F0E3
81E0E383E0E383C0E383C07707C07F07803E07801C0F80000F00000F00001F00001E00001E0000
3E00003C00007C0000780000780000F80000F00000F00001F03801E07C01E0FE03E0EE03C1C703
C1C707C1C70781C70F81C70F01C70F01C71F00EE1E00FE1E007C0C0038182B7EA51D>37
D<00E00003F00007F8000738000E1C000E1C000E1C000E1C000E1C000E1C000E38FF0E39FF0E70
FF07F07007E07007C0E00780E00780E00F81C01F81C03DC1C079C38070E380F0E700F07700F07E
00F03E02F01C07F03E07783F0778F78E3FF3FE1FC1FC0F807818227EA11D>I<1C003E007F007F
003F801B800380038003800380070007000E001E003C00F800F000C000091276A11D>I<001C00
3C007800F001E003C007800F000E001E001C003C003800780078007800F000F000F000F000F000
F000F000F000F000F00078007800780038003C001C001E000E000F00078003C001E000F0007C00
3C001C0E2A77A51D>I<6000F00078003C001E000F00078003C001C001E000E000F00070007800
780078003C003C003C003C003C003C003C003C003C003C007800780078007000F000E001E001C0
03C007800F001E003C007800F00060000E2A7BA51D>I<00300000780000780000780000780070
7838F8787CFE79FC7F7BF81FFFE007FF8001FE0001FE0007FF801FFFE07F7BF8FE79FCF8787C70
783800780000780000780000780000300016187D9C1D>I<001800003C00003C00003C00003C00
003C00003C00003C00003C00003C007FFFFEFFFFFFFFFFFF7FFFFE003C00003C00003C00003C00
003C00003C00003C00003C00003C0000180018187E9C1D>I<1C003F007F007F807F803F801F80
0380070007000E001E007C00F8006000090F76861D>I<7FFFF8FFFFFCFFFFFC7FFFF816047D92
1D>I<387CFEFEFE7C38070775861D>I<00001800003C00003C00007C0000780000F80000F00001
F00001E00003E00003C00007C0000780000F80000F00000F00001F00001E00003E00003C00007C
0000780000F80000F00001F00001E00003E00003C00003C00007C0000780000F80000F00001F00
001E00003E00003C00007C0000780000F80000F00000F00000600000162B7DA51D>I<00FC0003
FF0007FF800F87C00F03C01E01E03C00F03C00F0780078780078780078700038F0003CF0003CF0
003CF0003CF0003CF0003CF0003CF0003CF0003CF0003C7800787800787800787C00F83C00F03C
00F01E01E00F03C00F87C007FF8003FF0000FC0016227DA11D>I<00E00000E00001E00001E000
03E00007E0001FE000FFE000F9E000E1E00001E00001E00001E00001E00001E00001E00001E000
01E00001E00001E00001E00001E00001E00001E00001E00001E00001E00001E00001E00001E000
01E000FFFF80FFFFC0FFFF8012227AA11D>I<01FC0007FF001FFFC03E03E07C01F07800F8F000
78F0003CF8003CF8003C70003C00003C00003C0000780000780000F80000F00001E00003E00007
C0000F80001F00003E00007C0000F80001F00003C0000780000F003C1E003C3C003C7FFFFCFFFF
FC7FFFFC16227DA11D>I<00FF0007FFC00FFFF01F01F03E00783E003C3E003C1C003C08003C00
003C0000780000780000F00003F000FFC000FFC000FFF00001F800007C00003E00001E00000F00
000F00000F70000FF8000FF8000FF8001E78003E7C007C3F01F81FFFF007FFC000FF0018227EA1
1D>I<0007C0000FC0001FC0001DC0003DC00039C00071C000F1C000E1C001E1C003C1C00381C0
0781C00701C00F01C01E01C01C01C03C01C03801C07001C0F001C0FFFFFFFFFFFFFFFFFF0001C0
0001C00001C00001C00001C00001C00001C0003FFE007FFF003FFE18227EA11D>I<3FFFF03FFF
F03FFFF03C00003C00003C00003C00003C00003C00003C00003C00003C00003C00003CFE003FFF
803FFFC03F03E03C00F038007800007800003C00003C00003C20003CF8003CF8003CF80078F000
787800F07C01F03E07E01FFFC007FF0001FC0016227DA11D>I<001F80007FE001FFF003E0F007
80780F00F81E00F81E00703C0000380000780000780000700000F0FE00F3FF80F7FFC0FF03E0FE
01F0FC00F8F80078F8003CF8003CF8003C78003C78003C78003C38003C3C00783C00F81E01F00F
83E007FFC003FF8000FC0016227DA11D>I<F00000FFFFFFFFFFFFFFFFFEF0003CF0007CF000F8
0000F00001E00003C00003C0000780000F00000F00001E00001E00003C00003C00003C00007800
00780000780000F00000F00000F00000F00000F00001E00001E00001E00001E00001E00001E000
01E00000C00018237EA21D>I<00FF0003FFC00FFFF01F81F83E007C3C003C7C003E78001E7800
1E78001E78001E3C003C1E00780F81F007FFE000FF0003FFC00F81F01E00783C003C78001E7800
1EF0000FF0000FF0000FF0000FF8001F78001E7C003E3E007C1F81F80FFFF003FFC000FF001822
7EA11D>I<387CFEFEFE7C3800000000000000000000387CFEFEFE7C38071875971D>58
D<1C3E7F7F7F3E1C000000000000000000001C3E7E7F7F3F1F070E0E1E3C78F060082076971D>
I<00001800007C0000FC0003F80007F0001FC0003F8000FE0001FC0007F0000FE0003F80007F00
00FC0000FC00007F00003F80000FE00007F00001FC0000FE00003F80001FC00007F00003F80000
FC00007C000018161C7D9E1D>I<7FFFFEFFFFFFFFFFFFFFFFFF00000000000000000000000000
0000000000FFFFFFFFFFFFFFFFFF7FFFFE180E7E971D>I<600000F80000FC00007F00003F8000
0FE00007F00001FC0000FE00003F80001FC00007F00003F80000FC0000FC0003F80007F0001FC0
003F8000FE0001FC0007F0000FE0003F80007F0000FC0000F80000600000161C7D9E1D>I<03FE
001FFFC03FFFF07C01F8F80078F8003CF8003CF8003C7000780001F80007F0000FC0001F00003E
00007C0000F80000F80000F80000F80000F80000F80000F0000000000000000000000000000000
0000000000600000F00001F80001F80000F00000600016227DA11D>I<001F80007FE001FFF003
E07807803C0F001C1E01CE1C07FE380FFE381E3E701C1F70380F70380FE07007E07007E07007E0
7007E07007E07007E07007E0700770380E70380E701C1C381E3C380FF81C07F01E01C00F000F07
801F03E03E01FFFC007FF0001FC018227EA11D>I<001E0000003F0000003F0000003F00000073
80000073800000738000007380000073800000F3C00000F3C00000F3C00000E1C00001E1E00001
E1E00001E1E00001E1E00001E1E00003C0F00003C0F00003C0F00003FFF00003FFF00007FFF800
0780780007807800078078000F807C000F003C000F003C000F003C007FE1FF80FFE1FFC07FE1FF
801A227FA11D>I<7FFFC000FFFFF0007FFFF8000F007C000F003E000F001E000F000F000F000F
000F000F000F000F000F000F000F001E000F001E000F003C000F00F8000FFFF0000FFFF0000FFF
FC000F003E000F001E000F000F000F000F000F0007800F0007800F0007800F0007800F0007800F
000F800F000F000F001F000F007E007FFFFC00FFFFF8007FFFE00019227FA11D>I<003F0700FF
C703FFFF07C0FF0F807F0F003F1E001F3C000F3C000F78000F78000F780000F00000F00000F000
00F00000F00000F00000F00000F00000F00000F0000078000078000F78000F3C000F3C000F1E00
1E0F001E0F803C07C0F803FFF000FFE0003F0018227EA11D>I<FFFF0000FFFFC000FFFFE0001E
01F0001E00F8001E007C001E003C001E001E001E001E001E000F001E000F001E000F001E000780
1E0007801E0007801E0007801E0007801E0007801E0007801E0007801E0007801E0007801E000F
001E000F001E000F001E001F001E001E001E003E001E007C001E00F8001E01F800FFFFF000FFFF
C000FFFF000019227FA11D>I<7FFFFF80FFFFFF807FFFFF800F0007800F0007800F0007800F00
07800F0007800F0000000F0000000F0000000F0000000F03C0000F03C0000F03C0000FFFC0000F
FFC0000FFFC0000F03C0000F03C0000F03C0000F0000000F0000000F0000000F0000000F0003C0
0F0003C00F0003C00F0003C00F0003C00F0003C07FFFFFC0FFFFFFC07FFFFFC01A227FA11D>I<
FFFFFFFFFFFFFFFFFF0F000F0F000F0F000F0F000F0F000F0F00000F00000F00000F00000F03C0
0F03C00F03C00FFFC00FFFC00FFFC00F03C00F03C00F03C00F00000F00000F00000F00000F0000
0F00000F00000F00000F00000F0000FFF800FFF800FFF80018227EA11D>I<007E1C0001FF9C00
03FFFC0007C3FC000F00FC001E007C001E007C003C003C003C003C0078003C0078003C00780000
00F0000000F0000000F0000000F0000000F0000000F0000000F003FF00F007FF80F003FF00F000
3C0078003C0078003C0078003C003C007C003C007C001E007C001E00FC000F01FC0007C3FC0003
FFFC0001FF3C00007E3C0019227EA11D>I<7FE1FF80FFF3FFC07FE1FF800F003C000F003C000F
003C000F003C000F003C000F003C000F003C000F003C000F003C000F003C000F003C000F003C00
0FFFFC000FFFFC000FFFFC000F003C000F003C000F003C000F003C000F003C000F003C000F003C
000F003C000F003C000F003C000F003C000F003C000F003C007FE1FF80FFF3FFC07FE1FF801A22
7FA11D>I<FFFFF0FFFFF0FFFFF000F00000F00000F00000F00000F00000F00000F00000F00000
F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000
F00000F00000F00000F00000F00000F00000F000FFFFF0FFFFF0FFFFF014227CA11D>I<00FFF8
01FFFC00FFF80003C00003C00003C00003C00003C00003C00003C00003C00003C00003C00003C0
0003C00003C00003C00003C00003C00003C00003C00003C00003C00003C00003C00003C07003C0
F803C0F803C0F807807C0F807FFF001FFC0007F00016227CA11D>I<FF81FFFF81FFFF81FF1C00
781C00F01C00E01C01C01C03C01C07801C07001C0E001C1E001C3C001C38001C78001CF8001DFC
001DDC001F8E001F8E001F07001E07001C03801C03801C01C01C01C01C00E01C00E01C00701C00
701C0038FF80FFFF80FFFF80FF18227EA11D>I<FFF800FFF800FFF8000F00000F00000F00000F
00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F
00000F00000F00000F00000F00000F00000F000F0F000F0F000F0F000F0F000F0F000FFFFFFFFF
FFFFFFFFFF18227EA11D>I<7E001F80FF003FC07F003F801F807E001D806E001D806E001D806E
001DC0EE001CC0CE001CC0CE001CE1CE001CE1CE001CE1CE001C618E001C738E001C738E001C33
0E001C330E001C330E001C3F0E001C1E0E001C1E0E001C0C0E001C000E001C000E001C000E001C
000E001C000E001C000E001C000E001C000E007F003F80FF807FC07F003F801A227FA11D>I<7F
00FF80FF81FFC07F80FF800FC01C000EC01C000EC01C000EE01C000E601C000E601C000E701C00
0E301C000E381C000E381C000E381C000E1C1C000E1C1C000E1C1C000E0E1C000E0E1C000E0E1C
000E071C000E071C000E071C000E031C000E039C000E019C000E019C000E01DC000E00DC000E00
DC000E00FC007FC07C00FFE07C007FC03C001A227FA11D>I<07FF801FFFE03FFFF07E01F87C00
F8780078780078F0003CF0003CF0003CF0003CF0003CF0003CF0003CF0003CF0003CF0003CF000
3CF0003CF0003CF0003CF0003CF0003CF0003CF0003CF0003CF0003C7800787800787C00F87E01
F83FFFF01FFFE007FF8016227DA11D>I<7FFFC000FFFFF0007FFFFC000F00FE000F003E000F00
1F000F000F000F0007800F0007800F0007800F0007800F0007800F0007800F000F000F001F000F
003E000F00FE000FFFFC000FFFF0000FFFC0000F0000000F0000000F0000000F0000000F000000
0F0000000F0000000F0000000F0000000F0000000F0000007FE00000FFF000007FE0000019227F
A11D>I<07FF801FFFE03FFFF07E01F87C00F8780078780078F0003CF0003CF0003CF0003CF000
3CF0003CF0003CF0003CF0003CF0003CF0003CF0003CF0003CF0003CF0003CF0003CF0003CF038
3CF03C3CF03C3C781E78781E787C1FF87E0FF83FFFF01FFFE007FFC00003C00003E00001E00001
F00000F00000F8000078000078162A7DA11D>I<7FFE0000FFFF80007FFFE0000F03F0000F00F8
000F0078000F007C000F003C000F003C000F003C000F003C000F007C000F0078000F00F8000F03
F0000FFFE0000FFF80000FFFC0000F03E0000F00F0000F00F0000F0078000F0078000F0078000F
0078000F0078000F0078000F0079E00F0079E00F0079E00F0039E07FE03FC0FFF01FC07FE00700
1B227FA11D>I<01FC380FFF381FFFF83E07F87C01F87800F8F00078F00078F00078F00078F000
007800007C00003F00003FF0001FFF0007FFC001FFE0000FF00001F00000F800007800003C0000
3C70003CF0003CF0003CF00038F80078FC00F0FF01F0FFFFE0E7FF80E1FE0016227DA11D>I<7F
FFFFC0FFFFFFC0FFFFFFC0F01E03C0F01E03C0F01E03C0F01E03C0F01E03C0001E0000001E0000
001E0000001E0000001E0000001E0000001E0000001E0000001E0000001E0000001E0000001E00
00001E0000001E0000001E0000001E0000001E0000001E0000001E0000001E0000001E0000001E
0000001E000003FFF00003FFF00003FFF0001A227FA11D>I<7FE07FE0FFF0FFF07FE07FE00F00
0F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F
000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F00
0F000F000F000F000F000F0007801E0007801E0003C03C0003C03C0001F0F80000FFF000007FE0
00001F80001C2280A11D>I<FFC0FFC0FFC0FFC0FFC0FFC01E001E001E001E000F003C000F003C
000F003C000F003C000780780007807800078078000780780003C0F00003C0F00003C0F00003C0
F00003C0F00001E1E00001E1E00001E1E00001E1E00000E1C00000F3C00000F3C00000F3C00000
738000007380000073800000738000003F0000003F0000003F0000001E00001A227FA11D>I<FF
003FC0FF003FC0FF003FC038000700380007003800070038000700380007003800070038000700
1C000E001C000E001C000E001C000E001C3F0E001C3F0E001C3F0E001C3F0E001C738E000C738C
000E739C000E739C000E739C000E619C000EE1DC000EE1DC000EE1DC0006C0D80006C0D80006C0
D80007C0F80007C0F80007807800038070001A227FA11D>I<3FE3FE007FE3FF003FE3FE000780
F00007C0F00003C1E00003C1E00001E3E00001E3C00000F7C00000F78000007F8000007F000000
3F0000003E0000001E0000003E0000003F0000007F0000007F8000007F800000F7C00000F3C000
01E3E00001E1E00003C1E00003C0F00007C0F000078078000F8078000F003C007FC0FF80FFE1FF
C07FC0FF801A227FA11D>I<FFC0FFC0FFC0FFC0FFC0FFC01F003E000F003C000F807C00078078
0007C0F80003C0F00003C0F00001E1E00001E1E00001F3E00000F3C00000F3C000007380000073
8000003F0000003F0000001E0000001E0000001E0000001E0000001E0000001E0000001E000000
1E0000001E0000001E0000001E0000001E000000FFC00001FFE00000FFC0001A227FA11D>I<7F
FFFCFFFFFCFFFFFCF00078F000F8F000F0F001E0F001E00003C00007C0000780000F00000F0000
1E00003E00003C0000780000780000F00001F00001E00003C00003C0000780000F80000F001E1E
001E1E001E3C001E7C001E78001EFFFFFEFFFFFEFFFFFE17227DA11D>I<FFFEFFFEFFFEF000F0
00F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000
F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000FFFEFFFEFFFE0F
2B75A51D>I<600000F00000F00000F800007800007C00003C00003E00001E00001F00000F0000
0F800007800007C00003C00003C00003E00001E00001F00000F00000F800007800007C00003C00
003E00001E00001F00000F00000F00000F800007800007C00003C00003E00001E00001F00000F0
0000F800007800007C00003C00003C000018162B7DA51D>I<FFFEFFFEFFFE001E001E001E001E
001E001E001E001E001E001E001E001E001E001E001E001E001E001E001E001E001E001E001E00
1E001E001E001E001E001E001E001E001E001E001E001E001E001EFFFEFFFEFFFE0F2B7EA51D>
I<018007800F801E003C00380070007000E000E000E000E000EC00FE007F007F003E001C000912
77A51D>96 D<0FF800003FFF00007FFF80007C07C0007C03E0003801E0000000F0000000F00000
00F000003FF00003FFF0000FFFF0003FC0F0007E00F0007800F000F000F000F000F000F000F000
F000F0007801F0007C07F0003FFFFF800FFE7F8003F81F8019187D971D>I<7F800000FF800000
7F800000078000000780000007800000078000000780000007800000078000000787C000079FF0
0007FFFC0007F83E0007E01F0007C00F0007C007800780078007800380078003C0078003C00780
03C0078003C0078003C0078003C0078003800780078007C0078007C00F0007E01E0007F07E0007
FFFC0007BFF000038FC0001A2280A11D>I<007F8003FFE007FFF00F81F01E01F03C00E0780000
780000780000F00000F00000F00000F00000F00000F000007800007800007800F03C00F01E01F0
0F83E007FFC003FF80007E0014187C971D>I<0007F800000FF8000007F8000000780000007800
000078000000780000007800000078000000780000FC780003FF78000FFFF8001F83F8001E01F8
003C00F800780078007800780070007800F0007800F0007800F0007800F0007800F0007800F000
780070007800780078007800F8003C01F8003E03F8001F07F8000FFF7F8003FE7FC000F87F801A
227EA11D>I<00FC0003FF0007FFC01F83E01E01E03C00F07800F0780078700078F00078FFFFF8
FFFFF8FFFFF8F00000F000007800007800003C00783C00781E00F80F81F007FFE001FFC0007F00
15187D971D>I<0001FC000FFE001FFF003E1F003C1F00780E0078000078000078000078007FFF
FCFFFFFCFFFFFC0078000078000078000078000078000078000078000078000078000078000078
000078000078000078000078000078000078000078003FFFF07FFFF83FFFF018227FA11D>I<00
F83E0003FEFF0007FFFF800F8FC7801E03C7001E03C0003C01E0003C01E0003C01E0003C01E000
3C01E0003C01E0001E03C0001E03C0000F8F80001FFF00001FFE00001CF800001C0000001C0000
001E0000000FFF80000FFFF0003FFFFC003C007C0070000E0070000F00E0000700E0000700E000
0700E000070070000E0078001E003F00FC001FFFF80007FFE00000FF000019257E971D>I<7F80
0000FF8000007F8000000780000007800000078000000780000007800000078000000780000007
87E000079FF80007BFFC0007F83C0007F01E0007E01E0007C01E0007801E0007801E0007801E00
07801E0007801E0007801E0007801E0007801E0007801E0007801E0007801E0007801E0007801E
0007801E007FF87FE0FFFCFFF07FF87FE01C2280A11D>I<00600000F00001F80001F80000F000
0060000000000000000000000000000000007FF800FFF8007FF800007800007800007800007800
007800007800007800007800007800007800007800007800007800007800007800007800007800
0078007FFFF8FFFFF87FFFF815237CA21D>I<000600000F00001F80001F80000F000006000000
000000000000000000000000000FFF800FFF800FFF800007800007800007800007800007800007
800007800007800007800007800007800007800007800007800007800007800007800007800007
80000780000780000780000780000780000780000780000700700F00F81F00F83E00FFFC007FF8
001FE000112F7DA21D>I<7F000000FF0000007F00000007000000070000000700000007000000
0700000007000000070000000707FF00070FFF800707FF000700F8000701F0000703E000070780
00070F0000071E0000073C0000077E000007FE000007E7000007C780000783C0000701C0000701
E0000700F000070070000700380007003C007FF0FF80FFF9FFC07FF0FF801A227FA11D>I<FFF8
00FFF800FFF8000078000078000078000078000078000078000078000078000078000078000078
000078000078000078000078000078000078000078000078000078000078000078000078000078
00007800007800007800007800FFFFFCFFFFFCFFFFFC16227DA11D>I<FCF07800FDF8FC00FFFD
FE001F9FCE001F0F87001E0F07001E0F07001C0E07001C0E07001C0E07001C0E07001C0E07001C
0E07001C0E07001C0E07001C0E07001C0E07001C0E07001C0E07001C0E07001C0E0700FF8FC7E0
FF9FCFE0FF8FC7E01B1880971D>I<7F87E000FF9FF8007FBFFC0007F83C0007F01E0007E01E00
07C01E0007801E0007801E0007801E0007801E0007801E0007801E0007801E0007801E0007801E
0007801E0007801E0007801E0007801E0007801E007FF87FE0FFFCFFF07FF87FE01C1880971D>
I<00FC0003FF000FFFC01F87E03E01F03C00F0780078780078F0003CF0003CF0003CF0003CF000
3CF0003CF0003CF8007C7800787C00F83C00F03E01F01F87E00FFFC003FF0000FC0016187D971D
>I<7F87C000FF9FF0007FFFFC0007F83E0007E01F0007C00F0007C00780078007800780038007
8003C0078003C0078003C0078003C0078003C0078003C0078003800780078007C0078007C00F00
07E01E0007F07E0007FFFC0007BFF000078FC00007800000078000000780000007800000078000
00078000000780000007800000078000007FF80000FFFC00007FF800001A2480971D>I<007E3C
0001FF3C0007FFFC000F83FC001E00FC003C007C003C007C0078003C0078003C00F0003C00F000
3C00F0003C00F0003C00F0003C00F0003C0078003C0078003C0078007C003C00FC001E01FC001F
83FC0007FFBC0003FF3C0000FC3C0000003C0000003C0000003C0000003C0000003C0000003C00
00003C0000003C0000003C000003FFC00007FFE00003FFC01B247E971D>I<7FE07C00FFE1FF00
7FE7FF8001EF8F8001FE0F8001FC070001F8000001F0000001F0000001F0000001E0000001E000
0001E0000001E0000001E0000001E0000001E0000001E0000001E0000001E0000001E000007FFF
E000FFFFE0007FFFE00019187F971D>I<03FCE01FFFE03FFFE07C07E07001E0E001E0E001E0F0
01E07800007FC0003FFE000FFF8001FFE00007F00000F0700078F00038F00038F80038FC0070FE
01F0FFFFE0EFFF80E1FE0015187C971D>I<00E00001E00001E00001E00001E00001E00001E000
7FFFFCFFFFFCFFFFFC01E00001E00001E00001E00001E00001E00001E00001E00001E00001E000
01E00001E00001E01E01E01E01E01E01E01E01E01E00F07C00FFF8003FF0000FC0171F7F9E1D>
I<7F81FE00FF83FE007F81FE0007801E0007801E0007801E0007801E0007801E0007801E000780
1E0007801E0007801E0007801E0007801E0007801E0007801E0007801E0007801E0007803E0007
807E0003C0FE0003FFFFE001FFDFF0007F1FE01C1880971D>I<7FE1FF80FFE1FFC07FE1FF800E
001C000F003C00070038000700380007807800038070000380700003C0F00001C0E00001C0E000
01E1E00000E1C00000E1C00000F3C000007380000073800000738000003F0000003F0000003F00
00001E00001A187F971D>I<FFC0FFC0FFE1FFC0FFC0FFC01C000E001C000E001C000E001C000E
001C000E001E001E000E001C000E1E1C000E1E1C000E3F1C000E3F1C000E331C00073338000773
B8000773B8000773B8000761B80007E1F80003E1F00003E1F00003C0F0001A187F971D>I<7FE3
FF007FF3FF807FE3FF000780700003C0F00001C1E00000E1C00000F3800000778000003F000000
1E0000001C0000001E0000003F0000007700000073800000E1C00001C1E00003C0F00003807000
070038007FE1FF80FFE1FFC07FE1FF801A187F971D>I<7FE1FF80FFE1FFC07FE1FF800F001C00
07003C000700380007803800038078000380700001C0700001C0F00001E0E00000E0E00000E0E0
000071C0000071C0000071C00000318000003B8000003B8000001F0000001F0000000F0000000E
0000000E0000000E0000001C0000001C0000001C0000383800007C3800007C70000078F000007F
E000003FC000001F0000001A247F971D>I<3FFFFE7FFFFE7FFFFE78007C7800F87801F07803E0
0007C0000F80000F00001E00003C0000780000F00001E00003E00007C0000F801E1F001E3E001E
7C001EFFFFFEFFFFFEFFFFFE17187E971D>I<0701801FC3C03FE7C0F9FF00F0FE006038001206
7BA11D>126 D E /Fu 22 122 df<00020004000800100020006000C001800180030003000600
0E000E000C001C001800380038003800300070007000700070007000F000E000E000E000E000E0
00E000E000E000E000E000E000E000E000F0007000700070007000700030003800380038001800
1C000C000E000E000600030003000180018000C00060002000100008000400020F437BB119>40
D<800040002000100008000C000600030003000180018000C000E000E000600070003000380038
00380018001C001C001C001C001C001E000E000E000E000E000E000E000E000E000E000E000E00
0E000E001E001C001C001C001C001C001800380038003800300070006000E000E000C001800180
0300030006000C00080010002000400080000F437CB119>I<78FCFCFEFE7A0202020206040408
081010204007137A8512>44 D<00100000700000F00007F000FFF000F8F00000F00000F00000F0
0000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F0
0000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F0
0000F00000F00000F00000F00000F00000F00001F800FFFFF0FFFFF0142C7AAB21>49
D<007F000003FFE0000703F8000C00FC0010003E0020001F0060001F0040000F8078000F80FC00
0FC0FE000FC0FE0007C0FE0007C0FE0007C07C000FC000000FC000000F8000000F8000001F0000
001F0000003E0000003C0000007C00000078000000F0000001E000000380000007000000060000
000C000000180000003000000060000000C000000180004003000040060000800C000080080000
80100001803FFFFF807FFFFF00FFFFFF00FFFFFF001A2C7DAB21>I<0007F000001FFC00007C0E
0000F0010001C00F8003801F8007001F800F001F800E001F801E000F001C0000003C0000003C00
00007C0000007800000078000000781F8000F860E000F8803000F9001800FA001C00FA000E00FC
000F00FC000780FC000780F8000780F80007C0F80007C0F80007C0F80007C0780007C0780007C0
780007C0780007C07C0007C03C0007803C0007801C000F001E000F000E001E000F001C00078038
0003E0F00000FFE000003F80001A2D7DAB21>54 D<003F000001FFC00003C0F000070078000E00
3C001E001C003C001E003C000E0078000F0078000F00F8000F80F8000780F8000780F8000780F8
000780F80007C0F80007C0F80007C0F80007C0780007C078000FC078000FC03C000FC01C0017C0
0E0017C0060027C0030047C001C187C0007E0780000007800000078000000F8000000F0000000F
0000000F003C001E007E001E007E003C007E0038007E0070007C00F0003001E0001C0780000FFF
000003FC00001A2D7DAB21>57 D<FFFF8001FFF0FFFF8001FFF007F000007F0003E000003C0003
E00000300003E00000200003E00000400003E00000800003E00001000003E00002000003E0000C
000003E00010000003E00020000003E00040000003E00080000003E00100000003E00200000003
E00600000003E00E00000003E01F00000003E03F80000003E04F80000003E087C0000003E107E0
000003E203E0000003E401F0000003E800F8000003F000F8000003E0007C000003E0003E000003
E0003E000003E0001F000003E0000F800003E0000FC00003E00007C00003E00003E00003E00003
F00003E00001F00003E00000F80003E00000FC0003E000007C0003E000007E0007F00000FF80FF
FF8007FFF8FFFF8007FFF82D2D7DAC33>75 D<FFE00000007FF8FFE00000007FF807E00000007F
0002F0000000BE0002F0000000BE0002780000013E0002780000013E0002780000013E00023C00
00023E00023C0000023E00021E0000043E00021E0000043E00021E0000043E00020F0000083E00
020F0000083E0002078000103E0002078000103E0002078000103E000203C000203E000203C000
203E000203C000203E000201E000403E000201E000403E000200F000803E000200F000803E0002
00F000803E0002007801003E0002007801003E0002003C02003E0002003C02003E0002003C0200
3E0002001E04003E0002001E04003E0002000F08003E0002000F08003E0002000F08003E000200
0790003E0002000790003E0002000790003E00020003E0003E00020003E0003E00070001C0003E
001FC001C0007F00FFF801C00FFFF8FFF800800FFFF8352D7DAC3C>77 D<00FF004003FFC0C007
80F0C00E0019C01C000DC0380007C0780003C0700001C0700001C0F00000C0F00000C0F00000C0
F0000040F0000040F8000040F80000007C0000007E0000003F8000003FF000001FFF00000FFFF0
0007FFF80001FFFE00003FFE000003FF0000003F8000000FC0000007C0000007C0000003E00000
03E0800001E0800001E0800001E0800001E0C00001E0C00001E0C00001C0E00003C0F0000380F0
000780EC000700E7000E00C3E03C00C0FFF800801FC0001B2F7CAD24>83
D<FFFF00FFFF000FFFFFFF00FFFF000FFF07F00007F00003F807E00003E00000E003E00003E000
004003E00003F000004003F00001F000004001F00001F000008001F00001F800008001F80001F8
00008000F80001F800010000F80001F800010000F800027C000100007C00027C000200007C0002
7C000200007C00043E000200003E00043E000400003E00043E000400003E00081F000400001F00
081F000800001F00081F000800001F00100F800800000F80100F801000000F80100F801000000F
802007C010000007C02007C020000007C02007C020000007C04003E020000003E04003E0400000
03E04003E040000003E08001F040000001F08001F080000001F08001F080000001F10000F88000
0000F90000F900000000F90000F900000000FA00007D000000007E00007E000000007E00007E00
0000007C00003E000000003C00003C000000003C00003C000000003C00003C0000000018000018
000000001800001800000000180000180000402E7FAC43>87 D<FFFF00003FFCFFFF00003FFC07
F8000007E003F00000038001F00000030001F80000020000FC00000400007C00000C00007E0000
0800003F00001000001F00001000001F80002000000FC0006000000FC00040000007E000800000
03E00080000003F00100000001F80300000000F80200000000FC04000000007E04000000003E08
000000003F18000000001F90000000001FA0000000000FE00000000007C00000000007C0000000
0007C00000000007C00000000007C00000000007C00000000007C00000000007C00000000007C0
0000000007C00000000007C00000000007C00000000007C00000000007C00000000007C0000000
0007C0000000000FE000000001FFFF00000001FFFF00002E2D7FAC31>89
D<01FE0000060380000801E0001E00F0003F0078003F0078003F003C003F003C000C003C000000
3C0000003C0000003C00000FFC0000FC3C0003E03C000F803C001E003C003E003C007C003C007C
003C08F8003C08F8003C08F8003C08F8007C08F8007C087C00BC083C011E101F060FE003F807C0
1D1D7D9C21>97 D<003FC000E03003800807003C0E007E1E007E3C007E3C007E7C001878000078
0000F80000F80000F80000F80000F80000F80000F800007800007800007C00003C00013C00011E
00020F000207000403801800E060003F80181D7E9C1D>99 D<0F001F801F801F801F800F000000
0000000000000000000000000000000000000780FF80FF800F8007800780078007800780078007
800780078007800780078007800780078007800780078007800780078007800FC0FFFCFFFC0E2D
7EAC13>105 D<0F800000FF800000FF8000000F80000007800000078000000780000007800000
07800000078000000780000007800000078000000780000007800000078000000780000007807F
F007807FF007801F8007801E000780180007801000078020000780400007808000078100000783
000007870000078F80000797C00007A3C00007C3E0000781E0000781F0000780F8000780780007
807C0007803E0007801E0007801F0007800F8007800F800FC01FE0FFFC7FFCFFFC7FFC1E2E7EAD
22>107 D<0F80FF80FF800F800780078007800780078007800780078007800780078007800780
078007800780078007800780078007800780078007800780078007800780078007800780078007
800780078007800780078007800FC0FFFCFFFC0E2E7EAD13>I<0F81FC007F0000FF860F0183C0
00FF88038200E0000F9003C400F00007A001C800700007C001F000780007C001F000780007C001
F0007800078001E0007800078001E0007800078001E0007800078001E0007800078001E0007800
078001E0007800078001E0007800078001E0007800078001E0007800078001E0007800078001E0
007800078001E0007800078001E0007800078001E0007800078001E0007800078001E000780007
8001E0007800078001E00078000FC003F000FC00FFFC3FFF0FFFC0FFFC3FFF0FFFC0321D7E9C37
>I<003FC00000E0700003801C0007000E000E0007001E0007803C0003C03C0003C0780001E078
0001E0780001E0F80001F0F80001F0F80001F0F80001F0F80001F0F80001F0F80001F0780001E0
780001E07C0003E03C0003C03C0003C01E0007800E00070007000E0003801C0000E07000003FC0
001C1D7E9C21>111 D<0F87C0FF8830FF90F80FA0F807A0F807C07007C00007C0000780000780
000780000780000780000780000780000780000780000780000780000780000780000780000780
000780000780000780000FC000FFFE00FFFE00151D7E9C19>114 D<0040000040000040000040
0000C00000C00000C00001C00001C00003C00003C0000FC0001FFFC0FFFFC003C00003C00003C0
0003C00003C00003C00003C00003C00003C00003C00003C00003C00003C00003C00003C00003C0
2003C02003C02003C02003C02003C02003C02001C02001E04000E040007080001F0013297FA819
>116 D<FFF807FEFFF807FE0FC001F0078000E007C000C003C0008003C0008001E0010001E001
0001F0010000F0020000F00200007804000078040000780400003C0800003C0800001E1000001E
1000001E1000000F2000000F2000000FE0000007C0000007C00000038000000380000003800000
010000000100000002000000020000000200000004000000040000700C0000F8080000F8180000
F81000007020000060C000001F8000001F2A7F9C22>121 D E /Fv 24 117
df<000001FE000000001FFF800000007E03C0000001F000E0000003E000700000078000F00000
0F0001F800001F0003F800003E0003F800003E0003F800007C0001F000007C0000E000007C0000
0000007C00000000007C00000000007C00000000007C00000000007C00000000007C0000000000
7C00000000007C00000000007C00000000007C00000000007C00000000007C00000000FFFFFFFF
F800FFFFFFFFF800007C0003F800007C0001F800007C0000F800007C0000F800007C0000F80000
7C0000F800007C0000F800007C0000F800007C0000F800007C0000F800007C0000F800007C0000
F800007C0000F800007C0000F800007C0000F800007C0000F800007C0000F800007C0000F80000
7C0000F800007C0000F800007C0000F800007C0000F800007C0000F800007C0000F800007C0000
F800007C0000F800007C0000F800007C0000F800007C0000F800007C0000F800007C0000F80000
7C0000F800007C0000F800007C0000F800007C0000F800007C0000F80000FE0001FC001FFFF03F
FFE01FFFF03FFFE02B4280C130>12 D<3C7EFFFFFFFF7E3C0808798718>46
D<0003FC0000001FFF8000003E07C00000F801F00001F000F80003E0007C0003C0003C00078000
1E000F80001F000F00000F001F00000F801E000007801E000007803E000007C03E000007C03E00
0007C07E000007E07C000003E07C000003E07C000003E07C000003E07C000003E0FC000003F0FC
000003F0FC000003F0FC000003F0FC000003F0FC000003F0FC000003F0FC000003F0FC000003F0
FC000003F0FC000003F0FC000003F0FC000003F0FC000003F0FC000003F0FC000003F0FC000003
F0FC000003F0FC000003F0FC000003F0FC000003F07C000003E07C000003E07C000003E07E0000
07E07E000007E03E000007C03E000007C03E000007C01E000007801F00000F801F00000F800F00
000F000F80001F000780001E0003C0003C0003E0007C0001F000F80000F801F000003E07C00000
1FFF80000003FC000024407DBE2C>48 D<0007FC0000003FFF800000F00FE00001C003F8000300
00FC000600007E000C00003F001800001F801800001F803000000FC06000000FE060000007E060
000007E0C0000007F0FC000007F0FE000003F0FF000003F0FF000003F0FF000003F0FF000003F0
7E000007F018000007F000000007E000000007E00000000FE00000000FC00000000FC00000001F
800000001F800000003F000000003E000000007E000000007C00000000F800000001F000000003
E000000003C000000007800000000F000000001E000000003C0000000078000000007000000000
E000000001C0000000038000000007000000000E000000001C0000000038000030003000003000
6000003000C00000600180000060030000006006000000600C000000E01C000000E01FFFFFFFE0
3FFFFFFFC07FFFFFFFC0FFFFFFFFC0FFFFFFFFC0243F7DBE2C>50 D<0000003FE00004000003FF
FC000C00001FE00F000C00007F0001C01C0000F80000601C0003F00000303C0007C00000183C00
0F8000000C7C003F000000067C007E00000003FC007C00000001FC00F800000001FC01F0000000
00FC03F0000000007C03E0000000007C07E0000000003C0FC0000000003C0FC0000000003C1F80
000000001C1F80000000001C3F80000000001C3F00000000001C3F00000000000C7F0000000000
0C7F00000000000C7F00000000000C7E000000000000FE000000000000FE000000000000FE0000
00000000FE000000000000FE000000000000FE000000000000FE000000000000FE000000000000
FE000000000000FE000000000000FE000000000000FE000000000000FE0000000000007E000000
0000007F0000000000007F00000000000C7F00000000000C3F00000000000C3F00000000000C3F
80000000000C1F80000000000C1F8000000000180FC000000000180FC0000000001807E0000000
003003E0000000003003F0000000006001F0000000006000F800000000C0007C00000000C0007E
0000000180003F0000000300000F80000006000007C000000C000003F0000018000000F8000070
0000007F0001E00000001FE00F8000000003FFFE00000000003FE0000036437CC140>67
D<FFFFFCFFFFFC03FF0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC
0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC
0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC
0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC
0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0003FF00FFFFFCFFFF
FC16417CC01F>73 D<FFFFFF000000FFFFFF00000003FF0000000000FE0000000000FC00000000
00FC0000000000FC0000000000FC0000000000FC0000000000FC0000000000FC0000000000FC00
00000000FC0000000000FC0000000000FC0000000000FC0000000000FC0000000000FC00000000
00FC0000000000FC0000000000FC0000000000FC0000000000FC0000000000FC0000000000FC00
00000000FC0000000000FC0000000000FC0000000000FC0000000000FC0000000000FC00000000
00FC0000000000FC0000000000FC0000000000FC0000000000FC0000000000FC0000000000FC00
00000000FC0000000000FC0000000000FC0000000000FC0000000C00FC0000000C00FC0000000C
00FC0000000C00FC0000000C00FC0000001C00FC0000001800FC0000001800FC0000001800FC00
00001800FC0000001800FC0000003800FC0000003800FC0000003800FC0000007800FC000000F8
00FC000000F800FC000001F800FC000003F000FC00000FF000FC00003FF003FE0001FFF0FFFFFF
FFFFF0FFFFFFFFFFF02E417CC037>76 D<FFFC0000000000FFFEFFFE0000000001FFFE03FE0000
000001FF8000FE0000000001FE0000DF00000000037E0000DF00000000037E0000DF0000000003
7E0000CF80000000067E0000CF80000000067E0000CF80000000067E0000C7C00000000C7E0000
C7C00000000C7E0000C3E0000000187E0000C3E0000000187E0000C3E0000000187E0000C1F000
0000307E0000C1F0000000307E0000C1F0000000307E0000C0F8000000607E0000C0F800000060
7E0000C0F8000000607E0000C07C000000C07E0000C07C000000C07E0000C07C000000C07E0000
C03E000001807E0000C03E000001807E0000C01F000003007E0000C01F000003007E0000C01F00
0003007E0000C00F800006007E0000C00F800006007E0000C00F800006007E0000C007C0000C00
7E0000C007C0000C007E0000C007C0000C007E0000C003E00018007E0000C003E00018007E0000
C001F00030007E0000C001F00030007E0000C001F00030007E0000C000F80060007E0000C000F8
0060007E0000C000F80060007E0000C0007C00C0007E0000C0007C00C0007E0000C0007C00C000
7E0000C0003E0180007E0000C0003E0180007E0000C0001F0300007E0000C0001F0300007E0000
C0001F0300007E0000C0000F8600007E0000C0000F8600007E0000C0000F8600007E0000C00007
CC00007E0000C00007CC00007E0000C00007CC00007E0000C00003F800007E0000C00003F80000
7E0001E00001F000007E0001E00001F000007E0003F00001F000007E000FFC0000E00001FF80FF
FFC000E0007FFFFEFFFFC000E0007FFFFE47417CC051>I<FFFFFFFE00000000FFFFFFFFE00000
0003FE0003FC00000000FC00007F00000000FC00000FC0000000FC000007E0000000FC000003F0
000000FC000001F8000000FC000000FC000000FC000000FE000000FC0000007E000000FC000000
7F000000FC0000003F000000FC0000003F800000FC0000003F800000FC0000003F800000FC0000
003F800000FC0000003F800000FC0000003F800000FC0000003F800000FC0000003F000000FC00
00007F000000FC0000007E000000FC000000FE000000FC000000FC000000FC000001F8000000FC
000003F0000000FC000007E0000000FC00000FC0000000FC00007F00000000FC0003FC00000000
FFFFFFE000000000FFFFFFC000000000FC0007F000000000FC0000FC00000000FC00003E000000
00FC00001F80000000FC00000FC0000000FC000007C0000000FC000003E0000000FC000003F000
0000FC000003F0000000FC000001F0000000FC000001F8000000FC000001F8000000FC000001F8
000000FC000001F8000000FC000001F8000000FC000001F8000000FC000001FC000000FC000001
FC000000FC000001FC000000FC000001FC000000FC000001FC000000FC000001FC000000FC0000
01FC000000FC000001FC003000FC000000FE003000FC000000FE003000FC000000FE003000FC00
00007E006000FC0000003F006003FF0000001F80C0FFFFFC00000FC180FFFFFC000007FF000000
00000000FE003C427CC041>82 D<0007FC0008003FFF801800F803E01801E00070380380001838
0700000E780E000006781C000003F83C000001F838000001F878000000F870000000F870000000
78F000000078F000000038F000000038F000000038F000000038F000000018F800000018F80000
00187C000000187C000000007E000000003F000000003F800000001FE00000000FFC0000000FFF
C0000007FFFC000001FFFF800000FFFFF000003FFFFC00000FFFFF000000FFFF8000000FFFC000
0000FFE00000001FF000000007F000000003F800000001F800000000FC000000007C000000007C
000000003EC00000003EC00000003EC00000001EC00000001EC00000001EC00000001EE0000000
1EE00000001EE00000001CF00000001CF00000003CF800000038F800000038FC00000070FE0000
00F0F7000000E0F3800001C0E0E0000380E078000F00C01F807C00C007FFF80080007FC0002743
7CC131>I<001FF0000000FFFC000003E01F0000070007C0000E0003E0000F0001F0001F8000F0
001FC000F8001FC000F8001FC0007C000F80007C000700007C000000007C000000007C00000000
7C000000007C000000007C0000007FFC000007F87C00003F007C0000FC007C0003F0007C0007C0
007C000F80007C001F00007C003F00007C007E00007C007E00007C03FC00007C03FC00007C03FC
00007C03FC00007C03FC0000FC03FC0000FC037E00017C037E00037C033F00063E061F800C3F0E
0FE0381FFC03FFE00FF8007F8007E028297DA82C>97 D<0003FE0000001FFFE000003E01F00000
F8001C0001E0000E0003C0001E0007C0003F000F80007F001F00007F001F00007F003E00003E00
3E00001C007E000000007E000000007C000000007C00000000FC00000000FC00000000FC000000
00FC00000000FC00000000FC00000000FC00000000FC00000000FC000000007C000000007E0000
00007E000000007E000000003E000000003F000001801F000001801F800003000F8000030007C0
00060003E0000C0001F000180000FC003000003F01E000001FFF80000003FC000021297DA827>
99 D<0003FC0000001FFF8000007E07E00000F801F00001E000780003C0003C000780003E000F
80001F001F00001F001F00000F803E00000F803E00000F807E000007C07E000007C07C000007C0
7C000007C0FFFFFFFFC0FFFFFFFFC0FC00000000FC00000000FC00000000FC00000000FC000000
00FC00000000FC000000007C000000007C000000007E000000003E000000003E000000003F0000
00C01F000000C00F800001800F8000018007C000030003E000060001F0000C00007C003800003F
80F000000FFFC0000001FE000022297EA827>101 D<00001F800000FFE00001E0F00003C1F000
0783F8000F03F8001F03F8003E03F8003E01F0003C0000007C0000007C0000007C0000007C0000
007C0000007C0000007C0000007C0000007C0000007C0000007C0000007C0000007C0000007C00
00007C0000FFFFFE00FFFFFE00007C0000007C0000007C0000007C0000007C0000007C0000007C
0000007C0000007C0000007C0000007C0000007C0000007C0000007C0000007C0000007C000000
7C0000007C0000007C0000007C0000007C0000007C0000007C0000007C0000007C0000007C0000
007C0000007C0000007C0000007C0000007C0000007C0000007C0000007C0000007C0000007C00
0000FF00001FFFFC001FFFFC001D4280C11A>I<000000007E000003F801FF00000FFE07878000
3E0F8C0780007803D8078000F001E0070001E000F0000003E000F8000003E000F8000007C0007C
000007C0007C00000FC0007E00000FC0007E00000FC0007E00000FC0007E00000FC0007E00000F
C0007E00000FC0007E00000FC0007E000007C0007C000007C0007C000003E000F8000003E000F8
000001E000F0000000F001E0000000F803C00000013E0F800000010FFE0000000303F800000002
000000000002000000000002000000000003000000000003000000000003000000000003800000
000001E00000000001FFFFF0000000FFFFFF0000007FFFFFC00000FFFFFFE00003C0001FF8000F
000001F8001E0000007C003C0000003E00780000001E00780000001F00F00000000F00F0000000
0F00F00000000F00F00000000F00F00000000F00F00000000F00780000001E003C0000003C003C
0000003C001F000000F80007800001E00003E00007C00000FE007F0000003FFFFC00000003FFC0
0000293E7FA92C>I<0780000FC0000FE0001FE0001FE0000FE0000FC000078000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000
07E000FFE000FFE0000FE00007E00003E00003E00003E00003E00003E00003E00003E00003E000
03E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E000
03E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00007F000
FFFF80FFFF8011407EBF17>105 D<07E000FFE000FFE0000FE00007E00003E00003E00003E000
03E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E000
03E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E000
03E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E000
03E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E000
03E00003E00003E00007F000FFFF80FFFF8011427EC117>108 D<07E00FF00007F80000FFE03F
FE001FFF0000FFE0E03F00701F80000FE1800F80C007C00007E30007C18003E00003E60003E300
01F00003E40003E20001F00003E80001E40000F00003E80001F40000F80003F00001F80000F800
03F00001F80000F80003F00001F80000F80003E00001F00000F80003E00001F00000F80003E000
01F00000F80003E00001F00000F80003E00001F00000F80003E00001F00000F80003E00001F000
00F80003E00001F00000F80003E00001F00000F80003E00001F00000F80003E00001F00000F800
03E00001F00000F80003E00001F00000F80003E00001F00000F80003E00001F00000F80003E000
01F00000F80003E00001F00000F80003E00001F00000F80003E00001F00000F80003E00001F000
00F80003E00001F00000F80003E00001F00000F80003E00001F00000F80003E00001F00000F800
03E00001F00000F80003E00001F00000F80007F00003F80001FC00FFFF807FFFC03FFFE0FFFF80
7FFFC03FFFE043297DA84D>I<07E00FF00000FFE07FFC0000FFE0E07E00000FE1801F000007E2
000F800003E40007C00003EC0007C00003E80003E00003F80003E00003F00003E00003F00003E0
0003F00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E0
0003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E0
0003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E0
0003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E0
0003E00003E00007F00007F000FFFF80FFFF80FFFF80FFFF8029297DA831>I<0001FE0000000F
FFC000003F03F00000F8007C0001F0003E0003C0000F0007800007800F800007C00F000003C01F
000003E03E000001F03E000001F03E000001F07C000000F87C000000F87C000000F8FC000000FC
FC000000FCFC000000FCFC000000FCFC000000FCFC000000FCFC000000FCFC000000FCFC000000
FC7C000000F87C000000F87E000001F87E000001F83E000001F03E000001F01F000003E00F0000
03C00F800007C007C0000F8003E0001F0001F0003E0000F8007C00003F03F000000FFFC0000001
FE000026297EA82C>I<07E00FF00000FFE07FFC0000FFE1E03F00000FE3800F800007E60007C0
0003EC0003E00003F80001F00003F00000F80003F00000FC0003E000007C0003E000007E0003E0
00003E0003E000003F0003E000003F0003E000003F0003E000001F0003E000001F8003E000001F
8003E000001F8003E000001F8003E000001F8003E000001F8003E000001F8003E000001F8003E0
00001F8003E000001F0003E000003F0003E000003F0003E000003F0003E000007E0003E000007E
0003E000007C0003F00000F80003F00001F80003F80001F00003EC0003E00003E60007C00003E3
001F800003E1E07E000003E07FFC000003E01FE0000003E00000000003E00000000003E0000000
0003E00000000003E00000000003E00000000003E00000000003E00000000003E00000000003E0
0000000003E00000000003E00000000003E00000000003E00000000003E00000000003E0000000
0007F000000000FFFF80000000FFFF80000000293C7DA831>I<07E03F00FFE0FFC0FFE1C1E00F
E303F007E603F003E403F003EC01E003E800C003E8000003F0000003F0000003F0000003F00000
03E0000003E0000003E0000003E0000003E0000003E0000003E0000003E0000003E0000003E000
0003E0000003E0000003E0000003E0000003E0000003E0000003E0000003E0000003E0000003E0
000003E0000003E0000003E0000003E0000003E0000007F80000FFFFE000FFFFE0001C297DA822
>114 D<007FC04003FFF0C00F8079C01E000FC03C0007C0780003C0700003C0700001C0F00001
C0F00000C0F00000C0F80000C0F80000C0FC0000C07E0000007FC000003FFC00001FFFE0000FFF
F80003FFFE0000FFFF00000FFF8000007FC000000FC0C00007E0C00003E0C00001F0E00001F0E0
0000F0E00000F0E00000F0F00000F0F00000F0F80000E0F80001E0FC0001C0F6000380E3000700
E1C03E00C0FFFC00803FE0001C297EA822>I<0018000000180000001800000018000000180000
0018000000380000003800000038000000380000007800000078000000F8000000F8000001F800
0003F8000007F800001FF80000FFFFFFC0FFFFFFC000F8000000F8000000F8000000F8000000F8
000000F8000000F8000000F8000000F8000000F8000000F8000000F8000000F8000000F8000000
F8000000F8000000F8000000F8000000F8000000F8000000F8000000F8000000F8006000F80060
00F8006000F8006000F8006000F8006000F8006000F8006000F8006000F80040007C00C0007C00
C0003C0180003E0180001F87000007FE000001F8001B3B7FBA22>I E end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 400
TeXDict begin @letter
%%EndSetup
%%Page: 0 1
bop 672 1150 a Fv(Comm)m(on)25 b(Lisp)30 b(In)n(terface)e(Manager)835
1272 y(Release)i(2.0)f(Sp)r(eci\014cation)615 1516 y Fu(Scott)22
b(McKa)n(y)f(\()p Ft(SWM@Riverside.SCRC.Symbolics.COM)p Fu(\))829
1593 y(Willia)o(m)c(Y)-5 b(ork)21 b(\()p Ft(York@Fuji.ILA.COM)p
Fu(\))1051 1671 y Fs(with)f(c)m(ontributions)i(by)640 1748
y Fr(John)c(Aspinall)h(\()p Ft(JGA@Riverside.SCRC.Symbolics.COM)p
Fr(\))830 1825 y(Dennis)f(Dough)n(t)n(y)h(\()p Ft(Doughty@ILeaf.COM)p
Fr(\))582 1903 y(Charles)e(Hornig)g(\()p Ft
(Hornig@Riverside.SCRC.Symbolics.COM)p Fr(\))580 1980 y(Ric)n(hard)h(Lamson)e
(\()p Ft(RLamson\045UMAB.BitNet@MITVMA.MIT.EDU)p Fr(\))847
2058 y(Da)n(vid)j(Linden)e(\()p Ft(Linden@CRL.DEC.COM)p Fr(\))774
2135 y(Da)n(vid)i(Mo)r(on)e(\()p Ft(Moon@Cambridge.Apple.COM)p
Fr(\))854 2213 y(Ramana)f(Rao)h(\()p Ft(rao@PARC.Xerox.COM)p
Fr(\))1129 2370 y Fu(Ma)n(y)k(6,)h(1992)p eop
%%Page: 1 2
bop 149 719 a Fq(Con)l(ten)l(ts)149 1073 y Fp(I)74 b(Ov)n(erview)26
b(and)f(Con)n(v)n(en)n(tions)1295 b(1)149 1261 y Fo(1)51 b(Ov)n(erview)21
b(of)h(CLIM)1671 b(2)149 1449 y(2)51 b(Con)n(v)n(en)n(tions)1855
b(5)232 1582 y Fr(2.1)56 b(Audience,)17 b(Goals,)i(and)e(Purp)r(ose)h
Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)101 b Fr(5)232 1715
y(2.2)56 b(P)n(ac)n(k)m(age)17 b(Structure)50 b Fn(:)28 b(:)g(:)g(:)g(:)h(:)f
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)101 b Fr(5)232 1848
y(2.3)56 b(\\Spread")16 b(P)n(oin)n(t)i(Argumen)n(ts)e(to)h(F)-5
b(unctions)34 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h
(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)101 b Fr(6)232 1981 y(2.4)56
b(Imm)n(utabilit)n(y)17 b(of)h(Ob)s(jects)35 b Fn(:)28 b(:)h(:)f(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)101 b Fr(6)359 2114 y(2.4.1)63 b(Beha)n(vior)18
b(of)g(In)n(terfaces)43 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)101
b Fr(7)232 2246 y(2.5)56 b(Proto)r(col)16 b(Classes)h(and)h(Predicates)g
Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)101 b Fr(8)232 2379
y(2.6)56 b(Sp)r(ecialized)16 b(Argumen)n(ts)g(to)h(Generic)h(F)-5
b(unctions)20 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)101 b Fr(9)232 2512 y(2.7)56 b(Multiple)18
b(V)-5 b(alue)18 b Ft(setf)42 b Fn(:)28 b(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)101 b Fr(9)232 2645 y(2.8)56 b(Sheet,)17
b(Stream,)f(or)i(Medium)f(Argumen)n(ts)e(to)j(Macros)40 b Fn(:)28
b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)101
b Fr(9)232 2778 y(2.9)56 b(Macros)17 b(that)g(Expand)g(in)n(to)h(Calls)h(to)e
(Adv)n(ertised)g(F)-5 b(unctions)45 b Fn(:)28 b(:)g(:)g(:)g(:)h(:)f(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)73 b Fr(10)232 2911 y(2.10)28 b(T)-5
b(erminology)17 b(P)n(ertaining)g(to)h(Error)e(Conditions)26
b Fn(:)i(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)73 b Fr(10)149 3168 y Fp(I)r(I)h(Geometry)26 b(Substrate)1437
b(12)149 3356 y Fo(3)51 b(Regions)1945 b(13)1296 3632 y Fr(i)p
eop
%%Page: 2 3
bop 149 16 a Fm(CONTENTS)1962 b Fr(ii)232 210 y(3.1)56 b(General)18
b(Regions)52 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)73 b Fr(13)359 342 y(3.1.1)63 b(The)18 b(Region)f(Predicate)f
(Proto)r(col)35 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73 b Fr(15)359 475
y(3.1.2)63 b(Region)17 b(Comp)r(osition)f(Proto)r(col)28 b
Fn(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)
g(:)g(:)g(:)g(:)g(:)g(:)73 b Fr(16)232 608 y(3.2)56 b(Other)17
b(Region)g(T)n(yp)r(es)43 b Fn(:)28 b(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)73 b Fr(19)359 741 y(3.2.1)63 b(P)n(oin)n(ts)34
b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)73 b Fr(19)359 874 y(3.2.2)63 b(P)n(olygons)18 b(and)g(P)n(olylines)d
Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73 b Fr(21)359 1007
y(3.2.3)63 b(Lines)15 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73 b Fr(23)359 1139 y(3.2.4)63
b(Rectangles)53 b Fn(:)28 b(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)73 b Fr(24)359 1272 y(3.2.5)63 b(Ellipses)18 b(and)g(Elliptical)h
(Arcs)45 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73 b Fr(26)149 1460
y Fo(4)51 b(Bounding)23 b(Rectangles)1575 b(30)232 1593 y Fr(4.1)56
b(Bounding)17 b(Rectangles)22 b Fn(:)28 b(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)73 b Fr(30)359 1726 y(4.1.1)63 b(The)18
b(Bounding)f(Rectangle)f(Proto)r(col)46 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73
b Fr(32)359 1859 y(4.1.2)63 b(Bounding)18 b(Rectangle)d(Con)n(v)n(enience)j
(F)-5 b(unctions)28 b Fn(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)73 b Fr(33)149 2047 y Fo(5)51 b(A\016ne)22 b(T)-5
b(ransformations)1525 b(35)232 2180 y Fr(5.1)56 b(T)-5 b(ransformations)51
b Fn(:)28 b(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73
b Fr(35)359 2313 y(5.1.1)63 b(T)-5 b(ransformation)15 b(Conditions)49
b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h
(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73 b Fr(36)232 2446 y(5.2)56
b(T)-5 b(ransformation)15 b(Constructors)45 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)73 b Fr(36)232 2578 y(5.3)56 b(The)18 b(T)-5
b(ransformation)15 b(Proto)r(col)38 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)73 b Fr(38)359 2711 y(5.3.1)63 b(T)-5 b(ransformation)15
b(Predicates)h Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73 b Fr(38)359
2844 y(5.3.2)63 b(Comp)r(osition)16 b(of)i(T)-5 b(ransformations)46
b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)73 b Fr(39)359 2977 y(5.3.3)63 b(Applying)18
b(T)-5 b(ransformations)22 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)
g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73
b Fr(41)149 3234 y Fp(I)r(I)r(I)h(Windo)n(wing)26 b(Substrate)1363
b(43)149 3423 y Fo(6)51 b(Ov)n(erview)21 b(of)h(Windo)n(w)g(F)-5
b(acilities)1316 b(44)p eop
%%Page: 3 4
bop 149 16 a Fm(CONTENTS)1947 b Fr(iii)232 210 y(6.1)56 b(In)n(tro)r(duction)
14 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)
g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)73 b Fr(44)232 342 y(6.2)56 b(Prop)r(erties)15 b(of)j(Sheets)49
b Fn(:)28 b(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73
b Fr(45)232 475 y(6.3)56 b(Sheet)17 b(Proto)r(cols)25 b Fn(:)j(:)g(:)g(:)g(:)
g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73 b Fr(45)149
663 y Fo(7)51 b(Prop)r(erties)22 b(of)f(Sheets)1601 b(47)232
796 y Fr(7.1)56 b(Basic)18 b(Sheet)f(Classes)j Fn(:)28 b(:)g(:)g(:)g(:)h(:)f
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73 b Fr(47)232 929 y(7.2)56
b(Relationships)17 b(Bet)n(w)n(een)g(Sheets)32 b Fn(:)c(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)73 b Fr(47)359 1062 y(7.2.1)63 b(Sheet)17 b(Relationship)g(F)
-5 b(unctions)38 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73 b Fr(48)359
1195 y(7.2.2)63 b(Sheet)17 b(Genealogy)g(Classes)23 b Fn(:)28
b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73 b Fr(50)232 1328 y(7.3)56
b(Sheet)17 b(Geometry)d Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)73 b Fr(50)359 1460 y(7.3.1)63 b(Sheet)17
b(Geometry)f(F)-5 b(unctions)16 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73
b Fr(50)359 1593 y(7.3.2)63 b(Sheet)17 b(Geometry)f(Classes)35
b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73 b Fr(52)149 1781
y Fo(8)51 b(Sheet)22 b(Proto)r(cols)1725 b(54)232 1914 y Fr(8.1)56
b(Input)17 b(Proto)r(col)46 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73 b Fr(54)359 2047 y(8.1.1)63
b(Input)17 b(Proto)r(col)f(F)-5 b(unctions)48 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)73 b Fr(55)359 2180 y(8.1.2)63 b(Input)17 b(Proto)r(col)f(Classes)24
b Fn(:)k(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73 b Fr(56)232 2313
y(8.2)56 b(Standard)16 b(Device)i(Ev)n(en)n(ts)39 b Fn(:)28
b(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73 b Fr(57)232
2446 y(8.3)56 b(Output)17 b(Proto)r(col)44 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)h(:)
f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73 b Fr(62)359 2578
y(8.3.1)63 b(Output)17 b(Prop)r(erties)38 b Fn(:)29 b(:)f(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)73 b Fr(63)359 2711 y(8.3.2)63 b(Output)17
b(Proto)r(col)f(F)-5 b(unctions)46 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)
g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73
b Fr(65)359 2844 y(8.3.3)63 b(Output)17 b(Proto)r(col)f(Classes)22
b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73 b Fr(65)359 2977
y(8.3.4)63 b(Asso)r(ciating)16 b(a)i(Medium)f(with)h(a)g(Sheet)53
b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)73 b Fr(65)232 3110 y(8.4)56 b(Repain)n(t)17
b(Proto)r(col)33 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)73 b Fr(66)359 3243 y(8.4.1)63 b(Repain)n(t)17
b(Proto)r(col)f(F)-5 b(unctions)35 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)
g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73
b Fr(67)359 3375 y(8.4.2)63 b(Repain)n(t)17 b(Proto)r(col)f(Classes)54
b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73 b Fr(67)p eop
%%Page: 4 5
bop 149 16 a Fm(CONTENTS)1949 b Fr(iv)232 210 y(8.5)56 b(Sheet)17
b(Noti\014cation)f(Proto)r(col)46 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)73 b Fr(68)359 342 y(8.5.1)63 b(Relationship)17 b(to)h(Windo)n(w)g
(System)e(Change)h(Noti\014cations)40 b Fn(:)28 b(:)h(:)f(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)73 b Fr(68)359 475 y(8.5.2)63 b(Sheet)17 b(Geometry)f
(Noti\014cations)29 b Fn(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73 b Fr(68)149
663 y Fo(9)51 b(P)n(orts,)20 b(Grafts,)i(and)g(Mirrored)h(Sheets)1184
b(69)232 796 y Fr(9.1)56 b(In)n(tro)r(duction)14 b Fn(:)28
b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73
b Fr(69)232 929 y(9.2)56 b(P)n(orts)18 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)
g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73
b Fr(69)232 1062 y(9.3)56 b(Grafts)37 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73
b Fr(71)232 1195 y(9.4)56 b(Mirrors)17 b(and)h(Mirrored)e(Sheets)d
Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73 b Fr(73)359
1328 y(9.4.1)63 b(Mirror)17 b(F)-5 b(unctions)31 b Fn(:)d(:)h(:)f(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)73 b Fr(73)359 1460 y(9.4.2)63 b(In)n(ternal)17
b(In)n(terfaces)f(for)i(Nativ)n(e)g(Co)r(ordinates)31 b Fn(:)d(:)g(:)g(:)g(:)
g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73 b Fr(74)149
1718 y Fp(IV)i(Sheet)24 b(and)g(Medium)h(Output)f(F)-6 b(acilities)884
b(76)149 1906 y Fo(10)19 b(Dra)n(wing)j(Options)1690 b(77)232
2039 y Fr(10.1)28 b(Medium)17 b(Comp)r(onen)n(ts)c Fn(:)28
b(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73 b
Fr(77)232 2172 y(10.2)28 b(Dra)n(wing)18 b(Option)g(Binding)g(F)-5
b(orms)26 b Fn(:)i(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)
g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73 b Fr(80)359
2304 y(10.2.1)35 b(T)-5 b(ransformation)15 b(\\Con)n(v)n(enience")i(F)-5
b(orms)46 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)73 b Fr(82)359 2437 y(10.2.2)35 b(Establishing)17
b(Lo)r(cal)g(Co)r(ordinate)f(Systems)53 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73 b Fr(83)232
2570 y(10.3)28 b(Line)18 b(St)n(yles)54 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73 b Fr(83)359
2703 y(10.3.1)35 b(Line)18 b(St)n(yle)g(Proto)r(col)e(and)i(Line)g(St)n(yle)g
(Sub)r(options)48 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)73 b Fr(84)359 2836 y(10.3.2)35 b(Con)n(trasting)16
b(Dash)i(P)n(atterns)51 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73
b Fr(86)149 3024 y Fo(11)19 b(T)-5 b(ext)20 b(St)n(yles)1853
b(87)232 3157 y Fr(11.1)28 b(T)-5 b(ext)18 b(St)n(yles)49 b
Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)73 b Fr(87)359 3290 y(11.1.1)35 b(T)-5 b(ext)18 b(St)n(yle)h(Proto)r
(col)c(and)j(T)-5 b(ext)18 b(St)n(yle)h(Sub)r(options)37 b
Fn(:)28 b(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73
b Fr(88)232 3423 y(11.2)28 b(T)-5 b(ext)18 b(St)n(yle)h(Binding)f(F)-5
b(orms)38 b Fn(:)29 b(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73
b Fr(90)p eop
%%Page: 5 6
bop 149 16 a Fm(CONTENTS)1964 b Fr(v)232 210 y(11.3)28 b(Con)n(trolling)18
b(T)-5 b(ext)18 b(St)n(yle)g(Mappings)42 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)73 b Fr(91)149 398 y Fo(12)19 b(Graphics)1916 b(93)232 531
y Fr(12.1)28 b(Ov)n(erview)19 b(of)f(Graphics)53 b Fn(:)28
b(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73 b Fr(93)232
663 y(12.2)28 b(De\014nitions)15 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73 b Fr(94)232
796 y(12.3)28 b(Dra)n(wing)18 b(is)h(Appro)n(ximate)25 b Fn(:)j(:)h(:)f(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h
(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73 b Fr(94)232 929 y(12.4)28
b(Rendering)16 b(Con)n(v)n(en)n(tions)i(for)g(Geometric)e(Shap)r(es)36
b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)73 b Fr(96)359 1062 y(12.4.1)35 b(P)n(ermissible)17
b(Alternativ)n(es)g(During)h(Rendering)49 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g
(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)73 b Fr(99)232 1195
y(12.5)28 b(Dra)n(wing)18 b(F)-5 b(unctions)34 b Fn(:)28 b(:)g(:)g(:)g(:)h(:)
f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(101)359 1328
y(12.5.1)35 b(Basic)18 b(Dra)n(wing)h(F)-5 b(unctions)54 b
Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h
(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(102)359 1460 y(12.5.2)35
b(Comp)r(ound)16 b(Dra)n(wing)i(F)-5 b(unctions)46 b Fn(:)28
b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)45 b Fr(105)232 1593 y(12.6)28 b(Pixmaps)c Fn(:)k(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(106)232 1726 y(12.7)28 b(Graphics)18 b(Proto)r(cols)27
b Fn(:)h(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(108)359 1859 y(12.7.1)35 b(General)18 b(Beha)n(vior)g(of)g(Dra)n(wing)g
(F)-5 b(unctions)43 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(109)359 1992 y(12.7.2)35
b(Medium-sp)r(eci\014c)15 b(Dra)n(wing)k(F)-5 b(unctions)50
b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)45 b Fr(109)359 2125 y(12.7.3)35 b(P)n(ort-sp)r(eci\014c)16
b(Dra)n(wing)i(F)-5 b(unctions)56 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b
Fr(111)149 2313 y Fo(13)19 b(Dra)n(wing)j(in)g(Color)1648 b(113)232
2446 y Fr(13.1)28 b(The)18 b Ft(:ink)g Fr(Dra)n(wing)h(Option)k
Fn(:)29 b(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(113)232
2578 y(13.2)28 b(Basic)18 b(Designs)31 b Fn(:)d(:)g(:)g(:)g(:)g(:)g(:)g(:)h
(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(114)232
2711 y(13.3)28 b(Color)15 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(115)359
2844 y(13.3.1)35 b(Standard)16 b(Color)i(Names)h Fn(:)28 b(:)g(:)g(:)g(:)g(:)
g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)45 b Fr(116)359 2977 y(13.3.2)35 b(Con)n(trasting)16
b(Colors)29 b Fn(:)g(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(116)232 3110 y(13.4)28 b(Opacit)n(y)43 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(118)232 3243 y(13.5)28 b(Color)18 b(Blending)40 b Fn(:)28
b(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(119)232 3375 y(13.6)28 b(Indirect)17 b(Inks)53 b Fn(:)28
b(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(120)p eop
%%Page: 6 7
bop 149 16 a Fm(CONTENTS)1949 b Fr(vi)232 210 y(13.7)28 b(Flipping)19
b(Ink)g Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)45 b Fr(120)232 342 y(13.8)28 b(Examples)17
b(of)h(Simple)f(Dra)n(wing)h(E\013ects)41 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(121)149 531 y Fo(14)19 b(General)k(Designs)1679 b(122)232
663 y Fr(14.1)28 b(The)18 b(Comp)r(ositing)d(Proto)r(col)j
Fn(:)29 b(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(123)232
796 y(14.2)28 b(P)n(atterns)16 b(and)i(Stencils)f Fn(:)28 b(:)g(:)g(:)h(:)f
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(124)232 929
y(14.3)28 b(Tiling)47 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h
(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(125)232
1062 y(14.4)28 b(Regions)17 b(as)h(Designs)32 b Fn(:)c(:)g(:)g(:)g(:)h(:)f(:)
g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h
(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(125)232 1195 y(14.5)28
b(Arbitrary)17 b(Designs)d Fn(:)28 b(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(127)232 1328 y(14.6)28 b(Examples)17
b(of)h(More)f(Complex)g(Dra)n(wing)h(E\013ects)h Fn(:)28 b(:)g(:)g(:)g(:)g(:)
g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(128)232 1460 y(14.7)28 b(Design)18 b(Proto)r(col)f Fn(:)28
b(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(129)149 1718 y Fp(V)75 b(Extended)24 b(Stream)h(Output)e(F)-6
b(acilities)927 b(130)149 1906 y Fo(15)19 b(Extended)j(Stream)f(Output)1422
b(131)232 2039 y Fr(15.1)28 b(Basic)18 b(Output)f(Streams)37
b Fn(:)28 b(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(131)232 2172 y(15.2)28 b(Extended)16 b(Output)h(Streams)22
b Fn(:)29 b(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b
Fr(132)232 2304 y(15.3)28 b(The)18 b(T)-5 b(ext)18 b(Cursor)41
b Fn(:)28 b(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(133)359 2437 y(15.3.1)35 b(T)-5 b(ext)18 b(Cursor)f(Proto)r(col)55
b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(136)359
2570 y(15.3.2)35 b(Stream)16 b(T)-5 b(ext)18 b(Cursor)f(Proto)r(col)36
b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(137)232 2703 y(15.4)28
b(T)-5 b(ext)18 b(Proto)r(col)26 b Fn(:)i(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h
(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(137)359 2836 y(15.4.1)35
b(Mixing)19 b(T)-5 b(ext)18 b(and)f(Graphics)i Fn(:)28 b(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)45 b Fr(138)359 2969 y(15.4.2)35 b(W)-5 b(rapping)17
b(of)i(T)-5 b(ext)18 b(Lines)41 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(139)232 3102 y(15.5)28 b(A)n(ttracting)16 b(the)h(User's)g(A)n(tten)n
(tion)29 b Fn(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(140)232
3234 y(15.6)28 b(Bu\013ering)18 b(of)g(Output)51 b Fn(:)28
b(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b
Fr(140)149 3423 y Fo(16)19 b(Output)i(Recording)1625 b(142)p
eop
%%Page: 7 8
bop 149 16 a Fm(CONTENTS)1933 b Fr(vii)232 210 y(16.1)28 b(Ov)n(erview)19
b(of)f(Output)e(Recording)44 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(142)232 342 y(16.2)28 b(Output)17 b(Records)e Fn(:)28
b(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(143)359 475 y(16.2.1)35 b(The)18 b(Basic)g(Output)f(Record)f(Proto)r
(col)21 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(144)359 608 y(16.2.2)35
b(The)18 b(Output)f(Record)f(\\Database")g(Proto)r(col)42 b
Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)
45 b Fr(147)359 741 y(16.2.3)35 b(Output)17 b(Record)f(Change)h
(Noti\014cation)f(Proto)r(col)37 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(148)232 874 y(16.3)28 b(T)n(yp)r(es)18
b(of)g(Output)f(Records)45 b Fn(:)29 b(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)
g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)45 b Fr(149)359 1007 y(16.3.1)35 b(Standard)16 b(Output)h(Record)f
(Classes)33 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h
(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(149)359 1139 y(16.3.2)35
b(Graphics)18 b(Displa)n(y)n(ed)h(Output)e(Records)39 b Fn(:)28
b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)45 b Fr(149)359 1272 y(16.3.3)35 b(T)-5 b(ext)18 b(Displa)n(y)n(ed)h
(Output)e(Record)38 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(150)359
1405 y(16.3.4)35 b(T)-5 b(op-Lev)n(el)19 b(Output)d(Records)55
b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h
(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(151)232 1538 y(16.4)28
b(Output)17 b(Recording)f(Streams)52 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)45 b Fr(152)359 1671 y(16.4.1)35 b(The)18 b(Output)f(Recording)f
(Stream)g(Proto)r(col)32 b Fn(:)c(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(152)359 1804 y(16.4.2)35
b(Graphics)18 b(Output)e(Recording)26 b Fn(:)i(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)
g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(153)359 1936 y(16.4.3)35 b(T)-5 b(ext)18 b(Output)f(Recording)45
b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(154)359
2069 y(16.4.4)35 b(Output)17 b(Recording)f(Utilities)51 b Fn(:)28
b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(155)149 2257 y Fo(17)19 b(T)-5
b(able)22 b(F)-5 b(ormatting)1647 b(158)232 2390 y Fr(17.1)28
b(Ov)n(erview)19 b(of)f(T)-5 b(able)18 b(F)-5 b(ormatting)16
b(F)-5 b(acilities)46 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(158)232
2523 y(17.2)28 b(T)-5 b(able)18 b(F)-5 b(ormatting)16 b(F)-5
b(unctions)30 b Fn(:)e(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)
g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(160)232 2656 y(17.3)28 b(The)18 b(T)-5 b(able)18 b(and)g(Item)e(List)i
(F)-5 b(ormatting)16 b(Proto)r(cols)45 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)
g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(164)359
2789 y(17.3.1)35 b(T)-5 b(able)18 b(F)-5 b(ormatting)16 b(Proto)r(col)53
b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h
(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(164)359 2922 y(17.3.2)35
b(Ro)n(w)18 b(and)g(Column)f(F)-5 b(ormatting)16 b(Proto)r(col)21
b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)45 b Fr(166)359 3054 y(17.3.3)35 b(Cell)19 b(F)-5
b(ormatting)16 b(Proto)r(col)48 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(167)359 3187 y(17.3.4)35 b(Item)17 b(List)h(F)-5 b(ormatting)16
b(Proto)r(col)48 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(167)149
3375 y Fo(18)19 b(Graph)j(F)-5 b(ormatting)1621 b(169)p eop
%%Page: 8 9
bop 149 16 a Fm(CONTENTS)1918 b Fr(viii)232 210 y(18.1)28 b(Graph)18
b(F)-5 b(ormatting)16 b(F)-5 b(unctions)52 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)
g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)45 b Fr(170)232 342 y(18.2)28 b(The)18 b(Graph)g(F)-5
b(ormatting)15 b(Proto)r(cols)31 b Fn(:)d(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(171)149 531 y Fo(19)19 b(Bordered)k(Output)1648 b(175)149
719 y(20)19 b(T)-5 b(ext)20 b(F)-5 b(ormatting)1673 b(177)232
852 y Fr(20.1)28 b(T)-5 b(extual)18 b(List)g(F)-5 b(ormatting)32
b Fn(:)c(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b
Fr(177)232 984 y(20.2)28 b(Inden)n(ted)17 b(Output)38 b Fn(:)28
b(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(177)232 1117 y(20.3)28 b(Filled)19 b(Output)27 b Fn(:)h(:)g(:)g(:)g(:)g
(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b
Fr(178)149 1305 y Fo(21)19 b(Incremen)n(tal)k(Redispla)n(y)1509
b(179)232 1438 y Fr(21.1)28 b(Ov)n(erview)19 b(of)f(Incremen)n(tal)d
(Redispla)n(y)33 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(179)359
1571 y(21.1.1)35 b(Examples)17 b(of)h(Incremen)n(tal)d(Redispla)n(y)21
b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)45 b Fr(180)232 1704 y(21.2)28 b(Standard)16
b(Programmer)e(In)n(terface)20 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)
g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(182)232 1837 y(21.3)28 b(Incremen)n(tal)16 b(Redispla)n(y)i(Proto)r(col)
28 b Fn(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(184)232
1970 y(21.4)28 b(Incremen)n(tal)16 b(Redispla)n(y)i(Stream)e(Proto)r(col)52
b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(188)149 2227 y Fp(VI)75 b(Extended)24
b(Stream)h(Input)e(F)-6 b(acilities)956 b(189)149 2415 y Fo(22)19
b(Extended)j(Stream)f(Input)1471 b(190)232 2548 y Fr(22.1)28
b(Basic)18 b(Input)f(Streams)39 b Fn(:)28 b(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(190)232 2681 y(22.2)28 b(Extended)16
b(Input)i(Streams)23 b Fn(:)28 b(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)45 b Fr(191)359 2814 y(22.2.1)35 b(The)18 b(Extended)e(Input)h(Stream)f
(Proto)r(col)48 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(192)359 2947 y(22.2.2)35
b(Extended)16 b(Input)i(Stream)d(Conditions)21 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)
g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(194)232 3079 y(22.3)28 b(Gestures)17 b(and)g(Gesture)g(Names)44
b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(195)359
3212 y(22.3.1)35 b(Standard)16 b(Gesture)h(Names)49 b Fn(:)28
b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(197)232 3345 y(22.4)28 b(The)18
b(P)n(oin)n(ter)f(Proto)r(col)i Fn(:)28 b(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)45 b Fr(198)p eop
%%Page: 9 10
bop 149 16 a Fm(CONTENTS)1949 b Fr(ix)232 210 y(22.5)28 b(P)n(oin)n(ter)18
b(T)-5 b(rac)n(king)43 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)
g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)45 b Fr(199)232 342 y(22.6)28 b(Gesture)17
b(Prepro)r(cessing)35 b Fn(:)28 b(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)45 b Fr(202)149 531 y Fo(23)19 b(Presen)n(tation)j(T)n(yp)r(es)1591
b(204)232 663 y Fr(23.1)28 b(Ov)n(erview)19 b(of)f(Presen)n(tation)d(T)n(yp)r
(es)i Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(204)232
796 y(23.2)28 b(Presen)n(tations)34 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)h
(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(205)359
929 y(23.2.1)35 b(The)18 b(Presen)n(tation)d(Proto)r(col)h
Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h
(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(205)232 1062 y(23.3)28
b(Presen)n(tation)16 b(T)n(yp)r(es)22 b Fn(:)28 b(:)g(:)g(:)g(:)h(:)f(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(206)359 1195 y(23.3.1)35
b(De\014ning)18 b(Presen)n(tation)d(T)n(yp)r(es)56 b Fn(:)28
b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)45 b Fr(207)359 1328 y(23.3.2)35 b(Presen)n(tation)16
b(T)n(yp)r(e)i(Abbreviations)25 b Fn(:)j(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(209)359
1460 y(23.3.3)35 b(Presen)n(tation)16 b(Metho)r(ds)39 b Fn(:)28
b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h
(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(210)359 1593 y(23.3.4)35
b(Presen)n(tation)16 b(T)n(yp)r(e)i(F)-5 b(unctions)44 b Fn(:)28
b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)45 b Fr(215)232 1726 y(23.4)28 b(T)n(yp)r(ed)18
b(Output)52 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)45 b Fr(218)232 1859 y(23.5)28 b(Con)n(text-dep)r(enden)n(t)15
b(\(T)n(yp)r(ed\))h(Input)49 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(221)232 1992 y(23.6)28 b(Views)47 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)
g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(225)232 2125 y(23.7)28 b(Presen)n(tation)16 b(T)-5 b(ranslators)23
b Fn(:)28 b(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(226)359 2257 y(23.7.1)35 b(De\014ning)18 b(Presen)n(tation)d(T)-5
b(ranslators)14 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(226)359 2390
y(23.7.2)35 b(Presen)n(tation)16 b(T)-5 b(ranslator)16 b(F)-5
b(unctions)47 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(230)359 2523 y(23.7.3)35
b(Finding)18 b(Applicable)g(Presen)n(tations)k Fn(:)28 b(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(233)359 2656 y(23.7.4)35 b(T)-5 b(ranslator)17 b(Applicabilit)n(y)35
b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(234)232
2789 y(23.8)28 b(Standard)16 b(Presen)n(tation)g(T)n(yp)r(es)41
b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(235)359
2922 y(23.8.1)35 b(Basic)18 b(Presen)n(tation)e(T)n(yp)r(es)43
b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(235)359 3054
y(23.8.2)35 b(Numeric)16 b(Presen)n(tation)g(T)n(yp)r(es)53
b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(236)359 3187 y(23.8.3)35
b(Character)16 b(and)h(String)h(Presen)n(tation)d(T)n(yp)r(es)45
b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)45 b Fr(237)359 3320 y(23.8.4)35 b(P)n(athname)16 b(Presen)n(tation)f(T)n
(yp)r(e)35 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)
g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(237)359 3453
y(23.8.5)35 b(\\One-of)t(")18 b(and)f(\\Some-of)t(")g(Presen)n(tation)e(T)n
(yp)r(es)46 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)45 b Fr(237)p eop
%%Page: 10 11
bop 149 16 a Fm(CONTENTS)1964 b Fr(x)359 210 y(23.8.6)35 b(Sequence)16
b(Presen)n(tation)g(T)n(yp)r(es)38 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)
g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(239)359 342 y(23.8.7)35 b(\\Meta")16 b(Presen)n(tation)g(T)n(yp)r(es)35
b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h
(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(240)359 475 y(23.8.8)35
b(Comp)r(ound)16 b(Presen)n(tation)f(T)n(yp)r(es)35 b Fn(:)28
b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)45 b Fr(240)359 608 y(23.8.9)35 b(Lisp)18 b(Expression)f
(Presen)n(tation)e(T)n(yp)r(es)48 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(240)149
796 y Fo(24)19 b(Input)j(Editing)h(and)e(Completion)i(F)-5
b(acilities)1022 b(242)232 929 y Fr(24.1)28 b(The)18 b(Input)f(Editor)27
b Fn(:)h(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(242)359 1062 y(24.1.1)35 b(The)18 b(Input)f(Editing)h(Stream)d(Proto)r
(col)e Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(245)359 1195 y(24.1.2)35 b(Suggestions)16
b(for)i(Input)f(Editing)g(Commands)40 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(247)232 1328
y(24.2)28 b(Activ)m(ation)17 b(and)g(Delimiter)h(Gestures)44
b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h
(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(248)232 1460 y(24.3)28
b(Signalling)18 b(Errors)f(Inside)h Ft(present)g Fr(Metho)r(ds)31
b Fn(:)d(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)45 b Fr(249)232 1593 y(24.4)28 b(Reading)17
b(and)h(W)-5 b(riting)18 b(of)g(T)-5 b(ok)n(ens)36 b Fn(:)28
b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(250)232 1726 y(24.5)28
b(Completion)38 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(251)149 1914 y Fo(25)19
b(Men)n(u)j(F)-5 b(acilities)1711 b(256)149 2102 y(26)19 b(Dialog)j(F)-5
b(acilities)1690 b(261)149 2360 y Fp(VI)r(I)75 b(Building)26
b(Applications)1300 b(265)149 2548 y Fo(27)19 b(Command)i(Pro)r(cessing)1530
b(266)232 2681 y Fr(27.1)28 b(Commands)46 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(266)232
2814 y(27.2)28 b(Command)16 b(T)-5 b(ables)25 b Fn(:)j(:)g(:)g(:)g(:)g(:)h(:)
f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(268)232 2947
y(27.3)28 b(Command)16 b(Men)n(us)23 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)h(:)f(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h
(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(274)232 3079 y(27.4)28
b(Keystrok)n(e)17 b(Accelerators)g Fn(:)28 b(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)45 b Fr(276)232 3212 y(27.5)28 b(Presen)n(tation)16
b(T)-5 b(ranslator)16 b(Utilities)52 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(279)232 3345 y(27.6)28 b(The)18 b(Command)d(Pro)r(cessor)49
b Fn(:)29 b(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b
Fr(280)p eop
%%Page: 11 12
bop 149 16 a Fm(CONTENTS)1949 b Fr(xi)359 210 y(27.6.1)35 b(Command)16
b(Presen)n(tation)f(T)n(yp)r(es)52 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)
g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(282)149 398 y Fo(28)19 b(Application)24 b(F)-5 b(rames)1588
b(284)232 531 y Fr(28.1)28 b(Ov)n(erview)19 b(of)f(Application)e(F)-5
b(rames)55 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)
g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(284)232
663 y(28.2)28 b(De\014ning)18 b(and)f(Creating)g(Application)g(F)-5
b(rames)21 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)
g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(286)359 796 y(28.2.1)35
b(Sp)r(ecifying)17 b(the)g(P)n(anes)h(of)g(a)g(F)-5 b(rame)49
b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(288)232 929 y(28.3)28 b(Application)17
b(F)-5 b(rame)17 b(F)-5 b(unctions)45 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)45 b Fr(290)359 1062 y(28.3.1)35 b(In)n(terface)16 b(with)i(Presen)n
(tation)e(T)n(yp)r(es)50 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(294)232
1195 y(28.4)28 b(The)18 b(Generic)f(Command)f(Lo)r(op)42 b
Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(295)232
1328 y(28.5)28 b(F)-5 b(rame)17 b(Managers)44 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)h
(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(298)359
1460 y(28.5.1)35 b(Finding)18 b(F)-5 b(rame)17 b(Managers)50
b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(298)359 1593
y(28.5.2)35 b(F)-5 b(rame)17 b(Manager)f(Op)r(erations)35 b
Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(300)359 1726 y(28.5.3)35
b(F)-5 b(rame)17 b(Manager)f(Settings)22 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)45 b Fr(301)232 1859 y(28.6)28 b(Examples)17 b(of)h(Applications)44
b Fn(:)29 b(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b
Fr(302)149 2047 y Fo(29)19 b(P)n(anes)1969 b(304)232 2180 y
Fr(29.1)28 b(Ov)n(erview)19 b(of)f(P)n(anes)42 b Fn(:)28 b(:)g(:)g(:)g(:)h(:)
f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(304)232 2313
y(29.2)28 b(Basic)18 b(P)n(ane)g(Construction)h Fn(:)28 b(:)h(:)f(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(305)359 2446 y(29.2.1)35
b(P)n(ane)18 b(Initialization)f(Options)46 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)
g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)
45 b Fr(306)359 2578 y(29.2.2)35 b(P)n(ane)18 b(Prop)r(erties)11
b Fn(:)28 b(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(307)232 2711 y(29.3)28 b(Comp)r(osite)16 b(and)h(La)n(y)n(out)h(P)n
(anes)39 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b
Fr(307)359 2844 y(29.3.1)35 b(La)n(y)n(out)18 b(P)n(ane)g(Options)c
Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(308)359
2977 y(29.3.2)35 b(La)n(y)n(out)18 b(P)n(ane)g(Classes)32 b
Fn(:)c(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)
g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(309)359
3110 y(29.3.3)35 b(Other)17 b(Comp)r(osite)f(P)n(ane)h(Classes)42
b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(311)359 3243 y(29.3.4)35
b(The)18 b(La)n(y)n(out)g(Proto)r(col)k Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)45 b Fr(311)232 3375 y(29.4)28 b(Application)17
b(P)n(anes)50 b Fn(:)28 b(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)45 b Fr(314)p eop
%%Page: 12 13
bop 149 16 a Fm(CONTENTS)1933 b Fr(xii)359 210 y(29.4.1)35
b(Application)17 b(P)n(ane)h(Options)30 b Fn(:)e(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(314)359 342 y(29.4.2)35 b(Application)17 b(P)n(ane)h(Classes)48
b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(315)359 475
y(29.4.3)35 b(Making)18 b(CLIM)g(Application)f(P)n(anes)26
b Fn(:)i(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)45 b Fr(316)359 608 y(29.4.4)35 b(CLIM)18
b(Application)f(P)n(ane)g(F)-5 b(unctions)38 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(316)232 741 y(29.5)28 b(De\014ning)18 b(New)f(P)n(ane)h(T)n(yp)r(es)34
b Fn(:)29 b(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b
Fr(317)359 874 y(29.5.1)35 b(De\014ning)18 b(Leaf)f(P)n(anes)46
b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(317)359
1007 y(29.5.2)35 b(De\014ning)18 b(Comp)r(osite)d(P)n(anes)22
b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(318)149 1195
y Fo(30)19 b(Gadgets)1904 b(319)232 1328 y Fr(30.1)28 b(Ov)n(erview)19
b(of)f(Gadgets)28 b Fn(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)
g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)45 b Fr(319)232 1460 y(30.2)28 b(Abstract)16 b(Gadgets)k
Fn(:)28 b(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(319)359 1593 y(30.2.1)35 b(Using)18 b(Gadgets)46 b Fn(:)28
b(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(320)359
1726 y(30.2.2)35 b(Implemen)n(ting)16 b(Gadgets)24 b Fn(:)k(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)45 b Fr(321)232 1859 y(30.3)28 b(Basic)18
b(Gadget)f(Classes)j Fn(:)28 b(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)
g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)45 b Fr(323)232 1992 y(30.4)28 b(Abstract)16 b(Gadget)h(Classes)23
b Fn(:)28 b(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(327)359 2125 y(30.4.1)35 b(The)18 b Ft(push-button)h Fr(Gadget)31
b Fn(:)d(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h
(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(328)359 2257 y(30.4.2)35
b(The)18 b Ft(toggle-button)h Fr(Gadget)d Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(328)359 2390 y(30.4.3)35 b(The)18 b Ft(menu-button)h Fr(Gadget)31
b Fn(:)d(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h
(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(329)359 2523 y(30.4.4)35
b(The)18 b Ft(scroll-bar)h Fr(Gadget)e Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)45 b Fr(329)359 2656 y(30.4.5)35 b(The)18 b Ft(slider)h
Fr(Gadget)47 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(331)359 2789 y(30.4.6)35 b(The)18 b Ft(radio-box)h Fr(Gadget)46
b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(331)359
2922 y(30.4.7)35 b(The)18 b Ft(text-field)h Fr(Gadget)e Fn(:)28
b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(332)359 3054 y(30.4.8)35
b(The)18 b Ft(text-editor)h Fr(Gadget)31 b Fn(:)d(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(333)232 3187 y(30.5)28 b(In)n(tegrating)16 b(Gadgets)h(and)h(Output)e
(Records)52 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(333)p eop
%%Page: 13 14
bop 149 16 a Fm(CONTENTS)1918 b Fr(xiii)149 210 y Fp(VI)r(I)r(I)74
b(App)r(endices)1603 b(335)149 398 y Fo(A)35 b(Glossary)1891
b(336)149 586 y(B)38 b(The)22 b(CLIM-SYS)h(P)n(ac)n(k)l(age)1450
b(343)232 719 y Fr(B.1)45 b(Resources)36 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b
Fr(343)232 852 y(B.2)g(Multi-pro)r(cessing)h Fn(:)28 b(:)g(:)g(:)g(:)g(:)h(:)
f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(345)232 984
y(B.3)g(Lo)r(c)n(ks)52 b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)
h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(346)232
1117 y(B.4)g(Multiple)18 b(V)-5 b(alue)18 b Ft(setf)42 b Fn(:)28
b(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b
Fr(346)149 1305 y Fo(C)37 b(Common)21 b(Lisp)i(Streams)1497
b(348)232 1438 y Fr(C.1)44 b(Stream)16 b(Classes)41 b Fn(:)28
b(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(348)232 1571 y(C.2)f(Basic)18 b(Stream)e(F)-5 b(unctions)47
b Fn(:)28 b(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(350)232 1704 y(C.3)f(Character)16 b(Input)55 b Fn(:)28
b(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(350)232 1837 y(C.4)f(Character)16 b(Output)53 b Fn(:)28
b(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(351)232 1970 y(C.5)f(Binary)18 b(Streams)27 b Fn(:)h(:)g(:)g(:)g(:)g(:)g
(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g
(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(353)149
2158 y Fo(D)34 b(Encapsulating)23 b(Streams)1496 b(354)232
2291 y Fr(D.1)42 b(Encapsulating)16 b(Stream)g(Classes)25 b
Fn(:)j(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)
g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(354)359 2423
y(D.1.1)k(Encapsulating)16 b(Stream)g(Proto)r(col)29 b Fn(:)f(:)g(:)g(:)g(:)g
(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45
b Fr(355)359 2556 y(D.1.2)k(The)18 b(\\Delegation)f(Problem")51
b Fn(:)28 b(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)h
(:)f(:)g(:)g(:)g(:)g(:)g(:)g(:)g(:)45 b Fr(355)149 2745 y Fo(E)c(Changes)22
b(from)f(CLIM)h(1.0)1453 b(357)p eop
%%Page: 14 15
bop 149 16 a Fm(CONTENTS)1919 b Fr(xiv)149 638 y Fl(Ac)l(kno)l(wledgmen)l(ts)
149 992 y Fr(The)14 b(pro)r(cess)e(of)j(designing)e(and)h(implemen)n(ting)e
(CLIM)j(and)f(writing)g(the)f(CLIM)i(sp)r(eci\014cation)c(has)j(b)r(een)g(a)
149 1059 y(long)g(and)g(sometimes)e(bump)n(y)i(one.)23 b(The)14
b(\014rst)g(thanks)g(ha)n(v)n(e)h(to)f(go)h(to)f(the)g(p)r(eople)f(and)i
(organizations)d(who)149 1125 y(allo)n(w)n(ed)19 b(the)g(p)r(eople)e(w)n
(orking)j(on)e(CLIM)h(to)g(con)n(tin)n(ue)f(to)h(do)f(so,)i(despite)e(the)g
(obstacles.)26 b(In)19 b(particular,)149 1191 y(Mark)14 b(Son-Bell)h(of)g
(ILA;)g(Bob)f(Laddaga)f(and)i(Saiid)g(Zarrabian)e(at)h(Sym)n(b)r(olics)g
(\(and)g(b)r(efore)f(or)h(with)h(them,)149 1258 y(Ken)22 b(Sinclair,)i(Ric)n
(k)f(Karash,)h(and)e(Mark)g(Gra\013am\);)i(and)e(Jim)h(Vietc)n(h)f(and)g
(Hano)r(c)n(h)f(Eiron)h(of)h(F)-5 b(ranz,)149 1324 y(Inc.)24
b(ha)n(v)n(e)17 b(struggled)e(with)i(v)m(arious)g(and)f(sometimes)e
(con\015icting)i(business)g(in)n(terests)f(through)h(the)g(whole)149
1391 y(pro)r(cess.)149 1524 y(The)21 b(attendees)e(of)i(the)g(CLIM)h
(coalition)f(meetings)e(and)i(those)g(who)g(con)n(tributed)f(to)h(CLIM)g
(along)g(the)149 1590 y(w)n(a)n(y)g(include)e(all)h(of)g(those)f(listed)g(on)
h(the)f(title)g(page,)h(but)f(also)g(include)h(Bob)f(Kerns,)h(Chris)g(Ric)n
(hardson)149 1656 y(and)f(John)i(Irwin,)g(P)n(aul)f(W)-5 b(einek)n(e)21
b(and)f(JonL)g(White,)g(and)g(Kevin)g(Males.)31 b(Other)19
b(con)n(tributors)f(include)149 1723 y(Mik)n(e)e(McMahon,)e(P)n(aul)i(Rob)r
(ertson,)d(John)i(Hotc)n(hkiss,)h(Da)n(v)n(e)g(Lo)n(wry)-5
b(,)17 b(Mik)n(e)f(Green)n(w)n(ald,)g(Da)n(v)n(e)g(Sc)n(hatsky)-5
b(,)149 1789 y(and)17 b(Glenn)i(Adams.)149 1922 y(Son)n(y)n(a)25
b(Keene,)i(Ann)d(Hatha)n(w)n(a)n(y)-5 b(,)28 b(and)d(Ellen)g(Golden)g(all)h
(deserv)n(e)e(credit)h(for)f(impro)n(ving)h(the)g(qualit)n(y)149
1988 y(of)g(this)f(sp)r(eci\014cation)f(\(in)i(part)f(b)n(y)i(authoring)d
(the)h(original)h(CLIM)g(do)r(cumen)n(tation)o(\),)e(as)i(do)r(es)f(Mark)149
2055 y(Nahab)r(edian.)149 2188 y(Ken)n(t)18 b(Pitman)f(pro)n(vided)h(m)n(uc)n
(h)g(useful)h(advice)f(on)g(the)g(mec)n(hanics)f(of)h(writing)g(a)h(sp)r
(eci\014cation,)e(and)h(this)149 2254 y(do)r(cumen)n(t)d(impro)n(v)n(ed)i
(signi\014can)n(tly)h(b)r(ecause)e(of)i(that.)149 2387 y(Last)23
b(but)i(not)f(least)g(are)g(the)g(p)r(eople)f(who)i(ha)n(v)n(e)g(con)n(tin)n
(ued)f(to)g(use)h(CLIM)f(for)h(the)f(duration)f(of)i(this)149
2453 y(length)n(y)e(pro)r(cess.)38 b(The)24 b(p)r(eople)e(at)h(BBN)h(\(Bruce)
e(Rob)r(erts)f(and)i(his)h(group\))e(ha)n(v)n(e)h(b)r(een)g(a)g(con)n(tin)n
(uing)149 2520 y(source)18 b(of)h(v)m(aluable)g(information)e(and)i
(suggestions.)26 b(Also,)20 b(Markus)e(Fisc)n(her)h(of)h(Sym)n(b)r(olics)e
(Gm)n(bH)h(had)149 2586 y(to)e(deal)h(with)g(more)f(than)g(his)h(fair)g
(share)f(of)h(problems,)f(the)g(result)h(of)g(using)f(CLIM)h(in)h(no)n(v)n
(el)g(w)n(a)n(ys.)p eop
%%Page: 1 16
bop 1128 1317 a Fl(P)l(art)46 b(I)375 1660 y Fq(Ov)l(erview)51
b(and)i(Con)l(v)l(en)l(tions)1290 3632 y Fr(1)p eop
%%Page: 2 17
bop 149 691 a Fl(Chapter)46 b(1)149 1034 y Fq(Ov)l(erview)51
b(of)i(CLIM)149 1388 y Fr(The)20 b(Common)d(Lisp)k(In)n(terface)d(Manager)g
(\(CLIM\))h(is)i(a)f(p)r(o)n(w)n(erful)g(Lisp-based)f(programming)e(in)n
(terface)149 1455 y(that)i(pro)n(vides)g(a)h(la)n(y)n(ered)h(set)e(of)h(p)r
(ortable)e(facilities)i(for)g(constructing)d(user)i(in)n(terfaces.)29
b(These)19 b(include)149 1521 y(basic)k(windo)n(wing,)j(input,)f(output,)g
(and)e(graphics)g(services;)j(stream-orien)n(ted)21 b(input)i(and)h(output)e
(ex-)149 1588 y(tended)17 b(with)h(facilities)h(suc)n(h)f(as)g(output)f
(recording,)g(presen)n(tations,)f(and)i(con)n(text)g(sensitiv)n(e)g(input;)h
(high)149 1654 y(lev)n(el)k(\\formatted)d(output")h(facilities;)k
(application)d(building)h(facilities;)i(command)20 b(pro)r(cessing;)j(and)g
(a)149 1721 y(comp)r(ositional)13 b(to)r(olkit)j(similar)g(to)g(those)g
(found)f(in)i(the)f(X)g(w)n(orld)h(that)e(supp)r(orts)f(lo)r(ok)i(and)g(feel)
h(indep)r(en-)149 1787 y(dence.)149 1920 y(CLIM)22 b(pro)n(vides)g(an)h(API)f
(\(applications)f(programmer)d(in)n(terface\))j(to)h(user)g(in)n(terface)f
(facilities)i(for)f(the)149 1986 y(Lisp)e(application)g(programmer.)29
b(CLIM)20 b(do)r(es)g(not)g(comp)r(ete)e(with)j(the)f(windo)n(w)h(system)e
(or)i(to)r(olkits)f(of)149 2053 y(the)i(host)h(mac)n(hine)f(\(suc)n(h)h(as)g
(Motif)h(or)f(Op)r(enLo)r(ok\),)f(but)h(rather)f(uses)h(their)g(services)f
(\(to)h(the)g(exten)n(t)149 2119 y(that)g(it)h(mak)n(es)f(sense\))f(to)i(in)n
(tegrate)e(Lisp)i(applications)f(in)n(to)h(the)f(host's)g(windo)n(w)i(en)n
(vironmen)n(t.)40 b(F)-5 b(or)149 2185 y(example,)18 b(CLIM)h(\\windo)n(ws")g
(are)f(mapp)r(ed)f(on)n(to)h(one)h(or)g(more)e(host)h(windo)n(ws,)i(and)f
(input)g(and)f(output)149 2252 y(op)r(erations)10 b(p)r(erformed)f(on)j(the)g
(CLIM)g(windo)n(w)h(are)f(ultimately)f(carried)g(out)h(b)n(y)h(the)f(host)g
(windo)n(w)h(system.)149 2318 y(CLIM)21 b(will)j(supp)r(ort)c(a)i(large)g(n)n
(um)n(b)r(er)e(of)i(host)g(en)n(vironmen)n(ts)e(including)i(Genera,)g(Motif,)
h(Op)r(enLo)r(ok,)149 2385 y(the)17 b(Macin)n(tosh,)g(CLOE-386/486,)f(and)i
(the)f(Next)h(mac)n(hine.)149 2518 y(The)23 b(programmer)d(using)j(CLIM)g(is)
i(insulated)d(from)h(most)f(of)h(the)g(complexities)f(of)i(p)r(ortabilit)n(y)
-5 b(,)25 b(since)149 2584 y(the)19 b(Lisp-based)g(application)g(need)h(only)
g(deal)g(with)g(CLIM)g(ob)s(jects)f(and)g(functions)g(regardless)f(of)i
(their)149 2650 y(op)r(erating)e(platform)h(\(that)g(is,)j(the)f(com)n
(bination)d(of)j(Lisp)g(system,)f(host)g(computer,)f(and)h(host)g(windo)n(w)
149 2717 y(en)n(vironmen)n(t\).)k(CLIM)19 b(abstracts)d(out)i(man)n(y)h(of)f
(the)g(concepts)f(common)f(to)i(all)i(windo)n(w)f(en)n(vironmen)n(ts.)149
2783 y(The)14 b(programmer)c(is)15 b(encouraged)c(to)j(think)g(in)h(terms)d
(of)i(these)f(abstractions,)g(rather)g(than)g(in)i(the)e(sp)r(eci\014c)149
2850 y(capabilities)k(of)h(a)g(particular)e(host)i(system.)23
b(F)-5 b(or)18 b(example,)f(using)h(CLIM,)g(the)f(programmer)d(can)j(sp)r
(ecify)149 2916 y(the)j(app)r(earance)e(of)j(output)e(in)j(high-lev)n(el)g
(terms)d(and)i(those)f(high-lev)n(el)i(descriptions)d(are)i(turned)e(in)n(to)
149 2983 y(the)d(appropriate)f(app)r(earance)e(for)k(the)f(giv)n(en)i(host.)
23 b(Th)n(us,)18 b(the)e(application)g(has)h(the)f(same)g(fundamen)n(tal)149
3049 y(in)n(terface)g(across)h(m)n(ultiple)h(en)n(vironmen)n(ts,)e(although)h
(the)g(details)h(will)i(di\013er)e(from)e(system)h(to)h(system.)149
3182 y(Another)j(imp)r(ortan)n(t)g(goal)i(in)h(the)f(design)g(and)g
(organization)e(of)i(CLIM)g(is)i(to)e(pro)n(vide)g(a)g(sp)r(ectrum)e(of)149
3248 y(user)e(in)n(terface)g(building)h(options,)g(all)i(the)d(w)n(a)n(y)i
(from)e(detailed,)i(lo)n(w-lev)n(el)h(sp)r(eci\014cation)17
b(of)k(\\what)e(go)r(es)149 3315 y(where",)13 b(to)g(high-lev)n(el)h(user)e
(in)n(terface)g(sp)r(eci\014cation)e(where)i(the)h(programmer)c(lea)n(v)n(es)
14 b(all)g(of)f(the)f(details)h(up)149 3381 y(to)i(CLIM.)h(This)g(allo)n(ws)g
(CLIM)f(to)h(balance)e(the)h(ease)g(of)g(use)g(on)h(one)f(hand,)h(and)f(v)n
(ersatilit)n(y)h(on)g(the)f(other.)149 3447 y(By)20 b(using)f(high)g(lev)n
(el)h(facilities,)g(a)g(programmer)15 b(can)k(build)h(p)r(ortable)d(user)h
(in)n(terfaces)g(quic)n(kly)-5 b(,)22 b(whereas)1290 3632 y(2)p
eop
%%Page: 3 18
bop 149 16 a Fm(CHAPTER)16 b(1.)43 b(O)n(VER)-6 b(VIEW)17 b(OF)i(CLIM)1325
b Fr(3)149 210 y(b)n(y)28 b(recom)n(bining)d(lo)n(w)n(er)j(lev)n(el)g
(facilities)g(he)f(can)f(build)i(his)g(o)n(wn)f(programming)d(and)j(user)f
(in)n(terfaces)149 276 y(according)18 b(to)h(his)h(sp)r(eci\014c)e(needs)h
(or)g(requiremen)n(ts.)27 b(F)-5 b(or)20 b(example,)g(CLIM)f(supp)r(orts)e
(the)i(dev)n(elopmen)n(t)149 342 y(of)26 b(applications)e(indep)r(enden)n(t)g
(of)h(lo)r(ok)h(and)g(feel,)i(as)e(w)n(ell)h(as)e(the)g(p)r(ortable)f(dev)n
(elopmen)n(t)g(of)i(to)r(olkit)149 409 y(libraries)17 b(that)g(de\014ne)g
(and)h(implemen)n(t)e(a)i(particular)f(lo)r(ok)h(and)f(feel.)149
542 y(In)e(addition,)h(CLIM's)f(la)n(y)n(ered)h(design)f(allo)n(ws)h
(application)e(programs)f(to)i(exclude)g(facilities)h(that)e(they)h(do)149
608 y(not)k(use,)h(or)g(reimplemen)n(t)d(or)i(extend)g(an)n(y)h(part)f(of)h
(the)f(substrate.)27 b(T)-5 b(o)20 b(these)f(ends,)h(CLIM)f(is)h(sp)r
(eci\014ed)149 674 y(and)c(implemen)n(ted)e(in)j(a)f(la)n(y)n(ered,)i(mo)r
(dular)c(fashion)i(based)g(on)g(proto)r(cols.)22 b(Eac)n(h)16
b(facilit)n(y)h(do)r(cumen)n(ted)c(in)149 741 y(this)18 b(sp)r(eci\014cation)
e(has)i(sev)n(eral)g(la)n(y)n(ers)h(of)g(in)n(terface,)e(and)h(eac)n(h)g
(facilit)n(y)i(is)f(indep)r(enden)n(tly)d(sp)r(eci\014ed)h(and)149
807 y(has)g(a)i(do)r(cumen)n(ted)14 b(external)j(in)n(terface.)149
940 y(The)g(facilities)i(pro)n(vided)e(b)n(y)i(CLIM)f(include:)149
1120 y Fo(Geometry)27 b Fr(CLIM)13 b(pro)n(vides)g(pro)n(vides)g(geometric)e
(ob)s(jects)g(lik)n(e)k(p)r(oin)n(t,)f(rectangle,)f(and)g(transformation)o(s)
287 1186 y(and)18 b(functions)e(for)i(manipulating)e(them.)149
1294 y Fo(Graphics)29 b Fr(CLIM)20 b(pro)n(vides)g(a)g(ric)n(h)g(set)f(of)h
(dra)n(wing)g(functions,)f(including)h(ones)g(for)f(dra)n(wing)h(complex)287
1360 y(geometric)11 b(shap)r(es,)i(a)h(wide)g(v)m(ariet)n(y)g(of)g(dra)n
(wing)f(options)g(\(suc)n(h)g(as)h(line)g(thic)n(kness\),)g(a)g
(sophisticated)287 1427 y(inking)20 b(mo)r(del,)e(and)h(color.)27
b(CLIM)19 b(pro)n(vides)g(full)h(a\016ne)f(transforms,)e(so)i(that)f(a)h(dra)
n(wing)g(ma)n(y)g(b)r(e)287 1493 y(arbitrarily)12 b(translated,)g(rotated,)g
(and)g(scaled)g(\(to)f(the)h(exten)n(t)g(that)f(the)h(underlying)g(windo)n(w)
h(system)287 1559 y(supp)r(orts)j(the)h(rendering)f(of)i(suc)n(h)g(ob)s
(jects\).)149 1667 y Fo(Windo)n(wing)29 b Fr(CLIM)18 b(pro)n(vides)h(a)f(p)r
(ortable)e(la)n(y)n(er)k(for)e(implemen)n(ting)e Fm(sheet)h
Fr(classes)g(\(t)n(yp)r(es)g(of)i(windo)n(w-)287 1733 y(lik)n(e)k(ob)s
(jects\))d(that)h(are)g(suited)g(to)h(supp)r(ort)e(particular)g(high)i(lev)n
(el)h(facilities)f(or)f(in)n(terfaces.)35 b(The)287 1800 y(windo)n(wing)26
b(mo)r(dule)e(of)i(CLIM)f(de\014nes)f(a)i(uniform)f(in)n(terface)f(for)h
(creating)f(and)i(managing)e(hi-)287 1866 y(erarc)n(hies)e(of)i(these)f(ob)s
(jects)f(regardless)f(of)j(their)f(sheet)g(class.)41 b(This)24
b(la)n(y)n(er)g(also)g(pro)n(vides)g(ev)n(en)n(t)287 1932 y(managemen)n(t.)
149 2040 y Fo(Output)d(Recording)29 b Fr(CLIM)18 b(pro)n(vides)f(a)g(facilit)
n(y)i(for)e(capturing)e(all)k(output)c(done)i(to)g(a)h(windo)n(w.)24
b(This)287 2106 y(facilit)n(y)f(pro)n(vides)f(the)f(supp)r(ort)g(for)g
(arbitrarily)h(scrollable)f(windo)n(ws.)38 b(In)22 b(addition,)h(this)f
(facilit)n(y)287 2173 y(serv)n(es)c(as)g(the)f(ro)r(ot)g(for)g(a)h(v)m(ariet)
n(y)g(of)h(in)n(teresting)d(high-lev)n(el)j(to)r(ols.)149 2280
y Fo(F)-5 b(ormatted)21 b(Output)28 b Fr(CLIM)c(pro)n(vides)g(a)g(set)g(of)g
(macros)f(and)h(functions)e(that)i(enable)f(programs)f(to)287
2346 y(pro)r(duce)16 b(neatly)h(formatted)e(tabular)i(and)h(graphical)f
(displa)n(ys)i(with)f(v)n(ery)g(little)g(e\013ort.)149 2454
y Fo(Con)n(text)j(Sensitiv)n(e)i(Input)29 b Fr(The)20 b Fm(presen)n(tation)f
(t)n(yp)r(e)h Fr(facilit)n(y)i(of)f(CLIM)g(pro)n(vides)f(the)h(abilit)n(y)h
(to)e(as-)287 2520 y(so)r(ciate)d(seman)n(tics)g(with)i(output,)e(suc)n(h)i
(that)e(ob)s(jects)g(ma)n(y)i(b)r(e)f(retriev)n(ed)f(later)h(b)n(y)i
(selecting)d(their)287 2587 y(displa)n(y)n(ed)h(represen)n(tation)d(with)i
(the)g(p)r(oin)n(ter.)23 b(This)18 b Fm(sensitivit)n(y)g Fr(comes)e(along)h
(automatically)e(and)287 2653 y(is)20 b(in)n(tegrated)e(with)h(the)g(Common)f
(Lisp)h(t)n(yp)r(e)g(system.)28 b(A)19 b(mec)n(hanism)f(for)h(t)n(yp)r(e)g
(co)r(ercion)e(is)k(also)287 2719 y(included,)d(pro)n(viding)g(the)f(basis)h
(for)g(p)r(o)n(w)n(erful)g(user)f(in)n(terfaces.)149 2827 y
Fo(Application)24 b(Building)31 b Fr(CLIM)21 b(pro)n(vides)g(a)g(set)f(of)h
(to)r(ols)f(for)h(organizing)f(an)h(application's)f(top-lev)n(el)287
2893 y(user)j(in)n(terface)f(and)h(command)e(pro)r(cessing)g(lo)r(ops)i(cen)n
(tered)f(on)h(ob)s(jects)f(called)h(frames.)40 b(CLIM)287 2960
y(pro)n(vides)22 b(functionalit)n(y)g(for)g(la)n(ying)i(out)d(frames)g(under)
h(arbitrary)f(constrain)n(ts,)h(managing)e(com-)287 3026 y(mand)g(men)n(us)h
(and/or)f(men)n(u)g(bars,)i(and)g(asso)r(ciating)d(user)i(in)n(terface)f
(gestures)f(with)j(application)287 3093 y(commands.)36 b(Using)22
b(these)g(to)r(ols,)h(application)f(writers)g(can)g(easily)h(and)g(quic)n
(kly)h(construct)c(user)287 3159 y(in)n(terfaces)d(that)f(can)i(gro)n(w)g
(\015exibly)h(from)d(protot)n(yp)r(e)g(to)i(deliv)n(ery)-5
b(.)149 3266 y Fo(Adaptiv)n(e)22 b(T)-5 b(o)r(olkit)28 b Fr(CLIM)20
b(pro)n(vides)g(a)g(uniform)f(in)n(terface)g(to)h(the)g(standard)e(comp)r
(ositional)f(to)r(olkits)287 3333 y(a)n(v)m(ailable)k(in)h(man)n(y)e(en)n
(vironmen)n(ts.)31 b(CLIM)21 b(de\014nes)e(abstract)g(panes)h(that)f(are)i
(analogous)e(to)h(the)287 3399 y(gadgets)d(or)i(widgets)f(of)i(a)f(to)r
(olkit)f(lik)n(e)j(Motif)e(or)f(Op)r(enLo)r(ok.)26 b(CLIM)19
b(fosters)f(lo)r(ok)h(and)f(feel)h(inde-)287 3466 y(p)r(endence)14
b(b)n(y)k(sp)r(ecifying)d(the)h(in)n(terface)g(of)g(these)g(abstract)e(panes)
i(in)h(terms)e(of)i(their)f(function)f(and)p eop
%%Page: 4 19
bop 149 16 a Fm(CHAPTER)16 b(1.)43 b(O)n(VER)-6 b(VIEW)17 b(OF)i(CLIM)1325
b Fr(4)287 210 y(not)20 b(in)g(terms)f(of)h(the)g(details)g(of)g(their)f(app)
r(earance)e(or)j(op)r(eration.)29 b(If)21 b(an)f(application)f(uses)h(these)
287 276 y(in)n(terfaces,)15 b(its)h(user)g(in)n(terface)e(will)k(adapt)d(to)g
(use)h(whatev)n(er)f(to)r(olkit)g(is)i(a)n(v)m(ailable)f(in)h(the)e(host)g
(en)n(vi-)287 342 y(ronmen)n(t.)22 b(By)c(using)e(this)h(facilit)n(y)-5
b(,)18 b(application)e(programmers)d(can)j(easily)h(construct)d(applications)
287 409 y(that)22 b(will)j(automatically)c(conform)g(to)h(a)h(v)m(ariet)n(y)h
(of)f(user)f(in)n(terface)g(standards.)37 b(In)24 b(addition,)g(a)287
475 y(p)r(ortable)16 b(Lisp-based)h(implemen)n(tation)e(of)j(the)g(abstract)d
(panes)i(is)i(pro)n(vided.)p eop
%%Page: 5 20
bop 149 691 a Fl(Chapter)46 b(2)149 1034 y Fq(Con)l(v)l(en)l(tions)149
1388 y Fr(This)15 b(c)n(hapter)f(describ)r(es)f(the)i(con)n(v)n(en)n(tions)f
(used)h(in)h(this)f(sp)r(eci\014cation)e(and)i(in)g(the)g(CLIM)g(soft)n(w)n
(are)f(itself.)149 1638 y Fk(2.1)91 b(Audience,)31 b(Goals,)f(and)g(Purp)s
(ose)149 1826 y Fr(This)21 b(do)r(cumen)n(t,)e(the)h Fo(CLIM)25
b(Release)g(2)g(Sp)r(eci\014cation)p Fr(,)g(is)c(in)n(tended)f(for)g(v)n
(endors.)33 b(While)21 b(it)g(do)r(es)149 1892 y(de\014ne)26
b(the)h(Application)g(Programmer)o('s)e(In)n(terface)h(\(API\),)g(that)h(is,)
k(the)c(functionalit)n(y)g(that)g(a)h(cus-)149 1958 y(tomer/consum)o(e)o(r)16
b(w)n(ould)k(use)g(to)f(write)g(an)h(application,)f(it)i(also)e(de\014nes)g
(the)g(names)f(and)h(functionalit)n(y)149 2025 y(of)h(some)f(in)n(ternal)h
(parts)g(of)g(CLIM.)h(These)e(\\p)r(ortals")g(in)i(implemen)n(tation)c(space)
j(allo)n(w)h(one)f(v)n(endor)g(to)149 2091 y(extend,)e(for)h(example,)f(the)g
(output)f(record)h(mec)n(hanism)e(and)j(ha)n(v)n(e)g(it)g(w)n(ork)h(with)f
(another)e(v)n(endor's)h(im-)149 2158 y(plemen)n(tation)d(of)k(incremen)n
(tal)d(redispla)n(y)-5 b(.)25 b(W)-5 b(e)19 b(ha)n(v)n(e)g(attempted)14
b(to)k(carefully)g(iden)n(tify)h(the)e(appropriate)149 2224
y(\\p)r(ortals")i(so)j(that)f(the)h(API)f(can)h(b)r(e)f(implemen)n(ted)e
(e\016cien)n(tly)-5 b(,)24 b(but)d(w)n(e)i(ha)n(v)n(e)f(also)g(tried)g(not)f
(to)h(o)n(v)n(er-)149 2291 y(constrain)16 b(the)i(sp)r(eci\014cation)e(so)i
(that)f(it)i(restricts)d(creativit)n(y)i(of)g(implemen)n(tation)e(or)i(the)f
(p)r(ossibilit)n(y)i(for)149 2357 y(extension.)31 b(This)21
b(also)g(a\013ects)f(the)g(more)f(sophisticated)f(application)i(writers)g
(who)h(w)n(an)n(t)g(to)f(go)h(a)f(little)149 2423 y(b)r(elo)n(w)k(the)g
(published)g(API)g(but)h(still)g(w)n(an)n(t)g(p)r(ortable)e(applications.)43
b(This)25 b(do)r(cumen)n(t)d(de\014nes)h(whic)n(h)149 2490
y(functionalit)n(y)17 b(is)i(part)e(of)h(the)f(adv)n(ertised)g(API,)h(and)g
(whic)n(h)g(is)h(part)e(of)h(the)f(in)n(ternal)h(proto)r(cols.)149
2623 y(In)i(this)g(do)r(cumen)n(t,)e(w)n(e)j(refer)e(to)h(three)e(di\013eren)
n(t)i(audiences.)29 b(A)20 b(CLIM)g Fm(user)g Fr(is)h(a)f(p)r(erson)e(who)i
(uses)g(an)149 2689 y(application)15 b(program)f(that)i(w)n(as)h(written)e
(using)h(CLIM.)h(A)f(CLIM)h Fm(programmer)12 b Fr(is)17 b(a)g(p)r(erson)e
(who)h(writes)149 2755 y(application)c(programs)e(using)j(CLIM.)g(A)g(CLIM)f
Fm(implemen)n(tor)f Fr(is)i(a)g(programmer)c(who)k(implemen)n(ts)e(CLIM)149
2822 y(or)17 b(extends)g(it)i(in)f(some)f(non-trivial)h(w)n(a)n(y)-5
b(.)149 3071 y Fk(2.2)91 b(P)m(ac)m(k)-5 b(age)31 b(Structure)149
3259 y Fr(CLIM)18 b(de\014nes)f(a)h(v)m(ariet)n(y)h(of)f(pac)n(k)m(ages)g(in)
g(order)g(to)g(pro)n(vide)g(its)h(functionalit)n(y)-5 b(.)25
b(In)19 b(general,)e(no)h(sym)n(b)r(ols)149 3325 y(except)e(for)i(the)f(sym)n
(b)r(ols)h(in)g(this)g(sp)r(eci\014cation)e(should)h(b)r(e)h(added)f(to)g
(those)g(pac)n(k)m(ages.)149 3458 y(The)22 b Ft(clim-lisp)i
Fr(pac)n(k)m(age)e(is)h(in)n(tended)f(to)g(implemen)n(t)f(as)i(m)n(uc)n(h)f
(of)h(the)f(draft)g(X3J13)g(Common)f(Lisp)1290 3632 y(5)p eop
%%Page: 6 21
bop 149 16 a Fm(CHAPTER)16 b(2.)43 b(CONVENTIONS)1476 b Fr(6)149
210 y(as)25 b(p)r(ossible,)j(indep)r(enden)n(t)23 b(of)j(the)f(conformance)d
(of)k(individual)h(v)n(endors.)47 b(\(When)25 b(all)h(Lisp)g(v)n(endors)149
276 y(implemen)n(t)20 b(X3J13)i(Common)e(Lisp,)k(the)e Ft(clim-lisp)h
Fr(pac)n(k)m(age)e(could)h(b)r(e)g(eliminated.\))36 b Ft(clim-lisp)23
b Fr(is)149 342 y(the)17 b(v)n(ersion)i(of)g(Common)d(Lisp)i(in)h(whic)n(h)g
(CLIM)f(is)h(implemen)n(ted)d(and)j(whic)n(h)f(the)g Ft(clim-user)i
Fr(pac)n(k)m(age)149 409 y(uses)15 b(instead)h(of)g Ft(common-lisp)p
Fr(.)25 b Ft(clim-lisp)17 b Fr(con)n(tains)f(only)g(exp)r(orted)e(sym)n(b)r
(ols,)j(and)f(is)h(lo)r(c)n(k)n(ed)f(in)h(those)149 475 y(implemen)n(tations)
e(that)i(allo)n(w)i(pac)n(k)m(age)e(lo)r(c)n(king.)149 608
y Ft(clim)27 b Fr(is)g(the)f(pac)n(k)m(age)g(where)f(the)h(sym)n(b)r(ols)g
(sp)r(eci\014ed)f(in)i(this)f(sp)r(eci\014cation)e(liv)n(e.)52
b(It)27 b(con)n(tains)e(only)149 674 y(exp)r(orted)15 b(sym)n(b)r(ols)j(and)f
(is)i(lo)r(c)n(k)n(ed)f(in)h(those)e(implemen)n(tations)d(that)j(allo)n(w)i
(pac)n(k)m(age)e(lo)r(c)n(king.)149 807 y Ft(clim-sys)i Fr(is)f(the)f(pac)n
(k)m(age)g(where)g(useful)h(\\system-lik)n(e")f(functionalit)n(y)g(liv)n(es,)
j(including)e(suc)n(h)f(things)h(as)149 874 y(resources)d(and)i(m)n(ulti-pro)
r(cessing)e(primitiv)n(es.)24 b(It)18 b(con)n(tains)e(functionalit)n(y)h
(that)g(is)h(not)f(part)f(of)i(Common)149 940 y(Lisp,)28 b(but)d(whic)n(h)h
(is)h(not)e(conceptually)f(the)i(pro)n(vince)f(of)h(CLIM)g(itself.)48
b(It)26 b(con)n(tains)f(only)h(exp)r(orted)149 1007 y(sym)n(b)r(ols)17
b(and)h(is)g(lo)r(c)n(k)n(ed)g(in)h(those)e(implemen)n(tations)e(that)i(allo)
n(w)i(pac)n(k)m(age)e(lo)r(c)n(king.)149 1139 y(No)i(co)r(de)g(is)h(written)f
(in)i(an)n(y)f(of)g(the)f(ab)r(o)n(v)n(e)h(pac)n(k)m(ages,)g(but)f(rather)f
(co)r(de)h(is)h(written)f(for)h(sym)n(b)r(ols)f(in)h(the)149
1206 y(ab)r(o)n(v)n(e)f(pac)n(k)m(ages.)29 b(None)19 b(of)h(the)f(ab)r(o)n(v)
n(e)h(use)f(an)n(y)h(other)f(pac)n(k)m(ages)g(\(in)g(the)h(sense)e(of)i(the)f
Ft(:use)i Fr(option)e(to)149 1272 y Ft(defpackage)p Fr(\).)k(A)12
b(CLIM)g(implemen)n(tation)e(migh)n(t)i(de\014ne)f(a)h Ft(clim-internals)i
Fr(pac)n(k)m(age)e(that)f(uses)h(eac)n(h)g(of)149 1339 y(the)h(ab)r(o)n(v)n
(e)h(pac)n(k)m(ages,)g(th)n(us)f(getting)g(the)g(de\014nition)g(of)h(Lisp)g
(from)e Ft(clim-lisp)p Fr(.)24 b(It)14 b(w)n(ould)h(then)e(implemen)n(t)149
1405 y(the)k(functionalit)n(y)g(of)h(the)g(sym)n(b)r(ols)f(in)i
Ft(clim)f Fr(and)g Ft(clim-sys)h Fr(in)f(the)g Ft(clim-internals)h
Fr(pac)n(k)m(age.)149 1538 y Ft(clim-user)c Fr(is)g(a)f(pac)n(k)m(age)g(that)
f(programmers)d(can)k(use)g(if)h(they)f(don't)g(wish)g(to)g(create)f(their)h
(o)n(wn)g(pac)n(k)m(age.)149 1604 y(It)k(is)g(the)g(CLIM)f(analog)h(of)g
Ft(common-lisp-user)p Fr(.)149 1849 y Fk(2.3)91 b(\\Spread")30
b(P)m(oin)m(t)g(Argumen)m(ts)h(to)f(F)-8 b(unctions)149 2037
y Fr(Man)n(y)15 b(functions)f(that)h(tak)n(e)g(p)r(oin)n(t)g(argumen)n(ts)e
(come)h(in)i(t)n(w)n(o)g(forms:)21 b Fm(structured)13 b Fr(and)i
Fm(spread)p Fr(.)22 b(F)-5 b(unctions)149 2103 y(that)13 b(tak)n(e)h
(structured)d(p)r(oin)n(t)j(argumen)n(ts)e(tak)n(e)i(the)f(argumen)n(t)f(as)i
(a)g(single)h Ft(point)g Fr(ob)s(ject.)21 b(F)-5 b(unctions)14
b(that)149 2170 y(tak)n(e)g(spread)f(p)r(oin)n(t)h(argumen)n(ts)e(tak)n(e)i
(a)g(pair)h(of)f(argumen)n(ts)e(that)h(corresp)r(ond)f(to)i(the)f
Fn(x)i Fr(and)f Fn(y)j Fr(co)r(ordinates)149 2236 y(of)h(the)f(p)r(oin)n(t.)
149 2369 y(F)-5 b(unctions)19 b(that)h(tak)n(e)g(spread)g(p)r(oin)n(t)g
(argumen)n(ts,)f(or)h(return)f(spread)g(p)r(oin)n(t)h(v)m(alues)h(ha)n(v)n(e)
g(an)f(asterisk)g(in)149 2435 y(their)d(name,)g(for)h(example,)f
Ft(draw-line*)p Fr(.)149 2680 y Fk(2.4)91 b(Imm)m(utabilit)m(y)30
b(of)g(Ob)5 b(jects)149 2868 y Fr(Most)13 b(CLIM)i(ob)s(jects)e(are)g
Fm(imm)n(utable)p Fr(,)h(that)g(is,)i(at)e(the)g(proto)r(col)e(lev)n(el)k
(none)e(of)g(their)g(comp)r(onen)n(ts)d(can)j(b)r(e)149 2934
y(mo)r(di\014ed)i(once)h(the)h(ob)s(ject)e(is)j(created.)k(Examples)17
b(of)h(imm)n(utable)e(ob)s(jects)h(include)h(all)h(of)f(the)f(mem)n(b)r(ers)
149 3001 y(of)h(the)f Ft(region)i Fr(classes,)f(colors)f(and)h(opacities,)f
(text)g(st)n(yles,)i(and)f(line)g(st)n(yles.)25 b(Since)18
b(imm)n(utable)e(ob)s(jects)149 3067 y(b)n(y)23 b(de\014nition)e(nev)n(er)i
(c)n(hange,)g(functions)e(in)i(the)e(CLIM)i(API)f(can)g(safely)g(capture)f
(imm)n(utable)f(ob)s(jects)149 3133 y(without)h(\014rst)g(cop)n(ying)h(them.)
35 b(This)23 b(also)f(allo)n(ws)h(CLIM)e(to)h(cac)n(he)f(imm)n(utable)f(ob)s
(jects.)36 b(Constructor)149 3200 y(functions)20 b(that)h(return)g(imm)n
(utable)f(ob)s(jects)g(are)i(free)f(to)h(either)f(create)f(and)h(return)g(a)h
(new)g(ob)s(ject,)g(or)149 3266 y(return)16 b(an)i(already)f(existing)h(ob)s
(ject.)149 3399 y(A)23 b(few)h(CLIM)g(ob)s(jects)e(are)h Fm(m)n(utable)p
Fr(.)40 b(Examples)23 b(of)g(m)n(utable)g(ob)s(jects)f(include)h(streams)f
(and)h(output)149 3466 y(records.)f(Some)14 b(comp)r(onen)n(ts)e(of)j(m)n
(utable)g(ob)s(jects)e(can)i(b)r(e)g(mo)r(di\014ed)f(once)g(the)h(ob)s(ject)f
(has)h(b)r(een)f(created,)p eop
%%Page: 7 22
bop 149 16 a Fm(CHAPTER)16 b(2.)43 b(CONVENTIONS)1476 b Fr(7)149
210 y(usually)18 b(via)h Ft(setf)f Fr(accessors.)149 342 y(In)k(CLIM,)f(ob)s
(ject)g(imm)n(utabilit)n(y)g(is)h(main)n(tained)e(at)i(the)f(class)g(lev)n
(el.)37 b(Throughout)19 b(this)j(sp)r(eci\014cation,)149 409
y(the)17 b(imm)n(utabilit)n(y)h(or)f(m)n(utabilit)n(y)h(of)g(a)h(class)e
(will)j(b)r(e)d(explicitly)i(sp)r(eci\014ed.)149 542 y(Some)j(imm)n(utable)g
(classes)h(also)h(allo)n(w)h Fm(in)n(terning)p Fr(.)41 b(A)24
b(class)f(is)i(said)f(to)f(b)r(e)g(in)n(terning)g(if)i(it)f(guaran)n(tees)149
608 y(that)19 b(t)n(w)n(o)h(instances)f(that)g(are)g(equiv)m(alen)n(t)h(will)
i(alw)n(a)n(ys)f(b)r(e)e Ft(eq)p Fr(.)31 b(F)-5 b(or)21 b(example,)e(if)i
(the)e(class)h Ft(color)h Fr(w)n(ere)149 674 y(in)n(terning,)14
b(calling)f Ft(make-rgb-color)i Fr(t)n(wice)e(with)g(the)g(same)e(argumen)n
(ts)g(w)n(ould)j(return)d Ft(eq)j Fr(v)m(alues.)23 b(CLIM)149
741 y(do)r(es)f(not)h(sp)r(ecify)h(that)e(an)n(y)j(class)e(is)h(in)n
(terning,)h(ho)n(w)n(ev)n(er)g(all)f(imm)n(utable)e(classes)h(are)g(allo)n(w)
n(ed)i(to)e(b)r(e)149 807 y(in)n(terning)17 b(at)h(the)f(discretion)g(of)h
(the)f(implemen)n(tation.)149 940 y(In)24 b(some)e(rare)h(cases,)h(CLIM)f
(will)j(mo)r(dify)c(ob)s(jects)g(that)h(are)g(mem)n(b)r(ers)e(of)i(imm)n
(utable)f(classes.)41 b(Suc)n(h)149 1007 y(ob)s(jects)17 b(are)h(referred)e
(to)i(as)h(b)r(eing)f Fm(v)n(olatile)p Fr(.)27 b(Extreme)16
b(care)i(m)n(ust)f(b)r(e)h(tak)n(e)h(with)f(v)n(olatile)i(ob)s(jects.)k(This)
149 1073 y(sp)r(eci\014cation)15 b(will)20 b(note)d(whenev)n(er)g(some)f(ob)s
(ject)h(that)g(is)i(part)e(of)h(the)f(API)h(is)g(v)n(olatile.)149
1294 y Fp(2.4.1)75 b(Beha)n(vior)26 b(of)f(In)n(terfaces)149
1463 y Fr(In)16 b(this)g(sp)r(eci\014cation,)e(an)n(y)j(in)n(terfaces)e(that)
g(tak)n(e)h(or)g(return)e(m)n(utable)h(ob)s(jects)f(can)i(b)r(e)f
(classi\014ed)h(in)g(a)h(few)149 1529 y(di\013eren)n(t)g(w)n(a)n(ys.)149
1662 y(Most)j(functions)f Fm(do)i(not)g(capture)d Fr(their)j(m)n(utable)e
(input)i(ob)s(jects,)f(that)g(is,)j(these)d(functions)f(will)k(either)149
1729 y(not)d(store)h(the)f(ob)s(jects)g(at)h(all,)j(or)d(will)i(cop)n(y)e(an)
n(y)h(m)n(utable)f(ob)s(jects)e(b)r(efore)h(storing)g(them,)h(or)h(p)r
(erhaps)149 1795 y(store)17 b(only)i(some)e(of)h(the)g(comp)r(onen)n(ts)d(of)
j(the)g(ob)s(jects.)24 b(Later)17 b(mo)r(di\014cations)e(to)j(those)g(ob)s
(jects)e(will)k(not)149 1861 y(a\013ect)d(the)g(in)n(ternal)h(state)e(of)i
(CLIM.)149 1994 y(Some)c(functions)g Fm(ma)n(y)h(capture)f
Fr(their)h(m)n(utable)f(input)h(ob)s(jects.)22 b(That)15 b(is,)i(it)e(is)i
(unsp)r(eci\014ed)c(as)i(to)g(whether)149 2061 y(a)j(CLIM)g(implemen)n
(tation)d(will)k(or)f(will)i(not)d(capture)f(the)i(m)n(utable)e(inputs)i(to)f
(some)g(function.)23 b(F)-5 b(or)19 b(suc)n(h)149 2127 y(functions,)c
(programmers)e(should)j(assume)f(that)g(these)g(ob)s(jects)g(will)j(b)r(e)e
(captured)e(and)i(m)n(ust)g(not)g(mo)r(dify)149 2194 y(these)j(ob)s(jects)h
(capriciously)-5 b(.)33 b(F)-5 b(urthermore,)19 b(it)j(is)f(unsp)r(ecifed)e
(what)i(will)h(happ)r(en)d(if)j(these)e(ob)s(jects)f(are)149
2260 y(later)e(mo)r(di\014ed.)149 2393 y(Some)h(programme)o(rs)e(migh)n(t)i
(c)n(ho)r(ose)g(to)h(create)e(a)j(m)n(utable)e(sub)r(class)g(of)h(an)g(imm)n
(utable)e(class.)28 b(If)20 b(CLIM)149 2459 y(captures)f(an)j(ob)s(ject)e
(that)h(is)h(a)g(mem)n(b)r(er)d(of)j(suc)n(h)g(a)g(class,)g(it)g(is)h(unsp)r
(eci\014ed)c(what)j(will)h(happ)r(en)d(if)i(the)149 2526 y(programmer)g
(later)j(mo)r(di\014es)f(that)h(ob)s(ject.)48 b(If)26 b(a)g(programmer)c
(passes)k(suc)n(h)f(an)h(ob)s(ject)f(to)h(a)g(CLIM)149 2592
y(function)d(that)h(ma)n(y)h(capture)e(its)i(inputs,)h(he)f(is)h(resp)r
(onsible)d(for)h(either)g(\014rst)g(cop)n(ying)h(the)f(ob)s(ject)g(or)149
2658 y(ensuring)17 b(that)f(the)i(ob)s(ject)e(do)r(es)h(not)h(c)n(hange)f
(later.)149 2791 y(Some)11 b(functions)g(that)h(return)e(m)n(utable)i(ob)s
(jects)f(are)h(guaran)n(teed)e(to)i(create)f Fm(fresh)h(outputs)p
Fr(.)20 b(These)12 b(ob)s(jects)149 2858 y(can)17 b(b)r(e)g(mo)r(di\014ed)g
(without)g(a\013ecting)f(the)i(in)n(ternal)f(state)g(of)h(CLIM.)149
2991 y(F)-5 b(unctions)18 b(that)g(return)f(m)n(utable)h(ob)s(jects)f(that)h
(are)h(not)f(fresh)h(ob)s(jects)e(fall)j(in)n(to)f(t)n(w)n(o)h(categories:)k
(those)149 3057 y(that)18 b(return)f Fm(read-only)i(state)p
Fr(,)g(and)f(those)g(that)g(return)g Fm(read/write)f(state)p
Fr(.)27 b(If)19 b(a)h(function)e(returns)f(read-)149 3123 y(only)e(state,)f
(programmer)o(s)d(m)n(ust)j(not)f(mo)r(dify)h(that)f(ob)s(ject;)i(doing)f(so)
g(migh)n(t)g(corrupt)e(the)i(state)f(of)i(CLIM.)149 3190 y(If)g(a)f(function)
g(returns)f(read/write)f(state,)i(the)g(mo)r(di\014cation)e(of)j(that)e(ob)s
(ject)h(is)h(part)e(of)i(CLIM's)g(in)n(terface,)149 3256 y(and)i(programmers)
d(are)k(free)f(to)h(mo)r(dify)f(the)g(ob)s(ject)f(in)j(w)n(a)n(ys)g(that)e
(\\mak)n(e)g(sense".)p eop
%%Page: 8 23
bop 149 16 a Fm(CHAPTER)16 b(2.)43 b(CONVENTIONS)1476 b Fr(8)149
210 y Fk(2.5)91 b(Proto)s(col)28 b(Classes)j(and)e(Predicates)149
397 y Fr(CLIM)18 b(supplies)h(a)g(set)g(of)g(predicates)e(that)h(can)g(b)r(e)
h(called)f(on)h(an)g(ob)s(ject)f(to)h(determine)d(whether)h(or)i(not)149
464 y(that)14 b(ob)s(ject)f(satis\014es)h(a)h(certain)f(proto)r(col.)22
b(These)14 b(predicates)f(can)h(b)r(e)h(implemen)n(ted)d(in)k(one)e(of)i(t)n
(w)n(o)f(w)n(a)n(ys.)149 596 y(The)g(\014rst)g(w)n(a)n(y)i(is)g(that)e(a)h
(class)f(implemen)n(ting)f(a)i(particular)e(proto)r(col)g(will)j(inherit)f
(from)e(a)i Fm(proto)r(col)e(class)149 663 y Fr(that)23 b(corresp)r(onds)d
(to)k(that)f(proto)r(col.)40 b(A)24 b(proto)r(col)e(class)h(is)i(an)f
(\\abstract")d(class)j(with)g(no)f(slots)h(and)149 729 y(no)c(metho)r(ds)e
(\(except)h(p)r(erhaps)g(for)h(some)f(default)h(metho)r(ds\),)f(and)h(exists)
g(only)h(to)g(indicate)e(that)h(some)149 796 y(sub)r(class)13
b(ob)r(eys)h(the)g(proto)r(col.)21 b(In)15 b(the)f(case)f(when)i(a)f(class)h
(inherits)f(from)f(a)i(proto)r(col)d(class,)k(the)e(predicate)149
862 y(could)20 b(b)r(e)h(implemen)n(ted)e(using)i Ft(typep)p
Fr(.)34 b(All)22 b(of)f(the)g(CLIM)g(region,)g(design,)h(sheet,)f(and)g
(output)e(record)149 929 y(classes)d(use)h(this)g(con)n(v)n(en)n(tion.)24
b(F)-5 b(or)18 b(example,)e(the)h(presen)n(tation)d(proto)r(col)i(class)h
(and)f(predicate)g(could)g(b)r(e)149 995 y(implemen)n(ted)f(in)k(this)f(w)n
(a)n(y:)149 1183 y Ft(\(defclass)29 b(presentation)h(\(\))f(\(\)\))149
1316 y(\(defun)g(presentationp)h(\(object\))207 1382 y(\(typep)f(object)h
('presentation\)\))149 1571 y Fr(Note)17 b(that)h(in)h(some)e(implemen)n
(tations,)f(it)j(ma)n(y)g(b)r(e)f(more)f(e\016cien)n(t)h(not)g(to)g(use)g
Ft(typep)p Fr(,)i(and)e(instead)g(use)149 1637 y(a)g(generic)f(function)h
(for)g(the)g(predicate.)23 b(Ho)n(w)n(ev)n(er,)c(simply)g(implemen)n(ting)d
(a)j(metho)r(d)d(for)i(the)g(predicate)149 1703 y(that)c(returns)f
Fm(true)h Fr(is)i(not)e(necessarily)g(enough)g(to)h(assert)e(that)h(a)i
(class)e(supp)r(orts)f(that)h(proto)r(col;)h(the)f(class)149
1770 y(m)n(ust)j(include)g(the)h(proto)r(col)e(class)h(as)h(a)h(sup)r
(erclass.)149 1903 y(CLIM)d(alw)n(a)n(ys)i(pro)n(vides)e(at)g(least)g(one)g
(\\standard")e(instan)n(tiable)i(class)g(that)g(implemen)n(ts)e(eac)n(h)i
(proto)r(col.)149 2036 y(The)23 b(second)f(w)n(a)n(y)i(is)g(that)f(a)g(class)
g(implemen)n(ting)e(a)j(particular)e(proto)r(col)f(m)n(ust)i(simply)g
(implemen)n(t)f(a)149 2102 y(metho)r(d)16 b(for)j(a)h(predicate)d(generic)h
(function)g(that)g(returns)g Fm(true)g Fr(if)i(and)f(only)h(if)g(that)e
(class)h(supp)r(orts)e(the)149 2168 y(proto)r(col)22 b(\(otherwise,)i(it)h
(returns)e Fm(false)p Fr(\).)43 b(Most)23 b(of)i(the)e(CLIM)h(stream)f
(classes)g(use)h(this)h(con)n(v)n(en)n(tion.)149 2235 y(Proto)r(col)14
b(classes)h(are)h(not)f(used)h(in)g(these)f(cases)g(b)r(ecause,)g(as)h(in)h
(the)e(case)g(of)i(some)d(of)j(the)e(stream)f(classes,)149
2301 y(the)19 b(underlying)g(Lisp)g(implemen)n(tation)e(ma)n(y)j(not)f(b)r(e)
g(arranged)f(so)h(as)h(to)f(p)r(ermit)f(it.)30 b(F)-5 b(or)20
b(example,)f(the)149 2368 y(extended)d(input)i(stream)d(proto)r(col)h(migh)n
(t)i(b)r(e)f(implemen)n(ted)e(in)k(this)f(w)n(a)n(y:)149 2556
y Ft(\(defgeneric)29 b(extended-input-stream-p)i(\(object\)\))149
2689 y(\(defmethod)e(extended-input-stream-p)i(\(\(object)e(t\)\))g(nil\))149
2821 y(\(defmethod)g(extended-input-stream-p)i(\(\(object)e
(basic-extended-input-protocol\)\))i(t\))149 2954 y(\(defmethod)e
(extended-input-stream-p)468 3021 y(\(\(encapsulating-stream)i
(standard-encapsulating-stream\)\))207 3087 y(\(with-slots)e(\(stream\))h
(encapsulating-stream)265 3154 y(\(extended-input-stream-p)g(stream\)\)\))149
3342 y Fr(Whenev)n(er)17 b(a)h(class)f(inherits)g(from)g(a)h(proto)r(col)e
(class)i(or)f(returns)f Fm(true)h Fr(from)g(the)g(proto)r(col)f(predicate,)g
(the)149 3408 y(class)h(m)n(ust)h(implemen)n(t)e(metho)r(ds)f(for)j(all)h(of)
f(the)f(generic)g(functions)f(that)h(mak)n(e)h(up)g(the)f(proto)r(col.)p
eop
%%Page: 9 24
bop 149 16 a Fm(CHAPTER)16 b(2.)43 b(CONVENTIONS)1476 b Fr(9)149
210 y Fk(2.6)91 b(Sp)s(ecialized)28 b(Argumen)m(ts)j(to)f(Generic)f(F)-8
b(unctions)149 397 y Fr(Unless)24 b(otherwise)f(stated,)j(this)f(sp)r
(eci\014cation)d(uses)j(the)f(follo)n(wing)i(con)n(v)n(en)n(tion)f(for)f(sp)r
(ecifying)g(whic)n(h)149 464 y(argumen)n(ts)15 b(to)j(generic)f(functions)f
(are)i(sp)r(ecialized:)232 652 y Fj(\017)27 b Fr(If)18 b(the)e(generic)h
(function)f(is)i(a)f Ft(setf)h Fr(function,)f(the)g(second)f(argumen)n(t)f
(is)j(the)e(one)h(that)g(is)h(in)n(tended)287 718 y(to)g(b)r(e)f(sp)r
(ecialized.)232 829 y Fj(\017)27 b Fr(If)16 b(the)f(generic)g(function)g(is)h
(a)g(\\mapping")e(function)h(\(suc)n(h)g(as)h Ft(map-over-region-set-regions)
p Fr(\),)287 895 y(the)d(second)f(argumen)n(t)f(\(the)h(ob)s(ject)g(that)h
(sp)r(eci\014es)f(what)g(is)j(b)r(eing)d(mapp)r(ed)f(o)n(v)n(er\))j(is)g(the)
f(one)g(that)f(is)287 962 y(sp)r(ecialized.)22 b(The)14 b(\014rst)f(argumen)n
(t)f(\(the)h(functional)g(argumen)n(t\))f(is)j(not)e(in)n(tended)g(to)h(b)r
(e)g(sp)r(ecialized.)232 1072 y Fj(\017)27 b Fr(Otherwise,)17
b(the)h(\014rst)f(argumen)n(t)f(is)i(the)f(one)h(that)f(is)i(in)n(tended)e
(to)g(b)r(e)h(sp)r(ecialized.)149 1322 y Fk(2.7)91 b(Multiple)29
b(V)-8 b(alue)30 b Fi(setf)149 1510 y Fr(Some)16 b(functions)g(in)i(CLIM)g
(that)e(return)g(m)n(ultiple)i(v)m(alues)f(ha)n(v)n(e)h Ft(setf)h
Fr(functions)d(asso)r(ciated)f(with)j(them.)149 1576 y(F)-5
b(or)19 b(example,)g Ft(output-record-position)h Fr(returns)e(the)g(p)r
(osition)g(of)h(an)g(output)f(record)f(as)i(t)n(w)n(o)h(v)m(alues)149
1642 y(that)14 b(corresp)r(ond)f(to)j(the)f Fn(x)h Fr(and)f
Fn(y)k Fr(co)r(ordinates.)i(In)16 b(order)f(to)g(c)n(hange)g(the)g(p)r
(osition)g(of)h(an)g(output)e(record,)149 1709 y(the)23 b(programmer)e(w)n
(ould)k(lik)n(e)h(to)e(in)n(v)n(ok)n(e)i Ft(\(setf)j
(output-record-position\))p Fr(.)45 b(Normally)24 b(ho)n(w)n(ev)n(er,)149
1775 y Ft(setf)j Fr(only)f(tak)n(es)g(a)g(single)h(v)m(alue)f(with)g(whic)n
(h)g(to)g(mo)r(dify)f(the)h(sp)r(eci\014ed)e(place.)49 b(CLIM)26
b(pro)n(vides)g(a)149 1842 y(\\m)n(ultiple)c(v)m(alue")g(v)n(ersion)g(of)h
Ft(setf)g Fr(that)e(allo)n(ws)j(an)e(expression)f(that)h(returns)f(m)n
(ultiple)h(v)m(alues)g(to)g(b)r(e)149 1908 y(used)h(in)h(up)r(dating)e(the)i
(sp)r(eci\014ed)e(place.)41 b(In)24 b(this)g(sp)r(eci\014cation,)f(this)h
(facilit)n(y)h(will)g(b)r(e)e(referred)f(to)i(as)149 1974 y
Ft(setf*)p Fr(.)149 2107 y(F)-5 b(or)19 b(example,)e(the)h(mo)r(difying)g
(function)f(for)h Ft(output-record-position)j Fr(migh)n(t)d(b)r(e)g(called)g
(in)h(either)f(of)149 2174 y(the)f(follo)n(wing)i(t)n(w)n(o)f(w)n(a)n(ys:)149
2362 y Ft(\(setf)29 b(\(output-record-position)h(record\))g(\(values)f(nx)h
(ny\)\))149 2495 y(\(setf)f(\(output-record-position)h(record1\))g
(\(output-record-position)g(record2\)\))149 2683 y Fr(The)17
b(second)g(form)g(w)n(orks)h(b)r(ecause)e Ft(output-record-position)k
Fr(itself)e(returns)e(t)n(w)n(o)j(v)m(alues.)149 2932 y Fk(2.8)91
b(Sheet,)31 b(Stream,)f(or)g(Medium)h(Argumen)m(ts)g(to)f(Macros)149
3120 y Fr(There)24 b(are)g(man)n(y)h(macros)e(that)h(tak)n(e)h(a)h(sheet,)g
(stream,)f(or)g(medium)e(as)i(one)g(of)g(the)f(argumen)n(ts,)h(for)149
3186 y(example,)18 b Ft(with-new-output-record)i Fr(and)f Ft
(formatting-table)p Fr(.)28 b(In)19 b(CLIM,)g(this)g(argumen)n(t)d(m)n(ust)i
(b)r(e)149 3253 y(a)f(v)m(ariable)g(b)r(ound)f(to)h(a)h(sheet,)e(stream,)g
(or)h(medium;)f(it)i(ma)n(y)f(not)g(b)r(e)f(an)i(arbitrary)e(form)g(that)g
(ev)m(aluates)149 3319 y(to)26 b(a)g(sheet,)i(stream,)f(or)f(medium.)48
b Ft(t)27 b Fr(and)f(sometimes)e Ft(nil)j Fr(are)f(usually)h(allo)n(w)n(ed)g
(as)g(sp)r(ecial)e(cases;)149 3386 y(this)g(causes)f(the)g(v)m(ariable)h(to)g
(b)r(e)g(in)n(terpreted)e(as)i(a)h(reference)c(to)j(another)f(stream)f(v)m
(ariable)i(\(usually)149 3452 y Ft(*standard-output*)19 b Fr(for)e(output)f
(macros,)h(or)g Ft(*query-io*)i Fr(for)e(input)h(macros\).)k(Note)16
b(that,)h(while)h(the)p eop
%%Page: 10 25
bop 149 16 a Fm(CHAPTER)16 b(2.)43 b(CONVENTIONS)1448 b Fr(10)149
210 y(v)m(ariable)22 b(outside)f(the)h(macro)f(form)g(and)h(the)g(v)m
(ariable)g(inside)g(the)g(b)r(o)r(dy)f(share)h(the)g(same)f(name,)h(they)149
276 y(cannot)16 b(b)r(e)h(assumed)f(to)h(b)r(e)g(the)g(same)f(reference.)22
b(That)17 b(is,)i(the)e(macro)f(is)i(free)f(to)h(create)d(a)j(new)g(binding)
149 342 y(for)d(the)g(v)m(ariable.)24 b(Th)n(us,)16 b(the)f(follo)n(wing)i
(co)r(de)d(fragmen)n(t)f(will)18 b(not)d(necessarily)f(a\013ect)h(the)g(v)m
(alue)h(of)f Fs(str)m(e)m(am)149 409 y Fr(outside)i(the)g Ft
(formatting-table)i Fr(form:)149 597 y Ft(\(formatting-table)30
b(\(stream\))207 663 y(\(setq)f(stream)h(some-other-stream\))207
730 y(...\))149 918 y Fr(F)-5 b(urthermore,)21 b(for)h(the)g(macros)f(that)h
(tak)n(e)h(a)f(sheet,)h(stream,)g(or)f(medium)f(argumen)n(t,)h(the)g(p)r
(osition)g(of)149 984 y(that)17 b(v)m(ariable)g(is)i(alw)n(a)n(ys)g(b)r
(efore)d(an)n(y)j(forms)e(or)g(other)g(\\inputs".)149 1234
y Fk(2.9)91 b(Macros)34 b(that)f(Expand)i(in)m(to)f(Calls)f(to)h(Adv)m
(ertised)h(F)-8 b(unc-)357 1334 y(tions)149 1521 y Fr(Some)12
b(macros)f(that)h(tak)n(e)h(a)g(\\b)r(o)r(dy")f(argumen)n(t)f(expand)h(in)n
(to)i(a)f(call)h(to)f(an)g(adv)n(ertised)f(function)g(that)g(tak)n(es)149
1588 y(a)21 b(functional)e(argumen)n(t.)31 b(This)22 b(functional)d(argumen)n
(t)g(will)j(execute)d(the)i(suppled)f(b)r(o)r(dy)-5 b(.)32
b(F)-5 b(or)21 b(a)g(macro)149 1654 y(named)15 b(\\)p Ft(with-)p
Fs(envir)m(onment)p Fr(",)21 b(the)16 b(function)g(is)h(generally)f(named)g
(\\)p Ft(invoke-with-)p Fs(envir)m(onment)p Fr(".)27 b(F)-5
b(or)149 1720 y(example,)17 b Ft(with-drawing-options)i Fr(migh)n(t)f(b)r(e)f
(de\014ned)g(as)h(follo)n(ws:)149 1909 y Ft(\(defgeneric)29
b(invoke-with-drawing-options)i(\(medium)e(continuation)h(&key\))207
1975 y(\(declare)f(\(dynamic-extent)h(continuation\)\)\))149
2108 y(\(defmacro)f(with-drawing-options)h(\(\(medium)g(&rest)f
(drawing-options\))h(&body)g(body\))207 2174 y(`\(flet)f
(\(\(with-drawing-options-body)i(\(,medium\))e(,@body\)\))294
2241 y(\(declare)g(\(dynamic-extent)h(#'with-drawing-options-body\)\))294
2307 y(\(invoke-with-drawing-options)352 2374 y(,medium)g
(#'with-drawing-options-body)g(,@drawing-options\)\)\))149
2506 y(\(defmethod)f(invoke-with-drawing-options)468 2573 y(\(\(medium)h
(clx-display-medium\))g(continuation)g(&rest)f(drawing-options\))207
2639 y(\(with-drawing-options-merged-into-medium)i(\(medium)f
(drawing-options\))265 2706 y(\(funcall)f(continuation)h(medium\)\)\))149
2955 y Fk(2.10)91 b(T)-8 b(erminology)30 b(P)m(ertaining)e(to)i(Error)g
(Conditions)149 3143 y Fr(When)21 b(this)i(sp)r(eci\014cation)d(sp)r
(eci\014es)g(that)h(it)i(\\is)g(an)f(error")f(for)h(some)f(situation)g(to)h
(o)r(ccur,)g(this)g(means)149 3209 y(that:)232 3397 y Fj(\017)27
b Fr(No)18 b(v)m(alid)g(CLIM)g(program)e(should)h(cause)g(this)h(situation)f
(to)h(o)r(ccur.)p eop
%%Page: 11 26
bop 149 16 a Fm(CHAPTER)16 b(2.)43 b(CONVENTIONS)1448 b Fr(11)232
210 y Fj(\017)27 b Fr(If)17 b(this)f(situation)f(do)r(es)g(o)r(ccur,)g(the)h
(e\013ects)f(and)h(results)f(are)h(unde\014ned)e(as)j(far)f(as)g(adherence)d
(to)j(the)287 276 y(CLIM)i(sp)r(eci\014cation)d(is)k(concerned.)232
387 y Fj(\017)27 b Fr(CLIM)15 b(implemen)n(tations)d(are)i(not)g(required)g
(to)h(detect)e(suc)n(h)i(an)f(error,)h(although)f(implemen)n(tations)287
453 y(are)j(encouraged)f(to)h(pro)n(vide)h(suc)n(h)g(error)f(detection)f
(whenev)n(er)h(it)h(is)h(reasonable)d(to)h(do)h(so.)149 641
y(When)f(this)i(sp)r(eci\014cation)c(sp)r(eci\014es)i(that)g(some)g(argumen)n
(t)f(\\m)n(ust)h(b)r(e)h(a)h Fm(t)n(yp)r(e)p Fr(")e(or)h(uses)g(the)g(phrase)
f(\\the)149 708 y Fm(t)n(yp)r(e)e Fs(ar)m(gument)p Fr(",)j(this)e(means)e
(that)g(it)i(is)g(an)g(error)e(if)i(the)f(argumen)n(t)e(is)k(not)d(of)i(the)f
(sp)r(eci\014ed)f(t)n(yp)r(e.)23 b(CLIM)149 774 y(implemen)n(tations)13
b(are)j(encouraged,)e(but)i(not)g(required,)h(to)f(generate)e(an)i(argumen)n
(t)e(t)n(yp)r(e)i(error)g(for)g(these)149 841 y(situations.)149
973 y(When)h(this)h(sp)r(eci\014cation)e(sa)n(ys)i(that)f(\\an)g(error)g(is)i
(signalled")e(in)i(some)e(situation,)g(this)h(means)e(that:)232
1162 y Fj(\017)27 b Fr(If)18 b(the)g(situation)f(o)r(ccurs,)f(an)i(error)f
(will)i(b)r(e)f(signalled)g(using)f(either)g Ft(error)i Fr(or)f
Ft(cerror)p Fr(.)232 1272 y Fj(\017)27 b Fr(V)-5 b(alid)19
b(CLIM)e(programs)f(ma)n(y)i(rely)g(on)g(the)f(fact)g(that)g(an)h(error)f
(will)j(b)r(e)d(signalled.)232 1383 y Fj(\017)27 b Fr(Ev)n(ery)18
b(CLIM)g(implemen)n(tation)d(is)k(required)e(to)h(detect)e(suc)n(h)h(an)h
(error.)149 1571 y(When)c(this)h(sp)r(eci\014cation)d(sa)n(ys)j(that)f(\\a)g
(condition)g(is)i(signalled")e(in)h(some)f(situation,)g(this)h(is)h(just)e
(lik)n(e)i(\\an)149 1638 y(error)i(is)i(signalled")e(with)i(the)e(exception)g
(that)g(the)h(condition)f(will)j(b)r(e)d(signalled)i(using)f
Ft(signal)h Fr(instead)149 1704 y(of)e Ft(error)p Fr(.)p eop
%%Page: 12 27
bop 1101 1308 a Fl(P)l(art)46 b(I)t(I)599 1651 y Fq(Geometry)k(Substrate)1276
3632 y Fr(12)p eop
%%Page: 13 28
bop 149 691 a Fl(Chapter)46 b(3)149 1034 y Fq(Regions)149 1388
y Fr(CLIM)22 b(pro)n(vides)g(de\014nitions)f(for)h(a)h(v)m(ariet)n(y)f(of)h
(geometric)c(ob)s(jects,)k(including)f(p)r(oin)n(ts,)h(lines,)h(elliptical)
149 1455 y(arcs,)17 b(regions,)h(and)f(transformations.)k(Both)c(the)g
(graphics)g(and)h(windo)n(wing)g(mo)r(dules)e(use)h(the)h(same)e(set)149
1521 y(of)21 b(geometric)e(ob)s(jects)g(and)i(functions.)33
b(In)22 b(this)f(section,)h(w)n(e)f(describ)r(e)f(regions,)h(p)r(oin)n(ts,)h
(and)f(the)g(basic)149 1588 y(region)c(classes.)24 b(T)-5 b(ransformations)15
b(will)k(b)r(e)e(describ)r(ed)f(in)j(Chapter)d(5.)149 1721
y(Most)f(of)i(these)e(ob)s(jects)g(are)h(describ)r(ed)f(as)h(if)i(they)e(are)
g(implemen)n(ted)e(using)i(standard)f(classes.)23 b(Ho)n(w)n(ev)n(er,)149
1787 y(this)18 b(need)g(not)h(b)r(e)f(the)g(case.)26 b(In)19
b(particular,)f(they)g(ma)n(y)h(b)r(e)f(implemen)n(ted)f(using)h(structure)e
(classes,)j(and)149 1853 y(some)f(classes)g(ma)n(y)h(exist)g(only)h(to)f
(name)e(a)j(place)e(in)i(the)f(hierarc)n(h)n(y|all)g(mem)n(b)r(ers)e(of)i
(suc)n(h)g(a)g(class)g(will)149 1920 y(b)r(e)g(instances)g(of)i(that)e
(class's)h(sub)r(classes.)30 b(The)20 b(most)f(imp)r(ortan)n(t)f(concern)g
(is)k(that)d(these)g(classes)h(m)n(ust)149 1986 y(allo)n(w)f(sp)r(ecializing)
e(generic)f(functions.)149 2119 y(The)c(co)r(ordinate)e(system)g(in)j(whic)n
(h)g(the)f(geometric)e(ob)s(jects)g(reside)i(is)h(an)f(abstract,)g(con)n(tin)
n(uous)f(co)r(ordinate)149 2185 y(system.)23 b(This)18 b(abstract)e(co)r
(ordinate)f(system)i(is)h(con)n(v)n(erted)f(in)n(to)h(\\real)g(w)n(orld")g
(co)r(ordinates)d(only)j(during)149 2252 y(op)r(erations)d(suc)n(h)j(as)g
(rendering)e(one)i(of)g(the)f(ob)s(jects)g(on)g(a)i(displa)n(y)f(device.)149
2385 y(Angles)k(are)g(measured)e(in)j(radians.)38 b(F)-5 b(ollo)n(wing)24
b(standard)d(con)n(v)n(en)n(tions,)j(when)e(an)h(angle)f(is)h(measured)149
2451 y(relativ)n(e)16 b(to)g(a)h(giv)n(en)f(line,)i(a)f(p)r(ositiv)n(e)f
(angle)g(indicates)f(an)h(angle)g(coun)n(ter-clo)r(c)n(kwise)f(from)g(the)g
(line)i(in)g(the)149 2518 y(plane.)34 b(When)21 b(the)f(angle)h(from)f(the)h
(p)r(ositiv)n(e)g Fn(x)h Fr(axis)g(to)f(the)f(p)r(ositiv)n(e)h
Fn(y)j Fr(axis)e(is)g(p)r(ositiv)n(e)f(\(that)f(is,)j(the)149
2584 y(p)r(ositiv)n(e)e Fn(y)i Fr(axis)f(is)g(coun)n(ter-clo)r(c)n(kwise)d
(from)h(the)h(p)r(ositiv)n(e)g Fn(x)g Fr(axis\),)h(the)f(co)r(ordinate)d
(system)i(is)i(said)f(to)149 2650 y(b)r(e)e Fm(righ)n(t-handed)p
Fr(.)29 b(When)19 b(this)h(angle)f(is)i(negativ)n(e,)f(the)f(co)r(ordinate)e
(system)h(is)j(said)f(to)f(b)r(e)h Fm(left-handed)p Fr(.)149
2717 y(Th)n(us,)e(the)e(cartesian)g(co)r(ordinate)e(system)i(with)h
Fn(x)h Fr(increasing)e(to)g(the)h(righ)n(t)g(and)g Fn(y)j Fr(increasing)c(up)
n(w)n(ard)h(is)149 2783 y(righ)n(t-handed.)31 b(A)20 b(co)r(ordinate)e
(system)i(with)g Fn(y)k Fr(increasing)19 b(do)n(wn)i(is)g(left-handed.)31
b(\(By)21 b(default,)g(CLIM)149 2850 y(streams)15 b(are)j(left)g(handed,)f
(but)g(no)h(suc)n(h)g(default)f(exists)h(for)g(sheets)e(in)j(general.\))149
3099 y Fk(3.1)91 b(General)30 b(Regions)149 3287 y Fr(A)20
b Fm(region)g Fr(is)h(an)f(ob)s(ject)g(that)f(denotes)g(a)h(set)g(of)h
(mathematical)c(p)r(oin)n(ts)j(in)h(the)f(plane.)31 b(Regions)20
b(include)149 3353 y(their)d(b)r(oundaries,)f(that)h(is,)i(they)f(are)f
(closed.)24 b(Regions)17 b(ha)n(v)n(e)i(in\014nite)e(resolution.)1276
3632 y(13)p eop
%%Page: 14 29
bop 149 16 a Fm(CHAPTER)16 b(3.)43 b(REGIONS)1613 b Fr(14)149
210 y(A)26 b Fm(b)r(ounded)e(region)h Fr(is)i(a)f(region)f(that)g(con)n
(tains)g(at)h(least)f(one)h(p)r(oin)n(t)f(and)h(for)g(whic)n(h)g(there)f
(exists)h(a)149 276 y(n)n(um)n(b)r(er,)e Fn(d)p Fr(,)h(called)f(the)e
(region's)h(diameter,)g(suc)n(h)h(that)e(if)j Fn(p)p Fr(1)e(and)g
Fn(p)p Fr(2)h(are)f(p)r(oin)n(ts)g(in)h(the)f(region,)h(the)149
342 y(distance)16 b(b)r(et)n(w)n(een)h Fn(p)p Fr(1)h(and)g
Fn(p)p Fr(2)g(is)g(alw)n(a)n(ys)h(less)f(than)g(or)f(equal)h(to)g
Fn(d)p Fr(.)149 475 y(An)f Fm(un)n(b)r(ounded)f(region)i Fr(either)f(con)n
(tains)g(no)g(p)r(oin)n(ts)h(or)g(con)n(tains)f(p)r(oin)n(ts)g(arbitrarily)h
(far)f(apart.)149 608 y(Another)10 b(w)n(a)n(y)k(to)e(describ)r(e)e(a)j
(region)f(is)h(that)e(it)i(maps)e(ev)n(ery)i(\()p Fn(x;)c(y)r
Fr(\))j(pair)h(in)n(to)f(either)g Fm(true)f Fr(or)h Fm(false)h
Fr(\(meaning)149 674 y(mem)n(b)r(er)j(or)j(not)g(a)g(mem)n(b)r(er,)e(resp)r
(ectiv)n(ely)-5 b(,)19 b(of)g(the)g(region\).)27 b(Later,)18
b(in)i(Chapter)d(14,)j(w)n(e)g(will)g(generalize)149 741 y(a)d(region)e(to)i
(something)d(called)j(a)g Fm(design)f Fr(that)f(maps)h(ev)n(ery)h(p)r(oin)n
(t)f(\()p Fn(x;)9 b(y)r Fr(\))17 b(in)n(to)g(color)f(and)g(opacit)n(y)g(v)m
(alues.)49 874 y Fj(\))45 b Ft(region)1739 b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23
b(Class)5 b Fr(])149 993 y(The)23 b(proto)r(col)e(class)i(that)g(corresp)r
(onds)d(to)j(a)g(set)g(of)g(p)r(oin)n(ts.)40 b(This)24 b(includes)f(b)r(oth)f
(b)r(ounded)f(and)i(un-)149 1059 y(b)r(ounded)16 b(regions.)23
b(This)c(is)f(a)g(sub)r(class)f(of)h Ft(design)h Fr(\(see)e(Chapter)f(13\).)
149 1192 y(If)j(y)n(ou)h(w)n(an)n(t)f(to)f(create)g(a)h(new)f(class)h(that)f
(b)r(eha)n(v)n(es)g(lik)n(e)j(a)e(region,)g(it)g(should)f(b)r(e)h(a)g(sub)r
(class)e(of)i Ft(region)p Fr(.)149 1258 y(Sub)r(classes)d(of)i
Ft(region)g Fr(m)n(ust)g(ob)r(ey)f(the)g(region)g(proto)r(col.)149
1391 y(There)k(is)h(no)g(general)f(constructor)e(called)j Ft(make-region)h
Fr(b)r(ecause)c(of)j(the)g(imp)r(ossibilit)n(y)g(of)g(a)g(uniform)149
1458 y(w)n(a)n(y)d(to)f(sp)r(ecify)f(the)g(argumen)n(ts)f(to)h(suc)n(h)h(a)g
(function.)49 1591 y Fj(\))45 b Ft(regionp)29 b Fs(obje)m(ct)1676
b Fr([)p Fs(F)l(unction)t Fr(])149 1710 y(Returns)16 b Fm(true)h
Fr(if)i Fs(obje)m(ct)h Fr(is)f(a)f Fm(region)p Fr(,)g(otherwise)e(returns)g
Fm(false)p Fr(.)49 1842 y Fj(\))45 b Ft(path)1797 b Fr([)p
Fs(Pr)m(oto)m(c)m(ol)23 b(Class)5 b Fr(])149 1961 y(The)26
b(proto)r(col)f(class)h Ft(path)i Fr(denotes)d(b)r(ounded)f(regions)i(that)g
(ha)n(v)n(e)h Fm(dimensionalit)n(y)f Fr(1)h(\(that)e(is,)30
b(ha)n(v)n(e)149 2028 y(length\).)23 b(It)18 b(is)g(a)g(sub)r(class)e(of)i
Ft(region)h Fr(and)e Ft(bounding-rectangle)p Fr(.)26 b(If)18
b(y)n(ou)h(w)n(an)n(t)f(to)f(create)f(a)i(new)g(class)149 2094
y(that)c(b)r(eha)n(v)n(es)h(lik)n(e)j(a)e(path,)f(it)h(should)g(b)r(e)f(a)h
(sub)r(class)e(of)i Ft(path)p Fr(.)24 b(Sub)r(classes)14 b(of)i
Ft(path)h Fr(m)n(ust)d(ob)r(ey)h(the)h(path)149 2161 y(proto)r(col.)149
2293 y(Constructing)k(a)j Ft(path)g Fr(ob)s(ject)f(with)g(no)h(length)f
(\(via)h Ft(make-line*)p Fr(,)i(for)e(example\))e(canonicalizes)g(it)i(to)149
2360 y Ft(+nowhere+)p Fr(.)149 2493 y(Some)12 b(rendering)f(mo)r(dels)h(supp)
r(ort)f(the)i(constructing)d(of)k(areas)e(b)n(y)i(\014lling)g(a)g(closed)f
(path.)22 b(In)13 b(this)h(case,)f(the)149 2559 y(path)g(needs)h(a)g
(direction)g(asso)r(ciated)e(with)i(it.)24 b(Since)14 b(CLIM)g(do)r(es)f(not)
h(curren)n(tly)g(supp)r(ort)e(the)i(path-\014lling)149 2626
y(mo)r(del,)j(paths)g(are)g(directionless.)49 2758 y Fj(\))45
b Ft(pathp)29 b Fs(obje)m(ct)1734 b Fr([)p Fs(F)l(unction)t
Fr(])149 2877 y(Returns)16 b Fm(true)h Fr(if)i Fs(obje)m(ct)h
Fr(is)f(a)f Fm(path)p Fr(,)g(otherwise)e(returns)g Fm(false)p
Fr(.)149 3010 y(Note)h(that)g(constructing)e(a)j Ft(path)h
Fr(ob)s(ject)d(with)j(no)f(length)f(\(suc)n(h)g(as)h(calling)h
Ft(make-line)g Fr(with)f(t)n(w)n(o)g(coin-)149 3077 y(ciden)n(t)f(p)r(oin)n
(ts\),)g(for)h(example\))e(canonicalizes)h(it)h(to)g Ft(+nowhere+)p
Fr(.)49 3209 y Fj(\))45 b Ft(area)1797 b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23
b(Class)5 b Fr(])149 3328 y(The)14 b(proto)r(col)f(class)i
Ft(area)h Fr(denotes)d(b)r(ounded)g(regions)h(that)g(ha)n(v)n(e)i
(dimensionalit)n(y)e(2)h(\(that)e(is,)k(ha)n(v)n(e)f(area\).)149
3395 y(It)23 b(is)g(a)g(sub)r(class)f(of)h Ft(region)h Fr(and)e
Ft(bounding-rectangle)p Fr(.)41 b(If)24 b(y)n(ou)f(w)n(an)n(t)g(to)g(create)e
(a)i(new)g(class)g(that)149 3461 y(b)r(eha)n(v)n(es)e(lik)n(e)i(an)e(area,)h
(it)g(should)f(b)r(e)g(a)h(sub)r(class)e(of)i Ft(area)p Fr(.)36
b(Sub)r(classes)19 b(of)j Ft(area)g Fr(m)n(ust)f(ob)r(ey)g(the)g(area)p
eop
%%Page: 15 30
bop 149 16 a Fm(CHAPTER)16 b(3.)43 b(REGIONS)1613 b Fr(15)149
210 y(proto)r(col.)149 342 y(Note)17 b(that)h(constructing)e(an)i
Ft(area)h Fr(ob)s(ject)f(with)g(no)h(area)f(\(suc)n(h)g(as)g(calling)h
Ft(make-rectangle)h Fr(with)f(t)n(w)n(o)149 409 y(coinciden)n(t)e(p)r(oin)n
(ts\),)g(for)h(example\))e(canonicalizes)g(it)j(to)e Ft(+nowhere+)p
Fr(.)49 542 y Fj(\))45 b Ft(areap)29 b Fs(obje)m(ct)1734 b
Fr([)p Fs(F)l(unction)t Fr(])149 661 y(Returns)16 b Fm(true)h
Fr(if)i Fs(obje)m(ct)h Fr(is)f(an)f Fm(area)p Fr(,)f(otherwise)g(returns)f
Fm(false)p Fr(.)49 793 y Fj(\))45 b Ft(coordinate)1853 b Fr([)p
Fs(T)l(yp)m(e)t Fr(])149 912 y(The)19 b(t)n(yp)r(e)g(that)g(represen)n(ts)e
(a)j(co)r(ordinate.)26 b(This)20 b(m)n(ust)f(b)r(e)g(a)h(subt)n(yp)r(e)e(of)i
Ft(real)p Fr(,)h(but)e(CLIM)g(implemen-)149 979 y(tations)d(ma)n(y)i(use)g(a)
g(more)f(sp)r(eci\014c)f(subt)n(yp)r(e)h(\(suc)n(h)g(as)h Ft(single-float)p
Fr(\))h(for)f(reasons)e(of)i(e\016ciency)-5 b(.)149 1112 y(All)14
b(of)g(the)f(sp)r(eci\014c)f(region)h(classes)g(and)g(sub)r(classes)f(of)h
Ft(bounding-rectangle)i Fr(will)h(use)d(this)g(t)n(yp)r(e)h(to)f(store)149
1178 y(their)21 b(co)r(ordinates.)33 b(Ho)n(w)n(ev)n(er,)24
b(the)d(constructor)e(functions)h(for)i(the)f(region)g(classes)g(and)h(for)f
(b)r(ounding)149 1245 y(rectangles)15 b(m)n(ust)j(accept)e(n)n(um)n(b)r(ers)g
(of)i(an)n(y)h(t)n(yp)r(e)e(and)h(co)r(erce)e(them)g(to)i Ft(coordinate)p
Fr(.)49 1377 y Fj(\))45 b Ft(+everywhere+)1689 b Fr([)p Fs(Constant)5
b Fr(])49 1444 y Fj(\))45 b Ft(+nowhere+)1776 b Fr([)p Fs(Constant)5
b Fr(])149 1563 y Ft(+everywhere+)18 b Fr(is)g(the)f(region)g(that)f
(includes)h(all)h(the)f(p)r(oin)n(ts)g(on)g(the)g(t)n(w)n(o-dimensional)g
(in\014nite)g(dra)n(wing)149 1629 y(plane.)24 b Ft(+nowhere+)19
b Fr(is)f(the)g(empt)n(y)f(region,)g(the)h(opp)r(osite)e(of)i
Ft(+everywhere+)p Fr(.)149 1851 y Fp(3.1.1)75 b(The)24 b(Region)i(Predicate)g
(Proto)r(col)149 2019 y Fr(The)f(follo)n(wing)h(generic)e(functions)g
(comprise)g(the)g(region)h(predicate)e(proto)r(col.)45 b(All)26
b(classes)f(that)f(are)149 2086 y(sub)r(classes)16 b(of)i Ft(region)h
Fr(m)n(ust)e(either)g(inherit)g(or)h(implemen)n(t)e(metho)r(ds)f(for)j(these)
f(generic)g(functions.)149 2218 y(The)11 b(metho)r(ds)e(for)j
Ft(region-equal)p Fr(,)j Ft(region-contains-region-p)p Fr(,)g(and)c
Ft(region-intersects-region-)149 2285 y(p)18 b Fr(will)i(t)n(ypically)f(sp)r
(ecialize)e(b)r(oth)f(the)i Fs(r)m(e)m(gion1)i Fr(and)e Fs(r)m(e)m(gion2)j
Fr(argumen)n(ts.)49 2418 y Fj(\))45 b Ft(region-equal)29 b
Fs(r)m(e)m(gion1)23 b(r)m(e)m(gion2)1090 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 2537 y(Returns)i Fm(true)h Fr(if)i(the)e(t)n(w)n(o)i
Fm(regions)e Fs(r)m(e)m(gion1)j Fr(and)e Fs(r)m(e)m(gion2)j
Fr(con)n(tain)c(exactly)h(the)f(same)f(set)i(of)g(p)r(oin)n(ts,)149
2603 y(otherwise)16 b(returns)g Fm(false)p Fr(.)49 2736 y Fj(\))45
b Ft(region-contains-region-p)30 b Fs(r)m(e)m(gion1)22 b(r)m(e)m(gion2)742
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2855 y(Returns)g
Fm(true)g Fr(if)i(all)h(p)r(oin)n(ts)e(in)h(the)f Fm(region)f
Fs(r)m(e)m(gion2)k Fr(are)d(mem)n(b)r(ers)e(of)j(the)e Fm(region)h
Fs(r)m(e)m(gion1)p Fr(,)28 b(otherwise)149 2921 y(returns)16
b Fm(false)p Fr(.)49 3054 y Fj(\))45 b Ft(region-contains-position-p)30
b Fs(r)m(e)m(gion)22 b(x)e(y)810 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 3173 y(Returns)h Fm(true)h Fr(if)i(the)e(p)r(oin)n(t)h(at)f(\()p
Fn(x;)9 b(y)r Fr(\))25 b(is)h(con)n(tained)d(in)j(the)e Fm(region)g
Fs(r)m(e)m(gion)p Fr(,)30 b(otherwise)23 b(returns)g Fm(false)p
Fr(.)149 3240 y(Since)c(regions)f(in)i(CLIM)g(are)f(closed,)g(this)h(m)n(ust)
e(return)g Fm(true)h Fr(if)h(the)f(p)r(oin)n(t)g(at)g(\()p
Fn(x;)9 b(y)r Fr(\))20 b(is)g(on)f(the)g(region's)149 3306
y(b)r(oundary)-5 b(.)31 b(CLIM)20 b(implemen)n(tations)e(are)i(p)r(ermitted)e
(to)i(return)f(di\013eren)n(t)h(non-)p Ft(nil)h Fr(v)m(alues)g(dep)r(ending)
149 3372 y(on)d(whether)e(the)h(p)r(oin)n(t)h(is)g(completely)f(inside)h(the)
f(region)g(or)h(is)h(on)f(the)f(b)r(order.)p eop
%%Page: 16 31
bop 149 16 a Fm(CHAPTER)16 b(3.)43 b(REGIONS)1613 b Fr(16)149
210 y Ft(region-contains-position-p)26 b Fr(is)f(a)g(sp)r(ecial)e(case)h(of)g
Ft(region-contains-region-p)j Fr(in)e(whic)n(h)f(the)149 276
y(region)17 b(is)i(the)e(p)r(oin)n(t)g(\()p Fn(x;)9 b(y)r Fr(\).)49
409 y Fj(\))45 b Ft(region-intersects-region-p)30 b Fs(r)m(e)m(gion1)22
b(r)m(e)m(gion2)684 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 528 y(Returns)10 b Fm(false)i Fr(if)g Ft(region-intersection)i
Fr(of)d(the)h(t)n(w)n(o)g Fm(regions)f Fs(r)m(e)m(gion1)j Fr(and)e
Fs(r)m(e)m(gion2)i Fr(w)n(ould)f(b)r(e)e Ft(+nowhere+)p Fr(,)149
594 y(otherwise)16 b(returns)g Fm(true)p Fr(.)149 815 y Fp(3.1.2)75
b(Region)26 b(Comp)r(osition)h(Proto)r(col)149 983 y Fr(Region)e(comp)r
(osition)e(is)j(not)f(alw)n(a)n(ys)i(equiv)m(alen)n(t)e(to)h(simple)f(set)g
(op)r(erations.)45 b(Instead,)26 b(comp)r(osition)149 1050
y(attempts)d(to)i(return)f(an)i(ob)s(ject)f(that)g(has)g(the)g(same)g
(dimensionalit)n(y)g(as)h(one)f(of)h(its)h(argumen)n(ts.)45
b(If)149 1116 y(this)19 b(is)i(not)e(p)r(ossible,)h(then)e(the)h(result)g(is)
i(de\014ned)d(to)h(b)r(e)g(an)h(empt)n(y)f(region,)h(whic)n(h)g(is)g
(canonicalized)e(to)149 1182 y Ft(+nowhere+)p Fr(.)25 b(\(The)17
b(exact)h(details)f(of)h(this)g(are)f(sp)r(eci\014ed)g(with)h(eac)n(h)f
(function.\))149 1315 y(Sometimes,)f(comp)r(osition)g(of)j(regions)f(can)h
(pro)r(duce)d(a)j(result)g(that)e(is)j(not)e(a)h(simple)g(con)n(tiguous)e
(region.)149 1382 y(F)-5 b(or)16 b(example,)g Ft(region-union)h
Fr(of)g(t)n(w)n(o)f(rectangular)e(regions)h(migh)n(t)h(not)f(b)r(e)h(a)g
(single)h(rectangle.)k(In)c(order)149 1448 y(to)12 b(supp)r(ort)g(cases)g
(lik)n(e)i(this,)h(CLIM)e(has)f(the)h(concept)e(of)i(a)h Fm(region)e(set)p
Fr(,)i(whic)n(h)f(is)h(an)f(ob)s(ject)f(that)g(represen)n(ts)149
1515 y(one)18 b(or)h(more)e Ft(region)j Fr(ob)s(jects)d(related)h(b)n(y)i
(some)d(region)h(op)r(eration,)g(usually)h(a)g(union.)27 b(CLIM)19
b(pro)n(vides)149 1581 y(standard)d(classes)h(to)h(co)n(v)n(er)g(the)f(cases)
g(of)h(region)f(union,)h(in)n(tersection,)f(and)h(di\013erence.)149
1714 y(Some)13 b(CLIM)i(implemen)n(tations)c(migh)n(t)j(only)i(implemen)n(t)c
(a)j(subset)f(of)h(full)g(region)f(comp)r(osition.)21 b(Because)149
1780 y(of)13 b(the)g(imp)r(ortance)d(of)k(rectangular)d(regions)h(and)i
(region)e(sets)h(that)g(are)g(the)f(union)i(of)f(rectangular)e(regions,)149
1847 y(ev)n(ery)18 b(CLIM)g(implemen)n(tation)d(is)k(required)f(to)f(fully)j
(supp)r(ort)c(all)j(functions)e(that)g(use)h(regions)f(for)h(those)149
1913 y(cases.)24 b(\(F)-5 b(or)18 b(example,)g(CLIM)g(implemen)n(tations)d(m)
n(ust)j(b)r(e)f(able)h(do)h(clipping)f(and)g(repain)n(ting)f(on)h(region)149
1979 y(sets)g(comp)r(osed)d(en)n(tirely)k(of)g(axis-aligned)f(rectangles.\))
24 b(If)19 b(a)g(CLIM)f(implemen)n(tation)e(do)r(es)i(not)g(supp)r(ort)149
2046 y(some)i(functions)h(on)h(non-rectangular)d(region)i(sets)g(\(for)g
(example,)h(clipping\),)h(it)f(m)n(ust)f(signal)h(an)g(error)149
2112 y(when)h(an)g(unsupp)r(orted)d(case)j(is)h(encoun)n(tered;)g(the)f
(exact)f(details)h(of)h(this)f(dep)r(end)f(on)h(the)g(particular)149
2179 y(CLIM)17 b(implemen)n(tation.)49 2312 y Fj(\))45 b Ft(region-set)1623
b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23 b(Class)5 b Fr(])149 2431
y(The)17 b(proto)r(col)e(class)i(that)f(represen)n(ts)g(a)h(region)g(set;)g
(a)g(sub)r(class)f(of)i Ft(region)g Fr(and)f Ft(bounding-rectangle)p
Fr(.)149 2563 y(In)22 b(addition)g(to)f(the)h(three)f(classes)g(b)r(elo)n(w,)
j(there)c(ma)n(y)j(b)r(e)e(other)g(instan)n(tiable)g(sub)r(classes)g(of)h
Ft(region-)149 2630 y(set)g Fr(that)f(represen)n(t)e(sp)r(ecial)i(cases,)h
(for)f(instance,)h(some)e(implemen)n(tations)f(migh)n(t)i(ha)n(v)n(e)h(a)g
Ft(standard-)149 2696 y(rectangle-set)d Fr(class)f(that)f(represen)n(ts)e
(the)j(union)f(of)h(sev)n(eral)g(axis-aligned)g(rectangles.)149
2829 y(Mem)n(b)r(ers)d(of)j(this)g(class)g(are)g(imm)n(utable.)49
2962 y Fj(\))45 b Ft(region-set-p)29 b Fs(obje)m(ct)1531 b
Fr([)p Fs(F)l(unction)t Fr(])149 3081 y(Returns)16 b Fm(true)h
Fr(if)i Fs(obje)m(ct)h Fr(is)f(a)f Fm(region)f(set)p Fr(,)h(otherwise)f
(returns)f Fm(false)p Fr(.)49 3214 y Fj(\))45 b Ft(standard-region-union)1519
b Fr([)p Fs(Class)5 b Fr(])49 3280 y Fj(\))45 b Ft
(standard-region-intersection)1316 b Fr([)p Fs(Class)5 b Fr(])49
3347 y Fj(\))45 b Ft(standard-region-difference)1374 b Fr([)p
Fs(Class)5 b Fr(])149 3466 y(These)19 b(three)g(instan)n(tiable)g(classes)g
(resp)r(ectiv)n(ely)g(implemen)n(t)f(the)i(union,)g(in)n(tersection,)f(and)h
(di\013erences)p eop
%%Page: 17 32
bop 149 16 a Fm(CHAPTER)16 b(3.)43 b(REGIONS)1613 b Fr(17)149
210 y(of)18 b(regions.)23 b(Implemen)n(tations)15 b(ma)n(y)-5
b(,)18 b(but)g(are)f(not)g(required)g(to,)h(tak)n(e)g(adv)m(an)n(tage)e(of)i
(the)g(comm)n(utativit)n(y)149 276 y(and)j(asso)r(ciativit)n(y)g(of)h(union)f
(and)h(in)n(tersection)e(in)i(order)f(to)g(\\collapse")f(complicated)g
(region)g(sets)h(in)n(to)149 342 y(simpler)c(ones.)149 475
y(Region)24 b(sets)g(that)f(are)h(comp)r(osed)e(en)n(tirely)j(of)f
(axis-aligned)h(rectangles)e(m)n(ust)g(b)r(e)h(canonicalized)f(in)n(to)149
542 y(either)15 b(a)i(single)g(rectangle)e(or)h(a)h(union)f(of)h(rectangles.)
22 b(F)-5 b(urthermore,)14 b(the)i(rectangles)f(in)i(the)f(union)h(m)n(ust)
149 608 y(not)g(o)n(v)n(erlap)h(eac)n(h)g(other.)149 741 y(The)i(follo)n
(wing)h(generic)e(functions)g(comprise)g(the)h(region)f(comp)r(osition)f
(proto)r(col.)30 b(All)21 b(classes)f(that)f(are)149 807 y(sub)r(classes)d
(of)i Ft(region)h Fr(m)n(ust)e(implemen)n(t)f(metho)r(ds)f(for)j(these)f
(generic)f(functions.)149 940 y(The)g(metho)r(ds)d(for)j Ft(region-union)p
Fr(,)j Ft(region-intersection)p Fr(,)f(and)e Ft(region-difference)i
Fr(will)g(t)n(ypically)149 1007 y(sp)r(ecialize)e(b)r(oth)h(the)g
Fs(r)m(e)m(gion1)k Fr(and)d Fs(r)m(e)m(gion2)j Fr(argumen)n(ts.)49
1139 y Fj(\))45 b Ft(region-set-regions)30 b Fs(r)m(e)m(gion)22
b Ft(&key)29 b Fs(normalize)736 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1258 y(Returns)c(a)i(sequence)e(of)h(the)h(regions)e(in)j(the)e
Fm(region)g(set)g Fs(r)m(e)m(gion)p Fr(.)32 b Fs(r)m(e)m(gion)22
b Fr(can)d(b)r(e)g(either)g(a)h Fm(region)f(set)g Fr(or)149
1325 y(a)j(\\simple")e(region,)j(in)f(whic)n(h)g(case)f(the)g(result)g(is)h
(simply)g(a)g(sequence)e(of)i(one)f(elemen)n(t:)31 b Fs(r)m(e)m(gion)p
Fr(.)38 b(This)149 1391 y(function)16 b(returns)h(ob)s(jects)f(that)h(rev)n
(eal)h(CLIM's)g(in)n(ternal)g(state;)f(do)h(not)f(mo)r(dify)g(those)g(ob)s
(jects.)149 1524 y(F)-5 b(or)18 b(the)f(case)f(of)i(region)f(sets)g(that)f
(are)h(unions)h(of)f(axis-aligned)h(rectangles,)e(the)h(rectangles)e
(returned)h(b)n(y)149 1591 y Ft(region-set-regions)j Fr(are)f(guaran)n(teed)d
(not)j(to)f(o)n(v)n(erlap.)149 1723 y(If)i Fs(normalize)i Fr(is)e(supplied,)g
(it)g(m)n(ust)f(b)r(e)g(either)g Ft(:x-banding)i Fr(or)e Ft(:y-banding)p
Fr(.)28 b(If)20 b(it)f(is)g Ft(:x-banding)h Fr(and)149 1790
y(all)c(the)g(regions)f(in)h Fs(r)m(e)m(gion)i Fr(are)e(axis-aligned)g
(rectangles,)e(the)i(result)f(is)h(normalized)e(b)n(y)j(merging)d(adjacen)n
(t)149 1856 y(rectangles)f(with)j(banding)f(done)g(in)i(the)e
Fn(x)h Fr(direction.)23 b(If)16 b(it)g(is)h Ft(:y-banding)f
Fr(and)g(all)h(the)e(regions)g(in)h Fs(r)m(e)m(gion)149 1923
y Fr(are)22 b(rectangles,)h(the)f(result)h(is)h(normalized)d(with)i(banding)g
(done)f(in)i(the)e Fn(y)k Fr(direction.)39 b(Normalizing)22
b(a)149 1989 y(region)c(set)g(that)g(is)i(not)e(comp)r(osed)e(en)n(tirely)j
(of)g(axis-aligned)h(rectangles)c(using)j(x-)h(or)f(y-banding)g(causes)149
2055 y(CLIM)e(to)h(signal)g(the)g Ft(region-set-not-rectangular)h
Fr(error.)49 2188 y Fj(\))45 b Ft(map-over-region-set-regions)30
b Fs(function)21 b(r)m(e)m(gion)h Ft(&key)29 b Fs(normalize)257
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2307 y(Calls)f
Fs(function)g Fr(on)f(eac)n(h)g(region)f(in)i(the)e Fm(region)h(set)f
Fs(r)m(e)m(gion)p Fr(.)33 b(This)21 b(is)g(often)e(more)f(e\016cien)n(t)i
(than)f(calling)149 2374 y Ft(region-set-regions)p Fr(.)28
b Fs(function)21 b Fr(is)e(a)g(function)f(of)g(one)h(argumen)n(t,)e(a)i
(region;)g(it)g(has)f(dynamic)g(exten)n(t.)149 2440 y Fs(r)m(e)m(gion)k
Fr(can)e(b)r(e)f(either)g(a)h Fm(region)f(set)h Fr(or)g(a)g(\\simple")f
(region,)h(in)g(whic)n(h)h(case)e Fs(function)i Fr(is)g(called)f(once)f(on)
149 2507 y Fs(r)m(e)m(gion)h Fr(itself.)25 b Fs(normalize)20
b Fr(is)e(as)g(for)g Ft(region-set-regions)p Fr(.)49 2639 y
Fj(\))45 b Ft(region-union)29 b Fs(r)m(e)m(gion1)23 b(r)m(e)m(gion2)1090
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2758 y(Returns)g(a)i(region)f
(that)g(con)n(tains)g(all)h(p)r(oin)n(ts)g(that)e(are)i(in)g(either)f(of)h
(the)f Fm(regions)g Fs(r)m(e)m(gion1)j Fr(or)e Fs(r)m(e)m(gion2)149
2825 y Fr(\(p)r(ossibly)c(with)g(some)g(p)r(oin)n(ts)g(remo)n(v)n(ed)g(in)h
(order)e(to)i(satisfy)f(the)g(dimensionalit)n(y)g(rule\).)32
b(The)21 b(result)f(of)149 2891 y Ft(region-union)k Fr(alw)n(a)n(ys)g(has)f
(dimensionalit)n(y)f(that)g(is)h(the)g(maxim)n(um)e(dimensionalit)n(y)h(of)h
Fs(r)m(e)m(gion1)j Fr(and)149 2958 y Fs(r)m(e)m(gion2)p Fr(.)h(F)-5
b(or)17 b(example,)f(the)g(union)g(of)h(a)g(path)f(and)g(an)h(area)f(pro)r
(duces)e(an)i(area;)h(the)f(union)h(of)f(t)n(w)n(o)i(paths)149
3024 y(is)g(a)g(path.)149 3157 y Ft(region-union)k Fr(will)i(return)c(either)
g(a)i(simple)f(region)g(or)h(a)f(mem)n(b)r(er)e(of)j(the)f(class)g
Ft(standard-region-)149 3223 y(union)p Fr(.)149 3356 y(This)f(function)g(is)h
(p)r(ermitted)c(to)j(capture)e(its)j(m)n(utable)e(inputs;)i(the)f
(consequences)d(of)k(mo)r(difying)e(those)149 3423 y(ob)s(jects)d(are)i(unsp)
r(eci\014ed.)p eop
%%Page: 18 33
bop 149 16 a Fm(CHAPTER)16 b(3.)43 b(REGIONS)1613 b Fr(18)667
1548 y(Figure)17 b(3.1:)25 b(Normalization)15 b(of)j(rectangular)e(region)h
(sets.)49 1725 y Fj(\))45 b Ft(region-intersection)30 b Fs(r)m(e)m(gion1)22
b(r)m(e)m(gion2)887 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1844 y(Returns)f(a)i(region)f(that)g(con)n(tains)g(all)i(p)r(oin)n
(ts)f(that)f(are)g(in)h(b)r(oth)f(of)h(the)g Fm(regions)f Fs(r)m(e)m(gion1)j
Fr(and)e Fs(r)m(e)m(gion2)149 1910 y Fr(\(p)r(ossibly)d(with)g(some)g(p)r
(oin)n(ts)g(remo)n(v)n(ed)g(in)h(order)e(to)i(satisfy)f(the)g(dimensionalit)n
(y)g(rule\).)32 b(The)21 b(result)f(of)149 1977 y Ft(region-intersection)j
Fr(has)f(dimensionalit)n(y)f(that)g(is)h(the)g(minim)n(um)e(dimensionalit)n
(y)h(of)h Fs(r)m(e)m(gion1)j Fr(and)149 2043 y Fs(r)m(e)m(gion2)p
Fr(,)g(or)c(is)h Ft(+nowhere+)p Fr(.)36 b(F)-5 b(or)21 b(example,)h(the)e(in)
n(tersection)g(of)h(t)n(w)n(o)h(areas)f(is)h(either)e(another)f(area)i(or)149
2109 y Ft(+nowhere+)p Fr(;)g(the)e(in)n(tersection)f(of)h(t)n(w)n(o)h(paths)f
(is)h(either)e(another)g(path)h(or)g Ft(+nowhere+)p Fr(;)j(the)c(in)n
(tersection)149 2176 y(of)g(a)g(path)f(and)h(an)f(area)h(pro)r(duces)d(the)j
(path)f(clipp)r(ed)g(to)g(sta)n(y)i(inside)f(of)g(the)f(area.)149
2309 y Ft(region-intersection)23 b Fr(will)g(return)d(either)h(a)h(simple)f
(region)f(or)i(a)g(mem)n(b)r(er)d(of)i(the)g(class)h Ft(standard-)149
2375 y(region-intersection)p Fr(.)149 2508 y(This)e(function)g(is)h(p)r
(ermitted)c(to)j(capture)e(its)j(m)n(utable)e(inputs;)i(the)f(consequences)d
(of)k(mo)r(difying)e(those)149 2574 y(ob)s(jects)d(are)i(unsp)r(eci\014ed.)49
2707 y Fj(\))45 b Ft(region-difference)30 b Fs(r)m(e)m(gion1)22
b(r)m(e)m(gion2)945 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 2826 y(Returns)15 b(a)i(region)f(that)f(con)n(tains)h(all)i(p)r(oin)
n(ts)e(in)h(the)f Fm(region)g Fs(r)m(e)m(gion1)k Fr(that)15
b(are)h(not)h(in)g(the)f Fm(region)g Fs(r)m(e)m(gion2)149 2893
y Fr(\(p)r(ossibly)22 b(plus)i(additional)e(b)r(oundary)g(p)r(oin)n(ts)g(to)h
(mak)n(e)g(the)g(result)f(closed\).)39 b(The)23 b(result)g(of)g
Ft(region-)149 2959 y(difference)14 b Fr(has)f(the)f(same)g(dimensionalit)n
(y)h(as)g Fs(r)m(e)m(gion1)p Fr(,)k(or)c(is)h Ft(+nowhere+)p
Fr(.)24 b(F)-5 b(or)13 b(example,)g(the)g(di\013erence)149
3025 y(of)j(an)g(area)g(and)g(a)g(path)g(pro)r(duces)e(the)h(same)g(area;)i
(the)e(di\013erence)g(of)i(a)f(path)g(and)g(an)g(area)f(pro)r(duces)f(the)149
3092 y(path)j(clipp)r(ed)g(to)h(sta)n(y)g(outside)f(of)h(the)f(area.)149
3225 y Ft(region-difference)27 b Fr(will)h(return)c(either)i(a)g(simple)f
(region)h(or)g(a)g(mem)n(b)r(er)d(of)j(the)g(class)g Ft(standard-)149
3291 y(region-difference)p Fr(.)149 3424 y(This)20 b(function)g(is)h(p)r
(ermitted)c(to)j(capture)e(its)j(m)n(utable)e(inputs;)i(the)f(consequences)d
(of)k(mo)r(difying)e(those)p eop
%%Page: 19 34
bop 149 16 a Fm(CHAPTER)16 b(3.)43 b(REGIONS)1613 b Fr(19)503
1048 y(Figure)18 b(3.2:)25 b(Examples)16 b(of)i(region)g(union,)g(in)n
(tersection,)e(and)i(di\013erence.)149 1225 y(ob)s(jects)e(are)i(unsp)r
(eci\014ed.)149 1474 y Fk(3.2)91 b(Other)30 b(Region)g(T)m(yp)s(es)149
1662 y Fr(The)22 b(other)g(t)n(yp)r(es)g(of)g(regions)g(are)g(p)r(oin)n(ts,)i
(p)r(olylines,)g(p)r(olygons,)f(elliptical)g(arcs,)h(and)e(ellipses.)39
b(All)24 b(of)149 1728 y(these)16 b(region)i(t)n(yp)r(es)f(are)g(closed)h
(under)f(a\016ne)g(transformations.)149 1861 y Fo(Ma)t(jor)28
b(issue:)77 b Fm(There)23 b(is)h(a)f(prop)r(osal)f(to)h(remo)n(v)n(e)g(the)g
Ft(polygon)p Fm(,)j Ft(polyline)p Fm(,)g Ft(line)p Fm(,)g Ft(ellipse)p
Fm(,)g(and)149 1928 y(elliptical-arc)g(classes,)j(since)e(they)f(are)g(only)i
(of)f(limited)f(utilit)n(y)-5 b(,)31 b(and)c(CLIM)f(itself)h(do)r(esn't)f
(use)g(the)149 1994 y(classes)20 b(at)h(all.)36 b(The)21 b(adv)m(an)n(tage)f
(of)h(remo)n(ving)g(these)f(classes)g(is)i(that)f(b)r(oth)f(the)g(sp)r(ec)g
(and)h(CLIM)h(itself)149 2060 y(b)r(ecome)13 b(a)k(little)f(simpler,)g(and)g
(there)f(are)h(few)n(er)g(cases)f(of)h(the)g(region)f(proto)r(col)f(to)i
(implemen)n(t.)22 b(Ho)n(w)n(ev)n(er,)149 2127 y(remo)n(ving)14
b(these)g(classes)g(results)g(in)h(a)h(geometric)c(mo)r(del)i(that)f(is)j(no)
f(longer)f(closed)h(\(in)g(the)f(mathematical)149 2193 y(sense\).)29
b(F)-5 b(urthermore,)18 b(these)g(are)i(in)n(tuitiv)n(e)g(ob)s(jects)f(that)g
(are)g(used)g(b)n(y)i(a)f(small,)h(but)f(imp)r(ortan)n(t,)e(class)149
2260 y(of)24 b(applications,)g(and)g(some)e(p)r(eople)h(feel)g(that)g(CLIM)h
(should)f(reliev)n(e)h(programmers)c(from)j(ha)n(ving)h(to)149
2326 y(implemen)n(t)16 b(these)h(classes)g(for)g(himself)h(or)g(herself.)149
2459 y(The)25 b(adv)n(o)r(cates)f(of)h(of)h(remo)n(ving)e(these)h(classes)f
(also)i(prop)r(ose)d(remo)n(ving)i(the)g(design-based)f(dra)n(wing)149
2525 y(mo)r(del.)d(In)14 b(this)g(case,)g(a)g(more)e(consisten)n(t)g(prop)r
(osal)g(is)i(to)g(remo)n(v)n(e)e(all)j(of)f(the)f(geometric)e(classes,)j
(including)149 2592 y Ft(point)k Fm(and)g Ft(rectangle)p Fm(.)149
2725 y(Again,)24 b(the)e(opp)r(osing)g(p)r(oin)n(t)g(of)i(view)f(b)r(eliev)n
(es)g(that)f(the)h(p)r(o)n(w)n(er)f(and)h(\015exibilit)n(y)i(of)e(the)f
(design-based)149 2791 y(dra)n(wing)h(mo)r(del)g(do)r(es)f(not)h(justify)h
(the)f(remo)n(v)m(al)g(of)h(an)n(y)g(of)g(these)f(classes.)41
b(One)23 b(coun)n(ter-prop)r(osal)e(is)149 2857 y(to)26 b(require)f(CLIM)h
(not)g(to)g(use)g(an)n(y)h(of)f(the)f(extended)g(region)g(classes)h(in)n
(ternally)-5 b(,)29 b(and)d(to)g(mo)n(v)n(e)g(the)149 2924
y(implemen)n(tation)12 b(of)j(the)g(extended)e(region)i(classes)f(to)h(a)h
(separately)d(loadable)i(mo)r(dule)e(\(via)j Ft(provide)g Fm(and)149
2990 y Ft(require)p Fm(\).)25 b(|)18 b(SWM,)h(Y)-5 b(ork)149
3212 y Fp(3.2.1)75 b(P)n(oin)n(ts)149 3380 y Fr(A)17 b Fm(p)r(oin)n(t)h
Fr(is)g(a)g(mathematical)c(p)r(oin)n(t)j(in)i(the)e(plane,)g(designated)f(b)n
(y)j(its)f(co)r(ordinates,)d(whic)n(h)j(are)f(a)h(pair)g(of)149
3447 y(real)j(n)n(um)n(b)r(ers)f(\(where)g(a)h(real)h(n)n(um)n(b)r(er)e(is)i
(de\014ned)e(as)i(either)e(an)h(in)n(teger,)h(a)g(ratio,)g(or)f(a)h
(\015oating)e(p)r(oin)n(t)p eop
%%Page: 20 35
bop 149 16 a Fm(CHAPTER)16 b(3.)43 b(REGIONS)1613 b Fr(20)747
1048 y(Figure)18 b(3.3:)24 b(The)18 b(class)g(structure)d(for)j(all)h
(regions.)149 1225 y(n)n(um)n(b)r(er\).)j(P)n(oin)n(ts)c(ha)n(v)n(e)h
(neither)e(area)g(nor)g(length)h(\(that)e(is,)j(they)f(ha)n(v)n(e)g
(dimensionalit)n(y)f(0\).)149 1358 y(Note)d(w)n(ell)i(that)e(a)h(p)r(oin)n(t)
g(is)h Fm(not)e Fr(a)h(pixel;)j(CLIM)c(mo)r(dels)g(a)h(dra)n(wing)g(plane)g
(with)g(con)n(tin)n(uous)f(co)r(ordinates.)149 1424 y(This)k(is)h(discussed)d
(in)j(more)e(detail)g(in)i(Chapter)d(12.)49 1557 y Fj(\))45
b Ft(point)1768 b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23 b(Class)5
b Fr(])149 1676 y(The)18 b(proto)r(col)f(class)h(that)f(corresp)r(onds)f(to)i
(a)h(mathematical)c(p)r(oin)n(t.)26 b(This)19 b(is)g(a)g(sub)r(class)e(of)i
Ft(region)g Fr(and)149 1742 y Ft(bounding-rectangle)p Fr(.)27
b(If)19 b(y)n(ou)g(w)n(an)n(t)g(to)f(create)f(a)h(new)h(class)f(that)f(b)r
(eha)n(v)n(es)h(lik)n(e)i(a)f(p)r(oin)n(t,)f(it)h(should)f(b)r(e)149
1809 y(a)g(sub)r(class)e(of)i Ft(point)p Fr(.)26 b(Sub)r(classes)16
b(of)i Ft(point)g Fr(m)n(ust)g(ob)r(ey)f(the)g(p)r(oin)n(t)h(proto)r(col.)49
1942 y Fj(\))45 b Ft(pointp)29 b Fs(obje)m(ct)1705 b Fr([)p
Fs(F)l(unction)t Fr(])149 2061 y(Returns)16 b Fm(true)h Fr(if)i
Fs(obje)m(ct)h Fr(is)f(a)f Fm(p)r(oin)n(t)p Fr(,)g(otherwise)f(returns)f
Fm(false)p Fr(.)49 2193 y Fj(\))45 b Ft(standard-point)1722
b Fr([)p Fs(Class)5 b Fr(])149 2312 y(An)15 b(instan)n(tiable)g(class)g(that)
g(implemen)n(ts)e(a)j(p)r(oin)n(t.)23 b(This)16 b(is)h(a)f(sub)r(class)e(of)i
Ft(point)p Fr(.)24 b(This)16 b(is)g(the)f(class)h(that)149
2379 y Ft(make-point)j Fr(instan)n(tiates.)k(Mem)n(b)r(ers)15
b(of)j(this)g(class)g(are)f(imm)n(utable.)49 2512 y Fj(\))45
b Ft(make-point)29 b Fs(x)20 b(y)1651 b Fr([)p Fs(F)l(unction)t
Fr(])149 2631 y(Returns)14 b(an)i(ob)s(ject)f(of)h(class)g
Ft(standard-point)h Fr(whose)f(co)r(ordinates)d(are)i Fs(x)i
Fr(and)e Fs(y)p Fr(.)25 b Fs(x)16 b Fr(and)g Fs(y)g Fr(m)n(ust)f(b)r(e)h
(real)149 2697 y(n)n(um)n(b)r(ers.)149 2907 y Fo(The)22 b(P)n(oin)n(t)g
(Proto)r(col)149 3076 y Fr(The)e(follo)n(wing)g(generic)f(functions)g
(comprise)f(the)i(p)r(oin)n(t)g(API.)g(Only)h Ft(point-position)g
Fr(is)g(in)g(the)e(p)r(oin)n(t)149 3142 y(proto)r(col,)h(that)f(is,)k(all)f
(classes)e(that)g(are)g(sub)r(classes)f(of)i Ft(point)g Fr(m)n(ust)f
(implemen)n(t)f(metho)r(ds)f(for)j Ft(point-)149 3209 y(position)p
Fr(,)e(but)e(need)h(not)f(implemen)n(t)f(metho)r(ds)f(for)j
Ft(point-x)h Fr(and)f Ft(point-y)p Fr(.)49 3342 y Fj(\))45
b Ft(point-position)30 b Fs(p)m(oint)1277 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 3461 y(Returns)16 b(b)r(oth)h(the)g
Fn(x)h Fr(and)g Fn(y)i Fr(co)r(ordinates)15 b(of)j(the)g(p)r(oin)n(t)f
Fs(p)m(oint)j Fr(as)e(t)n(w)n(o)g(v)m(alues.)p eop
%%Page: 21 36
bop 149 16 a Fm(CHAPTER)16 b(3.)43 b(REGIONS)1613 b Fr(21)49
210 y Fj(\))45 b Ft(point-x)29 b Fs(p)m(oint)1481 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])49 276 y Fj(\))45 b Ft(point-y)29
b Fs(p)m(oint)1481 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
395 y(Returns)13 b(the)h Fn(x)h Fr(or)f Fn(y)k Fr(co)r(ordinate)12
b(of)i(the)h Fm(p)r(oin)n(t)f Fs(p)m(oint)p Fr(,)j(resp)r(ectiv)n(ely)-5
b(.)23 b(CLIM)14 b(will)j(supply)e(default)e(metho)r(ds)149
461 y(for)19 b Ft(point-x)i Fr(and)e Ft(point-y)i Fr(on)e(the)g(proto)r(col)f
(class)i Ft(point)g Fr(that)f(are)g(implemen)n(ted)e(b)n(y)k(calling)f
Ft(point-)149 528 y(position)p Fr(.)149 749 y Fp(3.2.2)75 b(P)n(olygons)27
b(and)d(P)n(olylines)149 918 y Fr(A)f Fm(p)r(olyline)h Fr(is)h(a)e(path)g
(that)g(consists)f(of)i(one)f(or)h(more)e(line)i(segmen)n(ts)e(joined)h
(consecutiv)n(ely)g(at)g(their)149 984 y(end-p)r(oin)n(ts.)149
1117 y(P)n(olylines)g(that)e(ha)n(v)n(e)h(the)g(end-p)r(oin)n(t)f(of)h(their)
g(last)g(line)g(segmen)n(t)f(coinciden)n(t)g(with)h(the)f(start-p)r(oin)n(t)g
(of)149 1183 y(their)f(\014rst)g(line)h(segmen)n(t)e(are)h(called)h
Fm(closed)p Fr(;)h(this)f(use)f(of)h(the)f(term)f(\\closed")h(should)g(not)g
(b)r(e)g(confused)149 1250 y(with)e(closed)f(sets)g(of)h(p)r(oin)n(ts.)149
1383 y(A)g Fm(p)r(olygon)f Fr(is)h(an)g(area)f(b)r(ounded)f(b)n(y)j(a)f
(closed)g(p)r(olyline.)149 1516 y(If)23 b(the)f(b)r(oundary)f(of)i(a)g(p)r
(olygon)e(in)n(tersects)g(itself,)k(the)d(o)r(dd-ev)n(en)g(winding-rule)h
(de\014nes)e(the)h(p)r(olygon:)149 1582 y(a)h(p)r(oin)n(t)f(is)h(inside)g
(the)f(p)r(olygon)g(if)i(a)e(ra)n(y)i(from)d(the)h(p)r(oin)n(t)h(to)f
(in\014nit)n(y)i(crosses)d(the)h(b)r(oundary)f(an)h(o)r(dd)149
1648 y(n)n(um)n(b)r(er)16 b(of)i(times.)49 1781 y Fj(\))45
b Ft(polyline)1681 b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23 b(Class)5
b Fr(])149 1900 y(The)21 b(proto)r(col)e(class)j(that)e(corresp)r(onds)f(to)i
(a)g(p)r(olyline.)36 b(This)22 b(is)g(a)g(sub)r(class)e(of)h
Ft(path)p Fr(.)36 b(If)22 b(y)n(ou)g(w)n(an)n(t)g(to)149 1967
y(create)16 b(a)i(new)g(class)g(that)g(b)r(eha)n(v)n(es)f(lik)n(e)j(a)e(p)r
(olyline,)h(it)g(should)e(b)r(e)h(a)g(sub)r(class)f(of)i Ft(polyline)p
Fr(.)26 b(Sub)r(classes)149 2033 y(of)18 b Ft(polyline)h Fr(m)n(ust)e(ob)r
(ey)g(the)g(p)r(olyline)h(proto)r(col.)49 2166 y Fj(\))45 b
Ft(polylinep)29 b Fs(obje)m(ct)1618 b Fr([)p Fs(F)l(unction)t
Fr(])149 2285 y(Returns)16 b Fm(true)h Fr(if)i Fs(obje)m(ct)h
Fr(is)f(a)f Fm(p)r(olyline)p Fr(,)h(otherwise)d(returns)g Fm(false)p
Fr(.)49 2418 y Fj(\))45 b Ft(standard-polyline)1635 b Fr([)p
Fs(Class)5 b Fr(])149 2537 y(An)13 b(instan)n(tiable)f(class)h(that)f
(implemen)n(ts)g(a)h(p)r(olyline.)23 b(This)14 b(is)g(a)f(sub)r(class)f(of)i
Ft(polyline)p Fr(.)24 b(This)13 b(is)h(the)f(class)149 2603
y(that)k Ft(make-polyline)i Fr(and)e Ft(make-polyline*)j Fr(instan)n(tiate.)j
(Mem)n(b)r(ers)15 b(of)k(this)e(class)h(are)g(imm)n(utable.)49
2736 y Fj(\))45 b Ft(make-polyline)29 b Fs(p)m(oint-se)m(q)22
b Ft(&key)29 b Fs(close)m(d)1121 b Fr([)p Fs(F)l(unction)t
Fr(])49 2802 y Fj(\))45 b Ft(make-polyline*)30 b Fs(c)m(o)m(or)m(d-se)m(q)22
b Ft(&key)29 b Fs(close)m(d)1087 b Fr([)p Fs(F)l(unction)t
Fr(])149 2921 y(Returns)20 b(an)j(ob)s(ject)e(of)h(class)h
Ft(standard-polyline)g Fr(consisting)f(of)g(the)g(segmen)n(ts)e(connecting)h
(eac)n(h)h(of)149 2988 y(the)15 b(p)r(oin)n(ts)h(in)h Fs(p)m(oint-se)m(q)h
Fr(\(or)d(the)h(p)r(oin)n(ts)g(represen)n(ted)d(b)n(y)k(the)f(co)r(ordinate)d
(pairs)j(in)h Fs(c)m(o)m(or)m(d-se)m(q)p Fr(\).)26 b Fs(p)m(oint-se)m(q)149
3054 y Fr(is)17 b(a)g(sequence)e(of)i Fm(p)r(oin)n(ts)p Fr(;)g
Fs(c)m(o)m(or)m(d-se)m(q)j Fr(is)d(a)g(sequence)f(of)g(co)r(ordinate)f
(pairs,)i(whic)n(h)g(are)f(real)h(n)n(um)n(b)r(ers.)22 b(It)17
b(is)149 3121 y(an)h(error)e(if)j Fs(c)m(o)m(or)m(d-se)m(q)i
Fr(do)r(es)c(not)g(con)n(tain)h(an)g(ev)n(en)g(n)n(um)n(b)r(er)e(of)i(elemen)
n(ts.)149 3253 y(If)e Fs(close)m(d)i Fr(is)f Fm(true)p Fr(,)f(then)g(the)f
(segmen)n(t)g(connecting)f(the)h(\014rst)h(p)r(oin)n(t)f(and)h(the)g(last)g
(p)r(oin)n(t)g(is)h(included)e(in)i(the)149 3320 y(p)r(olyline.)24
b(The)18 b(default)f(for)h Fs(close)m(d)i Fr(is)e Fm(false)p
Fr(.)149 3453 y(This)i(function)g(is)h(p)r(ermitted)c(to)j(capture)e(its)j(m)
n(utable)e(inputs;)i(the)f(consequences)d(of)k(mo)r(difying)e(those)p
eop
%%Page: 22 37
bop 149 16 a Fm(CHAPTER)16 b(3.)43 b(REGIONS)1613 b Fr(22)149
210 y(ob)s(jects)16 b(are)i(unsp)r(eci\014ed.)49 342 y Fj(\))45
b Ft(polygon)1710 b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23 b(Class)5
b Fr(])149 461 y(The)19 b(proto)r(col)f(class)i(that)e(corresp)r(onds)f(to)i
(a)h(mathematical)d(p)r(olygon.)29 b(This)20 b(is)g(a)g(sub)r(class)f(of)h
Ft(area)p Fr(.)30 b(If)149 528 y(y)n(ou)18 b(w)n(an)n(t)h(to)f(create)e(a)i
(new)g(class)g(that)f(b)r(eha)n(v)n(es)g(lik)n(e)j(a)e(p)r(olygon,)g(it)g
(should)g(b)r(e)f(a)i(sub)r(class)d(of)i Ft(polygon)p Fr(.)149
594 y(Sub)r(classes)e(of)i Ft(polygon)h Fr(m)n(ust)e(ob)r(ey)g(the)g(p)r
(olygon)g(proto)r(col.)49 727 y Fj(\))45 b Ft(polygonp)29 b
Fs(obje)m(ct)1647 b Fr([)p Fs(F)l(unction)t Fr(])149 846 y(Returns)16
b Fm(true)h Fr(if)i Fs(obje)m(ct)h Fr(is)f(a)f Fm(p)r(olygon)p
Fr(,)g(otherwise)e(returns)g Fm(false)p Fr(.)49 979 y Fj(\))45
b Ft(standard-polygon)1664 b Fr([)p Fs(Class)5 b Fr(])149 1098
y(An)15 b(instan)n(tiable)f(class)h(that)f(implemen)n(ts)g(a)h(p)r(olygon.)23
b(This)15 b(is)h(a)g(sub)r(class)e(of)h Ft(polygon)p Fr(.)25
b(This)15 b(is)h(the)f(class)149 1164 y(that)i Ft(make-polygon)i
Fr(and)e Ft(make-polygon*)j Fr(instan)n(tiate.)j(Mem)n(b)r(ers)15
b(of)j(this)g(class)g(are)f(imm)n(utable.)49 1297 y Fj(\))45
b Ft(make-polygon)29 b Fs(p)m(oint-se)m(q)1457 b Fr([)p Fs(F)l(unction)t
Fr(])49 1364 y Fj(\))45 b Ft(make-polygon*)29 b Fs(c)m(o)m(or)m(d-se)m(q)1424
b Fr([)p Fs(F)l(unction)t Fr(])149 1483 y(Returns)16 b(an)i(ob)s(ject)f(of)h
(class)g Ft(standard-polygon)i Fr(consisting)d(of)h(the)g(area)f(con)n
(tained)g(in)i(the)e(b)r(oundary)149 1549 y(that)i(is)i(sp)r(eci\014ed)d(b)n
(y)j(the)f(segmen)n(ts)e(connecting)g(eac)n(h)i(of)g(the)g(p)r(oin)n(ts)g(in)
g Fs(p)m(oint-se)m(q)j Fr(\(or)c(the)h(p)r(oin)n(ts)g(rep-)149
1615 y(resen)n(ted)f(b)n(y)i(the)f(co)r(ordinate)e(pairs)j(in)g
Fs(c)m(o)m(or)m(d-se)m(q)p Fr(\).)35 b Fs(p)m(oint-se)m(q)23
b Fr(is)f(a)f(sequence)e(of)h Fm(p)r(oin)n(ts)p Fr(;)i Fs(c)m(o)m(or)m(d-se)m
(q)i Fr(is)e(a)149 1682 y(sequence)15 b(of)h(co)r(ordinate)e(pairs,)j(whic)n
(h)g(are)e(real)i(n)n(um)n(b)r(ers.)22 b(It)17 b(is)g(an)f(error)f(if)j
Fs(c)m(o)m(or)m(d-se)m(q)h Fr(do)r(es)d(not)f(con)n(tain)149
1748 y(an)j(ev)n(en)g(n)n(um)n(b)r(er)e(of)i(elemen)n(ts.)149
1881 y(This)i(function)g(is)h(p)r(ermitted)c(to)j(capture)e(its)j(m)n(utable)
e(inputs;)i(the)f(consequences)d(of)k(mo)r(difying)e(those)149
1948 y(ob)s(jects)d(are)i(unsp)r(eci\014ed.)149 2158 y Fo(The)k(P)n(olygon)f
(and)h(P)n(olyline)h(Proto)r(col)149 2326 y Fr(The)16 b(follo)n(wing)i
(generic)d(functions)g(comprise)g(the)h(p)r(olygon)g(and)g(p)r(olyline)h
(proto)r(col.)22 b(All)c(classes)e(that)f(are)149 2393 y(sub)r(classes)h(of)j
(either)e Ft(polygon)i Fr(or)g Ft(polyline)g Fr(m)n(ust)f(implemen)n(t)e
(metho)r(ds)g(for)i(these)f(generic)h(functions.)149 2459 y(Some)i(of)h(the)g
(functions)e(b)r(elo)n(w)j(tak)n(e)f(an)g(argumen)n(t)e(named)g
Fs(p)m(olygon-or-p)m(olyline)p Fr(;)28 b(this)21 b(argumen)n(t)e(ma)n(y)149
2526 y(b)r(e)e(either)g(a)h Fm(p)r(olygon)f Fr(or)h(a)g Fm(p)r(olyline)p
Fr(.)49 2658 y Fj(\))45 b Ft(polygon-points)30 b Fs(p)m(olygon-or-p)m
(olyline)946 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
2777 y(Returns)g(a)h(sequence)f(of)i(p)r(oin)n(ts)f(that)f(sp)r(ecify)h(the)g
(segmen)n(ts)e(in)j Fs(p)m(olygon-or-p)m(olyline)p Fr(.)45
b(This)24 b(function)149 2844 y(returns)16 b(ob)s(jects)g(that)h(rev)n(eal)h
(CLIM's)g(in)n(ternal)g(state;)f(do)h(not)f(mo)r(dify)g(those)g(ob)s(jects.)
49 2977 y Fj(\))45 b Ft(map-over-polygon-coordinates)30 b Fs(function)21
b(p)m(olygon-or-p)m(olyline)322 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 3096 y(Applies)g Fs(function)j Fr(to)e(all)h(of)f(the)g(co)r
(ordinates)d(of)j(the)g(v)n(ertices)f(of)h Fs(p)m(olygon-or-p)m(olyline)p
Fr(.)44 b Fs(function)25 b Fr(is)f(a)149 3162 y(function)16
b(of)j(t)n(w)n(o)f(argumen)n(ts,)e(the)h Fn(x)h Fr(and)g Fn(y)j
Fr(co)r(ordinates)15 b(of)j(the)f(v)n(ertex;)h(it)g(has)g(dynamic)f(exten)n
(t.)49 3295 y Fj(\))45 b Ft(map-over-polygon-segments)30 b
Fs(function)21 b(p)m(olygon-or-p)m(olyline)409 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 3414 y(Applies)14 b Fs(function)j
Fr(to)e(the)f(segmen)n(ts)f(that)h(comp)r(ose)e Fs(p)m(olygon-or-p)m(olyline)
p Fr(.)28 b Fs(function)16 b Fr(is)g(a)f(function)f(of)h(four)p
eop
%%Page: 23 38
bop 149 16 a Fm(CHAPTER)16 b(3.)43 b(REGIONS)1613 b Fr(23)149
210 y(argumen)n(ts,)16 b(the)h Fn(x)i Fr(and)f Fn(y)i Fr(co)r(ordinates)c(of)
i(the)g(start)e(of)j(the)e(segmen)n(t,)g(and)h(the)f Fn(x)i
Fr(and)e Fn(y)k Fr(co)r(ordinates)16 b(of)149 276 y(the)f(end)h(of)g(the)f
(segmen)n(t;)g(it)i(has)f(dynamic)f(exten)n(t.)23 b(When)15
b Ft(map-over-polygon-segments)j Fr(is)f(called)f(on)149 342
y(a)21 b(closed)f(p)r(olyline,)i(it)f(will)h(call)g Fs(function)g
Fr(on)e(the)h(segmen)n(t)d(that)i(connects)f(the)h(last)h(p)r(oin)n(t)f(bac)n
(k)h(to)f(the)149 409 y(\014rst)d(p)r(oin)n(t.)49 542 y Fj(\))45
b Ft(polyline-closed)30 b Fs(p)m(olyline)1186 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 661 y(Returns)f Fm(true)h Fr(if)h(the)f(p)r(olyline)
h Fs(p)m(olyline)i Fr(is)f(closed,)f(otherwise)f(returns)f
Fm(false)p Fr(.)39 b(This)23 b(function)e(need)h(b)r(e)149
727 y(implemen)n(ted)15 b(only)k(for)e Fm(p)r(olylines)p Fr(,)i(not)e(for)h
Fm(p)r(olygons)p Fr(.)149 948 y Fp(3.2.3)75 b(Lines)149 1117
y Fr(A)18 b(line)g(is)h(a)f(p)r(olyline)g(consisting)f(of)h(a)g(single)g
(segmen)n(t.)49 1250 y Fj(\))45 b Ft(line)1797 b Fr([)p Fs(Pr)m(oto)m(c)m(ol)
23 b(Class)5 b Fr(])149 1369 y(The)14 b(proto)r(col)f(class)i(that)f(corresp)
r(onds)d(to)k(a)g(mathematical)c(line)16 b(segmen)n(t,)e(that)g(is,)i(a)f(p)r
(olyline)g(with)g(only)149 1435 y(a)h(single)h(segmen)n(t.)22
b(This)16 b(is)h(a)g(sub)r(class)e(of)h Ft(polyline)p Fr(.)25
b(If)17 b(y)n(ou)f(w)n(an)n(t)h(to)f(create)e(a)j(new)f(class)g(that)f(b)r
(eha)n(v)n(es)149 1502 y(lik)n(e)k(a)f(line,)h(it)g(should)e(b)r(e)g(a)i(sub)
r(class)d(of)i Ft(line)p Fr(.)25 b(Sub)r(classes)16 b(of)i
Ft(line)h Fr(m)n(ust)e(ob)r(ey)h(the)f(line)h(proto)r(col.)49
1635 y Fj(\))45 b Ft(linep)29 b Fs(obje)m(ct)1734 b Fr([)p
Fs(F)l(unction)t Fr(])149 1754 y(Returns)16 b Fm(true)h Fr(if)i
Fs(obje)m(ct)h Fr(is)f(a)f Fm(line)p Fr(,)h(otherwise)e(returns)f
Fm(false)p Fr(.)49 1886 y Fj(\))45 b Ft(standard-line)1751
b Fr([)p Fs(Class)5 b Fr(])149 2005 y(An)21 b(instan)n(tiable)f(class)h(that)
g(implemen)n(ts)e(a)j(line)g(segmen)n(t.)32 b(This)22 b(is)g(a)g(sub)r(class)
e(of)h Ft(line)p Fr(.)36 b(This)21 b(is)h(the)149 2072 y(class)17
b(that)g Ft(make-line)i Fr(and)f Ft(make-line*)h Fr(instan)n(tiate.)k(Mem)n
(b)r(ers)16 b(of)i(this)g(class)g(are)f(imm)n(utable.)49 2205
y Fj(\))45 b Ft(make-line)29 b Fs(start-p)m(oint)22 b(end-p)m(oint)1259
b Fr([)p Fs(F)l(unction)t Fr(])49 2271 y Fj(\))45 b Ft(make-line*)29
b Fs(start-x)21 b(start-y)f(end-x)g(end-y)1089 b Fr([)p Fs(F)l(unction)t
Fr(])149 2390 y(Returns)12 b(an)j(ob)s(ject)e(of)h(class)g
Ft(standard-line)i Fr(that)d(connects)f(the)i(t)n(w)n(o)h Fm(p)r(oin)n(ts)e
Fs(start-p)m(oint)k Fr(and)d Fs(end-p)m(oint)149 2456 y Fr(\(or)j(the)g(p)r
(ositions)g(\()p Fs(start-x)p Fr(,)p Fs(start-y)p Fr(\))i(and)f(\()p
Fs(end-x)p Fr(,)p Fs(end-y)p Fr(\)\).)149 2589 y(This)i(function)g(is)h(p)r
(ermitted)c(to)j(capture)e(its)j(m)n(utable)e(inputs;)i(the)f(consequences)d
(of)k(mo)r(difying)e(those)149 2656 y(ob)s(jects)d(are)i(unsp)r(eci\014ed.)
149 2866 y Fo(The)k(Line)g(Proto)r(col)149 3035 y Fr(The)13
b(follo)n(wing)i(generic)d(functions)h(comprise)e(the)i(line)i(API.)f(Only)g
Ft(line-start-point*)h Fr(and)f Ft(line-end-)149 3101 y(point*)20
b Fr(are)f(in)g(the)g(line)h(proto)r(col,)e(that)g(is,)j(all)f(classes)e
(that)h(are)f(sub)r(classes)g(of)h Ft(line)h Fr(m)n(ust)f(implemen)n(t)149
3167 y(metho)r(ds)e(for)j Ft(line-start-point*)h Fr(and)f Ft(line-end-point*)
p Fr(,)i(but)e(need)f(not)g(implemen)n(t)g(metho)r(ds)e(for)149
3234 y Ft(line-start-point)i Fr(and)f Ft(line-end-point)p Fr(.)49
3367 y Fj(\))45 b Ft(line-start-point*)30 b Fs(line)1222 b
Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49 3433 y Fj(\))45
b Ft(line-end-point*)30 b Fs(line)1280 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])p eop
%%Page: 24 39
bop 149 16 a Fm(CHAPTER)16 b(3.)43 b(REGIONS)1613 b Fr(24)149
210 y(Returns)10 b(the)h(starting)g(or)g(ending)h(p)r(oin)n(t,)h(resp)r
(ectiv)n(ely)-5 b(,)13 b(of)f(the)f Fm(line)h Fs(line)h Fr(as)f(t)n(w)n(o)h
(real)f(n)n(um)n(b)r(ers)e(represen)n(ting)149 276 y(the)17
b(co)r(ordinates)e(of)j(the)f(p)r(oin)n(t.)49 409 y Fj(\))45
b Ft(line-start-point)30 b Fs(line)1251 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])49 475 y Fj(\))45 b Ft(line-end-point)30
b Fs(line)1309 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
594 y(Returns)16 b(the)h(starting)g(or)h(ending)f(p)r(oin)n(t)g(of)i(the)e
Fm(line)h Fs(line)p Fr(,)i(resp)r(ectiv)n(ely)-5 b(.)149 727
y(CLIM)16 b(will)i(supply)f(default)e(metho)r(ds)f(for)i Ft(line-start-point)
i Fr(and)e Ft(line-end-point)i Fr(on)e(the)g(proto)r(col)149
793 y(class)h Ft(line)i Fr(that)e(are)g(implemen)n(ted)f(b)n(y)j(calling)f
Ft(line-start-point*)h Fr(and)f Ft(line-end-point*)p Fr(.)149
1015 y Fp(3.2.4)75 b(Rectangles)149 1183 y Fr(Rectangles)13
b(whose)i(edges)g(are)g(parallel)h(to)f(the)g(co)r(ordinate)e(axes)i(are)g(a)
h(sp)r(ecial)f(case)g(of)h(p)r(olygon)f(that)f(can)149 1250
y(b)r(e)19 b(sp)r(eci\014ed)g(completely)g(b)n(y)i(four)f(real)g(n)n(um)n(b)r
(ers)f(\()p Fs(x1)p Fr(,)p Fs(y1)p Fr(,)p Fs(x2)p Fr(,)p Fs(y2)p
Fr(\).)32 b(They)20 b(are)g Fm(not)g Fr(closed)g(under)f(general)149
1316 y(a\016ne)e(transformations)d(\(although)j(they)g(are)g(closed)h(under)f
(rectilinear)f(transformations\).)49 1449 y Fj(\))45 b Ft(rectangle)1652
b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23 b(Class)5 b Fr(])149 1568
y(The)19 b(proto)r(col)e(class)i(that)f(corresp)r(onds)e(to)j(a)h
(mathematica)o(l)c(rectangle,)i(that)g(is,)j(rectangular)c(p)r(olygons)149
1635 y(whose)i(sides)i(are)f(parallel)g(to)g(the)g(co)r(ordinate)e(axes.)31
b(This)21 b(is)g(a)g(sub)r(class)e(of)i Ft(polygon)p Fr(.)32
b(If)21 b(y)n(ou)g(w)n(an)n(t)g(to)149 1701 y(create)12 b(a)j(new)f(class)h
(that)e(b)r(eha)n(v)n(es)h(lik)n(e)i(a)f(rectangle,)e(it)i(should)f(b)r(e)g
(a)h(sub)r(class)e(of)h Ft(rectangle)p Fr(.)25 b(Sub)r(classes)149
1767 y(of)18 b Ft(rectangle)h Fr(m)n(ust)e(ob)r(ey)g(the)g(rectangle)f(proto)
r(col.)49 1900 y Fj(\))45 b Ft(rectanglep)29 b Fs(obje)m(ct)1589
b Fr([)p Fs(F)l(unction)t Fr(])149 2019 y(Returns)16 b Fm(true)h
Fr(if)i Fs(obje)m(ct)h Fr(is)f(a)f Fm(rectangle)p Fr(,)e(otherwise)h(returns)
f Fm(false)p Fr(.)49 2152 y Fj(\))45 b Ft(standard-rectangle)1606
b Fr([)p Fs(Class)5 b Fr(])149 2271 y(An)14 b(instan)n(tiable)f(class)h(that)
f(implemen)n(ts)f(an)j(axis-aligned)f(rectangle.)21 b(This)15
b(is)g(a)f(sub)r(class)f(of)h Ft(rectangle)p Fr(.)149 2337
y(This)i(is)h(the)e(class)h(that)f Ft(make-rectangle)i Fr(and)f
Ft(make-rectangle*)h Fr(instan)n(tiate.)22 b(Mem)n(b)r(ers)14
b(of)i(this)g(class)149 2404 y(are)h(imm)n(utable.)49 2537
y Fj(\))45 b Ft(make-rectangle)30 b Fs(p)m(oint1)21 b(p)m(oint2)1292
b Fr([)p Fs(F)l(unction)t Fr(])49 2603 y Fj(\))45 b Ft(make-rectangle*)30
b Fs(x1)19 b(y1)h(x2)g(y2)1301 b Fr([)p Fs(F)l(unction)t Fr(])149
2722 y(Returns)13 b(an)j(ob)s(ject)e(of)h(class)g Ft(standard-rectangle)i
Fr(whose)e(edges)f(are)h(parallel)g(to)g(the)g(co)r(ordinate)e(axes.)149
2789 y(One)i(corner)f(is)i(at)f(the)f Fm(p)r(oin)n(t)h Fs(p)m(oint1)j
Fr(\(or)c(the)h(p)r(osition)f(\()p Fs(x1)p Fr(,)p Fs(y1)p Fr(\)\))h(and)g
(the)g(opp)r(osite)f(corner)f(is)j(at)f(the)g Fm(p)r(oin)n(t)149
2855 y Fs(p)m(oint2)k Fr(\(or)f(the)f(p)r(osition)f(\()p Fs(x2)p
Fr(,)p Fs(y2)p Fr(\)\).)24 b(There)17 b(are)g(no)h(ordering)e(constrain)n(ts)
g(among)g Fs(p)m(oint1)k Fr(and)e Fs(p)m(oint2)h Fr(\(or)149
2921 y Fs(x1)f Fr(and)g Fs(x2)p Fr(,)h(and)e Fs(y1)i Fr(and)e
Fs(y2)p Fr(\).)149 3054 y(Most)c(CLIM)h(implemen)n(tations)d(will)k(c)n(ho)r
(ose)e(to)h(represen)n(t)e(rectangles)g(in)i(the)g(most)e(e\016cien)n(t)i(w)n
(a)n(y)-5 b(,)17 b(suc)n(h)d(as)149 3121 y(b)n(y)k(storing)d(the)i(co)r
(ordinates)d(of)j(t)n(w)n(o)g(opp)r(osing)f(corners)f(of)i(the)f(rectangle.)
22 b(Because)16 b(this)h(represen)n(tation)149 3187 y(is)e(not)e(su\016cien)n
(t)h(to)g(represen)n(t)e(the)h(result)g(of)i(arbitrary)e(transformation)o(s)e
(of)j(arbitrary)f(rectangles,)g(CLIM)149 3253 y(is)k(allo)n(w)n(ed)g(to)g
(return)e(a)i(p)r(olygon)f(as)g(the)g(result)g(of)h(suc)n(h)f(a)h
(transformation.)j(\(The)c(most)g(general)f(class)i(of)149
3320 y(transformations)c(that)j(is)h(guaran)n(teed)e(to)h(alw)n(a)n(ys)i
(turn)e(a)h(rectangle)e(in)n(to)i(another)e(rectangle)g(is)j(the)e(class)149
3386 y(of)i(transformations)c(that)j(satisfy)h Ft
(rectilinear-transformation-p)p Fr(.\))p eop
%%Page: 25 40
bop 149 16 a Fm(CHAPTER)16 b(3.)43 b(REGIONS)1613 b Fr(25)149
210 y(This)20 b(function)g(is)h(p)r(ermitted)c(to)j(capture)e(its)j(m)n
(utable)e(inputs;)i(the)f(consequences)d(of)k(mo)r(difying)e(those)149
276 y(ob)s(jects)d(are)i(unsp)r(eci\014ed.)149 486 y Fo(The)k(Rectangle)g
(Proto)r(col)149 655 y Fr(The)d(follo)n(wing)i(generic)d(functions)h
(comprise)f(the)h(rectangle)f(API.)i(Only)g Ft(rectangle-edges*)h
Fr(is)g(in)f(the)149 721 y(rectangle)13 b(proto)r(col,)h(that)g(is,)j(all)f
(classes)f(that)f(are)h(sub)r(classes)e(of)i Ft(rectangle)i
Fr(m)n(ust)d(implemen)n(t)f(metho)r(ds)149 788 y(for)k Ft(rectangle-edges*)p
Fr(,)j(but)e(need)f(not)g(implemen)n(t)f(metho)r(ds)g(for)h(the)h(remaining)e
(functions.)49 921 y Fj(\))45 b Ft(rectangle-edges*)30 b Fs(r)m(e)m(ctangle)
1130 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1040 y(Returns)11
b(the)i(co)r(ordinates)d(of)k(the)e(minim)n(um)g Fn(x)i Fr(and)f
Fn(y)j Fr(and)d(maxim)n(um)e Fn(x)j Fr(and)f Fn(y)i Fr(of)f(the)e(rectangle)g
Fs(r)m(e)m(ctangle)149 1106 y Fr(as)18 b(four)f(v)m(alues,)h
Fs(min-x)p Fr(,)h Fs(min-y)p Fr(,)g Fs(max-x)p Fr(,)f(and)g
Fs(max-y)p Fr(.)49 1239 y Fj(\))45 b Ft(rectangle-min-point)30
b Fs(r)m(e)m(ctangle)1043 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])49 1305 y Fj(\))45 b Ft(rectangle-max-point)30 b Fs(r)m(e)m(ctangle)1043
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1424 y(Returns)16
b(the)h(min)h(p)r(oin)n(t)g(and)f(max)h(p)r(oin)n(t)f(of)h(the)g
Fm(rectangle)e Fs(r)m(e)m(ctangle)p Fr(,)22 b(resp)r(ectiv)n(ely)-5
b(.)24 b(The)18 b(p)r(osition)e(of)j(a)149 1491 y(rectangle)d(is)i(sp)r
(eci\014ed)f(b)n(y)h(its)h(min)e(p)r(oin)n(t.)149 1623 y(CLIM)d(will)j
(supply)d(default)g(metho)r(ds)e(for)j Ft(rectangle-min-point)h
Fr(and)e Ft(rectangle-max-point)j Fr(on)d(the)149 1690 y(proto)r(col)i(class)
h Ft(rectangle)i Fr(that)e(are)h(implemen)n(ted)d(b)n(y)k(calling)f
Ft(rectangle-edges*)p Fr(.)49 1823 y Fj(\))45 b Ft(rectangle-min-x)30
b Fs(r)m(e)m(ctangle)1159 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])49 1889 y Fj(\))45 b Ft(rectangle-min-y)30 b Fs(r)m(e)m(ctangle)1159
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49 1956 y Fj(\))45
b Ft(rectangle-max-x)30 b Fs(r)m(e)m(ctangle)1159 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])49 2022 y Fj(\))45 b Ft(rectangle-max-y)30
b Fs(r)m(e)m(ctangle)1159 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 2141 y(Returns)d(\(resp)r(ectiv)n(ely\))g(the)i(minim)n(um)f
Fn(x)h Fr(and)g Fn(y)j Fr(co)r(ordinate)18 b(and)j(maxim)n(um)f
Fn(x)h Fr(and)g Fn(y)j Fr(co)r(ordinate)19 b(of)149 2207 y(the)e
Fm(rectangle)f Fs(r)m(e)m(ctangle)p Fr(.)149 2340 y(CLIM)11
b(will)j(supply)e(default)f(metho)r(ds)e(for)i(these)g(four)g(generic)g
(functions)f(on)i(the)f(proto)r(col)f(class)h Ft(rectangle)149
2407 y Fr(that)17 b(are)g(implemen)n(ted)e(b)n(y)k(calling)g
Ft(rectangle-edges*)p Fr(.)49 2539 y Fj(\))45 b Ft(rectangle-width)30
b Fs(r)m(e)m(ctangle)1159 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])49 2606 y Fj(\))45 b Ft(rectangle-height)30 b Fs(r)m(e)m(ctangle)1130
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49 2672 y Fj(\))45
b Ft(rectangle-size)30 b Fs(r)m(e)m(ctangle)1188 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 2791 y Ft(rectangle-width)13 b Fr(returns)d(the)i
(width)g(of)g(the)f Fm(rectangle)f Fs(r)m(e)m(ctangle)p Fr(,)17
b(whic)n(h)c(is)g(the)e(di\013erence)g(b)r(et)n(w)n(een)f(the)149
2858 y(maxim)n(um)16 b Fn(x)j Fr(and)f(its)g(minim)n(um)f Fn(x)p
Fr(.)26 b Ft(rectangle-height)20 b Fr(returns)c(the)i(heigh)n(t,)h(whic)n(h)f
(is)h(the)f(di\013erence)149 2924 y(b)r(et)n(w)n(een)i(the)h(maxim)n(um)f
Fn(y)25 b Fr(and)c(its)h(minim)n(um)f Fn(y)r Fr(.)36 b Ft(rectangle-size)23
b Fr(returns)d(t)n(w)n(o)j(v)m(alues,)g(the)e(width)149 2991
y(and)c(the)h(heigh)n(t.)149 3123 y(CLIM)11 b(will)j(supply)e(default)f
(metho)r(ds)e(for)i(these)g(four)g(generic)g(functions)f(on)i(the)f(proto)r
(col)f(class)h Ft(rectangle)149 3190 y Fr(that)17 b(are)g(implemen)n(ted)e(b)
n(y)k(calling)g Ft(rectangle-edges*)p Fr(.)p eop
%%Page: 26 41
bop 149 16 a Fm(CHAPTER)16 b(3.)43 b(REGIONS)1613 b Fr(26)602
848 y(Figure)17 b(3.4:)25 b(Di\013eren)n(t)18 b(v)n(ectors)f(ma)n(y)h(sp)r
(ecify)f(the)g(same)g(ellipse.)149 1025 y Fp(3.2.5)75 b(Ellipses)28
b(and)c(Elliptical)29 b(Arcs)149 1193 y Fr(An)21 b Fm(ellipse)h
Fr(is)h(an)e(area)g(that)g(is)h(the)f(outline)h(and)f(in)n(terior)g(of)h(an)g
(ellipse.)36 b(Circles)22 b(are)f(sp)r(ecial)g(cases)g(of)149
1260 y(ellipses.)149 1393 y(An)c Fm(elliptical)g(arc)g Fr(is)g(a)h(path)e
(consisting)g(of)h(all)h(or)f(a)g(p)r(ortion)f(of)h(the)f(outline)h(of)g(an)g
(ellipse.)25 b(Circular)16 b(arcs)149 1459 y(are)h(sp)r(ecial)g(cases)g(of)h
(elliptical)h(arcs.)149 1592 y(An)f(ellipse)i(is)f(sp)r(eci\014ed)e(in)j(a)f
(manner)e(that)h(is)h(easy)g(to)g(transform,)d(and)j(treats)e(all)j(ellipses)
f(on)g(an)g(equal)149 1658 y(basis.)50 b(An)26 b(ellipse)h(is)h(sp)r
(eci\014ed)c(b)n(y)k(its)f(cen)n(ter)e(p)r(oin)n(t)h(and)g(t)n(w)n(o)h(v)n
(ectors)f(that)g(describ)r(e)e(a)j(b)r(ounding)149 1725 y(parallelogram)13
b(of)j(the)f(ellipse.)24 b(The)15 b(b)r(ounding)f(parallelogram)g(is)i(made)e
(b)n(y)j(adding)e(and)g(subtracting)e(the)149 1791 y(v)n(ectors)k(from)g(the)
g(the)g(cen)n(ter)g(p)r(oin)n(t)g(in)i(the)e(follo)n(wing)i(manner:)p
149 1876 1511 3 v 148 1943 3 67 v 818 1943 V 881 1923 a Fn(x)f
Fm(co)r(ordinate)114 b Fn(y)20 b Fm(co)r(ordinate)p 1658 1943
V 149 1945 1511 3 v 148 2011 3 67 v 282 1991 a Fr(Cen)n(ter)d(of)h(Ellipse)p
818 2011 V 320 w Fn(x)1038 1999 y Fh(c)1428 1991 y Fn(y)1455
1999 y Fh(c)p 1658 2011 V 149 2013 1511 3 v 148 2080 3 67 v
395 2060 a Fr(V)-5 b(ectors)p 818 2080 V 414 w Fn(dx)1051 2068
y Fg(1)1412 2060 y Fn(dy)1468 2068 y Fg(1)p 1658 2080 V 148
2146 V 818 2146 V 990 2126 a Fn(dx)1051 2134 y Fg(2)1412 2126
y Fn(dy)1468 2134 y Fg(2)p 1658 2146 V 149 2148 1511 3 v 148
2215 3 67 v 182 2195 a Fr(Corners)17 b(of)h(P)n(arallelogram)p
818 2215 V 64 w Fn(x)885 2203 y Fh(c)919 2195 y Fr(+)13 b Fn(dx)1036
2203 y Fg(1)1072 2195 y Fr(+)f Fn(dx)1188 2203 y Fg(2)1279
2195 y Fn(y)1306 2203 y Fh(c)1341 2195 y Fr(+)g Fn(dy)1452
2203 y Fg(1)1490 2195 y Fr(+)g Fn(dy)1601 2203 y Fg(2)p 1658
2215 V 148 2281 V 818 2281 V 853 2261 a Fn(x)885 2269 y Fh(c)919
2261 y Fr(+)h Fn(dx)1036 2269 y Fg(1)1072 2261 y Fj(\000)f
Fn(dx)1188 2269 y Fg(2)1279 2261 y Fn(y)1306 2269 y Fh(c)1341
2261 y Fr(+)g Fn(dy)1452 2269 y Fg(1)1490 2261 y Fj(\000)g
Fn(dy)1601 2269 y Fg(2)p 1658 2281 V 148 2348 V 818 2348 V
853 2328 a Fn(x)885 2336 y Fh(c)919 2328 y Fj(\000)h Fn(dx)1036
2336 y Fg(1)1072 2328 y Fj(\000)f Fn(dx)1188 2336 y Fg(2)1279
2328 y Fn(y)1306 2336 y Fh(c)1341 2328 y Fj(\000)g Fn(dy)1452
2336 y Fg(1)1490 2328 y Fj(\000)g Fn(dy)1601 2336 y Fg(2)p
1658 2348 V 148 2414 V 818 2414 V 853 2394 a Fn(x)885 2402
y Fh(c)919 2394 y Fj(\000)h Fn(dx)1036 2402 y Fg(1)1072 2394
y Fr(+)f Fn(dx)1188 2402 y Fg(2)1279 2394 y Fn(y)1306 2402
y Fh(c)1341 2394 y Fj(\000)g Fn(dy)1452 2402 y Fg(1)1490 2394
y Fr(+)g Fn(dy)1601 2402 y Fg(2)p 1658 2414 V 149 2416 1511
3 v 149 2527 a Fr(Note)17 b(that)h(sev)n(eral)g(di\013eren)n(t)g
(parallelograms)e(sp)r(ecify)i(the)g(same)f(ellipse.)27 b(One)18
b(parallelogram)f(is)i(b)r(ound)149 2593 y(to)24 b(b)r(e)g(a)g(rectangle|the)
e(v)n(ectors)i(will)i(b)r(e)e(p)r(erp)r(endicular)d(and)j(corresp)r(ond)e(to)
i(the)g(semi-axes)g(of)g(the)149 2660 y(ellipse.)149 2792 y(The)17
b(sp)r(ecial)g(case)g(of)h(an)g(ellipse)g(with)g(its)g(axes)g(aligned)g(with)
g(the)f(co)r(ordinate)e(axes)j(can)f(b)r(e)g(obtained)g(b)n(y)149
2859 y(setting)f Fn(dx)391 2867 y Fg(2)431 2859 y Fr(=)f Fn(dy)545
2867 y Fg(1)586 2859 y Fr(=)g(0)j(or)g Fn(dx)819 2867 y Fg(1)859
2859 y Fr(=)d Fn(dy)973 2867 y Fg(2)1013 2859 y Fr(=)h(0.)49
2992 y Fj(\))45 b Ft(ellipse)1710 b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23
b(Class)5 b Fr(])149 3111 y(The)22 b(proto)r(col)e(class)h(that)g(corresp)r
(onds)e(to)j(a)g(mathematical)d(ellipse.)37 b(This)22 b(is)h(a)f(sub)r(class)
f(of)h Ft(area)p Fr(.)37 b(If)149 3177 y(y)n(ou)19 b(w)n(an)n(t)g(to)f
(create)f(a)i(new)g(class)f(that)g(b)r(eha)n(v)n(es)g(lik)n(e)i(an)f
(ellipse,)h(it)f(should)f(b)r(e)g(a)h(sub)r(class)f(of)g Ft(ellipse)p
Fr(.)149 3243 y(Sub)r(classes)e(of)i Ft(ellipse)h Fr(m)n(ust)e(ob)r(ey)g(the)
g(ellipse)i(proto)r(col.)49 3376 y Fj(\))45 b Ft(ellipsep)29
b Fs(obje)m(ct)1647 b Fr([)p Fs(F)l(unction)t Fr(])p eop
%%Page: 27 42
bop 149 16 a Fm(CHAPTER)16 b(3.)43 b(REGIONS)1613 b Fr(27)149
210 y(Returns)16 b Fm(true)h Fr(if)i Fs(obje)m(ct)h Fr(is)f(an)f
Fm(ellipse)p Fr(,)h(otherwise)d(returns)g Fm(false)p Fr(.)49
342 y Fj(\))45 b Ft(standard-ellipse)1664 b Fr([)p Fs(Class)5
b Fr(])149 461 y(An)16 b(instan)n(tiable)f(class)h(that)f(implemen)n(ts)f(an)
i(ellipse.)24 b(This)16 b(is)h(a)g(sub)r(class)d(of)i Ft(ellipse)p
Fr(.)25 b(This)17 b(is)f(the)g(class)149 528 y(that)h Ft(make-ellipse)i
Fr(and)e Ft(make-ellipse*)j Fr(instan)n(tiate.)j(Mem)n(b)r(ers)15
b(of)j(this)g(class)g(are)f(imm)n(utable.)49 661 y Fj(\))45
b Ft(make-ellipse)29 b Fs(c)m(enter-p)m(oint)18 b(r)m(adius-1-dx)c(r)m
(adius-1-dy)h(r)m(adius-2-dx)f(r)m(adius-2-dy)h Ft(&key)29
b Fs(start-angle)17 b(end-)149 727 y(angle)1920 b Fr([)p Fs(F)l(unction)t
Fr(])49 793 y Fj(\))45 b Ft(make-ellipse*)29 b Fs(c)m(enter-x)h(c)m(enter-y)g
(r)m(adius-1-dx)e(r)m(adius-1-dy)g(r)m(adius-2-dx)g(r)m(adius-2-dy)g
Ft(&key)h Fs(start-)149 860 y(angle)21 b(end-angle)1690 b Fr([)p
Fs(F)l(unction)t Fr(])149 1059 y(Returns)17 b(an)j(ob)s(ject)e(of)h(class)g
Ft(standard-ellipse)p Fr(.)31 b(The)19 b(cen)n(ter)f(of)i(the)e(ellipse)i(is)
g(at)f(the)g Fm(p)r(oin)n(t)g Fs(c)m(enter-)149 1126 y(p)m(oint)g
Fr(\(or)f(the)f(p)r(osition)g(\()p Fs(c)m(enter-x)p Fr(,)p
Fs(c)m(enter-y)p Fr(\)\).)149 1258 y(Tw)n(o)k(v)n(ectors,)g(\()p
Fs(r)m(adius-1-dx)p Fr(,)p Fs(r)m(adius-1-dy)p Fr(\))g(and)g(\()p
Fs(r)m(adius-2-dx)p Fr(,)p Fs(r)m(adius-2-dy)p Fr(\))g(sp)r(ecify)f(the)g(b)r
(ounding)g(par-)149 1325 y(allelogram)15 b(of)h(the)g(ellipse)h(as)f
(explained)g(ab)r(o)n(v)n(e.)24 b(All)17 b(of)f(the)g(radii)h(are)f(real)g(n)
n(um)n(b)r(ers.)22 b(If)17 b(the)f(t)n(w)n(o)h(v)n(ectors)149
1391 y(are)k(collinear,)h(the)f(ellipse)i(is)f(not)f(w)n(ell-de\014ned)h(and)
f(the)g Ft(ellipse-not-well-defined)j Fr(error)c(will)j(b)r(e)149
1458 y(signalled.)33 b(The)21 b(sp)r(ecial)f(case)g(of)h(an)g(ellipse)g(with)
g(its)g(axes)g(aligned)g(with)g(the)f(co)r(ordinate)e(axes)j(can)f(b)r(e)149
1524 y(obtained)c(b)n(y)j(setting)e(b)r(oth)g Fs(r)m(adius-1-dy)h
Fr(and)g Fs(r)m(adius-2-dx)h Fr(to)e(0.)149 1657 y(If)23 b
Fs(start-angle)i Fr(or)d Fs(end-angle)j Fr(are)d(supplied,)i(the)e(ellipse)h
(is)g(the)f(\\pie)g(slice")g(area)g(sw)n(ept)g(out)g(b)n(y)h(a)g(line)149
1723 y(from)e(the)h(cen)n(ter)g(of)g(the)g(ellipse)h(to)g(a)g(p)r(oin)n(t)f
(on)g(the)h(b)r(oundary)d(as)j(the)f(b)r(oundary)f(p)r(oin)n(t)h(mo)n(v)n(es)
h(from)149 1790 y(the)d(angle)g Fs(start-angle)k Fr(to)c Fs(end-angle)p
Fr(.)36 b(Angles)20 b(are)g(measured)f(coun)n(ter-clo)r(c)n(kwise)g(with)h
(resp)r(ect)f(to)h(the)149 1856 y(p)r(ositiv)n(e)c Fn(x)g Fr(axis.)25
b(If)16 b Fs(end-angle)j Fr(is)e(supplied,)g(the)f(default)f(for)h
Fs(start-angle)j Fr(is)e(0;)h(if)f Fs(start-angle)i Fr(is)e(supplied,)149
1923 y(the)22 b(default)g(for)h Fs(end-angle)j Fr(is)e(2)p
Fn(\031)r Fr(;)i(if)d(neither)f(is)i(supplied)f(then)f(the)h(region)f(is)i(a)
f(full)h(ellipse)g(and)e(the)149 1989 y(angles)17 b(are)g(meaningless.)149
2122 y(This)j(function)g(is)h(p)r(ermitted)c(to)j(capture)e(its)j(m)n(utable)
e(inputs;)i(the)f(consequences)d(of)k(mo)r(difying)e(those)149
2188 y(ob)s(jects)d(are)i(unsp)r(eci\014ed.)49 2321 y Fj(\))45
b Ft(elliptical-arc)1507 b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23 b(Class)5
b Fr(])149 2440 y(The)17 b(proto)r(col)e(class)i(that)f(corresp)r(onds)e(to)j
(a)g(mathematical)d(elliptical)j(arc.)24 b(This)17 b(is)h(a)g(sub)r(class)d
(of)j Ft(path)p Fr(.)149 2507 y(If)i(y)n(ou)h(w)n(an)n(t)g(to)f(create)e(a)j
(new)f(class)g(that)f(b)r(eha)n(v)n(es)h(lik)n(e)i(an)e(elliptical)h(arc,)g
(it)g(should)e(b)r(e)h(a)h(sub)r(class)e(of)149 2573 y Ft(elliptical-arc)p
Fr(.)25 b(Sub)r(classes)16 b(of)i Ft(elliptical-arc)i Fr(m)n(ust)d(ob)r(ey)g
(the)g(elliptical)i(arc)e(proto)r(col.)49 2706 y Fj(\))45 b
Ft(elliptical-arc-p)30 b Fs(obje)m(ct)1414 b Fr([)p Fs(F)l(unction)t
Fr(])149 2825 y(Returns)16 b Fm(true)h Fr(if)i Fs(obje)m(ct)h
Fr(is)f(an)f Fm(elliptical)g(arc)p Fr(,)g(otherwise)f(returns)f
Fm(false)p Fr(.)49 2958 y Fj(\))45 b Ft(standard-elliptical-arc)1461
b Fr([)p Fs(Class)5 b Fr(])149 3077 y(An)20 b(instan)n(tiable)f(class)h(that)
f(implemen)n(ts)f(an)i(elliptical)g(arc.)31 b(This)20 b(is)h(a)f(sub)r(class)
f(of)h Ft(elliptical-arc)p Fr(.)149 3143 y(This)d(is)g(the)e(class)i(that)e
Ft(make-elliptical-arc)j Fr(and)e Ft(make-elliptical-arc*)i
Fr(instan)n(tiate.)23 b(Mem)n(b)r(ers)149 3209 y(of)18 b(this)g(class)f(are)h
(imm)n(utable.)49 3342 y Fj(\))45 b Ft(make-elliptical-arc)30
b Fs(c)m(enter-p)m(oint)21 b(r)m(adius-1-dx)e(r)m(adius-1-dy)f(r)m
(adius-2-dx)h(r)m(adius-2-dy)f Ft(&key)29 b Fs(start-)149 3409
y(angle)21 b(end-angle)1672 b Fr([)p Fs(F)l(unction)t Fr(])p
eop
%%Page: 28 43
bop 149 16 a Fm(CHAPTER)16 b(3.)43 b(REGIONS)1613 b Fr(28)49
210 y Fj(\))45 b Ft(make-elliptical-arc*)30 b Fs(c)m(enter-x)22
b(c)m(enter-y)h(r)m(adius-1-dx)d(r)m(adius-1-dy)h(r)m(adius-2-dx)g(r)m
(adius-2-dy)g Ft(&key)149 276 y Fs(start-angle)h(end-angle)1541
b Fr([)p Fs(F)l(unction)t Fr(])149 395 y(Returns)16 b(an)j(ob)s(ject)e(of)h
(class)g Ft(standard-elliptical-arc)p Fr(.)27 b(The)19 b(cen)n(ter)e(of)h
(the)g(ellipse)g(is)h(at)f(the)g Fm(p)r(oin)n(t)149 461 y Fs(c)m(enter-p)m
(oint)k Fr(\(or)17 b(the)g(p)r(osition)g(\()p Fs(c)m(enter-x)p
Fr(,)p Fs(c)m(enter-y)p Fr(\)\).)149 594 y(Tw)n(o)i(v)n(ectors,)g(\()p
Fs(r)m(adius-1-dx)p Fr(,)p Fs(r)m(adius-1-dy)p Fr(\))g(and)g(\()p
Fs(r)m(adius-2-dx)p Fr(,)p Fs(r)m(adius-2-dy)p Fr(\),)h(sp)r(ecify)e(the)g(b)
r(ounding)g(par-)149 661 y(allelogram)d(of)h(the)g(ellipse)h(as)f(explained)g
(ab)r(o)n(v)n(e.)24 b(All)17 b(of)f(the)g(radii)h(are)f(real)g(n)n(um)n(b)r
(ers.)22 b(If)17 b(the)f(t)n(w)n(o)h(v)n(ectors)149 727 y(are)k(collinear,)h
(the)f(ellipse)i(is)f(not)f(w)n(ell-de\014ned)h(and)f(the)g
Ft(ellipse-not-well-defined)j Fr(error)c(will)j(b)r(e)149 793
y(signalled.)h(The)16 b(sp)r(ecial)g(case)f(of)i(an)f(elliptical)i(arc)d
(with)i(its)g(axes)f(aligned)g(with)h(the)f(co)r(ordinate)e(axes)i(can)149
860 y(b)r(e)h(obtained)g(b)n(y)h(setting)f(b)r(oth)g Fs(r)m(adius-1-dy)i
Fr(and)e Fs(r)m(adius-2-dx)i Fr(to)f(0.)149 993 y(If)e Fs(start-angle)i
Fr(and)e Fs(start-angle)i Fr(are)d(supplied,)i(the)e(arc)g(is)h(sw)n(ept)g
(from)e Fs(start-angle)19 b Fr(to)c Fs(end-angle)p Fr(.)26
b(Angles)149 1059 y(are)17 b(measured)e(coun)n(ter-clo)r(c)n(kwise)g(with)j
(resp)r(ect)d(to)i(the)g(p)r(ositiv)n(e)g Fn(x)h Fr(axis.)25
b(If)17 b Fs(end-angle)k Fr(is)d(supplied,)f(the)149 1126 y(default)f(for)i
Fs(start-angle)i Fr(is)e(0;)h(if)f Fs(start-angle)i Fr(is)e(supplied,)g(the)f
(default)g(for)g Fs(end-angle)j Fr(is)f(2)p Fn(\031)r Fr(;)e(if)i(neither)d
(is)149 1192 y(supplied)h(then)g(the)h(region)f(is)i(a)f(closed)f(elliptical)
h(path)g(and)f(the)h(angles)f(are)g(meaningless.)149 1325 y(This)j(function)g
(is)h(p)r(ermitted)c(to)j(capture)e(its)j(m)n(utable)e(inputs;)i(the)f
(consequences)d(of)k(mo)r(difying)e(those)149 1391 y(ob)s(jects)d(are)i(unsp)
r(eci\014ed.)149 1602 y Fo(The)k(Ellipse)h(and)f(Elliptical)j(Arc)d(Proto)r
(col)149 1770 y Fr(The)14 b(follo)n(wing)h(functions)e(apply)i(to)f(b)r(oth)g
(ellipses)g(and)h(elliptical)g(arcs.)22 b(In)15 b(all)g(cases,)g(the)f(name)f
Fs(el)s(liptic)m(al-)149 1837 y(obje)m(ct)22 b Fr(means)d(that)f(the)i
(argumen)n(t)d(ma)n(y)j(b)r(e)f(an)h Fm(ellipse)g Fr(or)g(an)f
Fm(elliptical)i(arc)p Fr(.)29 b(These)19 b(generic)g(functions)149
1903 y(comprise)d(the)i(ellipse)h(proto)r(col.)24 b(All)c(classes)d(that)h
(are)g(sub)r(classes)f(of)h(either)g Ft(ellipse)h Fr(or)g Ft(elliptical-)149
1969 y(arc)f Fr(m)n(ust)f(implemen)n(t)g(metho)r(ds)e(for)j(these)e
(functions.)49 2102 y Fj(\))45 b Ft(ellipse-center-point*)30
b Fs(el)s(liptic)m(al-obje)m(ct)838 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 2221 y(Returns)16 b(the)h(cen)n(ter)g(p)r(oin)n(t)h
(of)g Fs(el)s(liptic)m(al-obje)m(ct)k Fr(as)c(t)n(w)n(o)h(v)m(alues)f
(represen)n(ting)d(the)j(co)r(ordinate)d(pair.)49 2354 y Fj(\))45
b Ft(ellipse-center-point)30 b Fs(el)s(liptic)m(al-obje)m(ct)867
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2473 y(Returns)16
b(the)h(cen)n(ter)g(p)r(oin)n(t)h(of)g Fs(el)s(liptic)m(al-obje)m(ct)p
Fr(.)149 2606 y Ft(ellipse-center-point)k Fr(is)g(part)e(of)h(the)f(ellipse)i
(API,)f(but)f(not)h(part)f(of)h(the)f(ellipse)h(proto)r(col.)32
b(CLIM)149 2672 y(will)25 b(supply)e(default)f(metho)r(ds)f(for)i
Ft(ellipse-center-point)i Fr(on)e(the)f(proto)r(col)f(classes)i
Ft(ellipse)h Fr(and)149 2739 y Ft(elliptical-arc)19 b Fr(that)e(are)g
(implemen)n(ted)f(b)n(y)j(calling)f Ft(ellipse-center-point*)p
Fr(.)49 2872 y Fj(\))45 b Ft(ellipse-radii)29 b Fs(el)s(liptic)m(al-obje)m
(ct)1071 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2991
y(Returns)17 b(four)i(v)m(alues)f(corresp)r(onding)e(to)j(the)f(t)n(w)n(o)i
(radius)e(v)n(ectors)g(of)h Fs(el)s(liptic)m(al-ar)m(c)p Fr(.)32
b(These)18 b(v)m(alues)h(ma)n(y)149 3057 y(b)r(e)13 b(canonicalized)f(in)i
(some)f(w)n(a)n(y)-5 b(,)16 b(and)e(so)g(ma)n(y)f(not)g(b)r(e)h(the)f(same)f
(as)i(the)f(v)m(alues)h(passed)e(to)i(the)f(constructor)149
3123 y(function.)49 3256 y Fj(\))45 b Ft(ellipse-start-angle)30
b Fs(el)s(liptic)m(al-obje)m(ct)896 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 3375 y(Returns)16 b(the)h(start)g(angle)g(of)h
Fs(el)s(liptic)m(al-obje)m(ct)p Fr(.)29 b(If)18 b Fs(el)s(liptic)m(al-obje)m
(ct)23 b Fr(is)c(a)f(full)g(ellipse)h(or)e(closed)h(path)f(then)149
3442 y Ft(ellipse-start-angle)24 b Fr(will)g(return)e Ft(nil)p
Fr(;)k(otherwise)21 b(the)h(v)m(alue)h(will)i(b)r(e)d(a)h(n)n(um)n(b)r(er)e
(greater)g(than)h(or)p eop
%%Page: 29 44
bop 149 16 a Fm(CHAPTER)16 b(3.)43 b(REGIONS)1613 b Fr(29)149
210 y(equal)18 b(to)f(zero,)h(and)f(less)h(than)g(2)p Fn(\031)r
Fr(.)49 342 y Fj(\))45 b Ft(ellipse-end-angle)30 b Fs(el)s(liptic)m(al-obje)m
(ct)954 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 461
y(Returns)c(the)g(end)i(angle)f(of)g Fs(el)s(liptic)m(al-obje)m(ct)q
Fr(.)33 b(If)20 b Fs(el)s(liptic)m(al-obje)m(ct)k Fr(is)d(a)e(full)i(ellipse)
f(or)f(closed)g(path)g(then)149 528 y Ft(ellipse-end-angle)k
Fr(will)h(return)d Ft(nil)p Fr(;)26 b(otherwise)21 b(the)g(v)m(alue)i(will)g
(b)r(e)f(a)h(n)n(um)n(b)r(er)e(greater)f(than)h(zero,)149 594
y(and)c(less)h(than)g(or)f(equal)h(to)g(2)p Fn(\031)r Fr(.)p
eop
%%Page: 30 45
bop 149 691 a Fl(Chapter)46 b(4)149 1034 y Fq(Bounding)52 b(Rectangles)149
1422 y Fk(4.1)91 b(Bounding)30 b(Rectangles)149 1609 y Fr(Ev)n(ery)22
b(b)r(ounded)f(region)h(has)g(a)g(deriv)n(ed)h Fm(b)r(ounding)d(rectangle)p
Fr(,)i(whic)n(h)h(is)g(a)g(rectangular)d(region)h(whose)149
1676 y(sides)h(are)f(parallel)h(to)f(the)h(co)r(ordinate)d(axes.)36
b(Therefore,)22 b(ev)n(ery)g(b)r(ounded)e(region)h(participates)f(in)i(the)
149 1742 y(b)r(ounding)16 b(rectangle)f(proto)r(col.)23 b(The)17
b(b)r(ounding)f(rectangle)g(for)h(a)h(region)f(is)h(the)f(smallest)f
(rectangle)g(that)149 1809 y(con)n(tains)22 b(ev)n(ery)i(p)r(oin)n(t)g(in)g
(the)f(region.)41 b(Ho)n(w)n(ev)n(er,)25 b(the)e(b)r(ounding)f(rectangle)g
(ma)n(y)h(con)n(tain)g(additional)149 1875 y(p)r(oin)n(ts)f(as)h(w)n(ell.)41
b(Un)n(b)r(ounded)21 b(regions)h(do)h(not)g(ha)n(v)n(e)h(a)f(b)r(ounding)e
(rectangle)g(and)i(do)g(not)g(participate)149 1941 y(in)f(the)f(b)r(ounding)g
(rectangle)f(proto)r(col.)34 b(Other)21 b(ob)s(jects)f(b)r(esides)h(b)r
(ounded)f(regions)h(participate)f(in)i(the)149 2008 y(b)r(ounding)16
b(rectangle)g(proto)r(col,)g(suc)n(h)i(as)g(sheets)f(and)g(output)g(records.)
149 2141 y(The)i(co)r(ordinate)d(system)i(in)i(whic)n(h)g(the)e(b)r(ounding)g
(rectangle)g(is)h(main)n(tained)f(dep)r(ends)g(on)h(the)f(con)n(text.)149
2207 y(F)-5 b(or)20 b(example,)h(the)e(co)r(ordinates)f(of)i(the)g(b)r
(ounding)f(rectangle)f(of)j(a)f(sheet)f(are)h(expressed)f(in)i(the)f(sheet's)
149 2274 y(paren)n(t's)f(co)r(ordinate)e(system.)30 b(F)-5
b(or)20 b(output)f(records,)g(the)h(co)r(ordinates)d(of)j(the)g(b)r(ounding)e
(rectangle)g(are)149 2340 y(main)n(tained)e(in)j(the)e(co)r(ordinate)e
(system)i(of)h(the)f(stream)f(with)i(whic)n(h)h(the)e(output)f(record)h(is)h
(asso)r(ciated.)149 2473 y(Note)c(that)g(the)g(b)r(ounding)g(rectangle)f(of)i
(a)g(transformed)d(region)i(is)i(not)f(in)h(general)e(the)g(same)g(as)h(the)f
(result)149 2539 y(of)23 b(transforming)d(the)j(b)r(ounding)e(rectangle)g(of)
j(a)f(region,)h(as)f(sho)n(wn)g(in)h(Figure)f(4.1.)40 b(F)-5
b(or)23 b(transforma-)149 2606 y(tions)c(that)g(satisfy)h Ft
(rectilinear-transformation-p)p Fr(,)j(the)d(follo)n(wing)g(equalit)n(y)h
(holds.)31 b(F)-5 b(or)20 b(all)h(other)149 2672 y(transformations)o(,)15
b(it)k(do)r(es)d(not)i(hold.)149 2860 y Ft(\(region-equal)207
2927 y(\(transform-region)30 b(transformation)g(\(bounding-rectangle)g
(region\)\))207 2993 y(\(bounding-rectangle)g(\(transform-region)g
(transformation)g(region\)\)\))149 3181 y Fr(CLIM)20 b(uses)f(b)r(ounding)g
(rectangles)f(for)i(a)g(v)m(ariet)n(y)h(of)f(purp)r(oses.)29
b(F)-5 b(or)21 b(example,)f(repain)n(ting)f(of)h(windo)n(ws)149
3248 y(is)i(driv)n(en)f(from)f(the)h(b)r(ounding)f(rectangle)f(of)i(the)g
(windo)n(w's)g(viewp)r(ort,)h(in)n(tersected)d(with)i(a)g(\\damage")149
3314 y(region.)j(The)19 b(formatting)c(engines)j(used)f(b)n(y)j
Ft(formatting-table)f Fr(and)f Ft(formatting-graph)i Fr(op)r(erate)c(on)149
3380 y(the)h(b)r(ounding)f(rectangles)f(of)j(the)f(output)f(records)g(in)i
(the)f(output.)23 b(Bounding)17 b(rectangles)f(are)h(also)g(used)149
3447 y(in)n(ternally)g(b)n(y)g(CLIM)f(to)h(ac)n(hiev)n(e)g(greater)d
(e\016ciency)-5 b(.)24 b(F)-5 b(or)17 b(instance,)f(when)g(p)r(erforming)e
(hit)j(detection)d(to)1276 3632 y(30)p eop
%%Page: 31 46
bop 149 16 a Fm(CHAPTER)16 b(4.)43 b(BOUNDING)18 b(RECT)-5
b(ANGLES)1155 b Fr(31)619 1048 y(Figure)18 b(4.1:)25 b(The)17
b(b)r(ounding)g(rectangle)f(of)i(an)g(output)e(record.)149
1225 y(see)f(if)i(the)e(p)r(oin)n(ter)g(is)i(within)f(the)f(region)h(of)g(an)
g(output)e(record,)h(CLIM)h(\014rst)f(c)n(hec)n(ks)h(to)g(see)g(if)g(the)g(p)
r(oin)n(ter)149 1291 y(is)i(within)h(the)e(b)r(ounding)f(rectangle)g(of)i
(the)g(output)e(record.)149 1424 y(Note)i(that)h(the)g(b)r(ounding)f
(rectangle)g(for)h(an)g(output)g(record)f(ma)n(y)h(ha)n(v)n(e)i(a)e
(di\013eren)n(t)h(size)f(dep)r(ending)f(on)149 1490 y(the)k(medium)g(on)h
(whic)n(h)g(the)g(output)f(record)f(is)j(rendered.)38 b(Consider)22
b(the)h(case)f(of)i(rendering)d(text)i(on)149 1557 y(di\013eren)n(t)15
b(output)g(devices;)i(the)e(fon)n(t)h(c)n(hosen)g(for)g(a)g(particular)f
(text)h(st)n(yle)g(ma)n(y)h(v)m(ary)f(considerably)f(in)i(size)149
1623 y(from)g(one)g(device)h(to)f(another.)49 1756 y Fj(\))45
b Ft(bounding-rectangle)1391 b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23
b(Class)5 b Fr(])149 1875 y(The)18 b(proto)r(col)e(class)i(that)f(represen)n
(ts)e(a)k(b)r(ounding)d(rectangle.)23 b(If)c(y)n(ou)f(w)n(an)n(t)h(to)e
(create)g(a)h(new)g(class)g(that)149 1942 y(b)r(eha)n(v)n(es)g(lik)n(e)i(a)g
(b)r(ounding)d(rectangle,)h(it)h(should)g(b)r(e)f(a)h(sub)r(class)f(of)h
Ft(bounding-rectangle)p Fr(.)29 b(Sub)r(classes)149 2008 y(of)18
b Ft(bounding-rectangle)h Fr(m)n(ust)e(ob)r(ey)h(the)f(b)r(ounding)f
(rectangle)g(proto)r(col.)149 2141 y(Note)h(that)g(b)r(ounding)g(rectangles)f
(are)h(not)h(a)h(sub)r(class)e(of)h Ft(rectangle)p Fr(,)i(nor)d(ev)n(en)i(a)f
(sub)r(class)f(of)h Ft(region)p Fr(.)149 2207 y(This)23 b(is)i(b)r(ecause,)e
(in)h(general,)f(b)r(ounding)f(rectangles)g(do)h(not)g(ob)r(ey)f(the)h
(region)g(proto)r(cols.)38 b(Ho)n(w)n(ev)n(er,)149 2274 y(all)27
b(b)r(ounded)d(regions)h(and)g(sheets)g(that)g(ob)r(ey)g(the)g(b)r(ounding)f
(rectangle)g(proto)r(col)g(are)i(sub)r(classes)e(of)149 2340
y Ft(bounding-rectangle)p Fr(.)149 2473 y(Bounding)16 b(rectangles)e(are)j
(imm)n(utable,)e(but)i(since)f(they)g(re\015ect)f(the)i(liv)n(e)h(state)d(of)
i(suc)n(h)g(m)n(utable)e(ob)s(jects)149 2539 y(as)21 b(sheets)g(and)g(output)
f(records,)i(b)r(ounding)e(rectangles)f(are)i(v)n(olatile.)37
b(Therefore,)21 b(programmer)o(s)e(m)n(ust)149 2606 y(not)e(dep)r(end)f(on)i
(the)f(b)r(ounding)g(rectangle)f(asso)r(ciated)f(with)j(a)h(m)n(utable)d(ob)s
(ject)h(remaining)f(constan)n(t.)49 2739 y Fj(\))45 b Ft
(bounding-rectangle-p)30 b Fs(obje)m(ct)1298 b Fr([)p Fs(F)l(unction)t
Fr(])149 2858 y(Returns)12 b Fm(true)h Fr(if)h Fs(obje)m(ct)i
Fr(is)f(a)f Fm(b)r(ounding)e(rectangle)g Fr(\(that)g(is,)j(supp)r(orts)d(the)
h(b)r(ounding)f(rectangle)g(proto)r(col\),)149 2924 y(otherwise)k(returns)g
Fm(false)p Fr(.)49 3057 y Fj(\))45 b Ft(standard-bounding-rectangle)1345
b Fr([)p Fs(Class)5 b Fr(])149 3176 y(An)12 b(instan)n(tiable)g(class)g(that)
g(implemen)n(ts)e(a)j(b)r(ounding)e(rectangle.)21 b(This)13
b(is)g(a)g(sub)r(class)e(of)h(b)r(oth)g Ft(bounding-)149 3242
y(rectangle)19 b Fr(and)e Ft(rectangle)p Fr(,)j(that)d(is,)i(standard)d(b)r
(ounding)g(rectangles)g(ob)r(ey)h(the)g(rectangle)f(proto)r(col.)149
3375 y Ft(make-bounding-rectangle)j Fr(returns)e(an)h(ob)s(ject)e(of)i(this)g
(class.)p eop
%%Page: 32 47
bop 149 16 a Fm(CHAPTER)16 b(4.)43 b(BOUNDING)18 b(RECT)-5
b(ANGLES)1155 b Fr(32)149 210 y(The)14 b(represen)n(tation)e(of)i(b)r
(ounding)f(rectangles)g(in)i(CLIM)f(is)i(c)n(hosen)e(to)g(b)r(e)g(e\016cien)n
(t.)23 b(CLIM)14 b(will)i(probably)149 276 y(represen)n(t)k(suc)n(h)h
(rectangles)f(b)n(y)j(storing)e(the)g(co)r(ordinates)f(of)i(t)n(w)n(o)g(opp)r
(osing)f(corners)f(of)i(the)f(rectangle,)149 342 y(namely)-5
b(,)26 b(the)e(\\min)h(p)r(oin)n(t")f(and)g(the)h(\\max)f(p)r(oin)n(t".)44
b(Because)24 b(this)h(represen)n(tation)c(is)26 b(not)e(su\016cien)n(t)149
409 y(to)g(represen)n(t)f(the)h(result)h(of)g(arbitrary)e(transformations)e
(of)k(arbitrary)f(rectangles,)h(CLIM)f(is)i(allo)n(w)n(ed)149
475 y(to)21 b(return)g(a)h(p)r(olygon)f(as)h(the)f(result)g(of)h(suc)n(h)g(a)
g(transformation)o(.)33 b(\(The)21 b(most)g(general)g(class)g(of)h(trans-)149
542 y(formations)c(that)i(is)i(guaran)n(teed)d(to)h(alw)n(a)n(ys)i(turn)e(a)i
(rectangle)d(in)n(to)i(another)e(rectangle)g(is)j(the)e(class)h(of)149
608 y(transformations)14 b(that)j(satisfy)h Ft(rectilinear-transformation-p)p
Fr(.\))49 741 y Fj(\))45 b Ft(make-bounding-rectangle)30 b
Fs(x1)20 b(y1)g(x2)g(y2)1068 b Fr([)p Fs(F)l(unction)t Fr(])149
860 y(Returns)18 b(an)i(ob)s(ject)f(of)h(the)f(class)h Ft
(standard-bounding-rectangle)i Fr(with)e(the)g(edges)f(sp)r(eci\014ed)f(b)n
(y)j Fs(x1)p Fr(,)149 926 y Fs(y1)p Fr(,)e Fs(x2)p Fr(,)f(and)g
Fs(y2)p Fr(,)h(whic)n(h)f(m)n(ust)g(b)r(e)f(real)h(n)n(um)n(b)r(ers.)149
1059 y Fs(x1)p Fr(,)h Fs(y1)p Fr(,)h Fs(x2)p Fr(,)f(and)f Fs(y2)i
Fr(are)d(\\canonicalized")g(in)i(the)f(follo)n(wing)h(w)n(a)n(y)-5
b(.)27 b(The)19 b(min)f(p)r(oin)n(t)g(of)h(the)e(rectangle)g(has)149
1126 y(an)f Fn(x)h Fr(co)r(ordinate)d(that)h(is)j(the)e(smaller)f(of)i
Fs(x1)g Fr(and)f Fs(x2)h Fr(and)g(a)f Fn(y)k Fr(co)r(ordinate)14
b(that)h(is)i(the)f(smaller)g(of)h Fs(y1)g Fr(and)149 1192
y Fs(y2)p Fr(.)27 b(The)18 b(max)g(p)r(oin)n(t)g(of)h(the)f(rectangle)f(has)h
(an)h Fn(x)f Fr(co)r(ordinate)e(that)i(is)h(the)f(larger)g(of)h
Fs(x1)g Fr(and)f Fs(x2)h Fr(and)f(a)h Fn(y)149 1258 y Fr(co)r(ordinate)d
(that)h(is)i(the)f(larger)g(of)h Fs(y1)g Fr(and)f Fs(y2)p Fr(.)27
b(\(Therefore,)17 b(in)i(a)g(righ)n(t-handed)e(co)r(ordinate)f(system)h(the)
149 1325 y(canonicalized)e(v)m(alues)h(of)h Fs(x1)p Fr(,)h
Fs(y1)p Fr(,)g Fs(x2)p Fr(,)g(and)f Fs(y2)g Fr(corresp)r(ond)d(to)i(the)h
(left,)g(top,)g(righ)n(t,)g(and)g(b)r(ottom)d(edges)i(of)149
1391 y(the)h(rectangle,)f(resp)r(ectiv)n(ely)-5 b(.\))149 1524
y(This)18 b(function)f(returns)f(fresh)h(ob)s(jects)g(that)g(ma)n(y)h(b)r(e)f
(mo)r(di\014ed.)149 1745 y Fp(4.1.1)75 b(The)24 b(Bounding)h(Rectangle)h
(Proto)r(col)149 1914 y Fr(The)18 b(follo)n(wing)h(generic)e(function)g
(comprises)f(the)i(b)r(ounding)e(rectangle)h(proto)r(col.)23
b(All)c(classes)e(that)h(par-)149 1980 y(ticipate)24 b(in)i(this)g(proto)r
(col)d(\(including)i(all)i(sub)r(classes)c(of)j Ft(region)g
Fr(that)f(are)g(b)r(ounded)e(regions\))i(m)n(ust)149 2047 y(implemen)n(t)16
b(a)i(metho)r(d)d(for)j Ft(bounding-rectangle*)p Fr(.)49 2180
y Fj(\))45 b Ft(bounding-rectangle*)30 b Fs(r)m(e)m(gion)1108
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2299 y(Returns)13
b(the)g(b)r(ounding)g(rectangle)g(of)h Fs(r)m(e)m(gion)j Fr(as)e(four)f(real)
g(n)n(um)n(b)r(ers)f(sp)r(ecifying)h(the)g Fn(x)g Fr(and)g
Fn(y)k Fr(co)r(ordinates)149 2365 y(of)g(the)g(min)g(p)r(oin)n(t)g(and)g(the)
g Fn(x)h Fr(and)f Fn(y)j Fr(co)r(ordinates)15 b(of)k(the)f(max)g(p)r(oin)n(t)
g(of)g(the)g(rectangle.)24 b(The)18 b(argumen)n(t)149 2432
y Fs(r)m(e)m(gion)j Fr(m)n(ust)e(b)r(e)f(either)g(a)h(b)r(ounded)f(region)g
(\(suc)n(h)g(as)h(a)h(line)f(or)g(an)g(ellipse\))g(or)g(some)f(other)g(ob)s
(ject)g(that)149 2498 y(ob)r(eys)f(the)g(b)r(ounding)g(rectangle)e(proto)r
(col,)i(suc)n(h)h(as)g(a)g(sheet)e(or)i(an)g(output)f(record.)149
2631 y(The)g(four)h(returned)e(v)m(alues)i Fs(min-x)p Fr(,)g
Fs(min-y)p Fr(,)h Fs(max-x)p Fr(,)g(and)e Fs(max-y)i Fr(will)g(satisfy)f(the)
f(inequalities)1074 2753 y Fn(minx)e Fj(\024)h Fn(maxx)1079
2836 y(miny)i Fj(\024)d Fn(maxy)49 3107 y Fj(\))45 b Ft(bounding-rectangle)30
b Fs(r)m(e)m(gion)1137 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 3226 y(Returns)13 b(the)i(b)r(ounding)e(rectangle)g(of)i
Fs(r)m(e)m(gion)j Fr(as)d(an)g(ob)s(ject)e(that)h(is)i(a)f(sub)r(class)f(of)h
Ft(rectangle)h Fr(\(describ)r(ed)149 3292 y(in)21 b(Section)e(3.2.4\).)33
b(The)20 b(argumen)n(t)f Fs(r)m(e)m(gion)k Fr(m)n(ust)d(b)r(e)g(either)g(a)h
(b)r(ounded)d(region)i(\(suc)n(h)g(as)h(a)g(line)g(or)g(an)149
3359 y(ellipse\))d(or)h(some)e(other)h(ob)s(ject)f(that)h(ob)r(eys)g(the)g(b)
r(ounding)f(rectangle)g(proto)r(col,)g(suc)n(h)i(as)g(a)g(sheet)e(or)i(an)149
3425 y(output)d(record.)p eop
%%Page: 33 48
bop 149 16 a Fm(CHAPTER)16 b(4.)43 b(BOUNDING)18 b(RECT)-5
b(ANGLES)1155 b Fr(33)149 210 y(It)18 b(is)h(unsp)r(eci\014ed)c(whether)i
Ft(bounding-rectangle)j Fr(will)f(or)f(will)i(not)d(create)g(a)h(new)g(ob)s
(ject)e(eac)n(h)i(time)f(it)149 276 y(is)h(called.)24 b(Man)n(y)17
b(CLIM)g(implemen)n(tations)d(will)19 b(cac)n(he)d(the)h(b)r(ounding)f
(rectangle)f(for)i(sheets)e(and)i(output)149 342 y(records.)38
b(The)23 b(implication)f(of)h(this)g(is)h(that,)g(since)e(b)r(ounding)g
(rectangles)f(are)h(v)n(olatile,)k(programmer)o(s)149 409 y(should)17
b(dep)r(end)f(on)i(the)g(ob)s(ject)e(returned)g(b)n(y)j Ft
(bounding-rectangle)g Fr(remaining)e(constan)n(t.)149 542 y
Ft(bounding-rectangle)28 b Fr(is)g(part)e(of)g(the)h(b)r(ounding)e(rectangle)
g(API,)i(but)f(not)g(part)g(of)h(the)f(b)r(ounding)149 608
y(rectangle)12 b(proto)r(col.)21 b(CLIM)14 b(will)i(supply)f(a)f(default)f
(metho)r(d)f(for)i Ft(bounding-rectangle)i Fr(on)e(the)g(proto)r(col)149
674 y(class)j Ft(bounding-rectangle)j Fr(that)d(is)i(implemen)n(ted)c(b)n(y)k
(calling)f Ft(bounding-rectangle*)p Fr(.)149 896 y Fp(4.1.2)75
b(Bounding)25 b(Rectangle)h(Con)n(v)n(enience)f(F)-6 b(unctions)149
1064 y Fr(The)19 b(functions)e(describ)r(ed)g(b)r(elo)n(w)i(are)g(part)f(of)h
(the)g(b)r(ounding)e(rectangle)g(API,)i(but)g(are)f(not)h(part)f(of)h(the)149
1131 y(b)r(ounding)e(rectangle)g(proto)r(col.)25 b(They)19
b(are)f(pro)n(vided)h(as)g(a)g(con)n(v)n(enience)f(to)g(programmers)d(who)k
(wish)g(to)149 1197 y(sp)r(ecialize)c(classes)h(that)g(participate)f(in)i
(the)f(b)r(ounding)g(rectangle)e(proto)r(col,)i(but)g(do)h(not)f(complicate)e
(the)149 1264 y(task)i(of)g(those)g(programmer)o(s)d(who)j(de\014ne)f(their)h
(o)n(wn)h(t)n(yp)r(es)f(\(suc)n(h)g(as)g(sheet)f(classes\))g(that)h
(participate)e(in)149 1330 y(this)k(proto)r(col.)149 1463 y(CLIM)29
b(will)i(supply)f(default)e(metho)r(ds)f(for)i(all)i(of)e(these)g(generic)f
(functions)g(on)i(the)e(proto)r(col)g(class)149 1529 y Ft(bounding-rectangle)
19 b Fr(that)e(are)g(implemen)n(ted)f(b)n(y)j(calling)f Ft
(bounding-rectangle*)p Fr(.)49 1662 y Fj(\))45 b Ft(with-bounding-rectangle*)
30 b Fs(\(min-x)19 b(min-y)h(max-x)g(max-y\))f(r)m(e)m(gion)j
Ft(&body)29 b Fs(b)m(o)m(dy)243 b Fr([)p Fs(Macr)m(o)s Fr(])149
1781 y(Binds)23 b Fs(min-x)p Fr(,)h Fs(min-y)p Fr(,)h Fs(max-x)p
Fr(,)f(and)e Fs(max-y)h Fr(to)g(the)f(edges)f(of)i(the)f(b)r(ounding)f
(rectangle)g(of)h Fs(r)m(e)m(gion)p Fr(,)27 b(and)149 1848
y(then)15 b(executes)g Fs(b)m(o)m(dy)j Fr(in)f(that)f(con)n(text.)22
b(The)17 b(argumen)n(t)d Fs(r)m(e)m(gion)19 b Fr(m)n(ust)c(b)r(e)h(either)g
(a)g(b)r(ounded)f(region)g(\(suc)n(h)149 1914 y(as)i(a)g(line)g(or)g(an)g
(ellipse\))g(or)f(some)g(other)g(ob)s(ject)f(that)h(ob)r(eys)g(the)g(b)r
(ounding)g(rectangle)e(proto)r(col,)i(suc)n(h)h(as)149 1980
y(a)h(sheet)f(or)g(an)h(output)f(record.)149 2113 y(The)g(argumen)n(ts)e
Fs(min-x)p Fr(,)k Fs(min-y)p Fr(,)f Fs(max-x)p Fr(,)g(and)g
Fs(max-y)g Fr(are)f(not)g(ev)m(aluated.)23 b Fs(b)m(o)m(dy)c
Fr(ma)n(y)f(ha)n(v)n(e)g(zero)f(or)g(more)149 2180 y(declarations)f(as)i(its)
g(\014rst)f(forms.)149 2313 y Ft(with-bounding-rectangle*)j
Fr(m)n(ust)d(b)r(e)g(implemen)n(ted)e(b)n(y)k(calling)g Ft
(bounding-rectangle*)p Fr(.)49 2445 y Fj(\))45 b Ft
(bounding-rectangle-position)30 b Fs(r)m(e)m(gion)876 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 2564 y(Returns)17 b(the)g(p)r(osition)
h(of)g(the)g(b)r(ounding)f(rectangle)g(of)h Fs(r)m(e)m(gion)p
Fr(.)29 b(The)18 b(p)r(osition)g(of)g(a)h(b)r(ounding)e(rectangle)149
2631 y(is)h(sp)r(eci\014ed)f(b)n(y)h(its)h(min)e(p)r(oin)n(t.)49
2764 y Fj(\))45 b Ft(bounding-rectangle-min-x)30 b Fs(r)m(e)m(gion)963
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49 2830 y Fj(\))45
b Ft(bounding-rectangle-min-y)30 b Fs(r)m(e)m(gion)963 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])49 2896 y Fj(\))45 b Ft
(bounding-rectangle-max-x)30 b Fs(r)m(e)m(gion)963 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])49 2963 y Fj(\))45 b Ft
(bounding-rectangle-max-y)30 b Fs(r)m(e)m(gion)963 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 3082 y(Returns)f(\(resp)r(ectiv)n
(ely\))g(the)i Fn(x)g Fr(and)g Fn(y)j Fr(co)r(ordinates)20
b(of)k(the)e(min)h(p)r(oin)n(t)g(and)g(the)f Fn(x)i Fr(and)f
Fn(y)i Fr(co)r(ordinate)149 3148 y(of)d(the)f(max)h(p)r(oin)n(t)g(of)g(the)g
(b)r(ounding)e(rectangle)g(of)j Fs(r)m(e)m(gion)p Fr(.)39 b(The)22
b(argumen)n(t)e Fs(r)m(e)m(gion)25 b Fr(m)n(ust)c(b)r(e)g(either)h(a)149
3215 y(b)r(ounded)16 b(region)h(or)h(some)e(other)h(ob)s(ject)g(that)g(ob)r
(eys)g(the)g(b)r(ounding)f(rectangle)g(proto)r(col.)49 3348
y Fj(\))45 b Ft(bounding-rectangle-width)30 b Fs(r)m(e)m(gion)963
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49 3414 y Fj(\))45
b Ft(bounding-rectangle-height)30 b Fs(r)m(e)m(gion)934 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])p eop
%%Page: 34 49
bop 149 16 a Fm(CHAPTER)16 b(4.)43 b(BOUNDING)18 b(RECT)-5
b(ANGLES)1155 b Fr(34)49 210 y Fj(\))45 b Ft(bounding-rectangle-size)30
b Fs(r)m(e)m(gion)992 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 329 y(Returns)12 b(the)g(width,)j(heigh)n(t,)g(or)e(size)g(\(as)g(t)
n(w)n(o)h(v)m(alues,)h(the)e(width)g(and)h(heigh)n(t\))e(of)i(the)f(b)r
(ounding)f(rectangle)149 395 y(of)g Fs(r)m(e)m(gion)p Fr(,)k(resp)r(ectiv)n
(ely)-5 b(.)22 b(The)11 b(argumen)n(t)f Fs(r)m(e)m(gion)15
b Fr(m)n(ust)c(b)r(e)g(either)g(a)h(b)r(ounded)e(region)i(or)g(some)e(other)h
(ob)s(ject)149 461 y(that)17 b(ob)r(eys)g(the)g(b)r(ounding)f(rectangle)g
(proto)r(col.)149 594 y(The)i(width)h(of)g(a)g(b)r(ounding)e(rectangle)g(is)i
(the)f(di\013erence)g(b)r(et)n(w)n(een)f(its)i(maxim)n(um)e
Fn(x)i Fr(co)r(ordinate)d(and)i(its)149 661 y(minim)n(um)d
Fn(x)i Fr(co)r(ordinate.)k(The)c(heigh)n(t)f(is)i(the)e(di\013erence)g(b)r
(et)n(w)n(een)f(the)h(maxim)n(um)f Fn(y)20 b Fr(co)r(ordinate)14
b(and)i(its)149 727 y(minim)n(um)g Fn(y)21 b Fr(co)r(ordinate.)p
eop
%%Page: 35 50
bop 149 691 a Fl(Chapter)46 b(5)149 1034 y Fq(A\016ne)52 b(T)-13
b(ransformations)149 1388 y Fr(An)18 b Fm(a\016ne)g(transformation)e
Fr(is)j(a)g(mapping)e(from)h(one)g(co)r(ordinate)e(system)h(on)n(to)h
(another)f(that)h(preserv)n(es)149 1455 y(straigh)n(t)j(lines.)37
b(In)22 b(other)e(w)n(ords,)k(if)e(y)n(ou)h(tak)n(e)f(a)g(n)n(um)n(b)r(er)e
(of)i(p)r(oin)n(ts)g(that)f(fall)i(on)e(a)i(straigh)n(t)d(line)j(and)149
1521 y(apply)18 b(an)g(a\016ne)g(transformation)c(to)k(their)f(co)r
(ordinates,)f(the)h(transformed)e(co)r(ordinates)g(will)k(describ)r(e)e(a)149
1588 y(straigh)n(t)h(line)i(in)f(the)g(new)g(co)r(ordinate)d(system.)27
b(General)19 b(a\016ne)g(transformations)c(include)k(all)h(the)f(sorts)149
1654 y(of)f(transformations)c(that)j(CLIM)h(uses,)f(namely)-5
b(,)18 b(translations,)f(scaling,)h(rotations,)e(and)i(re\015ections.)149
1904 y Fk(5.1)91 b(T)-8 b(ransformations)49 2091 y Fj(\))45
b Ft(transformation)1507 b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23 b(Class)5
b Fr(])149 2210 y(The)17 b(proto)r(col)f(class)i(of)f(all)i(transformations.)
i(There)16 b(are)i(one)f(or)g(more)g(sub)r(classes)f(of)h Ft(transformation)
149 2277 y Fr(with)24 b(implemen)n(tation-dep)q(ende)o(n)n(t)c(names)j(that)f
(implemen)n(t)g(transformations.)39 b(The)23 b(exact)g(names)g(of)149
2343 y(these)g(classes)h(is)h(explicitly)h(unsp)r(eci\014ed.)42
b(If)25 b(y)n(ou)g(w)n(an)n(t)g(to)f(create)f(a)h(new)h(class)f(that)g(b)r
(eha)n(v)n(es)f(lik)n(e)k(a)149 2410 y(transformation,)e(it)h(should)g(b)r(e)
f(a)i(sub)r(class)d(of)j Ft(transformation)p Fr(.)50 b(Sub)r(classes)24
b(of)i Ft(transformation)149 2476 y Fr(m)n(ust)17 b(ob)r(ey)g(the)g
(transformation)e(proto)r(col.)149 2609 y(All)j(of)g(the)g(instan)n(tiable)f
(transformation)d(classes)j(pro)n(vided)h(b)n(y)h(CLIM)f(are)f(imm)n(utable.)
49 2742 y Fj(\))45 b Ft(transformationp)30 b Fs(obje)m(ct)1443
b Fr([)p Fs(F)l(unction)t Fr(])149 2861 y(Returns)16 b Fm(true)h
Fr(if)i Fs(obje)m(ct)h Fr(is)f(a)f Fm(transformation)p Fr(,)d(otherwise)h
(returns)h Fm(false)p Fr(.)49 2993 y Fj(\))45 b Ft(+identity-transformation+)
1312 b Fr([)p Fs(Constant)5 b Fr(])149 3112 y(An)15 b(instance)g(of)h(a)g
(transformation)d(that)i(is)h(guaran)n(teed)e(to)i(b)r(e)f(an)h(iden)n(tit)n
(y)h(transformation,)c(that)i(is,)i(the)149 3179 y(transformation)d(that)j
(\\do)r(es)f(nothing".)1276 3632 y(35)p eop
%%Page: 36 51
bop 149 16 a Fm(CHAPTER)16 b(5.)43 b(AFFINE)18 b(TRANSF)n(ORMA)-5
b(TIONS)1061 b Fr(36)149 210 y Fp(5.1.1)75 b(T)-6 b(ransformation)25
b(Conditions)49 378 y Fj(\))45 b Ft(transformation-error)1284
b Fr([)p Fs(Err)m(or)21 b(Condition)t Fr(])149 497 y(The)i(class)g(that)f(is)
i(the)f(sup)r(erclass)e(of)j(the)f(follo)n(wing)h(three)e(conditions.)39
b(This)24 b(class)f(is)h(a)g(sub)r(class)e(of)149 564 y Ft(error)p
Fr(.)49 696 y Fj(\))45 b Ft(transformation-underspecified)1023
b Fr([)p Fs(Err)m(or)21 b(Condition)t Fr(])149 815 y(The)d(error)f(that)g(is)
i(signalled)g(when)e Ft(make-3-point-transformation)k Fr(is)e(giv)n(en)g
(three)e(collinear)h(image)149 882 y(p)r(oin)n(ts.)49 1015
y Fj(\))45 b Ft(reflection-underspecified)1139 b Fr([)p Fs(Err)m(or)21
b(Condition)t Fr(])149 1134 y(The)k(error)f(that)g(is)i(signalled)f(when)g
Ft(make-reflection-transformation)i Fr(is)f(giv)n(en)g(t)n(w)n(o)g(coinciden)
n(t)149 1200 y(p)r(oin)n(ts.)49 1333 y Fj(\))45 b Ft(singular-transformation)
1197 b Fr([)p Fs(Err)m(or)21 b(Condition)t Fr(])149 1452 y(The)14
b(error)g(that)g(is)i(signalled)f(when)f Ft(invert-transformation)j
Fr(is)f(called)e(on)h(a)g(singular)g(transformation,)149 1518
y(that)i(is,)i(a)f(transformation)c(that)j(has)h(no)g(in)n(v)n(erse.)149
1768 y Fk(5.2)91 b(T)-8 b(ransformation)29 b(Constructors)149
1955 y Fr(The)17 b(follo)n(wing)h(transformation)c(constructors)g(do)j(not)g
(capture)f(an)n(y)i(of)f(their)g(inputs.)24 b(The)17 b(constructors)149
2022 y(all)i(create)d(ob)s(jects)g(that)h(are)g(sub)r(classes)f(of)j
Ft(transformation)p Fr(.)49 2155 y Fj(\))45 b Ft
(make-translation-transformation)31 b Fs(tr)m(anslation-x)21
b(tr)m(anslation-y)487 b Fr([)p Fs(F)l(unction)t Fr(])149 2274
y(A)20 b(translation)e(is)i(a)g(transformation)c(that)j(preserv)n(es)g
(length,)h(angle,)g(and)f(orien)n(tation)g(of)h(all)g(geometric)149
2340 y(en)n(tities.)149 2473 y Ft(make-translation-transformation)14
b Fr(returns)c(a)i(transformation)c(that)j(translates)f(all)i(p)r(oin)n(ts)f
(b)n(y)i Fs(tr)m(anslation-)149 2539 y(x)k Fr(in)h(the)e Fn(x)h
Fr(direction)f(and)h Fs(tr)m(anslation-y)i Fr(in)f(the)e Fn(y)k
Fr(direction.)j Fs(tr)m(anslation-x)c Fr(and)e Fs(tr)m(anslation-y)i
Fr(m)n(ust)d(b)r(e)149 2606 y(real)h(n)n(um)n(b)r(ers.)49 2739
y Fj(\))45 b Ft(make-rotation-transformation)30 b Fs(angle)22
b Ft(&optional)29 b Fs(origin)625 b Fr([)p Fs(F)l(unction)t
Fr(])49 2805 y Fj(\))45 b Ft(make-rotation-transformation*)30
b Fs(angle)22 b Ft(&optional)29 b Fs(origin-x)21 b(origin-y)341
b Fr([)p Fs(F)l(unction)t Fr(])149 2924 y(A)19 b(rotation)e(is)i(a)h
(transformation)15 b(that)j(preserv)n(es)f(length)h(and)h(angles)f(of)h(all)h
(geometric)c(en)n(tities.)27 b(Rota-)149 2990 y(tions)17 b(also)h(preserv)n
(e)f(one)h(p)r(oin)n(t)f(\(the)g(origin\))g(and)h(the)f(distance)g(of)h(all)h
(en)n(tities)e(from)g(that)g(p)r(oin)n(t.)149 3123 y Ft
(make-rotation-transformation)d Fr(returns)c(a)i(transformation)c(that)j
(rotates)e(all)k(p)r(oin)n(ts)e(b)n(y)i Fs(angle)h Fr(\(whic)n(h)149
3190 y(is)k(a)h(real)f(n)n(um)n(b)r(er)e(indicating)i(an)f(angle)h(in)h
(radians\))e(around)f(the)i(p)r(oin)n(t)f Fs(origin)p Fr(.)27
b(If)18 b Fs(origin)i Fr(is)f(supplied)e(it)149 3256 y(m)n(ust)e(b)r(e)g(a)h
(p)r(oin)n(t;)h(if)g(not)e(supplied)h(it)g(defaults)f(to)g(\(0)p
Fn(;)9 b Fr(0\).)24 b Fs(origin-x)17 b Fr(and)e Fs(origin-y)j
Fr(m)n(ust)d(b)r(e)g(real)h(n)n(um)n(b)r(ers.)49 3389 y Fj(\))45
b Ft(make-scaling-transformation)30 b Fs(sc)m(ale-x)21 b(sc)m(ale-y)f
Ft(&optional)30 b Fs(origin)440 b Fr([)p Fs(F)l(unction)t Fr(])49
3455 y Fj(\))45 b Ft(make-scaling-transformation*)30 b Fs(sc)m(ale-x)21
b(sc)m(ale-y)f Ft(&optional)30 b Fs(origin-x)20 b(origin-y)157
b Fr([)p Fs(F)l(unction)t Fr(])p eop
%%Page: 37 52
bop 149 16 a Fm(CHAPTER)16 b(5.)43 b(AFFINE)18 b(TRANSF)n(ORMA)-5
b(TIONS)1061 b Fr(37)149 210 y(There)13 b(is)i(no)f(single)g(de\014nition)g
(of)g(a)g(scaling)g(transformation.)20 b(T)-5 b(ransformations)11
b(that)i(preserv)n(e)g(all)i(angles)149 276 y(and)i(m)n(ultiply)h(all)g
(lengths)e(b)n(y)j(the)d(same)h(factor)f(\(preserving)f(the)i(\\shap)r(e")e
(of)j(all)g(en)n(tities\))f(are)f(certainly)149 342 y(scaling)24
b(transformations.)41 b(Ho)n(w)n(ev)n(er,)27 b(scaling)e(is)h(also)e(used)h
(to)f(refer)g(to)g(transformations)d(that)j(scale)149 409 y(distances)15
b(in)j(the)f Fn(x)h Fr(direction)e(b)n(y)i(one)f(amoun)n(t)f(and)h(distances)
e(in)j(the)f Fn(y)j Fr(direction)c(b)n(y)i(another)e(amoun)n(t.)149
542 y Ft(make-scaling-transformation)21 b Fr(returns)d(a)i(transformation)c
(that)j(m)n(ultiplies)h(the)f Fn(x)p Fr(-co)r(ordinate)e(dis-)149
608 y(tance)j(of)i(ev)n(ery)g(p)r(oin)n(t)g(from)e Fs(origin)k
Fr(b)n(y)f Fs(sc)m(ale-x)g Fr(and)e(the)g Fn(y)r Fr(-co)r(ordinate)f
(distance)g(of)i(ev)n(ery)g(p)r(oin)n(t)g(from)149 674 y Fs(origin)g
Fr(b)n(y)g Fs(sc)m(ale-y)p Fr(.)34 b Fs(sc)m(ale-x)22 b Fr(and)e
Fs(sc)m(ale-y)i Fr(m)n(ust)e(b)r(e)g(real)h(n)n(um)n(b)r(ers.)31
b(If)21 b Fs(origin)i Fr(is)e(supplied)f(it)h(m)n(ust)f(b)r(e)h(a)149
741 y(p)r(oin)n(t;)d(if)g(not)g(supplied)f(it)i(defaults)e(to)g(\(0)p
Fn(;)9 b Fr(0\).)24 b Fs(origin-x)19 b Fr(and)f Fs(origin-y)h
Fr(m)n(ust)e(b)r(e)h(real)f(n)n(um)n(b)r(ers.)49 874 y Fj(\))45
b Ft(make-reflection-transformation)30 b Fs(p)m(oint1)22 b(p)m(oint2)827
b Fr([)p Fs(F)l(unction)t Fr(])49 940 y Fj(\))45 b Ft
(make-reflection-transformation*)31 b Fs(x1)19 b(y1)h(x2)g(y2)836
b Fr([)p Fs(F)l(unction)t Fr(])149 1059 y(A)21 b(re\015ection)f(is)i(a)f
(transformation)d(that)j(preserv)n(es)f(lengths)g(and)h(magnitudes)e(of)j
(angles,)g(but)f(c)n(hanges)149 1126 y(the)d(sign)i(\(or)e(\\handedness"\))e
(of)k(angles.)28 b(If)19 b(y)n(ou)h(think)g(of)f(the)g(dra)n(wing)g(plane)g
(on)g(a)g(transparen)n(t)e(sheet)149 1192 y(of)h(pap)r(er,)f(a)h
(re\015ection)e(is)i(a)g(transformation)d(that)i(\\turns)f(the)i(pap)r(er)e
(o)n(v)n(er".)149 1325 y Ft(make-reflection-transformation)22
b Fr(returns)c(a)i(transformation)c(that)j(re\015ects)f(ev)n(ery)i(p)r(oin)n
(t)f(through)149 1391 y(the)k(line)i(passing)e(through)f(the)i
Fm(p)r(oin)n(ts)f Fs(p)m(oint1)j Fr(and)e Fs(p)m(oint2)i Fr(\(or)d(through)g
(the)g(p)r(ositions)g(\()p Fn(x)p Fr(1)p Fn(;)9 b(y)r Fr(1\))23
b(and)149 1458 y(\()p Fn(x)p Fr(2)p Fn(;)9 b(y)r Fr(2\))17
b(in)h(the)g(case)f(of)h(the)f(spread)g(v)n(ersion\).)49 1591
y Fj(\))45 b Ft(make-transformation)30 b Fs(mxx)19 b(mxy)h(myx)f(myy)h(tx)g
(ty)883 b Fr([)p Fs(F)l(unction)t Fr(])149 1710 y(Returns)16
b(a)i(general)f(transformation)d(whose)k(e\013ect)f(is:)972
1815 y Fn(x)1004 1793 y Ff(0)1035 1815 y Fr(=)55 b Fn(m)1182
1823 y Fh(xx)1235 1815 y Fn(x)12 b Fr(+)g Fn(m)1383 1823 y
Fh(xy)1434 1815 y Fn(y)j Fr(+)d Fn(t)1551 1823 y Fh(x)975 1898
y Fn(y)1004 1876 y Ff(0)1035 1898 y Fr(=)57 b Fn(m)1184 1906
y Fh(y)q(x)1236 1898 y Fn(x)11 b Fr(+)i Fn(m)1384 1906 y Fh(y)q(y)1434
1898 y Fn(y)h Fr(+)f Fn(t)1551 1906 y Fh(y)149 2004 y Fr(where)20
b Fn(x)h Fr(and)g Fn(y)j Fr(are)c(the)h(co)r(ordinates)d(of)j(a)g(p)r(oin)n
(t)g(b)r(efore)e(the)i(transformation)c(and)k Fn(x)2072 1984
y Ff(0)2109 2004 y Fr(and)g Fn(y)2249 1984 y Ff(0)2286 2004
y Fr(are)f(the)149 2071 y(co)r(ordinates)15 b(of)j(the)f(corresp)r(onding)e
(p)r(oin)n(t)i(after.)149 2204 y(All)h(of)g(the)g(argumen)n(ts)d(to)j
Ft(make-transformation)h Fr(m)n(ust)f(b)r(e)f(real)h(n)n(um)n(b)r(ers.)49
2336 y Fj(\))45 b Ft(make-3-point-transformation)30 b Fs(p)m(oint-1)g(p)m
(oint-2)g(p)m(oint-3)g(p)m(oint-1-image)i(p)m(oint-2-image)f(p)m(oint-3-)149
2403 y(image)1921 b Fr([)p Fs(F)l(unction)t Fr(])149 2602 y(Returns)25
b(a)i(transformation)c(that)i(tak)n(es)i Fm(p)r(oin)n(ts)f
Fs(p)m(oint-1)i Fr(in)n(to)f Fs(p)m(oint-1-image)p Fr(,)33
b Fs(p)m(oint-2)28 b Fr(in)n(to)f Fs(p)m(oint-2-)149 2669 y(image)d
Fr(and)e Fs(p)m(oint-3)i Fr(in)n(to)f Fs(p)m(oint-3-image)p
Fr(.)41 b(Three)21 b(non-collinear)h(p)r(oin)n(ts)g(and)g(their)g(images)f
(under)g(the)149 2735 y(transformation)14 b(are)j(enough)g(to)h(sp)r(ecify)f
(an)n(y)h(a\016ne)g(transformation.)149 2868 y(If)f Fs(p)m(oint-1)p
Fr(,)i Fs(p)m(oint-2)g Fr(and)d Fs(p)m(oint-3)j Fr(are)d(collinear,)h(the)f
Ft(transformation-underspecified)j Fr(error)d(will)i(b)r(e)149
2934 y(signalled.)34 b(If)22 b Fs(p)m(oint-1-image)p Fr(,)k
Fs(p)m(oint-2-image)e Fr(and)d Fs(p)m(oint-3-image)k Fr(are)c(collinear,)h
(the)f(resulting)f(trans-)149 3001 y(formation)c(will)j(b)r(e)e(singular)h
(\(that)e(is,)j(will)h(ha)n(v)n(e)f(no)e(in)n(v)n(erse\))h(but)g(this)g(is)g
(not)g(an)g(error.)49 3133 y Fj(\))45 b Ft(make-3-point-transformation*)30
b Fs(x1)21 b(y1)f(x2)g(y2)h(x3)f(y3)g(x1-image)i(y1-image)f(x2-image)h
(y2-image)f(x3-)149 3200 y(image)g(y3-image)1685 b Fr([)p Fs(F)l(unction)t
Fr(])149 3399 y(Returns)12 b(a)i(transformation)d(that)i(tak)n(es)h(the)f(p)r
(oin)n(ts)g(at)h(the)g(p)r(ositions)e(\()p Fs(x1)p Fr(,)p Fs(y1)p
Fr(\))i(in)n(to)h(\()p Fs(x1-image)p Fr(,)p Fs(y1-image)p Fr(\),)149
3466 y(\()p Fs(x2)p Fr(,)p Fs(y2)p Fr(\))27 b(in)n(to)h(\()p
Fs(x2-image)p Fr(,)p Fs(y2-image)p Fr(\))i(and)d(\()p Fs(x3)p
Fr(,)p Fs(y3)p Fr(\))h(in)n(to)g(\()p Fs(x3-image)p Fr(,)p
Fs(y3-image)p Fr(\).)56 b(Three)26 b(non-collinear)p eop
%%Page: 38 53
bop 149 16 a Fm(CHAPTER)16 b(5.)43 b(AFFINE)18 b(TRANSF)n(ORMA)-5
b(TIONS)1061 b Fr(38)149 210 y(p)r(oin)n(ts)25 b(and)g(their)g(images)f
(under)g(the)h(transformation)d(are)j(enough)f(to)h(sp)r(ecify)g(an)n(y)h
(a\016ne)f(transfor-)149 276 y(mation.)149 409 y(If)12 b(the)f(p)r(ositions)g
(\()p Fn(x)p Fr(1)p Fn(;)e(y)r Fr(1\),)j(\()p Fn(x)p Fr(2)p
Fn(;)d(y)r Fr(2\))i(and)h(\()p Fn(x)p Fr(3)p Fn(;)d(y)r Fr(3\))i(are)g
(collinear,)i(the)e Ft(transformation-underspecified)149 475
y Fr(error)21 b(will)i(b)r(e)f(signalled.)37 b(If)22 b(\()p
Fs(x1-image)p Fr(,)p Fs(y1-image)p Fr(\),)k(\()p Fs(x2-image)p
Fr(,)p Fs(y2-image)p Fr(\),)g(and)c(\()p Fs(x3-image)p Fr(,)p
Fs(y3-image)p Fr(\))149 542 y(are)17 b(collinear,)h(the)f(resulting)g
(transformation)e(will)k(b)r(e)f(singular)f(but)h(this)f(is)i(not)f(an)f
(error.)149 674 y(This)h(is)h(the)e(spread)g(v)n(ersion)h(of)g
Ft(make-3-point-transformation)p Fr(.)149 924 y Fk(5.3)91 b(The)31
b(T)-8 b(ransformation)28 b(Proto)s(col)149 1112 y Fr(The)19
b(follo)n(wing)i(subsections)d(describ)r(e)g(the)h(transformation)d(proto)r
(col.)29 b(All)20 b(classes)f(that)g(are)h(sub)r(classes)149
1178 y(of)j Ft(transformation)h Fr(m)n(ust)f(implemen)n(t)e(metho)r(ds)f(for)
j(all)h(of)g(the)e(generic)g(functions)g(in)h(the)g(follo)n(wing)149
1244 y(subsections.)149 1466 y Fp(5.3.1)75 b(T)-6 b(ransformation)25
b(Predicates)149 1634 y Fr(In)18 b(all)h(of)f(the)f(functions)g(b)r(elo)n(w,)
h(the)f(argumen)n(t)f(named)g Fs(tr)m(ansformation)22 b Fr(m)n(ust)17
b(b)r(e)g(a)h(transformation.)49 1767 y Fj(\))45 b Ft(transformation-equal)30
b Fs(tr)m(ansformation1)23 b(tr)m(ansformation2)433 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 1886 y(Returns)e Fm(true)i
Fr(if)h(the)f(t)n(w)n(o)g Fm(transformations)d Fs(tr)m(ansformation1)26
b Fr(and)c Fs(tr)m(ansformation2)k Fr(ha)n(v)n(e)d(equiv)m(alen)n(t)149
1953 y(e\013ects)17 b(\(that)f(is,)j(are)e(mathematically)f(equal\),)h
(otherwise)g(returns)f Fm(false)p Fr(.)149 2085 y(Implemen)n(tations)d(are)k
(encouraged)d(to)i(allo)n(w)i(transformations)13 b(that)j(are)h(not)f(n)n
(umerically)g(equal)h(due)g(to)149 2152 y(\015oating-p)r(oin)n(t)d
(roundo\013)g(errors)h(to)g(b)r(e)g Ft(transformation-equal)p
Fr(.)25 b(An)16 b(appropriate)d(lev)n(el)k(of)f(\\fuzziness")149
2218 y(is)i Ft(single-float-epsilon)p Fr(,)i(or)e(some)f(small)h(m)n(ultiple)
f(of)h Ft(single-float-epsilon)p Fr(.)49 2351 y Fj(\))45 b
Ft(identity-transformation-p)30 b Fs(tr)m(ansformation)722
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2470 y(Returns)f
Fm(true)h Fr(if)h(the)g Fm(transformation)c Fs(tr)m(ansformation)26
b Fr(is)d(equal)g(\(in)g(the)g(sense)e(of)i Ft(transformation-)149
2537 y(equal)p Fr(\))18 b(to)g(the)f(iden)n(tit)n(y)h(transformation,)d
(otherwise)i(returns)f Fm(false)p Fr(.)49 2669 y Fj(\))45 b
Ft(invertible-transformation-p)30 b Fs(tr)m(ansformation)664
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2788 y(Returns)16
b Fm(true)h Fr(if)i(the)e Fm(transformation)d Fs(tr)m(ansformation)22
b Fr(has)17 b(an)h(in)n(v)n(erse,)h(otherwise)d(returns)h Fm(false)p
Fr(.)49 2921 y Fj(\))45 b Ft(translation-transformation-p)30
b Fs(tr)m(ansformation)635 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 3040 y(Returns)13 b Fm(true)h Fr(if)i(the)e Fm(transformation)e
Fs(tr)m(ansformation)18 b Fr(is)e(a)f(pure)f(translation,)h(that)e(is,)k(a)e
(transformation)149 3107 y(suc)n(h)25 b(that)f(there)g(are)h(t)n(w)n(o)h
(distance)e(comp)r(onen)n(ts)e Fn(dx)k Fr(and)f Fn(dy)j Fr(and)d(ev)n(ery)g
(p)r(oin)n(t)g(\()p Fn(x;)9 b(y)r Fr(\))26 b(is)g(mo)n(v)n(ed)f(to)149
3173 y(\()p Fn(x)11 b Fr(+)h Fn(dx;)d(y)15 b Fr(+)d Fn(dy)r
Fr(\).)25 b(Otherwise,)17 b Ft(translation-transformation-p)j
Fr(returns)c Fm(false)p Fr(.)49 3306 y Fj(\))45 b Ft
(reflection-transformation-p)30 b Fs(tr)m(ansformation)664
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 3425 y(Returns)e
Fm(true)h Fr(if)i(the)f Fm(transformation)d Fs(tr)m(ansformation)25
b Fr(in)n(v)n(erts)e(the)e(\\handedness")f(of)i(the)f(co)r(ordinate)p
eop
%%Page: 39 54
bop 149 16 a Fm(CHAPTER)16 b(5.)43 b(AFFINE)18 b(TRANSF)n(ORMA)-5
b(TIONS)1061 b Fr(39)1117 193 y(T)-5 b(o)19 b(b)r(e)e(supplied.)214
314 y(Figure)g(5.1:)25 b(The)18 b(predicates)d(for)j(analyzing)g(the)f
(mathematical)e(prop)r(erties)g(of)j(a)g(transformation.)149
491 y(system,)d(otherwise)g(returns)g Fm(false)p Fr(.)24 b(Note)15
b(that)h(this)g(is)i(a)e(v)n(ery)h(inclusiv)n(e)h(category|transfor)o(m)o
(ation)o(s)13 b(are)149 558 y(considered)j(re\015ections)g(ev)n(en)i(if)h
(they)f(distort,)g(scale,)g(or)g(sk)n(ew)h(the)f(co)r(ordinate)d(system,)i
(as)i(long)f(as)g(they)149 624 y(in)n(v)n(ert)g(the)g(handedness.)49
757 y Fj(\))45 b Ft(rigid-transformation-p)30 b Fs(tr)m(ansformation)809
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 876 y(Returns)d
Fm(true)g Fr(if)i(the)f Fm(transformation)d Fs(tr)m(ansformation)24
b Fr(transforms)17 b(the)j(co)r(ordinate)e(system)h(as)i(a)f(rigid)149
942 y(ob)s(ject,)g(that)g(is,)i(as)f(a)g(com)n(bination)e(of)i(translations,)
f(rotations,)g(and)g(pure)g(re\015ections.)31 b(Otherwise,)20
b(it)149 1009 y(returns)c Fm(false)p Fr(.)149 1142 y(Rigid)d(transformations)
d(are)j(the)g(most)f(general)g(category)f(of)j(transformations)9
b(that)k(preserv)n(e)f(magnitudes)149 1208 y(of)18 b(all)h(lengths)e(and)g
(angles.)49 1341 y Fj(\))45 b Ft(even-scaling-transformation-p)30
b Fs(tr)m(ansformation)606 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1460 y(Returns)17 b Fm(true)h Fr(if)h(the)f Fm(transformation)d
Fs(tr)m(ansformation)22 b Fr(m)n(ultiplies)d(all)h Fn(x)f Fr(lengths)e(and)i
Fn(y)i Fr(lengths)d(b)n(y)h(the)149 1526 y(same)g(magnitude,)h(otherwise)f
(returns)g Fm(false)p Fr(.)32 b(It)21 b(do)r(es)f(include)g(pure)g
(re\015ections)e(through)h(v)n(ertical)i(and)149 1593 y(horizon)n(tal)c
(lines.)49 1725 y Fj(\))45 b Ft(scaling-transformation-p)30
b Fs(tr)m(ansformation)751 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1844 y(Returns)14 b Fm(true)g Fr(if)j(the)e Fm(transformation)d
Fs(tr)m(ansformation)19 b Fr(m)n(ultiplies)c(all)i Fn(x)e Fr(lengths)g(b)n(y)
i(one)e(magnitude)e(and)149 1911 y(all)j Fn(y)i Fr(lengths)c(b)n(y)i(another)
e(magnitude,)g(otherwise)g(returns)f Fm(false)p Fr(.)24 b(This)15
b(category)f(includes)h(ev)n(en)g(scalings)149 1977 y(as)j(a)g(subset.)49
2110 y Fj(\))45 b Ft(rectilinear-transformation-p)30 b Fs(tr)m(ansformation)
635 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2229 y(Returns)13
b Fm(true)h Fr(if)i(the)f Fm(transformation)d Fs(tr)m(ansformation)18
b Fr(will)f(alw)n(a)n(ys)f(transform)d(an)n(y)j(axis-aligned)f(rectan-)149
2296 y(gle)k(in)n(to)h(another)e(axis-aligned)i(rectangle,)e(otherwise)g
(returns)g Fm(false)p Fr(.)29 b(This)20 b(category)e(includes)h(scalings)149
2362 y(as)f(a)g(subset,)f(and)h(also)g(includes)f(90)h(degree)e(rotations.)
149 2495 y(Rectilinear)26 b(transformations)f(are)i(the)g(most)g(general)g
(category)f(of)i(transformations)c(for)k(whic)n(h)g(the)149
2561 y(b)r(ounding)12 b(rectangle)g(of)i(a)g(transformed)c(ob)s(ject)j(can)g
(b)r(e)g(found)g(b)n(y)i(transforming)c(the)i(b)r(ounding)g(rectangle)149
2628 y(of)18 b(the)f(original)h(ob)s(ject.)149 2761 y Fo(Minor)k(issue:)54
b Fm(Supply)18 b(this)g(\014gure.)24 b(|)19 b(SWM)149 2982
y Fp(5.3.2)75 b(Comp)r(osition)27 b(of)e(T)-6 b(ransformations)149
3150 y Fr(If)18 b(w)n(e)g(transform)d(from)h(one)h(co)r(ordinate)e(system)h
(to)h(another,)f(then)h(from)f(the)h(second)f(to)i(a)f(third)g(co)r(ordi-)149
3217 y(nate)12 b(system,)i(w)n(e)g(can)f(regard)g(the)g(resulting)g
(transformation)d(as)j(a)h(single)g(transformation)c(resulting)j(from)149
3283 y Fm(comp)r(osing)i Fr(the)i(t)n(w)n(o)h(comp)r(onen)n(t)c
(transformations.)21 b(It)c(is)i(an)e(imp)r(ortan)n(t)e(and)i(useful)h(prop)r
(ert)n(y)d(of)j(a\016ne)149 3350 y(transformations)d(that)j(they)g(are)g
(closed)h(under)f(comp)r(osition.)24 b(Note)18 b(that)g(comp)r(osition)e(is)k
(not)e(comm)n(u-)149 3416 y(tativ)n(e;)h(in)g(general,)f(the)g(result)g(of)h
(applying)f(transformation)d Fn(A)k Fr(and)f(then)g(applying)g
(transformation)d Fn(B)p eop
%%Page: 40 55
bop 149 16 a Fm(CHAPTER)16 b(5.)43 b(AFFINE)18 b(TRANSF)n(ORMA)-5
b(TIONS)1061 b Fr(40)149 210 y(is)18 b(not)g(the)f(same)g(as)h(applying)g
Fn(B)j Fr(\014rst,)d(then)f Fn(A)p Fr(.)149 342 y(An)n(y)c(arbitrary)f
(transformation)e(can)j(b)r(e)f(built)i(up)f(b)n(y)h(comp)r(osing)d(a)i(n)n
(um)n(b)r(er)f(of)i(simpler)e(transformations,)149 409 y(but)17
b(that)g(comp)r(osition)e(is)k(not)e(unique.)49 542 y Fj(\))45
b Ft(compose-transformations)30 b Fs(tr)m(ansformation1)23
b(tr)m(ansformation2)346 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 661 y(Returns)17 b(a)i(transformation)c(that)j(is)h(the)f
(mathematical)d(comp)r(osition)i(of)h(its)h(argumen)n(ts.)25
b(Comp)r(osition)149 727 y(is)d(in)g(righ)n(t-to-left)e(order,)i(that)e(is,)j
(the)e(resulting)f(transformation)d(represen)n(ts)i(the)i(e\013ects)f(of)i
(applying)149 793 y(the)17 b Fm(transformation)d Fs(tr)m(ansformation2)22
b Fr(follo)n(w)n(ed)d(b)n(y)f(the)g Fm(transformation)c Fs(tr)m
(ansformation1)p Fr(.)49 926 y Fj(\))45 b Ft(invert-transformation)30
b Fs(tr)m(ansformation)838 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1045 y(Returns)14 b(a)i(transformation)c(that)j(is)i(the)e(in)n(v)n
(erse)i(of)f(the)f Fm(transformation)d Fs(tr)m(ansformation)p
Fr(.)28 b(The)15 b(result)h(of)149 1112 y(comp)r(osing)f(a)j(transformation)d
(with)j(its)g(in)n(v)n(erse)g(is)h(equal)f(to)g(the)f(iden)n(tit)n(y)h
(transformation.)149 1245 y(If)12 b Fs(tr)m(ansformation)j
Fr(is)e(singular,)g Ft(invert-transformation)g Fr(will)g(signal)f(the)g
Ft(singular-transformation)149 1311 y Fr(error,)g(with)g(a)g(named)e(restart)
g(that)h(is)h(in)n(v)n(ok)n(ed)h(with)f(a)g(transformation)c(and)k(mak)n(es)f
Ft(invert-transformation)149 1377 y Fr(return)16 b(that)h(transformation)o(.)
k(This)d(is)h(to)e(allo)n(w)i(a)f(dra)n(wing)f(application,)g(for)h(example,)
f(to)g(use)h(a)f(gener-)149 1444 y(alized)h(in)n(v)n(erse)g(to)g(transform)d
(a)j(region)f(through)f(a)j(singular)e(transformation.)149
1577 y(Note)d(that)h(with)h(\014nite-precision)e(arithmetic)g(there)g(are)h
(sev)n(eral)h(lo)n(w-lev)n(el)i(conditions)c(that)h(migh)n(t)g(o)r(ccur)149
1643 y(during)23 b(the)g(attempt)e(to)i(in)n(v)n(ert)i(a)e(singular)h(or)f
(\\almost)f(singular")h(transformation.)39 b(\(These)22 b(include)149
1710 y(computation)c(of)j(a)g(zero)g(determinan)n(t,)e(\015oating-p)r(oin)n
(t)h(under\015o)n(w)g(during)h(computation)d(of)j(the)g(deter-)149
1776 y(minan)n(t,)e(or)f(\015oating-p)r(oin)n(t)g(o)n(v)n(er\015o)n(w)h
(during)g(subsequen)n(t)f(m)n(ultiplication.\))26 b Ft(invert-transformation)
149 1842 y Fr(m)n(ust)17 b(signal)h(the)f Ft(singular-transformation)j
Fr(error)d(for)h(all)g(of)g(these)f(cases.)49 1975 y Fj(\))45
b Ft(compose-translation-with-transformation)31 b Fs(tr)m(ansformation)23
b(dx)c(dy)375 b Fr([)p Fs(F)l(unction)t Fr(])49 2042 y Fj(\))45
b Ft(compose-scaling-with-transformation)31 b Fs(tr)m(ansformation)22
b(sx)e(sy)f Ft(&optional)29 b Fs(origin)51 b Fr([)p Fs(F)l(unction)t
Fr(])49 2108 y Fj(\))45 b Ft(compose-rotation-with-transformation)31
b Fs(tr)m(ansformation)22 b(angle)g Ft(&optional)29 b Fs(origin)k
Fr([)p Fs(F)l(unction)t Fr(])149 2307 y(These)20 b(functions)g(create)f(a)i
(new)g(transformation)c(b)n(y)22 b(comp)r(osing)d(the)h Fm(transformation)d
Fs(tr)m(ansformation)149 2374 y Fr(with)h(a)g(giv)n(en)h(translation,)e
(scaling,)h(or)g(rotation,)f(resp)r(ectiv)n(ely)-5 b(.)24 b(The)18
b(order)f(of)h(comp)r(osition)d(is)k(that)e(the)149 2440 y(translation,)f
(scaling,)i(or)g(rotation)f(\\transformat)o(ion")d(is)19 b(\014rst,)e(follo)n
(w)n(ed)i(b)n(y)g Fs(tr)m(ansformation)p Fr(.)149 2573 y Fs(dx)f
Fr(and)g Fs(dy)h Fr(are)f(as)g(for)g Ft(make-translation-transformation)p
Fr(.)28 b Fs(sx)18 b Fr(and)g Fs(sy)g Fr(are)g(as)g(for)g Ft(make-scaling-)
149 2639 y(transformation)p Fr(.)25 b Fs(angle)20 b Fr(and)e
Fs(origin)i Fr(are)d(as)h(for)g Ft(make-rotation-transformation)p
Fr(.)149 2772 y(Note)c(that)g(these)g(functions)g(could)g(b)r(e)h(implemen)n
(ted)e(b)n(y)j(using)f(the)f(v)m(arious)h(constructors)d(and)j
Ft(compose-)149 2839 y(transformations)p Fr(.)27 b(They)19
b(are)f(pro)n(vided,)h(b)r(ecause)d(it)j(is)g(common)d(to)j(build)g(up)f(a)h
(transformation)c(as)k(a)149 2905 y(series)e(of)h(simple)g(transformation)o
(s.)49 3038 y Fj(\))45 b Ft(compose-transformation-with-translation)31
b Fs(tr)m(ansformation)23 b(dx)c(dy)375 b Fr([)p Fs(F)l(unction)t
Fr(])49 3104 y Fj(\))45 b Ft(compose-transformation-with-scaling)31
b Fs(tr)m(ansformation)22 b(sx)e(sy)f Ft(&optional)29 b Fs(origin)51
b Fr([)p Fs(F)l(unction)t Fr(])49 3171 y Fj(\))45 b Ft
(compose-transformation-with-rotation)31 b Fs(tr)m(ansformation)22
b(angle)g Ft(&optional)29 b Fs(origin)k Fr([)p Fs(F)l(unction)t
Fr(])149 3370 y(These)16 b(functions)g(create)g(a)h(new)h(transformation)13
b(b)n(y)19 b(comp)r(osing)c(a)i(giv)n(en)h(translation,)e(scaling,)i(or)f
(rota-)149 3436 y(tion,)22 b(resp)r(ectiv)n(ely)-5 b(,)22 b(with)f(the)f
Fm(transformation)e Fs(tr)m(ansformation)p Fr(.)38 b(The)21
b(order)f(of)h(comp)r(osition)e(is)i Fs(tr)m(ans-)p eop
%%Page: 41 56
bop 149 16 a Fm(CHAPTER)16 b(5.)43 b(AFFINE)18 b(TRANSF)n(ORMA)-5
b(TIONS)1061 b Fr(41)149 210 y Fs(formation)20 b Fr(is)f(\014rst,)e(follo)n
(w)n(ed)i(b)n(y)g(the)e(translation,)g(scaling,)h(or)g(rotation)e
(\\transformation")o(.)149 342 y Fs(dx)i Fr(and)g Fs(dy)h Fr(are)f(as)g(for)g
Ft(make-translation-transformation)p Fr(.)28 b Fs(sx)18 b Fr(and)g
Fs(sy)g Fr(are)g(as)g(for)g Ft(make-scaling-)149 409 y(transformation)p
Fr(.)25 b Fs(angle)20 b Fr(and)e Fs(origin)i Fr(are)d(as)h(for)g
Ft(make-rotation-transformation)p Fr(.)149 542 y(Note)c(that)g(these)g
(functions)g(could)g(b)r(e)h(implemen)n(ted)e(b)n(y)j(using)f(the)f(v)m
(arious)h(constructors)d(and)j Ft(compose-)149 608 y(transformations)p
Fr(.)27 b(They)19 b(are)f(pro)n(vided,)h(b)r(ecause)d(it)j(is)g(common)d(to)j
(build)g(up)f(a)h(transformation)c(as)k(a)149 674 y(series)e(of)h(simple)g
(transformation)o(s.)149 896 y Fp(5.3.3)75 b(Applying)26 b(T)-6
b(ransformations)149 1064 y Fr(T)h(ransforming)18 b(a)j(region)f(applies)g(a)
h(co)r(ordinate)d(transformation)f(to)j(that)f(region,)i(th)n(us)g(mo)n(ving)
f(its)h(p)r(o-)149 1131 y(sition)j(on)f(the)g(dra)n(wing)h(plane,)h(rotating)
e(it,)j(or)d(scaling)h(it.)42 b(Note)23 b(that)g(transforming)e(a)j(region)f
(do)r(es)149 1197 y(not)17 b(side-e\013ect)g(the)h Fs(r)m(e)m(gion)i
Fr(argumen)n(t;)c(it)j(is)f(free)g(to)f(either)g(create)f(a)j(new)e(region)h
(or)f(return)g(an)h(existing)149 1264 y(\(cac)n(hed\))e(region.)149
1397 y(These)k(generic)g(functions)g(m)n(ust)h(b)r(e)f(implemen)n(ted)f(for)i
(all)i(classes)d(of)i(transformation)o(s.)31 b(F)-5 b(urthermore,)149
1463 y(all)30 b(sub)r(classes)d(of)j Ft(region)g Fr(and)f Ft(design)h
Fr(m)n(ust)f(implemen)n(t)e(metho)r(ds)g(for)i Ft(transform-region)i
Fr(and)149 1529 y Ft(untransform-region)p Fr(.)36 b(That)21
b(is,)i(metho)r(ds)c(for)i(the)g(follo)n(wing)h(generic)e(functions)h(will)i
(t)n(ypically)f(sp)r(e-)149 1596 y(cialize)c(b)r(oth)e(the)i
Fs(tr)m(ansformation)j Fr(and)d Fm(region)f Fr(argumen)n(ts.)49
1729 y Fj(\))45 b Ft(transform-region)30 b Fs(tr)m(ansformation)22
b(r)m(e)m(gion)818 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
1848 y(Applies)17 b Fs(tr)m(ansformation)22 b Fr(to)17 b(the)h
Fm(region)f Fs(r)m(e)m(gion)p Fr(,)k(and)c(returns)f(the)i(transformed)c
(region.)49 1980 y Fj(\))45 b Ft(untransform-region)30 b Fs(tr)m
(ansformation)22 b(r)m(e)m(gion)760 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 2099 y(This)c(is)h(exactly)e(equiv)m(alen)n(t)h(to)
149 2166 y Ft(\(transform-region)30 b(\(invert-transformation)19
b Fs(tr)m(ansformation)p Ft(\))j Fs(r)m(e)m(gion)p Ft(\))e
Fr(.)149 2299 y(CLIM)25 b(pro)n(vides)f(a)i(default)e(metho)r(d)e(for)j
Ft(untransform-region)i Fr(on)e(the)f Ft(transformation)j Fr(proto)r(col)149
2365 y(class)17 b(that)g(do)r(es)g(exactly)h(this.)49 2498
y Fj(\))45 b Ft(transform-position)30 b Fs(tr)m(ansformation)22
b(x)e(y)830 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
2617 y(Applies)17 b(the)g Fm(transformation)d Fs(tr)m(ansformation)21
b Fr(to)c(the)h(p)r(oin)n(t)f(whose)g(co)r(ordinates)e(are)i(the)g(real)g(n)n
(um)n(b)r(ers)149 2683 y Fs(x)e Fr(and)g Fs(y)p Fr(,)h(and)f(returns)e(t)n(w)
n(o)i(v)m(alues,)h(the)f(transformed)c Fn(x)k Fr(co)r(ordinate)e(and)h(the)h
(transformed)c Fn(y)18 b Fr(co)r(ordinate.)149 2816 y Ft(transform-position)j
Fr(is)g(the)f(spread)f(v)n(ersion)h(of)g Ft(transform-region)i
Fr(in)f(the)e(case)h(where)f(the)g(region)149 2883 y(is)f(a)g(p)r(oin)n(t.)49
3015 y Fj(\))45 b Ft(untransform-position)30 b Fs(tr)m(ansformation)23
b(x)c(y)772 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
3134 y(This)c(is)h(exactly)e(equiv)m(alen)n(t)h(to)149 3201
y Ft(\(transform-position)30 b(\(invert-transformation)20 b
Fs(tr)m(ansformation)p Ft(\))h Fs(x)d(y)p Ft(\))g Fr(.)149
3334 y(CLIM)h(pro)n(vides)g(a)g(default)g(metho)r(d)d(for)j
Ft(untransform-position)i Fr(on)f(the)e Ft(transformation)j
Fr(proto)r(col)149 3400 y(class)c(that)g(do)r(es)g(exactly)h(this.)p
eop
%%Page: 42 57
bop 149 16 a Fm(CHAPTER)16 b(5.)43 b(AFFINE)18 b(TRANSF)n(ORMA)-5
b(TIONS)1061 b Fr(42)49 210 y Fj(\))45 b Ft(transform-distance)30
b Fs(tr)m(ansformation)22 b(dx)e(dy)774 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 329 y(Applies)e(the)g Fm(transformation)d
Fs(tr)m(ansformation)24 b Fr(to)c(the)g(distance)f(represen)n(ted)f(b)n(y)k
(the)e(real)g(n)n(um)n(b)r(ers)f Fs(dx)149 395 y Fr(and)e Fs(dy)p
Fr(,)i(and)f(returns)e(t)n(w)n(o)j(v)m(alues,)f(the)f(transformed)e
Fs(dx)j Fr(and)g(the)f(transformed)e Fs(dy)p Fr(.)149 528 y(A)j(distance)e
(represen)n(ts)g(the)h(di\013erence)g(b)r(et)n(w)n(een)g(t)n(w)n(o)h(p)r(oin)
n(ts.)24 b(It)18 b(do)r(es)f Fm(not)g Fr(transform)f(lik)n(e)j(a)f(p)r(oin)n
(t.)49 661 y Fj(\))45 b Ft(untransform-distance)30 b Fs(tr)m(ansformation)23
b(dx)c(dy)716 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
780 y(This)c(is)h(exactly)e(equiv)m(alen)n(t)h(to)149 846 y
Ft(\(transform-distance)30 b(\(invert-transformation)20 b Fs(tr)m
(ansformation)p Ft(\))h Fs(dx)d(dy)p Ft(\))h Fr(.)149 979 y(CLIM)g(pro)n
(vides)g(a)g(default)g(metho)r(d)d(for)j Ft(untransform-distance)i
Fr(on)f(the)e Ft(transformation)j Fr(proto)r(col)149 1045 y(class)c(that)g
(do)r(es)g(exactly)h(this.)49 1178 y Fj(\))45 b Ft(transform-rectangle*)30
b Fs(tr)m(ansformation)23 b(x1)c(y1)h(x2)g(y2)567 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 1297 y(Applies)k(the)g
Fm(transformation)d Fs(tr)m(ansformation)31 b Fr(to)26 b(the)g(rectangle)f
(sp)r(eci\014ed)g(b)n(y)j(the)e(four)g(co)r(ordinate)149 1364
y(argumen)n(ts,)17 b(whic)n(h)i(are)g(real)g(n)n(um)n(b)r(ers.)26
b(The)19 b(argumen)n(ts)e Fs(x1)p Fr(,)j Fs(y1)p Fr(,)g Fs(x2)p
Fr(,)g(and)f Fs(y1)h Fr(are)e(canonicalized)g(in)h(the)149
1430 y(same)14 b(w)n(a)n(y)j(as)e(for)g Ft(make-bounding-rectangle)p
Fr(.)26 b(Returns)14 b(four)h(v)m(alues)g(that)f(sp)r(ecify)h(the)g(minim)n
(um)f(and)149 1496 y(maxim)n(um)i(p)r(oin)n(ts)h(of)h(the)g(transformed)c
(rectangle)i(in)j(the)e(order)g Fs(min-x)p Fr(,)i Fs(min-y)p
Fr(,)f Fs(max-x)p Fr(,)h(and)f Fs(max-y)p Fr(.)149 1629 y(It)g(is)g(an)g
(error)f(is)i Fs(tr)m(ansformation)i Fr(do)r(es)c(not)g(satisfy)h
Ft(rectilinear-transformation-p)p Fr(.)149 1762 y Ft(transform-rectangle*)f
Fr(is)g(the)e(spread)f(v)n(ersion)i(of)g Ft(transform-region)i
Fr(in)e(the)f(case)g(where)g(the)g(trans-)149 1829 y(formation)h(is)i
(rectilinear)f(and)g(the)h(region)f(is)i(a)f(rectangle.)49
1961 y Fj(\))45 b Ft(untransform-rectangle*)30 b Fs(tr)m(ansformation)23
b(x1)c(y1)h(x2)g(y2)509 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 2080 y(This)c(is)h(exactly)e(equiv)m(alen)n(t)h(to)149
2147 y Ft(\(transform-rectangle*)30 b(\(invert-transformation)20
b Fs(tr)m(ansformation)p Ft(\))h Fs(x1)d(y1)h(x2)f(y2)p Ft(\))h
Fr(.)149 2280 y(CLIM)13 b(pro)n(vides)g(a)h(default)e(metho)r(d)f(for)j
Ft(untransform-rectangle*)h Fr(on)e(the)g Ft(transformation)i
Fr(proto)r(col)149 2346 y(class)i(that)g(do)r(es)g(exactly)h(this.)p
eop
%%Page: 43 58
bop 1074 1308 a Fl(P)l(art)46 b(I)t(I)t(I)553 1651 y Fq(Windo)l(wing)53
b(Substrate)1276 3632 y Fr(43)p eop
%%Page: 44 59
bop 149 691 a Fl(Chapter)46 b(6)149 1034 y Fq(Ov)l(erview)51
b(of)i(Windo)l(w)g(F)-13 b(acilities)149 1422 y Fk(6.1)91 b(In)m(tro)s
(duction)149 1609 y Fr(A)16 b(cen)n(tral)g(notion)g(in)h(organizing)f(user)g
(in)n(terfaces)f(is)i(allo)r(cating)e(screen)h(regions)f(to)i(particular)e
(tasks)h(and)149 1676 y(recursiv)n(ely)24 b(sub)r(dividing)h(these)e(regions)
h(in)n(to)h(subregions.)43 b(The)24 b(windo)n(wing)h(la)n(y)n(er)h(of)e(CLIM)
h(de\014nes)149 1742 y(an)d(extensible)f(framew)n(ork)g(for)h(constructing,)e
(using,)k(and)e(managing)e(suc)n(h)i Fm(hierarc)n(hies)f(of)h(in)n(teractiv)n
(e)149 1809 y(regions)p Fr(.)h(This)c(framew)n(ork)d(allo)n(ws)j(uniform)e
(treatmen)n(t)d(of)19 b(the)e(follo)n(wing)i(things:)232 1982
y Fj(\017)27 b Fr(Windo)n(w)18 b(ob)s(jects)f(lik)n(e)i(those)e(in)i(X)f(or)f
(NeWS.)232 2087 y Fj(\017)27 b Fr(Ligh)n(t)n(w)n(eigh)n(t)18
b(gadgets)e(t)n(ypical)j(of)f(to)r(olkit)f(la)n(y)n(ers,)i(suc)n(h)f(as)g
(Motif)g(or)g(Op)r(enLo)r(ok.)232 2191 y Fj(\017)27 b Fr(Structured)15
b(graphics)i(lik)n(e)i(output)e(records)f(and)i(an)g(application's)f(presen)n
(tation)e(ob)s(jects.)232 2296 y Fj(\017)27 b Fr(Ob)s(jects)11
b(that)g(act)h(as)g(Lisp)h(handles)e(for)h(windo)n(ws)h(or)f(gadgets)e
(implemen)n(ted)g(in)j(a)f(di\013eren)n(t)g(language)287 2362
y(\(suc)n(h)17 b(as)h(Op)r(enLo)r(ok)e(gadgets)g(implemen)n(ted)g(in)i(C\).)
149 2536 y(F)-5 b(rom)18 b(the)g(p)r(ersp)r(ectiv)n(e)f(of)i(most)f(CLIM)g
(users,)h(CLIM's)g(windo)n(wing)g(la)n(y)n(er)h(pla)n(ys)g(the)e(role)h(of)g
(a)g(windo)n(w)149 2602 y(system.)32 b(Ho)n(w)n(ev)n(er,)22
b(CLIM)f(will)h(usually)g(use)e(the)h(services)f(of)h(a)g(windo)n(w)g(system)
f(platform)f(to)i(pro)n(vide)149 2669 y(e\016cien)n(t)26 b(windo)n(wing,)k
(input,)f(and)e(output)f(facilities.)51 b(In)28 b(this)f(sp)r(eci\014cation,)
g(suc)n(h)g(windo)n(w)g(system)149 2735 y(platforms)16 b(will)j(b)r(e)f
(referred)e(to)h(as)h(host)f(windo)n(w)i(systems)d(or)i(as)g(displa)n(y)h
(serv)n(ers.)149 2868 y(The)j(fundamen)n(tal)e(windo)n(w)j(abstraction)c
(de\014ned)i(b)n(y)i(CLIM)f(is)h(called)g(a)f Fm(sheet)p Fr(.)36
b(A)22 b(sheet)f(can)h(partic-)149 2934 y(ipate)f(in)i(a)f(relationship)f
(called)h(a)g Fm(windo)n(wing)h(relationship)p Fr(.)35 b(This)23
b(relationship)e(is)h(one)g(in)h(whic)n(h)f(one)149 3001 y(sheet)c(called)h
(the)f Fm(paren)n(t)g Fr(pro)n(vides)h(space)f(to)h(a)g(n)n(um)n(b)r(er)f(of)
h(other)f(sheets)f(called)i Fm(c)n(hildren)p Fr(.)28 b(Supp)r(ort)17
b(for)149 3067 y(establishing)22 b(and)g(main)n(taining)g(this)h(kind)h(of)f
(relationship)e(is)j(the)e(essence)g(of)h(what)f(windo)n(w)h(systems)149
3133 y(pro)n(vide.)29 b(A)n(t)20 b(an)n(y)g(p)r(oin)n(t)f(in)h(time,)g(CLIM)f
(allo)n(ws)i(a)e(sheet)g(to)g(b)r(e)g(a)h(c)n(hild)g(in)g(one)g(relationship)
e(called)h(its)149 3200 y Fm(y)n(outh)i(windo)n(wing)h(relationship)e
Fr(and)i(a)f(paren)n(t)g(in)h(another)e(relationship)g(called)i(its)f
Fm(adult)g(windo)n(wing)149 3266 y(relationship)p Fr(.)149
3399 y(Programmer)o(s)14 b(can)i(manipulate)f(unro)r(oted)g(hierarc)n(hies)h
(of)h(sheets)f(\(those)f(without)h(a)h(connection)e(to)i(an)n(y)149
3466 y(particular)i(displa)n(y)j(serv)n(er\).)31 b(Ho)n(w)n(ev)n(er,)22
b(a)f(sheet)f(hierarc)n(h)n(y)g(m)n(ust)g(b)r(e)g(attac)n(hed)f(to)h(a)h
(displa)n(y)h(serv)n(er)e(to)1276 3632 y(44)p eop
%%Page: 45 60
bop 149 16 a Fm(CHAPTER)16 b(6.)43 b(O)n(VER)-6 b(VIEW)17 b(OF)i(WINDO)n(W)f
(F)-6 b(A)n(CILITIES)852 b Fr(45)149 210 y(mak)n(e)18 b(it)h(visible.)27
b Fm(P)n(orts)18 b Fr(and)g Fm(grafts)f Fr(pro)n(vide)i(the)e(functionalit)n
(y)h(for)h(managing)d(this)j(capabilit)n(y)-5 b(.)27 b(A)18
b Fm(p)r(ort)149 276 y Fr(is)d(an)g(abstract)e(connection)g(to)h(a)h(displa)n
(y)h(service)f(that)e(is)j(resp)r(onsible)d(for)i(managing)e(host)h(displa)n
(y)i(serv)n(er)149 342 y(resources)21 b(and)i(for)g(pro)r(cessing)e(input)i
(ev)n(en)n(ts)g(receiv)n(ed)g(from)f(the)h(host)f(displa)n(y)j(serv)n(er.)40
b(A)23 b Fm(graft)f Fr(is)j(a)149 409 y(sp)r(ecial)18 b(kind)i(of)f(sheet)f
(that)g(represen)n(ts)f(a)i(host)f(windo)n(w,)j(t)n(ypically)f(a)f(ro)r(ot)f
(windo)n(w)h(\(that)f(is,)i(a)g(screen-)149 475 y(lev)n(el)e(windo)n(w\).)24
b(A)17 b(sheet)f(is)i(attac)n(hed)e(to)h(a)g(displa)n(y)h(b)n(y)g(making)f
(it)g(a)h(c)n(hild)g(of)f(a)h(graft,)e(whic)n(h)i(represen)n(ts)149
542 y(an)f(appropriate)f(host)h(windo)n(w.)25 b(The)18 b(sheet)e(will)k(then)
d(app)r(ear)f(to)i(b)r(e)f(a)h(c)n(hild)h(of)e(that)g(host)g(windo)n(w.)25
b(So,)149 608 y(a)17 b(sheet)f(is)h(put)g(on)n(to)f(a)h(particular)f(screen)f
(b)n(y)j(making)e(it)i(a)f(c)n(hild)g(of)g(an)g(appropriate)e(graft)h(and)g
(enabling)149 674 y(it.)25 b(P)n(orts)17 b(and)g(grafts)g(are)h(describ)r(ed)
e(in)i(detail)g(in)g(Chapter)f(9.)149 924 y Fk(6.2)91 b(Prop)s(erties)29
b(of)h(Sheets)149 1112 y Fr(Sheets)16 b(ha)n(v)n(e)j(the)e(follo)n(wing)i
(prop)r(erties:)149 1300 y Fo(A)i(co)r(ordinate)h(system)28
b Fr(Pro)n(vides)18 b(the)f(abilit)n(y)i(to)f(refer)f(to)g(lo)r(cations)g(in)
h(a)g(sheet's)f(abstract)f(plane.)149 1410 y Fo(A)21 b(region)29
b Fr(De\014nes)16 b(an)h(area)f(within)h(a)g(sheet's)f(co)r(ordinate)f
(system)g(that)h(indicates)g(the)h(area)f(of)h(in)n(terest)287
1477 y(within)d(the)f(plane,)i(that)e(is,)j(a)e(clipping)g(region)f(for)h
(output)e(and)i(input.)23 b(This)14 b(t)n(ypically)h(corresp)r(onds)287
1543 y(to)j(the)f(visible)i(region)e(of)h(the)g(sheet)e(on)i(the)f(displa)n
(y)-5 b(.)149 1654 y Fo(A)21 b(paren)n(t)29 b Fr(A)17 b(sheet)g(that)f(is)i
(the)f(paren)n(t)g(in)h(a)g(windo)n(wing)f(relationship)g(in)h(whic)n(h)g
(this)f(sheet)g(is)h(a)g(c)n(hild.)149 1765 y Fo(Children)30
b Fr(An)20 b(ordered)e(set)h(of)g(sheets)g(that)f(are)i(eac)n(h)f(a)h(c)n
(hild)g(in)h(a)e(windo)n(wing)h(relationship)f(in)h(whic)n(h)287
1831 y(this)i(sheet)g(is)h(a)f(paren)n(t.)37 b(The)22 b(ordering)f(of)i(the)f
(set)f(corresp)r(onds)f(to)i(the)g(stac)n(king)g(order)f(of)h(the)287
1898 y(sheets.)h(Not)17 b(all)i(sheets)e(ha)n(v)n(e)h(c)n(hildren.)149
2008 y Fo(A)j(transformation)29 b Fr(Determines)18 b(ho)n(w)j(p)r(oin)n(ts)e
(in)i(this)f(sheet's)f(co)r(ordinate)e(system)i(are)h(mapp)r(ed)d(in)n(to)287
2075 y(p)r(oin)n(ts)g(in)i(its)f(paren)n(ts.)149 2185 y Fo(An)j(enabled)j
(\015ag)j Fr(Indicates)14 b(whether)g(the)g(sheet)g(is)i(curren)n(tly)e
(activ)n(ely)i(participating)d(in)j(the)f(windo)n(w-)287 2252
y(ing)j(relationship)f(with)h(its)g(paren)n(t)f(and)h(siblings.)149
2362 y Fo(An)j(ev)n(en)n(t)h(handler)30 b Fr(A)24 b(pro)r(cedure)d(in)n(v)n
(ok)n(ed)k(when)e(the)h(displa)n(y)g(serv)n(er)g(wishes)g(to)f(inform)g(CLIM)
h(of)287 2429 y(external)17 b(ev)n(en)n(ts.)149 2540 y Fo(Output)k(state)28
b Fr(A)20 b(set)g(of)h(v)m(alues)f(used)g(when)g(CLIM)g(causes)g(graphical)f
(or)i(textual)e(output)g(to)i(app)r(ear)287 2606 y(on)d(the)f(displa)n(y)-5
b(.)26 b(This)18 b(state)f(is)i(often)e(represen)n(ted)e(b)n(y)k(a)f(medium.)
149 2855 y Fk(6.3)91 b(Sheet)31 b(Proto)s(cols)149 3043 y Fr(A)21
b(sheet)g(is)h(a)g(participan)n(t)e(in)i(a)g(n)n(um)n(b)r(er)e(of)i(proto)r
(cols.)33 b(Ev)n(ery)22 b(sheet)f(m)n(ust)f(pro)n(vide)i(metho)r(ds)d(for)i
(the)149 3110 y(generic)16 b(functions)h(that)g(mak)n(e)g(up)h(these)f(proto)
r(cols.)22 b(These)c(proto)r(cols)d(are:)149 3298 y Fo(The)22
b(windo)n(wing)h(proto)r(col)28 b Fr(Describ)r(es)21 b(the)h(relationships)f
(b)r(et)n(w)n(een)h(the)g(sheet)f(and)h(its)h(paren)n(t)e(and)287
3364 y(c)n(hildren)d(\(and,)f(b)n(y)i(extension,)e(all)i(of)f(its)g
(ancestors)e(and)i(descendan)n(ts\).)p eop
%%Page: 46 61
bop 149 16 a Fm(CHAPTER)16 b(6.)43 b(O)n(VER)-6 b(VIEW)17 b(OF)i(WINDO)n(W)f
(F)-6 b(A)n(CILITIES)852 b Fr(46)149 210 y Fo(The)22 b(input)g(proto)r(col)29
b Fr(Pro)n(vides)d(the)f(ev)n(en)n(t)h(handler)f(for)h(a)g(sheet.)48
b(Ev)n(en)n(ts)26 b(ma)n(y)g(b)r(e)g(handled)f(syn-)287 276
y(c)n(hronously)-5 b(,)18 b(async)n(hronously)-5 b(,)17 b(or)h(not)g(at)f
(all.)149 387 y Fo(The)22 b(output)f(proto)r(col)29 b Fr(Pro)n(vides)15
b(graphical)g(and)g(textual)g(output,)g(and)g(manages)e(descriptiv)n(e)i
(output)287 453 y(state)i(suc)n(h)h(as)f(color,)h(transformation,)d(and)j
(clipping.)149 564 y Fo(The)k(repain)n(t)h(proto)r(col)28 b
Fr(In)n(v)n(ok)n(ed)19 b(b)n(y)f(the)f(ev)n(en)n(t)h(handler)f(and)g(b)n(y)i
(user)e(programs)e(to)i(ensure)g(that)f(the)287 630 y(output)g(app)r(earing)g
(on)i(the)g(displa)n(y)g(device)g(app)r(ears)e(as)i(the)f(program)f(exp)r
(ects)g(it)i(to)g(app)r(ear.)149 741 y Fo(The)k(noti\014cation)h(proto)r(col)
28 b Fr(In)n(v)n(ok)n(ed)c(b)n(y)g(the)f(ev)n(en)n(t)g(handler)g(and)g(user)f
(programs)f(to)i(ensure)f(that)287 807 y(CLIM's)c(represen)n(tation)c(of)k
(windo)n(w)g(system)e(information)g(is)i(equiv)m(alen)n(t)g(to)f(the)g
(displa)n(y)i(serv)n(er's.)149 996 y(These)f(proto)r(cols)e(ma)n(y)j(b)r(e)f
(handled)g(directly)h(b)n(y)g(a)g(sheet,)f(queued)g(for)h(later)f(pro)r
(cessing)f(b)n(y)i(some)f(other)149 1062 y(agen)n(t,)f(or)h(passed)f(on)h(to)
f(a)i(delegate)d(sheet)h(for)g(further)g(pro)r(cessing.)p eop
%%Page: 47 62
bop 149 691 a Fl(Chapter)46 b(7)149 1034 y Fq(Prop)t(erties)53
b(of)g(Sheets)149 1422 y Fk(7.1)91 b(Basic)30 b(Sheet)g(Classes)149
1609 y Fr(Note)13 b(that)h(there)f(are)h(no)h(standard)e(sheet)g(classes)h
(in)h(CLIM,)g(and)f(no)h(pre-pac)n(k)m(aged)e(w)n(a)n(y)j(to)e(create)f
(sheets)149 1676 y(in)19 b(general.)26 b(If)19 b(a)g(programmer)c(needs)i(to)
i(create)e(an)h(instance)g(of)h(some)e(class)i(of)f(sheet,)g
Ft(make-instance)149 1742 y Fr(m)n(ust)e(b)r(e)h(used.)23 b(F)-5
b(or)18 b(most)e(purp)r(oses,)f(calling)j Ft(make-pane)g Fr(is)g(ho)n(w)f
(application)f(programmers)d(will)19 b(mak)n(e)149 1809 y(sheets.)49
1941 y Fj(\))45 b Ft(sheet)1768 b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23
b(Class)5 b Fr(])149 2060 y(The)14 b(proto)r(col)f(class)h(that)g(corresp)r
(onds)d(to)k(a)g(sheet,)f(a)h(sub)r(class)e(of)i Ft(bounding-rectangle)p
Fr(.)25 b(This)15 b(and)f(the)149 2127 y(next)k(c)n(hapter)f(describ)r(e)g
(all)i(of)g(the)f(sheet)f(proto)r(cols.)24 b(If)19 b(y)n(ou)g(w)n(an)n(t)g
(to)g(create)d(a)j(new)f(class)h(that)e(b)r(eha)n(v)n(es)149
2193 y(lik)n(e)g(a)g(sheet,)f(it)g(should)g(b)r(e)g(a)g(sub)r(class)f(of)h
Ft(sheet)p Fr(.)25 b(Sub)r(classes)14 b(of)j Ft(sheet)g Fr(m)n(ust)e(ob)r(ey)
h(the)f(sheet)g(proto)r(col.)149 2326 y(All)j(of)g(the)g(sub)r(classes)e(of)i
Ft(sheet)h Fr(are)e(m)n(utable.)49 2459 y Fj(\))45 b Ft(sheetp)29
b Fs(obje)m(ct)1705 b Fr([)p Fs(F)l(unction)t Fr(])149 2578
y(Returns)16 b Fm(true)h Fr(if)i Fs(obje)m(ct)h Fr(is)f(a)f
Fm(sheet)p Fr(,)f(otherwise)g(returns)f Fm(false)p Fr(.)149
2827 y Fk(7.2)91 b(Relationships)28 b(Bet)m(w)m(een)k(Sheets)149
3015 y Fr(Sheets)17 b(are)h(arranged)f(in)j(a)f(tree-structured)o(,)d
(acyclic,)k(top-do)n(wn)e(hierarc)n(h)n(y)-5 b(.)27 b(Th)n(us,)20
b(in)g(general,)e(a)h(sheet)149 3081 y(has)c(one)g(paren)n(t)g(\(or)g(no)g
(paren)n(t\))f(and)h(zero)g(or)h(more)e(c)n(hildren.)23 b(A)16
b(sheet)e(ma)n(y)i(ha)n(v)n(e)g(zero)f(or)g(more)f(siblings)149
3147 y(\(that)g(is,)i(other)e(sheets)g(that)h(share)f(the)h(same)f(paren)n
(t\).)22 b(In)15 b(order)g(to)g(describ)r(e)e(the)i(relationships)f(b)r(et)n
(w)n(een)149 3214 y(sheets,)j(w)n(e)h(need)f(to)h(de\014ne)f(some)g(terms.)
149 3399 y Fo(Adopted)28 b Fr(A)14 b(sheet)f(is)i(said)f(to)f(b)r(e)h
Fm(adopted)e Fr(if)i(it)h(has)e(a)i(paren)n(t.)22 b(A)14 b(sheet)e(b)r
(ecomes)f(the)j(paren)n(t)f(of)h(another)287 3466 y(sheet)j(b)n(y)i(adopting)
d(that)h(sheet.)1276 3632 y(47)p eop
%%Page: 48 63
bop 149 16 a Fm(CHAPTER)16 b(7.)43 b(PR)n(OPER)-5 b(TIES)17
b(OF)i(SHEETS)1175 b Fr(48)149 210 y Fo(Diso)n(wned)29 b Fr(A)19
b(sheet)f(is)i(said)f(to)g(b)r(e)g Fm(diso)n(wned)g Fr(if)h(it)g(do)r(es)e
(not)g(ha)n(v)n(e)i(a)g(paren)n(t.)27 b(A)19 b(sheet)f(ceases)g(to)h(b)r(e)g
(a)287 276 y(c)n(hild)g(of)f(another)e(sheet)h(b)n(y)i(b)r(eing)e(diso)n
(wned.)149 380 y Fo(Grafted)28 b Fr(A)15 b(sheet)e(is)i(said)f(to)h(b)r(e)e
Fm(grafted)g Fr(when)h(it)h(is)g(part)e(of)i(a)f(sheet)g(hierarc)n(h)n(y)g
(whose)f(highest)h(ancestor)287 446 y(is)19 b(a)f(graft.)23
b(In)18 b(this)g(case,)g(the)f(sheet)g(ma)n(y)h(b)r(e)f(visible)i(on)f(a)g
(particular)f(windo)n(w)h(serv)n(er.)149 550 y Fo(Degrafted)28
b Fr(A)c(sheet)f(is)h(said)h(to)e(b)r(e)g Fm(degrafted)f Fr(when)i(it)g(is)h
(part)e(of)h(a)g(sheet)f(hierarc)n(h)n(y)g(that)g(cannot)287
616 y(p)r(ossibly)18 b(b)r(e)f(visible)i(on)f(a)g(serv)n(er,)g(that)f(is,)i
(the)e(highest)g(ancestor)f(is)j(not)e(a)h(graft.)149 720 y
Fo(Enabled)29 b Fr(A)18 b(sheet)g(is)h(said)f(to)g(b)r(e)g
Fm(enabled)g Fr(when)g(it)g(is)h(activ)n(ely)g(participating)e(in)i(the)f
(windo)n(wing)g(rela-)287 786 y(tionship)d(with)h(its)g(paren)n(t.)23
b(If)16 b(a)g(sheet)f(is)h(enabled)f(and)g(grafted,)g(and)g(all)i(its)f
(ancestors)e(are)h(enabled)287 852 y(\(they)g(are)g(grafted)f(b)n(y)j
(de\014nition\),)e(then)f(the)i(sheet)e(will)j(b)r(e)e(visible)i(if)g(it)f(o)
r(ccupies)e(a)h(p)r(ortion)g(of)g(the)287 919 y(graft)i(region)g(that)g
(isn't)h(clipp)r(ed)g(b)n(y)g(its)h(ancestors)c(or)j(ancestor's)e(siblings.)
149 1022 y Fo(Disabled)29 b Fr(The)18 b(opp)r(osite)e(of)i(enabled)f(is)i
Fm(disabled)p Fr(.)149 1241 y Fp(7.2.1)75 b(Sheet)24 b(Relationship)j(F)-6
b(unctions)149 1409 y Fr(The)17 b(generic)g(functions)f(in)i(this)g(section)e
(comprise)g(the)h(sheet)f(proto)r(col.)23 b(All)18 b(sheet)f(ob)s(jects)f(m)n
(ust)h(imple-)149 1476 y(men)n(t)g(or)g(inherit)h(metho)r(ds)d(for)j(eac)n(h)
f(of)h(these)f(generic)g(functions.)49 1609 y Fj(\))45 b Ft(sheet-parent)29
b Fs(she)m(et)1339 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
1728 y(Returns)16 b(the)h(paren)n(t)g(of)h(the)g Fm(sheet)e
Fs(she)m(et)p Fr(,)21 b(or)c Ft(nil)i Fr(if)g(the)e(sheet)g(has)g(no)h(paren)
n(t.)49 1860 y Fj(\))45 b Ft(sheet-children)30 b Fs(she)m(et)1280
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1979 y(Returns)15
b(a)i(list)h(of)f(sheets)f(that)g(are)g(the)g(c)n(hildren)h(of)g(the)g
Fm(sheet)e Fs(she)m(et)p Fr(.)27 b(Some)15 b(sheet)h(classes)g(supp)r(ort)f
(only)149 2046 y(a)23 b(single)g(c)n(hild;)k(in)c(this)g(case,)h(the)f
(result)f(of)h Ft(sheet-children)h Fr(will)h(b)r(e)e(a)g(list)g(of)g(one)g
(elemen)n(t.)38 b(This)149 2112 y(function)16 b(returns)h(ob)s(jects)f(that)h
(rev)n(eal)h(CLIM's)g(in)n(ternal)g(state;)f(do)h(not)f(mo)r(dify)g(those)g
(ob)s(jects.)49 2245 y Fj(\))45 b Ft(sheet-adopt-child)30 b
Fs(she)m(et)21 b(child)1060 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 2364 y(Adds)14 b(the)g(c)n(hild)h(sheet)e Fs(child)j
Fr(to)f(the)f(set)g(of)g(c)n(hildren)h(of)f(the)g Fm(sheet)g
Fs(she)m(et)p Fr(,)j(and)d(mak)n(es)g(the)g Fs(she)m(et)j Fr(the)d(c)n
(hild's)149 2431 y(paren)n(t.)23 b(If)18 b Fs(child)i Fr(already)d(has)h(a)g
(paren)n(t,)g(the)f Ft(sheet-already-has-parent)j Fr(error)c(will)k(b)r(e)d
(signalled.)149 2563 y(Some)f(sheet)h(classes)g(supp)r(ort)f(only)i(a)g
(single)g(c)n(hild.)26 b(F)-5 b(or)18 b(suc)n(h)g(sheets,)f(attempting)e(to)i
(adopt)g(more)g(than)149 2630 y(a)h(single)g(c)n(hild)h(will)g(cause)e(the)g
Ft(sheet-supports-only-one-child)k Fr(error)16 b(to)i(b)r(e)f(signalled.)49
2763 y Fj(\))45 b Ft(sheet-disown-child)30 b Fs(she)m(et)21
b(child)g Ft(&key)29 b Fs(\(err)m(orp)22 b Ft(t)p Fs(\))621
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2882 y(Remo)n(v)n(es)c(the)g
(c)n(hild)h(sheet)f Fs(child)i Fr(from)e(the)g(set)h(of)f(c)n(hildren)h(of)g
(the)f Fm(sheet)g Fs(she)m(et)p Fr(,)j(and)d(mak)n(es)h(the)f(paren)n(t)149
2948 y(of)h(the)f(c)n(hild)i(b)r(e)f Ft(nil)p Fr(.)28 b(If)20
b Fs(child)h Fr(is)e(not)g(actually)g(a)g(c)n(hild)h(of)f Fs(she)m(et)i
Fr(and)e Fs(err)m(orp)j Fr(is)d Fm(true)p Fr(,)g(then)f(the)h
Ft(sheet-)149 3014 y(is-not-child)g Fr(error)e(will)i(b)r(e)e(signalled.)49
3147 y Fj(\))45 b Ft(sheet-siblings)30 b Fs(she)m(et)1280 b
Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 3266 y(Returns)14
b(a)i(list)h(of)f(all)h(of)f(the)f(siblings)i(of)f(the)f Fm(sheet)g
Fs(she)m(et)p Fr(.)26 b(The)15 b(sibling)i(are)e(all)i(of)f(the)g(c)n
(hildren)g(of)g Fs(she)m(et)p Fr('s)149 3333 y(paren)n(t)h(excluding)g
Fs(she)m(et)j Fr(itself.)25 b(This)18 b(function)f(returns)f(fresh)h(ob)s
(jects)g(that)g(ma)n(y)g(b)r(e)h(mo)r(di\014ed.)49 3466 y Fj(\))45
b Ft(sheet-enabled-children)30 b Fs(she)m(et)1048 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])p eop
%%Page: 49 64
bop 149 16 a Fm(CHAPTER)16 b(7.)43 b(PR)n(OPER)-5 b(TIES)17
b(OF)i(SHEETS)1175 b Fr(49)149 210 y(Returns)17 b(a)i(list)h(of)f(those)f(c)n
(hildren)h(of)g(the)f Fm(sheet)g Fs(she)m(et)j Fr(that)d(are)g(enabled.)27
b(This)19 b(function)f(returns)f(fresh)149 276 y(ob)s(jects)f(that)h(ma)n(y)h
(b)r(e)f(mo)r(di\014ed.)49 409 y Fj(\))45 b Ft(sheet-ancestor-p)30
b Fs(she)m(et)21 b(putative-anc)m(estor)794 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 528 y(Returns)14 b Fm(true)h Fr(if)h(the)f(the)g
Fm(sheet)g Fs(putative-anc)m(estor)20 b Fr(is)d(in)f(fact)f(an)h(ancestor)d
(of)j(the)f Fm(sheet)g Fs(she)m(et)p Fr(,)j(otherwise)149 594
y(returns)e Fm(false)p Fr(.)49 727 y Fj(\))45 b Ft(raise-sheet)29
b Fs(she)m(et)1368 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49
793 y Fj(\))45 b Ft(bury-sheet)29 b Fs(she)m(et)1397 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 912 y(These)c(functions)g(reorder)f
(the)h(c)n(hildren)h(of)g(a)h(sheet)d(b)n(y)j(raising)f(the)g
Fm(sheet)f Fs(she)m(et)i Fr(to)f(the)g(top)f(or)h(burying)149
979 y(it)g(at)f(the)g(b)r(ottom.)23 b(Raising)c(a)g(sheet)e(puts)h(it)h(at)f
(the)g(b)r(eginning)f(of)i(the)f(ordering;)g(burying)g(it)h(puts)f(it)h(at)
149 1045 y(the)f(end.)26 b(If)19 b(sheets)e(o)n(v)n(erlap,)j(the)e(one)g
(that)g(app)r(ears)f(\\on)h(top")g(on)g(the)h(displa)n(y)g(device)f(is)i
(earlier)e(in)h(the)149 1112 y(ordering)d(than)h(the)h(one)f(underneath.)149
1245 y(This)h(ma)n(y)g(c)n(hange)f(whic)n(h)h(parts)f(of)h(whic)n(h)h(sheets)
d(are)i(visible)h(on)e(the)h(displa)n(y)h(device.)49 1377 y
Fj(\))45 b Ft(reorder-sheets)30 b Fs(she)m(et)21 b(new-or)m(dering)949
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1496 y(Reorders)g(the)h(c)n
(hildren)h(of)g(the)f Fm(sheet)g Fs(she)m(et)j Fr(to)e(ha)n(v)n(e)g(the)g
(new)f(ordering)g(sp)r(eci\014ed)f(b)n(y)j Fs(new-or)m(dering)p
Fr(.)149 1563 y Fs(new-or)m(dering)20 b Fr(is)d(an)g(ordered)f(list)h(of)g
(the)g(c)n(hild)g(sheets;)g(elemen)n(ts)e(at)i(the)f(fron)n(t)h(of)g
Fs(new-or)m(dering)j Fr(are)c(\\on)149 1629 y(top")h(of)h(elemen)n(ts)e(at)i
(the)f(rear.)149 1762 y(If)12 b Fs(new-or)m(dering)j Fr(do)r(es)10
b(not)i(con)n(tain)f(all)i(of)e(the)h(c)n(hildren)f(of)h Fs(she)m(et)p
Fr(,)j(the)d Ft(sheet-ordering-underspecified)149 1829 y Fr(error)17
b(will)k(b)r(e)d(signalled.)26 b(If)20 b Fs(new-or)m(dering)h
Fr(con)n(tains)d(a)h(sheet)f(that)g(is)h(not)f(a)h(c)n(hild)h(of)f
Fs(she)m(et)p Fr(,)i(the)d Ft(sheet-)149 1895 y(is-not-child)h
Fr(error)e(will)i(b)r(e)e(signalled.)49 2028 y Fj(\))45 b Ft(sheet-enabled-p)
30 b Fs(she)m(et)1251 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 2147 y(Returns)c Fm(true)i Fr(if)h(the)e(the)h Fm(sheet)f
Fs(she)m(et)j Fr(is)f(enabled)e(b)n(y)i(its)g(paren)n(t,)f(otherwise)f
(returns)f Fm(false)p Fr(.)32 b(Note)19 b(that)149 2213 y(all)g(of)f(a)g
(sheet's)f(ancestors)e(m)n(ust)i(b)r(e)h(enabled)f(b)r(efore)f(the)h(sheet)g
(is)i(view)n(able.)49 2346 y Fj(\))45 b Ft(\(setf)29 b(sheet-enabled-p\))h
Fs(enable)m(d-p)22 b(she)m(et)805 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 2465 y(When)d Fs(enable)m(d-p)k Fr(is)d Fm(true)p
Fr(,)g(this)f(enables)g(the)g(the)g Fm(sheet)g Fs(she)m(et)p
Fr(.)32 b(When)19 b Fs(enable)m(d-p)j Fr(is)f Fm(false)p Fr(,)f(this)g
(disables)149 2531 y(the)d(sheet.)149 2664 y(Note)f(that)h(a)h(sheet)f(is)i
(not)e(visible)i(unless)f(it)g(and)g(all)h(of)f(its)g(ancestors)e(are)h
(enabled.)49 2797 y Fj(\))45 b Ft(sheet-viewable-p)30 b Fs(she)m(et)1222
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2916 y(Returns)17
b Fm(true)h Fr(if)i(the)f Fm(sheet)e Fs(she)m(et)k Fr(and)e(all)h(its)f
(ancestors)e(are)i(enabled,)f(and)h(if)h(one)f(of)g(its)g(ancestors)e(is)j(a)
149 2983 y(graft.)j(See)18 b(Chapter)e(9)i(for)g(further)e(information.)49
3115 y Fj(\))45 b Ft(sheet-occluding-sheets)30 b Fs(she)m(et)21
b(child)915 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
3234 y(Returns)17 b(a)i(list)h(of)f(the)g Fm(sheet)f Fs(child)p
Fr('s)j(siblings)e(that)f(o)r(cclude)g(part)g(or)h(all)h(of)f(the)g(region)f
(of)h(the)g Fs(child)p Fr(.)29 b(In)149 3301 y(general,)18
b(these)g(are)h(the)g(siblings)g(that)f(are)h(enabled)f(and)h(app)r(ear)e
(earlier)i(in)h(the)e Fm(sheet)g Fs(she)m(et)p Fr('s)j(c)n(hildren.)149
3367 y(If)f Fs(she)m(et)i Fr(do)r(es)d(not)g(p)r(ermit)f(o)n(v)n(erlapping)i
(among)f(its)h(c)n(hildren,)h Ft(sheet-occluding-sheets)h Fr(will)f(return)
149 3434 y Ft(nil)p Fr(.)p eop
%%Page: 50 65
bop 149 16 a Fm(CHAPTER)16 b(7.)43 b(PR)n(OPER)-5 b(TIES)17
b(OF)i(SHEETS)1175 b Fr(50)149 210 y(This)18 b(function)f(returns)f(fresh)h
(ob)s(jects)g(that)g(ma)n(y)h(b)r(e)f(mo)r(di\014ed.)149 430
y Fp(7.2.2)75 b(Sheet)24 b(Genealogy)j(Classes)149 598 y Fr(Di\013eren)n(t)18
b(\\mixin")f(classes)h(are)f(pro)n(vided)h(that)f(implemen)n(t)f(the)h
(relationship)g(proto)r(col.)49 731 y Fj(\))45 b Ft(sheet-parent-mixin)1606
b Fr([)p Fs(Class)5 b Fr(])149 850 y(This)18 b(class)g(is)g(mixed)g(in)n(to)g
(sheet)f(classes)g(that)g(ha)n(v)n(e)i(a)f(paren)n(t.)49 983
y Fj(\))45 b Ft(sheet-leaf-mixin)1664 b Fr([)p Fs(Class)5 b
Fr(])149 1102 y(This)18 b(class)g(is)g(mixed)g(in)n(to)g(sheet)f(classes)g
(that)g(will)j(nev)n(er)d(ha)n(v)n(e)i(c)n(hildren.)49 1235
y Fj(\))45 b Ft(sheet-single-child-mixin)1432 b Fr([)p Fs(Class)5
b Fr(])149 1354 y(This)18 b(class)g(is)g(mixed)g(in)n(to)g(sheet)f(classes)g
(that)g(ha)n(v)n(e)i(at)e(most)g(a)h(single)g(c)n(hild.)49
1487 y Fj(\))45 b Ft(sheet-multiple-child-mixin)1374 b Fr([)p
Fs(Class)5 b Fr(])149 1606 y(This)18 b(class)g(is)g(mixed)g(in)n(to)g(sheet)f
(classes)g(that)g(ma)n(y)h(ha)n(v)n(e)h(zero)e(or)g(more)g(c)n(hildren.)149
1854 y Fk(7.3)91 b(Sheet)31 b(Geometry)149 2042 y Fr(Ev)n(ery)22
b(sheet)e(has)i(a)f(region)g(and)h(a)f(co)r(ordinate)e(system.)35
b(A)21 b(sheet's)g(region)g(refers)f(to)i(its)f(p)r(osition)g(and)149
2108 y(exten)n(t)j(on)h(the)g(displa)n(y)h(device,)h(and)e(is)g(represen)n
(ted)e(b)n(y)j(some)e(sort)g(of)h(a)h(region)e(ob)s(ject,)i(frequen)n(tly)149
2175 y(a)e(rectangle.)41 b(A)24 b(sheet's)f(co)r(ordinate)f(system)g(is)j
(represen)n(ted)d(b)n(y)j(a)f(co)r(ordinate)d(transformation)g(that)149
2241 y(con)n(v)n(erts)c(co)r(ordinates)e(in)k(its)f(co)r(ordinate)d(system)i
(to)g(co)r(ordinates)e(in)k(its)f(paren)n(t's)f(co)r(ordinate)f(system.)149
2461 y Fp(7.3.1)75 b(Sheet)24 b(Geometry)i(F)-6 b(unctions)49
2630 y Fj(\))45 b Ft(sheet-transformation)30 b Fs(she)m(et)1106
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49 2696 y Fj(\))45
b Ft(\(setf)29 b(sheet-transformation\))h Fs(tr)m(ansformation)23
b(she)m(et)525 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
2815 y(Returns)c(a)h(transformation)d(that)j(con)n(v)n(erts)g(co)r(ordinates)
e(in)j(the)f Fm(sheet)f Fs(she)m(et)p Fr('s)k(co)r(ordinate)17
b(system)h(in)n(to)149 2882 y(co)r(ordinates)11 b(in)k(its)f(paren)n(t's)g
(co)r(ordinate)d(system.)22 b(Using)14 b Ft(setf)h Fr(on)f(this)h(accessor)d
(will)k(mo)r(dify)d(the)h(sheet's)149 2948 y(co)r(ordinate)h(system,)i
(including)h(mo)n(ving)f(its)i(region)e(in)h(its)h(paren)n(t's)e(co)r
(ordinate)e(system.)149 3081 y(When)22 b(the)f(sheet's)h(transformation)c(is)
23 b(c)n(hanged,)g Ft(note-sheet-region-changed)h Fr(is)f(called)g(to)f
(notify)149 3147 y(the)17 b(sheet)g(of)h(the)f(c)n(hange.)49
3280 y Fj(\))45 b Ft(sheet-region)29 b Fs(she)m(et)1339 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])49 3347 y Fj(\))45 b Ft(\(setf)29
b(sheet-region\))h Fs(r)m(e)m(gion)22 b(she)m(et)970 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 3466 y(Returns)d(a)j(region)f(ob)s
(ject)f(that)g(represen)n(ts)f(the)i(set)g(of)g(p)r(oin)n(ts)g(to)g(whic)n(h)
h(the)f Fm(sheet)f Fs(she)m(et)j Fr(refers.)34 b(The)p eop
%%Page: 51 66
bop 149 16 a Fm(CHAPTER)16 b(7.)43 b(PR)n(OPER)-5 b(TIES)17
b(OF)i(SHEETS)1175 b Fr(51)149 210 y(region)24 b(is)h(in)h(the)e(sheet's)g
(co)r(ordinate)e(system.)44 b(Using)24 b Ft(setf)i Fr(on)f(this)g(accessor)d
(mo)r(di\014es)h(the)i(sheet's)149 276 y(region.)149 409 y(When)16
b(the)g(sheet's)g(region)g(is)i(c)n(hanged,)e Ft(note-sheet-region-region)i
Fr(is)g(called)f(to)f(notify)h(the)f(sheet)g(of)149 475 y(the)h(c)n(hange.)
149 608 y Fo(Minor)26 b(issue:)67 b Fm(T)-5 b(o)22 b(reshap)r(e)d(and)h(mo)n
(v)n(e)h(a)h(region,)f(y)n(ou)h(generally)e(ha)n(v)n(e)i(to)e(manipulate)f(b)
r(oth)h(of)h(the)149 674 y(ab)r(o)n(v)n(e.)i(Ma)n(yb)r(e)13
b(there)g(should)h(b)r(e)f(a)i(single)f(function)f(that)g(tak)n(es)h(either)f
(or)h(b)r(oth)f(of)h(a)g(new)g(transformation)149 741 y(or)21
b(region?)32 b(Ma)n(yb)r(e)20 b(region)h(co)r(ordinates)d(should)i(b)r(e)h
(expressed)e(in)j(paren)n(ts')e(co)r(ordinates,)f(since)i(that's)149
807 y(easier)c(to)h(set)f(only)h(one?)24 b(|)19 b(RSL)149 940
y Fo(Minor)25 b(issue:)64 b Fm(I'm)20 b(not)g(con)n(vinced)f(I)i(lik)n(e)h
(this)e(business)g(of)g(requesting)f(a)h(c)n(hange)f(b)n(y)j(mo)r(difying)d
(an)149 1007 y(accessor.)i(It)13 b(migh)n(t)g(b)r(e)g(b)r(etter)e(to)i(ha)n
(v)n(e)h(a)g Ft(request-)g Fm(function,)g(so)f(it)h(w)n(ould)g(b)r(e)f(clear)
g(that)f(there)g(migh)n(t)h(b)r(e)149 1073 y(some)h(dela)n(y)i(b)r(efore)e
(the)h(region)f(or)i(transformation)c(w)n(as)k(mo)r(di\014ed.)21
b(Curren)n(tly)-5 b(,)17 b(using)e Ft(setf)h Fm(on)g(mirrored)149
1139 y(sheets)g(requests)g(that)g(the)h(serv)n(er)g(mo)n(v)n(e)h(or)f(resize)
g(the)g(sheet;)g(the)g(accessor)e(will)k(con)n(tin)n(ue)e(to)g(return)f(the)
149 1206 y(old)21 b(v)m(alue)g(un)n(til)h(the)e(noti\014cation)f(comes)g(in)j
(from)e(the)g(displa)n(y)i(serv)n(er)f(that)f(sa)n(ys)h(that)f(the)g(mirror)g
(has)149 1272 y(b)r(een)c(mo)n(v)n(ed.)25 b(|)18 b(RSL)49 1405
y Fj(\))45 b Ft(map-sheet-position-to-parent)30 b Fs(she)m(et)22
b(x)d(y)780 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
1524 y(Applies)g(the)f Fm(sheet)g Fs(she)m(et)p Fr('s)k(transformation)18
b(to)k(the)g(p)r(oin)n(t)f(\()p Fn(x;)9 b(y)r Fr(\),)24 b(returning)c(the)i
(co)r(ordinates)d(of)k(that)149 1591 y(p)r(oin)n(t)17 b(in)i
Fs(she)m(et)p Fr('s)h(paren)n(t's)d(co)r(ordinate)e(system.)49
1723 y Fj(\))45 b Ft(map-sheet-position-to-child)30 b Fs(she)m(et)22
b(x)d(y)809 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
1842 y(Applies)17 b(the)g(in)n(v)n(erse)g(of)h(the)f Fm(sheet)f
Fs(she)m(et)p Fr('s)j(transformation)14 b(to)j(the)g(p)r(oin)n(t)g(\()p
Fn(x;)9 b(y)r Fr(\))17 b(\(represen)n(ted)e(in)j Fs(she)m(et)p
Fr('s)149 1909 y(paren)n(t's)j(co)r(ordinate)f(system\),)h(returning)g(the)h
(co)r(ordinates)d(of)j(that)g(same)f(p)r(oin)n(t)g(in)i Fs(she)m(et)h
Fr(co)r(ordinate)149 1975 y(system.)49 2108 y Fj(\))45 b Ft
(map-sheet-rectangle*-to-parent)30 b Fs(she)m(et)22 b(x1)d(y1)h(x2)g(y2)517
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2227 y(Applies)15
b(the)f Fm(sheet)h Fs(she)m(et)p Fr('s)i(transformation)12
b(to)j(the)g(b)r(ounding)e(rectangle)h(sp)r(eci\014ed)f(b)n(y)k(the)d(corner)
g(p)r(oin)n(ts)149 2293 y(\()p Fn(x)p Fr(1)p Fn(;)9 b(y)r Fr(1\))16
b(and)g(\()p Fn(x)p Fr(2)p Fn(;)9 b(y)r Fr(2\),)16 b(returning)f(the)h(b)r
(ounding)f(rectangle)g(of)i(the)f(transformed)d(region)j(as)g(four)g(v)m
(alues,)149 2360 y Fs(min-x)p Fr(,)24 b Fs(min-y)p Fr(,)h Fs(max-x)p
Fr(,)g(and)d Fs(max-y)p Fr(.)40 b(The)22 b(argumen)n(ts)f Fs(x1)p
Fr(,)k Fs(y1)p Fr(,)g Fs(x2)p Fr(,)g(and)d Fs(y1)i Fr(are)e(canonicalized)f
(in)i(the)149 2426 y(same)16 b(w)n(a)n(y)k(as)e(for)f Ft
(make-bounding-rectangle)p Fr(.)49 2559 y Fj(\))45 b Ft
(map-sheet-rectangle*-to-child)30 b Fs(she)m(et)22 b(x1)d(y1)h(x2)g(y2)546
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2678 y(Applies)13
b(the)g(in)n(v)n(erse)h(of)g(the)f Fm(sheet)g Fs(she)m(et)p
Fr('s)j(transformation)10 b(to)j(the)g(b)r(ounding)f(rectangle)g(delimited)h
(b)n(y)h(the)149 2745 y(corner)g(p)r(oin)n(ts)i(\()p Fn(x)p
Fr(1)p Fn(;)9 b(y)r Fr(1\))15 b(and)h(\()p Fn(x)p Fr(2)p Fn(;)9
b(y)r Fr(2\))15 b(\(represen)n(ted)e(in)k Fs(she)m(et)p Fr('s)h(paren)n(t's)d
(co)r(ordinate)e(system\),)i(returning)149 2811 y(the)h(b)r(ounding)f
(rectangle)g(of)h(the)g(transformed)e(region)i(as)g(four)h(v)m(alues,)g
Fs(min-x)p Fr(,)g Fs(min-y)p Fr(,)h Fs(max-x)p Fr(,)g(and)e
Fs(max-)149 2877 y(y)p Fr(.)27 b(The)18 b(argumen)n(ts)e Fs(x1)p
Fr(,)k Fs(y1)p Fr(,)g Fs(x2)p Fr(,)f(and)g Fs(y1)g Fr(are)f(canonicalized)f
(in)i(the)f(same)f(w)n(a)n(y)j(as)f(for)f Ft(make-bounding-)149
2944 y(rectangle)p Fr(.)149 3077 y Fo(Minor)j(issue:)53 b Fm(I)17
b(no)n(w)g(think)g(that)f Ft(map-)i Fm(in)f(these)f(names)f(is)i(misleading;)
g(ma)n(yb)r(e)f Ft(convert-)h Fm(is)h(b)r(etter?)149 3143 y(|)g(SWM)49
3276 y Fj(\))45 b Ft(child-containing-position)30 b Fs(she)m(et)21
b(x)f(y)867 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
3395 y(Returns)c(the)h(topmost)e(enabled)i(direct)f(c)n(hild)j(of)f(the)f
Fm(sheet)f Fs(she)m(et)k Fr(whose)d(region)g(con)n(tains)g(the)g(p)r(osition)
149 3461 y(\()p Fn(x;)9 b(y)r Fr(\).)24 b(The)18 b(p)r(osition)f(is)h
(expressed)f(in)h Fs(she)m(et)p Fr('s)i(co)r(ordinate)c(system.)p
eop
%%Page: 52 67
bop 149 16 a Fm(CHAPTER)16 b(7.)43 b(PR)n(OPER)-5 b(TIES)17
b(OF)i(SHEETS)1175 b Fr(52)49 210 y Fj(\))45 b Ft
(children-overlapping-region)30 b Fs(she)m(et)22 b(r)m(e)m(gion)738
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49 276 y Fj(\))45
b Ft(children-overlapping-rectangle*)31 b Fs(she)m(et)21 b(x1)e(y1)h(x2)g(y2)
488 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 395 y(Returns)14
b(the)i(list)g(of)h(enabled)e(direct)g(c)n(hildren)h(of)g(the)f
Fm(sheet)g Fs(she)m(et)j Fr(whose)e(region)f(o)n(v)n(erlaps)i(the)e
Fm(region)g Fs(r)m(e-)149 461 y(gion)p Fr(.)26 b Ft
(children-overlapping-rectangle*)21 b Fr(is)d(a)h(sp)r(ecial)e(case)g(of)i
Ft(children-overlapping-region)149 528 y Fr(in)h(whic)n(h)f(the)g(region)f
(is)i(a)g(b)r(ounding)d(rectangle)g(whose)i(corner)f(p)r(oin)n(ts)g(are)h(\()
p Fn(x)p Fr(1)p Fn(;)9 b(y)r Fr(1\))18 b(and)h(\()p Fn(x)p
Fr(2)p Fn(;)9 b(y)r Fr(2\).)28 b(The)149 594 y(region)20 b(is)i(expressed)d
(in)i Fs(she)m(et)p Fr('s)i(co)r(ordinate)c(system.)32 b(This)21
b(function)f(returns)f(fresh)h(ob)s(jects)g(that)g(ma)n(y)149
661 y(b)r(e)d(mo)r(di\014ed.)149 793 y Fo(Minor)27 b(issue:)71
b Fm(The)21 b(ab)r(o)n(v)n(e)h(three)e(functions)h(should)g(really)i(b)r(e)e
Ft(map-over-...)37 b Fm(functions)20 b(to)i(b)r(oth)149 860
y(a)n(v)n(oid)d(consing)e(and)g(b)r(e)h(consisten)n(t)e(with)i(that)f(con)n
(v)n(en)n(tion)h(throughout)d(the)i(rest)h(of)g(CLIM.)g(|)g(SWM)49
993 y Fj(\))45 b Ft(sheet-delta-transformation)30 b Fs(she)m(et)21
b(anc)m(estor)713 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
1112 y(Returns)f(a)i(transformation)c(that)i(is)j(the)e(comp)r(osition)e(of)i
(all)i(of)f(the)f(sheet)f(transformations)e(b)r(et)n(w)n(een)149
1178 y(the)d Fm(sheets)g Fs(she)m(et)j Fr(and)e Fs(anc)m(estor)p
Fr(.)27 b(If)18 b Fs(anc)m(estor)h Fr(is)f Ft(nil)p Fr(,)h
Ft(sheet-delta-transformation)g Fr(will)g(return)c(the)149
1245 y(transformation)j(to)j(the)h(ro)r(ot)e(of)i(the)f(sheet)g(hierarc)n(h)n
(y)-5 b(.)36 b(If)23 b Fs(anc)m(estor)h Fr(is)f(not)e(an)h(ancestor)d(of)j
(sheet,)g(the)149 1311 y Ft(sheet-is-not-ancestor)d Fr(error)e(will)j(b)r(e)d
(signalled.)149 1444 y(The)g(computation)e(of)j(the)g(delta)f(transformation)
d(is)19 b(lik)n(ely)h(to)e(b)r(e)f(cac)n(hed.)49 1577 y Fj(\))45
b Ft(sheet-allocated-region)30 b Fs(she)m(et)21 b(child)915
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1696 y(Returns)d(the)i
(visible)h(region)f(of)g(the)f Fm(sheet)g Fs(child)j Fr(in)f(the)f
Fm(sheet)f Fs(she)m(et)p Fr('s)j(co)r(ordinate)c(system.)33
b(If)21 b Fs(child)i Fr(is)149 1762 y(o)r(ccluded)12 b(b)n(y)j(an)n(y)f(of)g
(its)g(siblings,)i(those)c(siblings')j(regions)e(are)g(subtracted)e(\(using)j
Ft(region-difference)p Fr(\))149 1829 y(from)j Fs(child)p Fr('s)i(actual)e
(region.)149 2050 y Fp(7.3.2)75 b(Sheet)24 b(Geometry)i(Classes)149
2218 y Fr(Eac)n(h)18 b(of)i(the)e(follo)n(wing)i(implemen)n(ts)d(the)h(sheet)
g(geometry)f(proto)r(col)g(in)j(a)f(di\013eren)n(t)g(manner,)e(according)149
2285 y(to)g(the)h(sheet's)f(requiremen)n(ts.)49 2418 y Fj(\))45
b Ft(sheet-identity-transformation-mixin)1113 b Fr([)p Fs(Class)5
b Fr(])149 2537 y(This)18 b(class)g(is)g(mixed)g(in)n(to)g(sheet)f(classes)g
(whose)g(co)r(ordinate)f(system)g(is)j(iden)n(tical)f(to)g(that)e(of)i(its)h
(paren)n(t.)49 2670 y Fj(\))45 b Ft(sheet-translation-mixin)1461
b Fr([)p Fs(Class)5 b Fr(])149 2789 y(This)17 b(class)g(is)h(mixed)e(in)n(to)
h(sheet)f(classes)g(whose)h(co)r(ordinate)d(system)i(is)h(related)f(to)h
(that)f(of)h(its)g(paren)n(t)f(b)n(y)149 2855 y(a)i(simple)f(translation.)49
2988 y Fj(\))45 b Ft(sheet-y-inverting-transformation-mixin)1026
b Fr([)p Fs(Class)5 b Fr(])149 3107 y(This)17 b(class)g(is)h(mixed)e(in)n(to)
h(sheet)f(classes)g(whose)h(co)r(ordinate)d(system)i(is)h(related)f(to)h
(that)f(of)h(its)g(paren)n(t)f(b)n(y)149 3173 y(in)n(v)n(erting)i(the)f
Fn(y)k Fr(co)r(ordinate)15 b(system,)i(and)h(optionally)g(translating)e(b)n
(y)j(some)d(amoun)n(t)h(in)h Fn(x)g Fr(and)g Fn(y)r Fr(.)49
3306 y Fj(\))45 b Ft(sheet-transformation-mixin)1374 b Fr([)p
Fs(Class)5 b Fr(])149 3425 y(This)17 b(class)g(is)h(mixed)e(in)n(to)h(sheet)f
(classes)g(whose)h(co)r(ordinate)d(system)i(is)h(related)f(to)h(that)f(of)h
(its)g(paren)n(t)f(b)n(y)p eop
%%Page: 53 68
bop 149 16 a Fm(CHAPTER)16 b(7.)43 b(PR)n(OPER)-5 b(TIES)17
b(OF)i(SHEETS)1175 b Fr(53)149 210 y(an)18 b(arbitrary)e(a\016ne)i
(transformation.)p eop
%%Page: 54 69
bop 149 691 a Fl(Chapter)46 b(8)149 1034 y Fq(Sheet)51 b(Proto)t(cols)149
1422 y Fk(8.1)91 b(Input)30 b(Proto)s(col)149 1609 y Fr(CLIM's)19
b(windo)n(wing)h(substrate)e(pro)n(vides)h(an)h(input)f(arc)n(hitecture)e
(and)i(standard)f(functionalit)n(y)h(for)g(no-)149 1676 y(tifying)24
b(clien)n(ts)g(of)h(input)f(that)f(is)i(distributed)d(to)i(their)g(sheets.)42
b(Input)23 b(includes)h(suc)n(h)g(ev)n(en)n(ts)g(as)g(the)149
1742 y(p)r(oin)n(ter)14 b(en)n(tering)g(and)g(exiting)h(sheets,)g(p)r(oin)n
(ter)f(motion)f(\(whose)h(gran)n(ularit)n(y)h(is)h(de\014ned)e(b)n(y)i(p)r
(erformance)149 1809 y(limitations\),)e(and)g(p)r(oin)n(ter)g(button)f(and)h
(k)n(eyb)r(oard)f(ev)n(en)n(ts.)24 b(A)n(t)14 b(this)h(lev)n(el,)i(input)d
(is)h(represen)n(ted)d(as)j Fm(ev)n(en)n(t)149 1875 y Fr(ob)s(jects.)149
2008 y(Sheets)k(either)h(participate)f(fully)j(in)f(the)f(input)h(proto)r
(col)d(or)j(are)f(m)n(ute)g(for)g(input.)33 b(If)21 b(an)n(y)h(functions)d
(in)149 2074 y(the)f(input)g(proto)r(col)e(are)i(called)h(on)f(a)h(sheet)e
(that)h(is)h(m)n(ute)f(for)g(input,)h(the)f Ft(sheet-is-mute-for-input)149
2141 y Fr(error)e(will)k(b)r(e)d(signalled.)149 2274 y(In)e(addition)f(to)h
(handling)f(input)h(ev)n(en)n(t,)h(a)f(sheet)f(is)i(also)f(resp)r(onsible)e
(for)i(pro)n(viding)g(other)e(input)i(services,)149 2340 y(suc)n(h)g(as)h
(con)n(trolling)g(the)f(p)r(oin)n(ter's)g(app)r(earance,)e(and)j(p)r(olling)g
(for)f(curren)n(t)g(p)r(oin)n(ter)f(and)i(k)n(eyb)r(oard)f(state.)149
2473 y(Input)g(is)i(pro)r(cessed)c(on)j(a)g(p)r(er-p)r(ort)e(basis)i(b)n(y)h
(the)f(function)f Ft(process-next-event)p Fr(.)25 b(In)16 b(m)n(ultipro)r
(cessing)149 2539 y(en)n(vironmen)n(ts,)k(a)h(pro)r(cess)d(that)i(calls)h
Ft(process-next-event)i Fr(in)e(a)g(lo)r(op)f(is)h(created)e(for)i(eac)n(h)f
(p)r(ort.)31 b(In)149 2606 y(single-pro)r(cess)24 b(Lisps,)29
b Ft(process-next-event)e Fr(is)g(called)f(whenev)n(er)g(the)f(user)h(w)n
(ould)h(go)f(blo)r(c)n(k)n(ed)g(for)149 2672 y(input.)149 2805
y Ft(process-next-event)20 b Fr(has)f(three)f(main)h(tasks)f(when)h(it)h
(receiv)n(es)e(an)h(ev)n(en)n(t.)28 b(First,)20 b(it)g(m)n(ust)e(determine)
149 2871 y(to)i(whic)n(h)i Fm(clien)n(t)f Fr(the)f(ev)n(en)n(t)h(is)h
(addressed;)f(this)g(pro)r(cess)e(is)j(called)f Fm(distributing)p
Fr(.)32 b(T)n(ypically)-5 b(,)24 b(the)d(clien)n(t)149 2938
y(is)h(a)g(sheet,)g(but)f(there)f(are)h(other)g(sp)r(ecial-purp)r(ose)e
(clien)n(ts)j(to)f(whic)n(h)h(ev)n(en)n(ts)g(can)f(also)h(b)r(e)f(dispatc)n
(hed.)149 3004 y(Next,)d Ft(process-next-event)j Fr(formats)16
b(the)j(ev)n(en)n(t)g(in)n(to)g(a)g(standard)e(format,)g(and)h(\014nally)i
(it)f Fm(dispatc)n(hes)149 3071 y Fr(the)14 b(ev)n(en)n(t)h(to)f(the)h(clien)
n(t.)23 b(A)15 b(clien)n(t)g(ma)n(y)g(then)f(either)g(handle)g(the)g(ev)n(en)
n(t)h(sync)n(hronously)-5 b(,)16 b(or)e(it)h(ma)n(y)g(queue)149
3137 y(it)j(for)g(later)f(handling)h(b)n(y)g(another)f(pro)r(cess.)149
3270 y(Input)j(ev)n(en)n(ts)h(can)f(b)r(e)g(broadly)h(categorized)d(in)n(to)j
Fm(p)r(oin)n(ter)f(ev)n(en)n(ts)h Fr(and)f Fm(k)n(eyb)r(oard)g(ev)n(en)n(ts)p
Fr(.)33 b(By)22 b(default,)149 3336 y(p)r(oin)n(ter)h(ev)n(en)n(ts)h(are)f
(dispatc)n(hed)g(to)h(the)f(lo)n(w)n(est)i(sheet)e(in)i(the)e(hierarc)n(h)n
(y)h(whose)g(region)f(con)n(tains)g(the)149 3403 y(lo)r(cation)16
b(of)h(the)g(p)r(oin)n(ter.)23 b(Keyb)r(oard)16 b(ev)n(en)n(ts)i(are)f
(dispatc)n(hed)f(to)h(the)g(p)r(ort's)f(k)n(eyb)r(oard)g(input)i(fo)r(cus;)e
(the)1276 3632 y(54)p eop
%%Page: 55 70
bop 149 16 a Fm(CHAPTER)16 b(8.)43 b(SHEET)17 b(PR)n(OTOCOLS)1313
b Fr(55)149 210 y(accessor)10 b Ft(port-keyboard-input-focus)15
b Fr(con)n(tains)c(the)h(ev)n(en)n(t)h(clien)n(t)f(that)g(receiv)n(es)f(the)h
(p)r(ort's)g(k)n(eyb)r(oard)149 276 y(ev)n(en)n(ts.)149 497
y Fp(8.1.1)75 b(Input)23 b(Proto)r(col)k(F)-6 b(unctions)149
666 y Fr(In)21 b(the)f(functions)g(b)r(elo)n(w,)i(the)f Fs(client)i
Fr(argumen)n(t)c(is)j(t)n(ypically)g(a)f(sheet,)g(but)g(it)g(ma)n(y)g(b)r(e)g
(another)e(ob)s(ject)149 732 y(that)e(supp)r(orts)e(ev)n(en)n(t)j
(distribution,)g(dispatc)n(hing,)f(and)h(handling.)149 865
y Fo(Minor)29 b(issue:)77 b Fm(Do)23 b(w)n(e)h(w)n(an)n(t)g(to)f(adv)n
(ertise)f Ft(sheet-event-queue)p Fm(?)42 b(It)23 b(is)h(analogous)e(to)h(the)
g(input)149 932 y(bu\013er)d(for)g(a)g(stream.)30 b(\(In)20
b(fact,)h(sometimes)c(the)j(stream's)e(input)i(bu\013er)g(and)g(the)g(ev)n
(en)n(t)g(queue)g(for)g(the)149 998 y(shet)d(are)g(the)h(exact)f(same)f(ob)s
(ject.\))23 b(|)c(SWM)49 1131 y Fj(\))45 b Ft(process-next-event)30
b Fs(p)m(ort)21 b Ft(&key)29 b Fs(wait-function)21 b(time)m(out)504
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1250 y(This)c(function)e(pro)
n(vides)h(a)h(standard)e(in)n(terface)g(for)h(one)g(pass)g(through)f(a)i(p)r
(ort's)e(ev)n(en)n(t)i(pro)r(cessing)d(lo)r(op.)149 1316 y
Fs(wait-function)i Fr(is)e(either)f Ft(nil)i Fr(or)f(a)g(function)f(of)i(no)f
(argumen)n(ts)d(that)i(acts)h(as)g(a)g(predicate;)f(it)i(has)f(dynamic)149
1383 y(exten)n(t.)23 b(The)18 b(predicate)e(should)i(w)n(ait)g(un)n(til)h
(one)e(of)h(three)f(conditions)g(o)r(ccurs:)232 1570 y Fj(\017)27
b Fr(If)18 b(an)g(ev)n(en)n(t)g(if)h(receiv)n(ed)e(and)h(pro)r(cessed,)e(the)
h(predicate)f(should)i(return)e Fm(true)p Fr(.)232 1681 y Fj(\017)27
b Fr(If)18 b(a)h(timeout)d(o)r(ccurs,)g(the)h(predicate)f(should)i(return)e
Fm(false)p Fr(.)232 1792 y Fj(\017)27 b Fr(If)e(the)g(w)n(ait)g(function)f
(returns)f Fm(true)p Fr(,)j(the)f(predicate)e(should)h(return)g(the)g(t)n(w)n
(o)h(v)m(alues)g Fm(false)g Fr(and)287 1858 y Ft(:timeout)p
Fr(.)149 2046 y(A)e(p)r(ort)f(implemen)n(tation)e(m)n(ust)j(pro)n(vide)g(a)g
(metho)r(d)e(for)i(this)g(function)f(that)h(reads)f(the)g(next)h(windo)n(w)
149 2112 y(serv)n(er-sp)r(eci\014c)16 b(device)h(ev)n(en)n(t,)i(blo)r(c)n
(king)f(if)g(necessary)-5 b(,)17 b(and)h(then)f(in)n(v)n(ok)n(es)i(the)f(ev)n
(en)n(t)g(distributor.)49 2245 y Fj(\))45 b Ft(port-keyboard-input-focus)30
b Fs(p)m(ort)983 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49
2312 y Fj(\))45 b Ft(\(setf)29 b(port-keyboard-input-focus\))i
Fs(fo)m(cus)20 b(p)m(ort)639 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 2431 y(Returns)16 b(the)h(clien)n(t)h(to)g(whic)n(h)g(k)n(eyb)r
(oard)f(ev)n(en)n(ts)h(are)g(to)f(b)r(e)h(dispatc)n(hed.)149
2563 y Fo(Minor)i(issue:)51 b Fm(Should)15 b(this)h(accessor)e(b)r(e)h
(called)g Ft(keyboard-input-focus)p Fm(?)25 b(It)16 b(ma)n(y)g(b)r(e)f(that)f
(w)n(e)i(w)n(an)n(t)149 2630 y(to)e(b)r(e)h(able)f(to)h(call)h(it)f(on)g(a)g
(frame)e(in)j(order)e(to)g(implemen)n(t)f(some)h(sort)g(of)h(p)r(er-frame)e
(input)h(fo)r(cus.)22 b(|)16 b(RSL)49 2763 y Fj(\))45 b Ft(distribute-event)
30 b Fs(p)m(ort)21 b(event)1099 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 2882 y(The)d Fs(event)i Fr(is)f(distributed)e(to)h(the)f
Fs(p)m(ort)p Fr('s)k(prop)r(er)17 b(clien)n(t.)28 b(In)20 b(general,)f(this)g
(will)i(b)r(e)d(the)h(k)n(eyb)r(oard)f(input)149 2948 y(fo)r(cus)e(for)i(k)n
(eyb)r(oard)f(ev)n(en)n(ts,)h(and)g(the)f(lo)n(w)n(est)i(sheet)d(under)h(the)
h(p)r(oin)n(ter)f(for)g(p)r(oin)n(ter)g(ev)n(en)n(ts.)149 3081
y Fo(Minor)k(issue:)53 b Fm(Do)17 b(w)n(e)g(just)f(w)n(an)n(t)h(to)f(call)h
(this)g(function)f Ft(dispatch-event)i Fm(and)e(ha)n(v)n(e)h(it)g(called)g
(on)f(the)149 3147 y(p)r(ort)g(\014rst?)24 b(|)19 b(RSL)49
3280 y Fj(\))45 b Ft(dispatch-event)30 b Fs(client)21 b(event)1121
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 3399 y(This)g(function)f(is)h
(called)g(b)n(y)h Ft(process-next-event)h Fr(to)d(inform)g(a)h(clien)n(t)g
(ab)r(out)f(an)g(ev)n(en)n(t)h(of)g(in)n(terest.)149 3466 y(It)17
b(is)g(in)n(v)n(ok)n(ed)i(sync)n(hronously)d(b)n(y)i(whatev)n(er)e(pro)r
(cess)f(called)i Ft(process-next-event)p Fr(,)i(so)e(man)n(y)f(metho)r(ds)p
eop
%%Page: 56 71
bop 149 16 a Fm(CHAPTER)16 b(8.)43 b(SHEET)17 b(PR)n(OTOCOLS)1313
b Fr(56)149 210 y(for)21 b(this)g(function)f(will)j(simply)e(queue)g(the)g
(ev)n(en)n(t)g(for)g(later)g(handling.)34 b(Certain)20 b(classes)g(of)i
(clien)n(ts)f(and)149 276 y(ev)n(en)n(ts)d(ma)n(y)g(cause)f(this)h(function)f
(immediately)f(to)i(call)h(either)e Ft(queue-event)i Fr(or)f
Ft(handle-event)p Fr(,)i(or)e(to)149 342 y(ignore)f(the)g(ev)n(en)n(t)h(en)n
(tirely)-5 b(.)49 475 y Fj(\))45 b Ft(queue-event)29 b Fs(client)22
b(event)1208 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
594 y(Places)17 b(the)g(ev)n(en)n(t)h Fs(event)j Fr(in)n(to)d(the)f(queue)h
(of)g(ev)n(en)n(ts)f(for)h(the)f(clien)n(t)i Fs(client)p Fr(.)49
727 y Fj(\))45 b Ft(handle-event)29 b Fs(client)22 b(event)1179
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 846 y(Implemen)n(ts)13
b(the)j(clien)n(t's)g(p)r(olicy)g(with)g(resp)r(ect)e(to)h(the)h(ev)n(en)n
(t.)24 b(F)-5 b(or)16 b(example,)g(if)g(the)g(programmer)c(wishes)149
912 y(to)24 b(highligh)n(t)g(a)h(sheet)e(in)i(resp)r(onse)d(to)j(an)f(ev)n
(en)n(t)g(that)g(informs)f(it)i(that)e(the)h(p)r(oin)n(ter)f(has)i(en)n
(tered)d(its)149 979 y(territory)-5 b(,)16 b(there)f(w)n(ould)i(b)r(e)f(a)g
(metho)r(d)e(to)i(carry)g(out)g(the)g(p)r(olicy)g(that)g(sp)r(ecializes)f
(the)h(appropriate)e(sheet)149 1045 y(and)j(ev)n(en)n(t)h(classes.)149
1178 y(In)g(addition)f(to)h Ft(queue-event)p Fr(,)h(the)e(queued)g(input)h
(proto)r(col)e(handles)h(the)g(follo)n(wing)i(generic)e(functions:)49
1311 y Fj(\))45 b Ft(event-read)29 b Fs(client)1383 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 1430 y(T)-5 b(ak)n(es)18
b(the)g(next)f(ev)n(en)n(t)h(out)g(of)g(the)f(queue)g(of)h(ev)n(en)n(ts)g
(for)g(this)g(clien)n(t.)49 1563 y Fj(\))45 b Ft(event-read-no-hang)30
b Fs(client)1150 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
1682 y(T)-5 b(ak)n(es)22 b(the)f(next)g(ev)n(en)n(t)h(out)f(of)h(the)f(queue)
g(of)h(ev)n(en)n(ts)g(for)f(this)h(clien)n(t.)36 b(It)21 b(returns)f
Ft(nil)j Fr(if)f(there)f(are)g(no)149 1748 y(ev)n(en)n(ts)d(in)g(the)f
(queue.)49 1881 y Fj(\))45 b Ft(event-peek)29 b Fs(client)22
b Ft(&optional)29 b Fs(event-typ)m(e)832 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 2000 y(Returns)11 b(the)h(next)g(ev)n(en)n(t)h(in)h
(the)e(queue)g(without)g(remo)n(ving)g(it)h(from)f(the)g(queue.)22
b(If)13 b Fs(event-typ)m(e)j Fr(is)e(supplied,)149 2067 y(ev)n(en)n(ts)k
(that)f(are)g(not)g(of)h(that)f(t)n(yp)r(e)h(are)f(\014rst)g(remo)n(v)n(ed)g
(and)h(discarded.)49 2199 y Fj(\))45 b Ft(event-unread)29 b
Fs(client)22 b(event)1179 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 2318 y(Places)17 b(the)g Fs(event)k Fr(at)c(the)h(head)f(of)h(the)f
Fs(client)p Fr('s)j(ev)n(en)n(t)e(queue,)g(so)g(as)g(to)g(b)r(e)f(the)g(next)
h(ev)n(en)n(t)g(read.)49 2451 y Fj(\))45 b Ft(event-listen)29
b Fs(client)1325 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
2570 y(Returns)16 b Fm(true)h Fr(if)i(there)d(are)i(an)n(y)g(ev)n(en)n(ts)g
(queued)f(for)h Fs(client)p Fr(,)i(otherwise)d(returns)f Fm(false)p
Fr(.)149 2792 y Fp(8.1.2)75 b(Input)23 b(Proto)r(col)k(Classes)149
2960 y Fr(Most)17 b(classes)h(of)g(sheets)f(will)j(ha)n(v)n(e)e(one)g(of)g
(the)g(follo)n(wing)h(input)f(proto)r(col)e(classes)h(mixed)h(in.)26
b(Of)19 b(course,)149 3027 y(a)g(sheet)f(can)g(alw)n(a)n(ys)i(ha)n(v)n(e)g(a)
f(sp)r(ecialized)f(metho)r(d)e(for)j(a)g(sp)r(eci\014c)f(class)h(of)g(ev)n
(en)n(t)g(that)f(will)i(o)n(v)n(erride)f(the)149 3093 y(default.)j(F)-5
b(or)15 b(example,)g(a)f(sheet)g(ma)n(y)g(need)g(to)h(ha)n(v)n(e)g(only)g(p)r
(oin)n(ter)e(clic)n(k)j(ev)n(en)n(ts)f(dispatc)n(hed)e(to)h(itself,)i(and)149
3159 y(ma)n(y)j(delegate)f(all)j(other)d(ev)n(en)n(ts)i(to)f(some)g(other)f
(input)h(clien)n(t.)30 b(Suc)n(h)20 b(a)g(sheet)e(should)h(ha)n(v)n(e)i
Ft(delegate-)149 3226 y(sheet-input-mixin)g Fr(as)f(a)g(sup)r(erclass,)f(and)
h(ha)n(v)n(e)g(a)g(more)f(sp)r(eci\014c)f(metho)r(d)g(for)i
Ft(dispatch-event)h Fr(on)149 3292 y(its)d(class)g(and)f Ft
(pointer-button-click-event)p Fr(.)49 3425 y Fj(\))45 b Ft
(standard-sheet-input-mixin)1374 b Fr([)p Fs(Class)5 b Fr(])p
eop
%%Page: 57 72
bop 149 16 a Fm(CHAPTER)16 b(8.)43 b(SHEET)17 b(PR)n(OTOCOLS)1313
b Fr(57)149 210 y(This)14 b(class)f(of)h(sheet)f(pro)n(vides)g(a)h(metho)r(d)
d(for)j Ft(dispatch-event)h Fr(that)d(calls)i Ft(queue-event)h
Fr(on)f(eac)n(h)f(device)149 276 y(ev)n(en)n(t.)24 b(Note)17
b(that)g(con\014guration)e(ev)n(en)n(ts)j(in)n(v)n(ok)n(e)i
Ft(handle-event)f Fr(immediately)-5 b(.)49 409 y Fj(\))45 b
Ft(immediate-sheet-input-mixin)1345 b Fr([)p Fs(Class)5 b Fr(])149
528 y(This)15 b(class)g(of)g(sheet)f(pro)n(vides)h(a)g(metho)r(d)e(for)h
Ft(dispatch-event)j Fr(that)d(calls)h Ft(handle-event)h Fr(immediately)149
594 y(for)h(all)i(ev)n(en)n(ts.)49 727 y Fj(\))45 b Ft
(mute-sheet-input-mixin)1490 b Fr([)p Fs(Class)5 b Fr(])149
846 y(This)18 b(is)h(mixed)e(in)i(to)e(an)n(y)i(sheet)e(class)h(the)f(do)r
(es)g(not)g(handle)g(an)n(y)i(input)f(ev)n(en)n(ts.)49 979
y Fj(\))45 b Ft(delegate-sheet-input-mixin)1374 b Fr([)p Fs(Class)5
b Fr(])149 1098 y(This)26 b(class)f(of)h(sheet)e(pro)n(vides)i(a)f(metho)r(d)
e(for)j Ft(dispatch-event)h Fr(that)d(calls)i Ft(dispatch-event)h
Fr(on)f(a)149 1164 y(designated)c(substitute)h(and)h(the)f(ev)n(en)n(t.)44
b(The)25 b(initialization)f(argumen)n(t)e Ft(:delegate)k Fr(or)e(the)g
(accessor)149 1231 y(delegate-sheet-delega)o(te)14 b(ma)n(y)k(b)r(e)f(used)h
(to)f(set)h(the)f(recipien)n(t)g(of)h(dispatc)n(hed)f(ev)n(en)n(ts.)149
1364 y Fo(Minor)23 b(issue:)58 b Fm(What)18 b(is)i(a)f(\\substitute")d(and)i
(ho)n(w)h(do)g(y)n(ou)h(\\designate")c(it?)27 b(Is)19 b(the)g(substitute)d
(what)149 1430 y Ft(delegate-sheet-delegate)j Fm(returns?)k(Do)r(es't)17
b(this)h(w)n(an)n(t)h(an)e(initarg)h(for)g(the)f(substitute?)22
b(|)d(SWM)49 1563 y Fj(\))45 b Ft(delegate-sheet-delegate)30
b Fs(she)m(et)1019 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49
1629 y Fj(\))45 b Ft(\(setf)29 b(delegate-sheet-delegate\))h
Fs(dele)m(gate)23 b(she)m(et)608 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1748 y(This)d(ma)n(y)g(b)r(e)f(set)g(to)h(another)e(recipien)n(t)h
(of)h(ev)n(en)n(ts)g(dispatc)n(hed)e(to)i(a)g(sheet)f(of)h(class)f
Ft(delegate-sheet-)149 1815 y(input-mixin)p Fr(.)25 b(If)19
b(the)e(delegate)f(is)j Ft(nil)p Fr(,)g(ev)n(en)n(ts)f(are)f(discarded.)149
2064 y Fk(8.2)91 b(Standard)29 b(Device)i(Ev)m(en)m(ts)149
2252 y Fr(An)15 b Fm(ev)n(en)n(t)h Fr(is)g(a)g(CLIM)g(ob)s(ject)e(that)h
(represen)n(ts)e(some)i(sort)g(of)g(user)h(gesture)d(\(suc)n(h)j(as)f(mo)n
(ving)h(the)f(p)r(oin)n(ter)149 2318 y(or)22 b(pressing)g(a)h(k)n(ey)h(on)e
(the)h(k)n(eyb)r(oard\))e(or)i(that)e(corresp)r(onds)f(to)i(some)g(sort)g(of)
h(noti\014cation)e(from)g(the)149 2385 y(displa)n(y)c(serv)n(er.)24
b(Ev)n(en)n(t)16 b(ob)s(jects)f(store)h(suc)n(h)g(things)g(as)g(the)g(sheet)g
(asso)r(ciated)e(with)i(the)g(ev)n(en)n(t,)i(the)d Fn(x)i Fr(and)149
2451 y Fn(y)k Fr(bp)r(osition)d(of)h(the)g(p)r(oin)n(ter)f(within)h(that)f
(sheet,)h(the)f(k)n(ey)i(name)e(or)h(c)n(haracter)e(corresp)r(onding)f(to)i
(a)i(k)n(ey)149 2517 y(on)e(the)f(k)n(eyb)r(oard,)g(and)h(so)g(forth.)149
2650 y(Figure)f(8.1)i(sho)n(ws)e(all)i(the)f(ev)n(en)n(t)g(classes.)49
2783 y Fj(\))45 b Ft(event)1768 b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23
b(Class)5 b Fr(])149 2902 y(The)21 b(proto)r(col)e(class)h(that)g(corresp)r
(onds)e(to)j(an)n(y)h(sort)e(of)h(\\ev)n(en)n(t".)33 b(If)22
b(y)n(ou)f(w)n(an)n(t)h(to)f(create)e(a)i(new)g(class)149 2969
y(that)16 b(b)r(eha)n(v)n(es)g(lik)n(e)j(an)e(ev)n(en)n(t,)g(it)h(should)e(b)
r(e)h(a)g(sub)r(class)f(of)h Ft(event)p Fr(.)25 b(Sub)r(classes)15
b(of)i Ft(event)h Fr(m)n(ust)e(ob)r(ey)g(the)149 3035 y(ev)n(en)n(t)i(proto)r
(col.)149 3168 y(All)g(of)g(the)g(ev)n(en)n(t)g(classes)f(are)g(imm)n
(utable.)49 3301 y Fj(\))45 b Ft(eventp)29 b Fs(obje)m(ct)1705
b Fr([)p Fs(F)l(unction)t Fr(])149 3420 y(Returns)16 b Fm(true)h
Fr(if)i Fs(obje)m(ct)h Fr(is)f(an)f Fm(ev)n(en)n(t)p Fr(,)g(otherwise)f
(returns)f Fm(false)p Fr(.)p eop
%%Page: 58 73
bop 149 16 a Fm(CHAPTER)16 b(8.)43 b(SHEET)17 b(PR)n(OTOCOLS)1313
b Fr(58)p 149 156 2310 3 v 149 258 a Ft(event)232 325 y(device-event)315
391 y(keyboard-event)398 458 y(key-press-event)398 524 y(key-release-event)
315 590 y(pointer-event)398 657 y(pointer-button-event)481
723 y(pointer-button-press-event)481 790 y(pointer-button-release-event)481
856 y(pointer-button-hold-event)398 922 y(pointer-motion-event)481
989 y(pointer-enter-event)481 1055 y(pointer-exit-event)232
1122 y(window-event)315 1188 y(window-configuration-event)315
1255 y(window-repaint-event)232 1321 y(timer-event)149 1564
y Fr(Figure)17 b(8.1:)25 b(CLIM)17 b(ev)n(en)n(t)h(classes.)24
b(All)18 b(classes)f(that)g(app)r(ear)f(at)h(a)h(giv)n(en)g(inden)n(tation)f
(are)g(sub)r(classes)f(of)149 1631 y(the)h(class)h(that)f(app)r(ears)f(ab)r
(o)n(v)n(e)h(and)h(at)g(a)g(lesser)f(inden)n(tation.)p 149
1777 V 49 1943 a Fj(\))45 b Ft(:timestamp)1772 b Fr([)p Fs(Init)21
b(A)o(r)m(g)5 b Fr(])149 2062 y(All)17 b(sub)r(classes)e(of)i
Ft(event)h Fr(m)n(ust)e(tak)n(e)g(a)h Ft(:timestamp)h Fr(initarg,)f(whic)n(h)
g(is)h(used)e(to)g(sp)r(ecify)h(the)f(timestamp)149 2128 y(for)h(the)h(ev)n
(en)n(t.)49 2261 y Fj(\))45 b Ft(event-timestamp)30 b Fs(event)1243
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2380 y(Returns)d(an)h(in)n
(teger)g(that)g(is)h(a)g(monotonically)e(increasing)h(timestamp)d(for)k(the)f
(the)g Fm(ev)n(en)n(t)h Fs(event)p Fr(.)35 b(The)149 2446 y(timestamp)15
b(m)n(ust)i(ha)n(v)n(e)h(at)g(least)g(as)f(man)n(y)h(bits)g(of)g(precision)f
(as)h(a)g(\014xn)n(um.)49 2579 y Fj(\))45 b Ft(event-type)29
b Fs(event)1389 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
2698 y(F)-5 b(or)19 b(the)f Fm(ev)n(en)n(t)h Fs(event)p Fr(,)j(returns)c(a)h
(k)n(eyw)n(ord)g(with)h(the)e(same)g(name)f(as)i(the)g(class)f(name,)h
(except)e(stripp)r(ed)149 2765 y(of)k(the)f(\\-ev)n(en)n(t")h(ending.)32
b(F)-5 b(or)22 b(example,)e(the)h(k)n(eyw)n(ord)g Ft(:key-press)h
Fr(is)g(returned)c(b)n(y)k Ft(event-type)g Fr(for)149 2831
y(an)c(ev)n(en)n(t)g(whose)f(class)h(is)g Ft(key-press-event)p
Fr(.)149 2964 y(All)g(ev)n(en)n(t)g(classes)g(m)n(ust)f(implemen)n(t)f(metho)
r(ds)f(for)j Ft(event-type)h Fr(and)f Ft(event-timestamp)p
Fr(.)49 3097 y Fj(\))45 b Ft(device-event)1780 b Fr([)p Fs(Class)5
b Fr(])49 3163 y Fj(\))45 b Ft(:sheet)1888 b Fr([)p Fs(Init)21
b(A)o(r)m(g)5 b Fr(])49 3230 y Fj(\))45 b Ft(:modifier-state)1627
b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])149 3349 y(The)17
b(class)h(that)f(corresp)r(onds)e(to)j(an)n(y)g(sort)f(of)h(device)g(ev)n(en)
n(t.)24 b(This)19 b(is)g(a)f(sub)r(class)e(of)i Ft(event)p
Fr(.)p eop
%%Page: 59 74
bop 149 16 a Fm(CHAPTER)16 b(8.)43 b(SHEET)17 b(PR)n(OTOCOLS)1313
b Fr(59)149 210 y(All)16 b(sub)r(classes)e(of)h Ft(device-event)i
Fr(m)n(ust)e(tak)n(e)h(the)f Ft(:sheet)h Fr(and)f Ft(:modifier-state)i
Fr(initargs,)f(whic)n(h)g(are)149 276 y(used)h(to)h(sp)r(ecify)f(the)g(sheet)
g(and)h(mo)r(di\014er)e(state)g(comp)r(onen)n(ts)f(for)j(the)f(ev)n(en)n(t.)
49 409 y Fj(\))45 b Ft(event-sheet)29 b Fs(devic)m(e-event)1198
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 528 y(Returns)16
b(the)h(sheet)g(asso)r(ciated)f(with)i(the)f(ev)n(en)n(t)h
Fs(devic)m(e-event)p Fr(.)49 661 y Fj(\))45 b Ft(event-modifier-state)30
b Fs(devic)m(e-event)936 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 780 y(Returns)d(a)i(v)m(alue)g(that)f(enco)r(des)f(the)i(state)e(of)
j(all)g(the)e(mo)r(di\014er)f(k)n(eys)j(on)f(the)f(k)n(eyb)r(oard.)33
b(This)22 b(will)g(b)r(e)149 846 y(a)e(mask)g(consisting)f(of)i(the)e
Ft(logior)i Fr(of)g Ft(+shift-key+)p Fr(,)h Ft(+control-key+)p
Fr(,)h Ft(+meta-key+)p Fr(,)f Ft(+super-key+)p Fr(,)149 912
y(and)17 b Ft(+hyper-key+)p Fr(.)149 1045 y(All)e(device)g(ev)n(en)n(t)g
(classes)f(m)n(ust)g(implemen)n(t)f(metho)r(ds)f(for)j Ft(event-sheet)h
Fr(and)f Ft(event-modifier-state)p Fr(.)49 1178 y Fj(\))45
b Ft(keyboard-event)1722 b Fr([)p Fs(Class)5 b Fr(])49 1245
y Fj(\))45 b Ft(:key-name)1801 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5
b Fr(])149 1364 y(The)17 b(class)h(that)f(corresp)r(onds)e(to)j(an)n(y)g
(sort)f(of)h(k)n(eyb)r(oard)f(ev)n(en)n(t.)25 b(This)18 b(is)h(a)f(sub)r
(class)f(of)h Ft(device-event)p Fr(.)149 1496 y(All)f(sub)r(classes)d(of)i
Ft(keyboard-event)i Fr(m)n(ust)d(tak)n(e)h(the)f Ft(:key-name)j
Fr(initarg,)e(whic)n(h)h(is)f(used)g(to)g(sp)r(ecify)f(the)149
1563 y(k)n(ey)k(name)d(comp)r(onen)n(t)f(for)j(the)f(ev)n(en)n(t.)49
1696 y Fj(\))45 b Ft(keyboard-event-key-name)30 b Fs(keyb)m(o)m(ar)m(d-event)
791 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1815 y(Returns)c(the)i
(name)f(of)h(the)g(k)n(ey)i(that)d(w)n(as)i(pressed)d(or)j(released)e(in)i(a)
f(k)n(eyb)r(oard)f(ev)n(en)n(t.)32 b(This)21 b(will)h(b)r(e)e(a)149
1881 y(sym)n(b)r(ol)12 b(whose)g(v)m(alue)h(is)h(p)r(ort-sp)r(eci\014c.)20
b(Key)13 b(names)f(corresp)r(onding)d(to)k(the)f(set)h(of)g(\\standard")d(c)n
(haracters)149 1948 y(\(suc)n(h)17 b(as)h(the)f(alphan)n(umerics\))f(will)j
(b)r(e)f(a)g(sym)n(b)r(ol)f(in)i(the)e(k)n(eyw)n(ord)h(pac)n(k)m(age.)49
2080 y Fj(\))45 b Ft(keyboard-event-character)30 b Fs(keyb)m(o)m(ar)m
(d-event)762 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
2199 y(Returns)16 b(the)h(c)n(haracter)f(asso)r(ciated)g(with)i(the)f(ev)n
(en)n(t)h Fs(keyb)m(o)m(ar)m(d-event)q Fr(,)k(if)d(there)e(is)h(an)n(y)-5
b(.)149 2332 y(All)12 b(k)n(eyb)r(oard)f(ev)n(en)n(t)h(classes)f(m)n(ust)g
(implemen)n(t)f(metho)r(ds)f(for)j Ft(keyboard-event-key-name)h
Fr(and)f Ft(keyboard-)149 2399 y(event-character)p Fr(.)49
2531 y Fj(\))45 b Ft(key-press-event)1693 b Fr([)p Fs(Class)5
b Fr(])49 2598 y Fj(\))45 b Ft(key-release-event)1635 b Fr([)p
Fs(Class)5 b Fr(])149 2717 y(The)22 b(classes)g(that)f(corresp)r(ond)f(to)i
(a)h(k)n(ey)h(press)d(or)i(release)e(ev)n(en)n(t.)39 b(This)23
b(is)g(a)g(sub)r(class)e(of)i Ft(keyboard-)149 2783 y(event)p
Fr(.)49 2916 y Fj(\))45 b Ft(pointer-event)1751 b Fr([)p Fs(Class)5
b Fr(])49 2983 y Fj(\))45 b Ft(:pointer)1830 b Fr([)p Fs(Init)21
b(A)o(r)m(g)5 b Fr(])49 3049 y Fj(\))45 b Ft(:button)1859 b
Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])49 3115 y Fj(\))45 b
Ft(:x)2004 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])49 3182
y Fj(\))45 b Ft(:y)2004 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b
Fr(])149 3301 y(The)17 b(class)h(that)f(corresp)r(onds)e(to)j(an)n(y)g(sort)f
(of)h(p)r(oin)n(ter)f(ev)n(en)n(t.)25 b(This)18 b(is)h(a)f(sub)r(class)e(of)j
Ft(device-event)p Fr(.)149 3434 y(All)g(sub)r(classes)e(of)i
Ft(pointer-event)h Fr(m)n(ust)e(tak)n(e)g(the)h Ft(:pointer)p
Fr(,)h Ft(:button)p Fr(,)g Ft(:x)p Fr(,)g(and)e Ft(:y)i Fr(initargs,)e(whic)n
(h)p eop
%%Page: 60 75
bop 149 16 a Fm(CHAPTER)16 b(8.)43 b(SHEET)17 b(PR)n(OTOCOLS)1313
b Fr(60)149 210 y(are)15 b(used)g(to)g(sp)r(ecify)g(the)g(p)r(oin)n(ter)g(ob)
s(ject,)g(p)r(oin)n(ter)g(button,)g(and)g(nativ)n(e)h Fn(x)g
Fr(and)f Fn(y)j Fr(p)r(osition)d(of)h(the)f(p)r(oin)n(ter)149
276 y(at)k(the)g(time)g(of)h(the)f(ev)n(en)n(t.)30 b(The)19
b(sheet's)g Fn(x)h Fr(and)f Fn(y)j Fr(p)r(ositions)d(are)g(deriv)n(ed)h(from)
e(the)h(supplied)h(nativ)n(e)g Fn(x)149 342 y Fr(and)d Fn(y)k
Fr(p)r(ositions)c(and)g(the)h(sheet)e(itself.)49 475 y Fj(\))45
b Ft(pointer-event-x)30 b Fs(p)m(ointer-event)1056 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])49 542 y Fj(\))45 b Ft(pointer-event-y)30
b Fs(p)m(ointer-event)1056 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 661 y(Returns)d(the)h Fn(x)i Fr(and)e Fn(y)k Fr(p)r(osition)c(of)h
(the)f(p)r(oin)n(ter)g(at)h(the)f(time)g(the)h(ev)n(en)n(t)g(o)r(ccurred,)e
(in)j(the)e(co)r(ordinate)149 727 y(system)g(of)h(the)g(sheet)f(that)g
(receiv)n(ed)h(the)g(ev)n(en)n(t.)35 b(All)22 b(p)r(oin)n(ter)e(ev)n(en)n(ts)
h(m)n(ust)g(implemen)n(t)f(a)h(metho)r(d)e(for)149 793 y(these)d(generic)h
(functions.)49 926 y Fj(\))45 b Ft(pointer-event-native-x)30
b Fs(p)m(ointer-event)853 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])49 993 y Fj(\))45 b Ft(pointer-event-native-y)30 b Fs(p)m(ointer-event)
853 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1112 y(Returns)12
b(the)i Fn(x)g Fr(and)g Fn(y)i Fr(p)r(osition)d(of)h(the)g(p)r(oin)n(ter)f
(at)h(the)f(time)g(the)h(ev)n(en)n(t)g(o)r(ccurred,)e(in)j(the)e(p)r(oin)n
(ter's)h(nativ)n(e)149 1178 y(co)r(ordinate)h(system.)23 b(All)c(p)r(oin)n
(ter)e(ev)n(en)n(ts)g(m)n(ust)h(implemen)n(t)e(a)i(metho)r(d)d(for)j(these)f
(generic)f(functions.)49 1311 y Fj(\))45 b Ft(pointer-event-pointer)30
b Fs(p)m(ointer-event)882 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1430 y(Returns)16 b(the)h(p)r(oin)n(ter)g(ob)s(ject)g(to)g(whic)n(h)
i(this)f(ev)n(en)n(t)g(refers.)49 1563 y Fj(\))45 b Ft(pointer-event-button)
30 b Fs(p)m(ointer-event)911 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1682 y(Returns)f(the)h(n)n(um)n(b)r(er)f(of)i(the)f(p)r(oin)n(ter)f
(button)g(that)h(w)n(as)h(pressed,)g(whic)n(h)g(will)h(b)r(e)e(one)g(of)h
Ft(+pointer-)149 1748 y(left-button+)p Fr(,)c Ft(+pointer-middle-button+)p
Fr(,)h(or)e Ft(+pointer-right-button+)p Fr(.)149 1881 y(All)26
b(p)r(oin)n(ter)e(ev)n(en)n(t)h(classes)g(m)n(ust)f(implemen)n(t)g(metho)r
(ds)e(for)j Ft(pointer-event-x)p Fr(,)k Ft(pointer-event-y)p
Fr(,)149 1948 y Ft(pointer-event-native-x)p Fr(,)15 b Ft
(pointer-event-native-y)p Fr(,)g Ft(pointer-event-pointer)p
Fr(,)g(and)d Ft(pointer-)149 2014 y(event-button)p Fr(.)49
2147 y Fj(\))45 b Ft(pointer-button-event)1548 b Fr([)p Fs(Class)5
b Fr(])149 2266 y(The)18 b(class)h(that)f(corresp)r(onds)e(to)j(an)n(y)g
(sort)f(of)h(p)r(oin)n(ter)f(button)f(ev)n(en)n(t.)28 b(This)19
b(is)h(a)f(sub)r(class)f(of)h Ft(pointer-)149 2332 y(event)p
Fr(.)49 2465 y Fj(\))45 b Ft(pointer-button-press-event)1374
b Fr([)p Fs(Class)5 b Fr(])49 2531 y Fj(\))45 b Ft
(pointer-button-release-event)1316 b Fr([)p Fs(Class)5 b Fr(])49
2598 y Fj(\))45 b Ft(pointer-button-hold-event)1403 b Fr([)p
Fs(Class)5 b Fr(])149 2717 y(The)15 b(classes)g(that)g(corresp)r(ond)e(to)i
(a)h(p)r(oin)n(ter)f(button)f(press,)i(button)e(release,)h(and)h(clic)n
(k-and-hold)g(ev)n(en)n(ts.)149 2783 y(These)h(are)g(sub)r(classes)f(of)i
Ft(pointer-button-event)p Fr(.)49 2916 y Fj(\))45 b Ft
(pointer-button-click-event)1374 b Fr([)p Fs(Class)5 b Fr(])49
2983 y Fj(\))45 b Ft(pointer-button-double-click-event)1171
b Fr([)p Fs(Class)5 b Fr(])49 3049 y Fj(\))45 b Ft
(pointer-button-click-and-hold-event)1113 b Fr([)p Fs(Class)5
b Fr(])149 3168 y(The)21 b(classes)g(that)g(corresp)r(ond)d(to)k(a)f(p)r(oin)
n(ter)g(button)f(press,)i(follo)n(w)n(ed)g(immediately)e(b)n(y)j(\(resp)r
(ectiv)n(ely\))149 3234 y(a)f(button)g(release,)g(another)f(button)g(press,)j
(or)e(p)r(oin)n(ter)f(motion.)37 b(These)22 b(are)g(sub)r(classes)f(of)i
Ft(pointer-)149 3301 y(button-event)p Fr(.)i(P)n(orts)18 b(are)f(not)g
(required)h(to)f(generate)f(these)g(ev)n(en)n(ts.)49 3434 y
Fj(\))45 b Ft(pointer-motion-event)1548 b Fr([)p Fs(Class)5
b Fr(])p eop
%%Page: 61 76
bop 149 16 a Fm(CHAPTER)16 b(8.)43 b(SHEET)17 b(PR)n(OTOCOLS)1313
b Fr(61)149 210 y(The)18 b(class)h(that)e(corresp)r(onds)f(to)i(an)n(y)h
(sort)f(of)h(p)r(oin)n(ter)e(motion)g(ev)n(en)n(t.)27 b(This)19
b(is)g(a)g(sub)r(class)e(of)i Ft(pointer-)149 276 y(event)p
Fr(.)49 409 y Fj(\))45 b Ft(pointer-enter-event)1577 b Fr([)p
Fs(Class)5 b Fr(])49 475 y Fj(\))45 b Ft(pointer-exit-event)1606
b Fr([)p Fs(Class)5 b Fr(])149 594 y(The)22 b(classes)h(that)f(corresp)r(ond)
e(to)i(a)h(p)r(oin)n(ter)f(en)n(ter)g(or)h(exit)g(ev)n(en)n(t.)40
b(This)23 b(is)h(a)f(sub)r(class)f(of)h Ft(pointer-)149 661
y(motion-event)p Fr(.)49 793 y Fj(\))45 b Ft(window-event)1780
b Fr([)p Fs(Class)5 b Fr(])49 860 y Fj(\))45 b Ft(:region)1859
b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])149 979 y(The)16 b(class)h(that)f
(corresp)r(onds)d(to)k(an)n(y)g(sort)f(of)h(windo)n(wing)g(ev)n(en)n(t.)24
b(This)17 b(is)h(a)f(sub)r(class)e(of)i Ft(device-event)p Fr(.)149
1112 y(All)d(sub)r(classes)e(of)i Ft(window-event)h Fr(m)n(ust)e(tak)n(e)g(a)
h Ft(:region)h Fr(initarg,)f(whic)n(h)h(is)f(used)f(to)h(sp)r(ecify)f(the)g
(damage)149 1178 y(region)k(asso)r(ciated)e(with)j(the)g(ev)n(en)n(t.)49
1311 y Fj(\))45 b Ft(window-event-region)30 b Fs(window-event)929
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1430 y(Returns)16
b(the)h(region)h(of)g(the)f(sheet)g(that)g(is)h(a\013ected)f(b)n(y)i(a)f
(windo)n(w)g(ev)n(en)n(t.)49 1563 y Fj(\))45 b Ft(window-event-native-region)
30 b Fs(window-event)726 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1682 y(Returns)16 b(the)h(region)h(of)g(the)f(sheet)g(in)h(nativ)n
(e)g(co)r(ordinates.)49 1815 y Fj(\))45 b Ft(window-event-mirrored-sheet)30
b Fs(window-event)697 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1934 y(Returns)16 b(the)h(mirrored)f(sheet)h(that)g(is)i(attac)n
(hed)d(to)h(the)h(mirror)e(on)i(whic)n(h)h(the)e(ev)n(en)n(t)h(o)r(ccurred.)
149 2067 y(All)i(windo)n(w)g(ev)n(en)n(t)f(classes)g(m)n(ust)g(implemen)n(t)f
(metho)r(ds)e(for)k Ft(window-event-region)p Fr(,)h Ft(window-event-)149
2133 y(native-region)p Fr(,)e(and)f Ft(window-event-mirrored-sheet)p
Fr(.)49 2266 y Fj(\))45 b Ft(window-configuration-event)1374
b Fr([)p Fs(Class)5 b Fr(])149 2385 y(The)24 b(class)h(that)f(corresp)r(onds)
e(to)i(a)h(windo)n(w)h(c)n(hanging)e(its)h(size)g(or)g(p)r(osition.)44
b(This)25 b(is)h(a)f(sub)r(class)f(of)149 2451 y Ft(window-event)p
Fr(.)49 2584 y Fj(\))45 b Ft(window-repaint-event)1548 b Fr([)p
Fs(Class)5 b Fr(])149 2703 y(The)20 b(class)h(that)f(corresp)r(onds)d(to)k(a)
g(request)e(to)i(repain)n(t)f(the)g(windo)n(w.)34 b(This)21
b(is)g(a)g(sub)r(class)f(of)h Ft(window-)149 2769 y(event)p
Fr(.)49 2902 y Fj(\))45 b Ft(timer-event)1809 b Fr([)p Fs(Class)5
b Fr(])149 3021 y(The)17 b(class)h(that)f(corresp)r(onds)e(to)j(a)g(timeout)e
(ev)n(en)n(t.)24 b(This)19 b(is)f(a)g(sub)r(class)f(of)h Ft(event)p
Fr(.)49 3154 y Fj(\))45 b Ft(+pointer-left-button+)1428 b Fr([)p
Fs(Constant)5 b Fr(])49 3221 y Fj(\))45 b Ft(+pointer-middle-button+)1370
b Fr([)p Fs(Constant)5 b Fr(])49 3287 y Fj(\))45 b Ft(+pointer-right-button+)
1399 b Fr([)p Fs(Constant)5 b Fr(])149 3406 y(Constan)n(ts)15
b(that)h(corresp)r(ond)f(to)h(the)h(left,)g(middle,)h(and)e(righ)n(t)h
(button)f(on)h(a)g(p)r(oin)n(ting)g(device.)24 b Ft(pointer-)p
eop
%%Page: 62 77
bop 149 16 a Fm(CHAPTER)16 b(8.)43 b(SHEET)17 b(PR)n(OTOCOLS)1313
b Fr(62)149 210 y Ft(event-button)19 b Fr(will)g(returns)e(one)g(of)h(these)f
(three)f(v)m(alues.)49 342 y Fj(\))45 b Ft(+shift-key+)1718
b Fr([)p Fs(Constant)5 b Fr(])49 409 y Fj(\))45 b Ft(+control-key+)1660
b Fr([)p Fs(Constant)5 b Fr(])49 475 y Fj(\))45 b Ft(+meta-key+)1747
b Fr([)p Fs(Constant)5 b Fr(])49 542 y Fj(\))45 b Ft(+super-key+)1718
b Fr([)p Fs(Constant)5 b Fr(])49 608 y Fj(\))45 b Ft(+hyper-key+)1718
b Fr([)p Fs(Constant)5 b Fr(])149 727 y(Constan)n(ts)14 b(that)h(corresp)r
(ond)e(to)i(the)g(shift,)i(con)n(trol,)e(meta,)g(sup)r(er,)h(and)f(h)n(yp)r
(er)g(mo)r(di\014er)f(k)n(eys)j(b)r(eing)e(held)149 793 y(do)n(wn)h(on)h(the)
e(k)n(eyb)r(oard.)23 b(These)16 b(constan)n(ts)f(m)n(ust)g(b)r(e)h(p)r(o)n(w)
n(ers)g(of)g(2)h(so)f(that)g(they)g(can)g(b)r(e)g(com)n(bined)f(with)149
860 y Ft(logior)g Fr(and)f(tested)f(with)h Ft(logtest)p Fr(.)24
b Ft(event-modifier-state)16 b Fr(will)g(return)d(some)g(com)n(bination)f(of)
j(these)149 926 y(v)m(alues.)149 1059 y(Implemen)n(tations)k(m)n(ust)j(supp)r
(ort)f(at)i(least)f(shift,)j(con)n(trol,)e(and)g(meta)e(mo)r(di\014ers.)37
b(Con)n(trol)23 b(and)f(meta)149 1126 y(migh)n(t)e(corresp)r(ond)f(to)i(the)f
(con)n(trol)h(and)f(option)h(or)g(command)d(shift)k(k)n(eys)g(on)f(a)g(Macin)
n(tosh)f(k)n(eyb)r(oard,)149 1192 y(for)d(example.)49 1325
y Fj(\))45 b Ft(key-modifier-state-match-p)30 b Fs(button)21
b(mo)m(di\014er-state)i Ft(&body)29 b Fs(clauses)458 b Fr([)p
Fs(Macr)m(o)s Fr(])149 1444 y(This)24 b(macro)f(generates)e(co)r(de)i(that)g
(will)j(c)n(hec)n(k)e(whether)f(the)g(mo)r(di\014er)f(state)h
Fs(mo)m(di\014er-state)28 b Fr(and)23 b(the)149 1510 y(p)r(oin)n(ter)15
b(button)h Fs(button)i Fr(matc)n(h)e(all)i(of)f(the)f(clauses.)23
b Fs(clauses)18 b Fr(are)e(implicitly)h(group)r(ed)e(b)n(y)j
Ft(and)p Fr(.)25 b(Matc)n(hing)149 1577 y(a)18 b(button)e(or)i(a)g(mo)r
(di\014er)e(means)h(that)f(that)h(the)h(mo)r(di\014er)e(state)g(indicates)h
(that)g(the)g(button)g(or)h(mo)r(di\014er)149 1643 y(is)g(pressed.)149
1776 y(A)g(clause)f(ma)n(y)h(b)r(e)f(one)h(of:)232 1964 y Fj(\017)27
b Fr(A)18 b(p)r(oin)n(ter)f(button.)23 b(One)18 b(of)g Ft(:left)p
Fr(,)h Ft(:middle)g Fr(or)e Ft(:right)p Fr(.)232 2075 y Fj(\017)27
b Fr(A)18 b(mo)r(di\014er)e(k)n(ey)-5 b(.)26 b(One)18 b(of)g
Ft(:shift)p Fr(,)h Ft(:control)p Fr(,)g Ft(:meta)p Fr(,)g Ft(:super)g
Fr(or)f Ft(:hyper)p Fr(.)232 2185 y Fj(\017)27 b Ft(\(and)i([)p
Fs(clause)p Ft(]+\))232 2296 y Fj(\017)e Ft(\(or)i([)p Fs(clause)p
Ft(]+\))232 2407 y Fj(\017)e Ft(\(not)i Fs(clause)p Ft(\))149
2656 y Fk(8.3)91 b(Output)30 b(Proto)s(col)149 2844 y Fr(The)21
b(output)e(proto)r(col)g(is)j(concerned)c(with)k(the)e(app)r(earance)e(of)j
(displa)n(y)n(ed)h(output)d(on)i(the)g(windo)n(w)g(as-)149
2910 y(so)r(ciated)c(with)j(a)f(sheet.)28 b(The)19 b(sheet)f(output)g(proto)r
(col)f(is)j(resp)r(onsible)e(for)h(pro)n(viding)g(a)h(means)e(of)h(doing)149
2977 y(output)d(to)i(a)g(sheet,)f(and)h(for)f(deliv)n(ering)i(repain)n(t)e
(requests)f(to)i(the)f(sheet's)g(clien)n(t.)149 3110 y(Sheets)i(either)h
(participate)f(fully)i(in)h(the)e(output)f(proto)r(col)g(or)i(are)f(m)n(ute)g
(for)g(output.)32 b(If)21 b(an)n(y)g(functions)149 3176 y(in)f(the)e(output)g
(proto)r(col)g(are)h(called)g(on)g(a)h(sheet)e(that)g(is)i(m)n(ute)f(for)g
(output,)f(the)h Ft(sheet-is-mute-for-)149 3242 y(output)f
Fr(error)f(will)j(b)r(e)d(signalled.)p eop
%%Page: 63 78
bop 149 16 a Fm(CHAPTER)16 b(8.)43 b(SHEET)17 b(PR)n(OTOCOLS)1313
b Fr(63)149 210 y Fp(8.3.1)75 b(Output)24 b(Prop)r(erties)149
378 y Fr(Eac)n(h)i(sheet)e(retains)i(some)e(output)h(state)g(that)g
(logically)i(describ)r(es)d(ho)n(w)j(output)d(is)j(to)f(b)r(e)g(rendered)149
445 y(on)e(its)g(windo)n(w.)43 b(Suc)n(h)24 b(information)e(as)j(the)e
(foreground)f(and)h(bac)n(kground)g(ink,)k(line)e(thic)n(kness,)g(and)149
511 y(transformation)15 b(to)j(b)r(e)g(used)g(during)g(dra)n(wing)g(are)g
(pro)n(vided)g(b)n(y)h(this)g(state.)25 b(This)19 b(state)e(ma)n(y)h(b)r(e)g
(stored)149 577 y(in)f(a)g Fm(medium)d Fr(asso)r(ciated)g(with)j(the)f(sheet)
f(itself,)j(b)r(e)e(deriv)n(ed)g(from)f(a)i(paren)n(t,)f(or)h(ma)n(y)f(ha)n
(v)n(e)h(some)f(global)149 644 y(default,)h(dep)r(ending)f(on)i(the)f(sheet)g
(itself.)149 777 y(If)h(a)g(sheet)f(is)i(m)n(ute)d(for)i(output,)f(it)h(is)h
(an)f(error)f(to)g(set)h(an)n(y)g(of)g(these)f(v)m(alues.)49
909 y Fj(\))45 b Ft(medium)1739 b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23
b(Class)5 b Fr(])149 1028 y(The)14 b(proto)r(col)e(class)j(that)e(corresp)r
(onds)e(to)k(the)e(output)g(state)g(for)i(some)e(kind)i(of)f(sheet.)23
b(There)13 b(is)i(no)g(single)149 1095 y(adv)n(ertised)e(standard)g(medium)g
(class.)24 b(If)15 b(y)n(ou)g(w)n(an)n(t)g(to)g(create)e(a)i(new)f(class)h
(that)f(b)r(eha)n(v)n(es)g(lik)n(e)i(a)f(medium,)149 1161 y(it)j(should)g(b)r
(e)f(a)h(sub)r(class)f(of)h Ft(medium)p Fr(.)25 b(Sub)r(classes)16
b(of)i Ft(medium)h Fr(m)n(ust)e(ob)r(ey)g(the)h(medium)e(proto)r(col.)49
1294 y Fj(\))45 b Ft(mediump)29 b Fs(obje)m(ct)1676 b Fr([)p
Fs(F)l(unction)t Fr(])149 1413 y(Returns)16 b Fm(true)h Fr(if)i
Fs(obje)m(ct)h Fr(is)f(a)f Fm(medium)p Fr(,)f(otherwise)f(returns)g
Fm(false)p Fr(.)149 1546 y(The)i(follo)n(wing)h(generic)e(functions)h
(comprise)e(the)i(basic)g(medium)f(proto)r(col.)24 b(All)19
b(mediums)e(m)n(ust)h(imple-)149 1612 y(men)n(t)c(metho)r(ds)e(for)j(these)f
(generic)f(functions.)23 b(Often,)15 b(a)g(sheet)f(class)h(that)f(supp)r
(orts)f(the)h(output)g(proto)r(col)149 1679 y(will)24 b(implemen)n(t)e(a)h
(\\tramp)r(oline")d(metho)r(d)h(that)h(passes)g(the)g(op)r(eration)f(on)i(to)
g Ft(sheet-medium)h Fr(of)f(the)149 1745 y(sheet.)49 1878 y
Fj(\))45 b Ft(medium-foreground)30 b Fs(me)m(dium)1122 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])49 1945 y Fj(\))45 b Ft(\(setf)29
b(medium-foreground\))h Fs(design)21 b(me)m(dium)749 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 2064 y(Returns)g(\(and,)k(with)e
Ft(setf)p Fr(,)j(sets\))c(the)h(curren)n(t)f(foreground)f(ink)j(for)f(the)g
Fm(medium)e Fs(me)m(dium)p Fr(.)45 b(This)25 b(is)149 2130
y(describ)r(ed)16 b(in)i(detail)g(in)g(Chapter)f(10.)49 2263
y Fj(\))45 b Ft(medium-background)30 b Fs(me)m(dium)1122 b
Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49 2329 y Fj(\))45
b Ft(\(setf)29 b(medium-background\))h Fs(design)21 b(me)m(dium)749
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2448 y(Returns)f(\(and,)j
(with)f Ft(setf)p Fr(,)j(sets\))c(the)g(curren)n(t)g(bac)n(kground)f(ink)j
(for)f(the)g Fm(medium)e Fs(me)m(dium)p Fr(.)41 b(This)24 b(is)149
2515 y(describ)r(ed)16 b(in)i(detail)g(in)g(Chapter)f(10.)49
2647 y Fj(\))45 b Ft(medium-ink)29 b Fs(me)m(dium)1326 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])49 2714 y Fj(\))45 b Ft(\(setf)29
b(medium-ink\))h Fs(design)20 b(me)m(dium)953 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 2833 y(Returns)11 b(\(and,)i(with)g
Ft(setf)p Fr(,)i(sets\))d(the)g(curren)n(t)f(dra)n(wing)i(ink)g(for)g(the)f
Fm(medium)f Fs(me)m(dium)p Fr(.)24 b(This)13 b(is)h(describ)r(ed)149
2899 y(in)k(detail)g(in)h(Chapter)d(10.)49 3032 y Fj(\))45
b Ft(medium-transformation)30 b Fs(me)m(dium)1006 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])49 3099 y Fj(\))45 b Ft(\(setf)29
b(medium-transformation\))h Fs(tr)m(ansformation)23 b(me)m(dium)425
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 3218 y(Returns)11
b(\(and,)j(with)g Ft(setf)p Fr(,)h(sets\))e(the)f(\\user")g(transformation)e
(that)j(con)n(v)n(erts)f(the)h(co)r(ordinates)e(presen)n(ted)149
3284 y(to)20 b(the)h(dra)n(wing)g(functions)e(b)n(y)j(the)f(programmer)c(to)k
(the)f Fm(medium)f Fs(me)m(dium)p Fr('s)k(co)r(ordinate)18
b(system.)33 b(By)149 3350 y(default,)17 b(it)h(is)h(the)e(iden)n(tit)n(y)i
(transformation.)i(This)d(is)h(describ)r(ed)d(in)i(detail)g(in)h(Chapter)d
(10.)p eop
%%Page: 64 79
bop 149 16 a Fm(CHAPTER)16 b(8.)37 b(SHEET)17 b(PR)n(OTOCOLS)1319
b Fr(64)49 210 y Fj(\))45 b Ft(medium-clipping-region)30 b
Fs(me)m(dium)977 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49
276 y Fj(\))45 b Ft(\(setf)29 b(medium-clipping-region\))h
Fs(r)m(e)m(gion)22 b(me)m(dium)609 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 395 y(Returns)f(\(and,)j(with)f Ft(setf)p Fr(,)i(sets\))d(the)g
(clipping)h(region)f(that)g(encloses)g(all)h(output)f(p)r(erformed)e(on)i
(the)149 461 y Fm(medium)13 b Fs(me)m(dium)p Fr(.)25 b(It)16
b(is)g(returned)d(and)i(set)g(in)g(user)g(co)r(ordinates.)21
b(That)15 b(is,)h(to)f(con)n(v)n(ert)g(the)g(user)g(clipping)149
528 y(region)g(to)g(medium)f(co)r(ordinates,)f(it)j(m)n(ust)f(b)r(e)g
(transformed)e(b)n(y)j(the)f(v)m(alue)h(of)g Ft(medium-transformation)p
Fr(.)149 594 y(F)-5 b(or)18 b(example,)f(the)g(v)m(alues)h(returned)e(b)n(y)
149 762 y Ft(\(let)29 b(\(cr1)g(cr2\))207 829 y(;;)g(Ensure)g(that)h(the)f
(sheet's)g(clipping)h(region)f(and)h(transformation)f(will)h(be)f(reset:)207
895 y(\(with-drawing-options)h(\(sheet)f(:transformation)h
(+identity-transformation+)1049 962 y(:clipping-region)g(+everywhere+\))265
1028 y(\(setf)f(\(medium-clipping-region)i(sheet\))e(\(make-rectangle*)h(0)f
(0)g(10)g(10\)\))265 1095 y(\(setf)g(\(medium-transformation)i(sheet\))e
(\(clim:make-scaling-transformation)i(2)e(2\)\))265 1161 y(\(setf)g(cr1)g
(\(medium-clipping-region)i(sheet\)\))265 1227 y(\(setf)e
(\(medium-clipping-region)i(sheet\))e(\(make-rectangle*)h(0)f(0)g(10)g
(10\)\))265 1294 y(\(setf)g(\(medium-transformation)i(sheet\))e
(+identity-transformation+\))265 1360 y(\(setf)g(cr2)g
(\(medium-clipping-region)i(sheet\)\))265 1427 y(\(values)e(cr1)h(cr2\)\)\))
149 1595 y Fr(are)25 b(t)n(w)n(o)i(rectangles.)47 b(The)25
b(\014rst)h(one)f(has)h(edges)f(of)h(\(0,0,5,5\),)i(while)f(the)e(second)g
(one)h(has)g(edges)f(of)149 1661 y(\(0,0,20,20\).)149 1794
y(By)19 b(default,)e(the)g(user)h(clipping)g(region)f(is)i(the)e(v)m(alue)h
(of)g Ft(+everywhere+)p Fr(.)149 1927 y Fo(Ma)t(jor)23 b(issue:)62
b Fm(What)19 b(exactly)g(are)h(\\user)e(co)r(ordinates"?)27
b(W)-5 b(e)20 b(need)f(to)g(de\014ne)g(all)h(of)g(the)f(co)r(ordinate)149
1993 y(systems)d(in)j(one)e(place:)24 b(device,)18 b(windo)n(w,)h(stream,)d
(etc.)24 b(|)19 b(SWM)49 2126 y Fj(\))45 b Ft(medium-line-style)30
b Fs(me)m(dium)1122 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])49 2193 y Fj(\))45 b Ft(\(setf)29 b(medium-line-style\))h
Fs(line-style)21 b(me)m(dium)684 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 2312 y(Returns)16 b(\(and,)h(with)h Ft(setf)p Fr(,)h(sets\))e(the)g
(curren)n(t)f(line)j(st)n(yle)f(for)g(the)f Fm(medium)f Fs(me)m(dium)p
Fr(.)26 b(This)18 b(is)h(describ)r(ed)149 2378 y(in)f(detail)g(in)h(Chapter)d
(10)i(and)f(Section)g(10.3.)49 2511 y Fj(\))45 b Ft(medium-text-style)30
b Fs(me)m(dium)1122 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])49 2577 y Fj(\))45 b Ft(\(setf)29 b(medium-text-style\))h
Fs(text-style)21 b(me)m(dium)684 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 2696 y(Returns)f(\(and,)j(with)f Ft(setf)p Fr(,)j(sets\))c(the)g
(curren)n(t)g(text)g(st)n(yle)i(for)e(the)h Fm(medium)e Fs(me)m(dium)k
Fr(of)e(an)n(y)h(textual)149 2763 y(output)16 b(that)h(ma)n(y)h(b)r(e)f
(displa)n(y)n(ed)i(on)f(the)f(windo)n(w.)25 b(This)18 b(is)h(describ)r(ed)d
(in)j(detail)e(in)i(Chapter)d(10.)49 2895 y Fj(\))45 b Ft
(medium-default-text-style)30 b Fs(me)m(dium)890 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])49 2962 y Fj(\))45 b Ft(\(setf)29 b
(medium-default-text-style\))i Fs(text-style)21 b(me)m(dium)451
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 3081 y(Returns)15
b(\(and,)h(with)h Ft(setf)p Fr(,)h(sets\))d(the)h(default)g(text)g(st)n(yle)h
(for)g(output)e(on)h(the)g Fm(medium)f Fs(me)m(dium)p Fr(.)26
b(This)17 b(is)149 3147 y(describ)r(ed)f(in)i(detail)g(in)g(Chapter)f(10.)49
3280 y Fj(\))45 b Ft(medium-merged-text-style)30 b Fs(me)m(dium)919
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 3399 y(Returns)12
b(the)i(actual)g(text)g(st)n(yle)g(used)g(in)h(rendering)e(text)h(on)g(the)g
Fm(medium)f Fs(me)m(dium)p Fr(.)25 b(It)14 b(returns)f(the)g(result)149
3466 y(of)p eop
%%Page: 65 80
bop 149 16 a Fm(CHAPTER)16 b(8.)43 b(SHEET)17 b(PR)n(OTOCOLS)1313
b Fr(65)149 210 y Ft(\(merge-text-styles)30 b(\(medium-text-style)g(medium\))
701 276 y(\(medium-default-text-style)g(medium\)\))149 464
y Fr(Th)n(us,)18 b(those)d(comp)r(onen)n(ts)f(of)j(the)g(curren)n(t)e(text)h
(st)n(yle)i(that)e(are)g(not)h Ft(nil)g Fr(will)i(replace)d(the)g(defaults)g
(from)149 531 y(medium's)21 b(default)h(text)g(st)n(yle.)40
b(Unlik)n(e)24 b(the)e(preceding)f(text)h(st)n(yle)i(function,)f
Ft(medium-merged-text-)149 597 y(style)18 b Fr(is)h(read-only)-5
b(.)149 818 y Fp(8.3.2)75 b(Output)24 b(Proto)r(col)i(F)-6
b(unctions)149 987 y Fr(The)19 b(output)g(proto)r(col)e(functions)i(on)h
(mediums)d(\(and)i(sheets)g(that)g(supp)r(ort)e(the)i(standard)f(output)h
(pro-)149 1053 y(to)r(col\))d(include)i(those)f(functions)f(describ)r(ed)g
(in)j(Section)d(12.7.)149 1186 y Fo(Minor)22 b(issue:)54 b
Fm(W)-5 b(e)19 b(need)e(to)h(do)f(a)i(little)f(b)r(etter)d(than)j(this.)24
b(|)19 b(SWM)149 1408 y Fp(8.3.3)75 b(Output)24 b(Proto)r(col)i(Classes)149
1576 y Fr(The)17 b(follo)n(wing)i(classes)e(implemen)n(t)f(the)i(standard)e
(output)g(proto)r(cols.)49 1709 y Fj(\))45 b Ft(standard-sheet-output-mixin)
1345 b Fr([)p Fs(Class)5 b Fr(])149 1828 y(This)14 b(class)g(is)h(mixed)e(in)
i(to)f(an)n(y)g(sheet)f(that)g(pro)n(vides)h(the)g(standard)e(output)g(proto)
r(col,)i(suc)n(h)g(as)g(repain)n(ting)149 1894 y(and)j(graphics.)49
2027 y Fj(\))45 b Ft(mute-sheet-output-mixin)1461 b Fr([)p
Fs(Class)5 b Fr(])149 2146 y(This)18 b(class)g(is)g(mixed)g(in)h(to)e(an)n(y)
i(sheet)e(that)f(pro)n(vides)i(none)f(of)h(the)g(output)e(proto)r(col.)49
2279 y Fj(\))45 b Ft(permanent-medium-sheet-output-mixin)1113
b Fr([)p Fs(Class)5 b Fr(])149 2398 y(This)18 b(class)g(is)g(mixed)g(in)h(to)
e(an)n(y)i(sheet)e(that)f(alw)n(a)n(ys)k(has)d(a)h(medium)f(asso)r(ciated)e
(with)j(it.)49 2531 y Fj(\))45 b Ft(temporary-medium-sheet-output-mixin)1113
b Fr([)p Fs(Class)5 b Fr(])149 2650 y(This)21 b(class)h(is)g(mixed)f(in)h(to)
f(an)n(y)h(sheet)e(that)g(ma)n(y)i(ha)n(v)n(e)g(a)f(medium)f(asso)r(ciated)f
(with)i(it,)i(but)e(do)r(es)f(not)149 2716 y(necessarily)d(ha)n(v)n(e)h(a)g
(medium)f(at)g(an)n(y)i(giv)n(en)f(instan)n(t.)149 2938 y Fp(8.3.4)75
b(Asso)r(ciating)29 b(a)c(Medium)g(with)g(a)g(Sheet)149 3106
y Fr(Before)18 b(a)h(sheet)f(ma)n(y)h(b)r(e)g(used)f(for)h(output,)g(it)g(m)n
(ust)g(b)r(e)f(asso)r(ciated)f(with)i(a)g(medium.)27 b(Some)17
b(sheets)h(are)149 3173 y(p)r(ermanen)n(tly)j(asso)r(ciated)h(with)i(media)f
(for)g(output)g(e\016ciency;)j(for)e(example,)h(CLIM)e(windo)n(w)i(stream)149
3239 y(sheets)16 b(ha)n(v)n(e)j(a)f(medium)e(that)h(is)i(p)r(ermanen)n(tly)c
(allo)r(cated)h(to)i(the)f(windo)n(w.)149 3372 y(Ho)n(w)n(ev)n(er,)27
b(man)n(y)d(kinds)h(of)g(sheets)e(only)i(p)r(erform)d(output)h(infrequen)n
(tly)-5 b(,)27 b(and)e(therefore)d(do)i(not)h(need)149 3438
y(to)f(b)r(e)g(asso)r(ciated)e(with)j(a)g(medium)e(except)g(when)i(output)e
(is)i(actually)g(required.)44 b(Sheets)23 b(without)h(a)p eop
%%Page: 66 81
bop 149 16 a Fm(CHAPTER)16 b(8.)43 b(SHEET)17 b(PR)n(OTOCOLS)1313
b Fr(66)149 210 y(p)r(ermanen)n(tly)18 b(asso)r(ciated)g(medium)h(can)h(b)r
(e)g(m)n(uc)n(h)h(more)e(ligh)n(t)n(w)n(eigh)n(t)i(than)f(they)h(otherwise)e
(w)n(ould)i(b)r(e.)149 276 y(F)-5 b(or)15 b(example,)g(in)g(a)g(program)e
(that)g(creates)g(a)i(sheet)f(for)g(the)h(purp)r(ose)e(of)h(displa)n(ying)i
(a)f(b)r(order)e(for)i(another)149 342 y(sheet,)i(the)g(b)r(order)f(sheet)h
(receiv)n(es)g(output)g(only)h(when)g(the)f(windo)n(w's)i(shap)r(e)d(is)j(c)n
(hanged.)149 475 y(T)-5 b(o)18 b(asso)r(ciate)e(a)i(sheet)f(with)h(a)g
(medium,)f(the)g(macro)f Ft(with-sheet-medium)k Fr(is)e(used.)49
608 y Fj(\))45 b Ft(with-sheet-medium)30 b Fs(\(me)m(dium)20
b(she)m(et\))h Ft(&body)29 b Fs(b)m(o)m(dy)915 b Fr([)p Fs(Macr)m(o)s
Fr(])149 727 y(Within)21 b(the)g(b)r(o)r(dy)-5 b(,)22 b(the)f(v)m(ariable)h
Fs(me)m(dium)h Fr(is)f(b)r(ound)e(to)i(the)f(sheet's)f(medium.)34
b(If)22 b(the)e(sheet)h(do)r(es)f(not)149 793 y(ha)n(v)n(e)g(a)h(medium)d(p)r
(ermanen)n(tly)g(allo)r(cated,)h(one)h(will)h(b)r(e)f(allo)r(cated,)f(asso)r
(ciated)f(with)i(the)g(sheet)e(for)i(the)149 860 y(duration)c(of)i(the)g(b)r
(o)r(dy)-5 b(,)17 b(and)h(deallo)r(cated)e(as)i(the)f(when)h(the)f(b)r(o)r
(dy)g(has)h(b)r(een)e(exited.)25 b(The)17 b(v)m(alues)h(of)g(the)149
926 y(last)g(form)e(of)i(the)g(b)r(o)r(dy)f(are)g(returned)f(as)i(the)f(v)m
(alues)h(of)g Ft(with-sheet-medium)p Fr(.)149 1059 y(The)e
Fs(me)m(dium)i Fr(argumen)n(t)13 b(is)k(not)f(ev)m(aluated,)g(and)f(m)n(ust)h
(b)r(e)f(a)i(sym)n(b)r(ol)f(that)f(is)i(b)r(ound)e(to)g(a)i(medium.)22
b Fs(b)m(o)m(dy)149 1126 y Fr(ma)n(y)c(ha)n(v)n(e)g(zero)f(or)h(more)f
(declarations)e(as)j(its)h(\014rst)e(forms.)49 1258 y Fj(\))45
b Ft(with-sheet-medium-bound)30 b Fs(\(she)m(et)21 b(me)m(dium\))f
Ft(&body)30 b Fs(b)m(o)m(dy)740 b Fr([)p Fs(Macr)m(o)s Fr(])149
1377 y Ft(with-sheet-medium-bound)16 b Fr(is)e(used)g(to)g(asso)r(ciate)d
(the)j(sp)r(eci\014c)e(medium)h Fs(me)m(dium)i Fr(with)g(the)e(sheet)g
Fs(she)m(et)149 1444 y Fr(for)22 b(the)f(duration)g(of)i(the)e(b)r(o)r(dy)g
Fs(b)m(o)m(dy)p Fr(.)40 b(T)n(ypically)-5 b(,)25 b(a)e(single)f(medium)f
(will)i(b)r(e)f(allo)r(cated)f(an)h(passed)f(to)149 1510 y(sev)n(eral)d
(di\013eren)n(t)f(sheets)g(that)g(can)g(use)h(the)f(same)g(medium.)149
1643 y(If)e(the)g(sheet)e(already)i(has)g(a)g(medium)e(allo)r(cated)h(to)g
(it,)j(the)d(new)h(medium)e(will)k(not)d(b)r(e)h(giv)n(en)g(to)g(the)g
(sheet.)149 1710 y(If)i(the)f(v)m(alue)h(of)g Fs(me)m(dium)h
Fr(is)g Ft(nil)p Fr(,)g Ft(with-sheet-medium-bound)g Fr(is)g(exactly)e(equiv)
m(alen)n(t)h(to)g Ft(with-sheet-)149 1776 y(medium)p Fr(.)41
b(The)23 b(v)m(alues)g(of)h(the)e(last)i(form)e(of)h(the)g(b)r(o)r(dy)f(are)h
(returned)e(as)i(the)g(v)m(alues)g(of)h Ft(with-sheet-)149
1842 y(medium-bound)p Fr(.)149 1975 y Fs(b)m(o)m(dy)19 b Fr(ma)n(y)f(ha)n(v)n
(e)h(zero)e(or)h(more)e(declarations)g(as)i(its)g(\014rst)g(forms.)49
2108 y Fj(\))45 b Ft(sheet-medium)29 b Fs(she)m(et)1339 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 2227 y(Returns)15 b(the)i(medium)f
(asso)r(ciated)e(with)k(the)e Fm(sheet)h Fs(she)m(et)p Fr(.)26
b(If)17 b Fs(she)m(et)j Fr(do)r(es)c(not)g(ha)n(v)n(e)i(a)g(medium)d(allo)r
(cated)149 2293 y(to)i(it,)i Ft(sheet-medium)g Fr(returns)d
Ft(nil)p Fr(.)149 2543 y Fk(8.4)91 b(Repain)m(t)30 b(Proto)s(col)149
2731 y Fr(The)12 b(repain)n(t)g(proto)r(col)e(is)j(the)f(mec)n(hanism)e
(whereb)n(y)i(a)h(program)d(k)n(eeps)i(the)g(displa)n(y)h(up-to-date,)g
(re\015ecting)149 2797 y(the)26 b(results)g(of)h(b)r(oth)f(sync)n(hronous)f
(and)i(async)n(hronous)e(ev)n(en)n(ts.)52 b(The)26 b(repain)n(t)h(mec)n
(hanism)d(ma)n(y)j(b)r(e)149 2863 y(in)n(v)n(ok)n(ed)f(b)n(y)g(user)e
(programs)f(eac)n(h)h(time)g(through)f(their)h(top-lev)n(el)i(command)c(lo)r
(op.)45 b(It)25 b(ma)n(y)f(also)h(b)r(e)149 2930 y(in)n(v)n(ok)n(ed)f
(directly)e(or)h(indirectly)g(as)f(a)h(result)f(of)h(ev)n(en)n(ts)g(receiv)n
(ed)f(from)g(the)g(displa)n(y)i(serv)n(er)e(host.)38 b(F)-5
b(or)149 2996 y(example,)17 b(if)h(a)g(windo)n(w)g(is)g(on)g(displa)n(y)h
(with)e(another)f(windo)n(w)i(o)n(v)n(erlapping)g(it,)g(and)g(the)f(second)f
(windo)n(w)149 3063 y(is)h(buried,)f(a)h(\\damage)d(noti\014cation")g(ev)n
(en)n(t)i(ma)n(y)g(b)r(e)g(sen)n(t)g(b)n(y)h(the)f(serv)n(er;)h(CLIM)f(w)n
(ould)h(cause)e(a)h(repain)n(t)149 3129 y(to)h(b)r(e)h(executed)e(for)h(the)h
(newly-exp)r(osed)f(region.)p eop
%%Page: 67 82
bop 149 16 a Fm(CHAPTER)16 b(8.)43 b(SHEET)17 b(PR)n(OTOCOLS)1313
b Fr(67)149 210 y Fp(8.4.1)75 b(Repain)n(t)25 b(Proto)r(col)h(F)-6
b(unctions)49 378 y Fj(\))45 b Ft(dispatch-repaint)30 b Fs(she)m(et)21
b(r)m(e)m(gion)1058 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 497 y(Requests)h(a)h(repain)n(t)g(of)h(the)f Fm(region)f
Fs(r)m(e)m(gion)k Fr(within)e(the)f Fm(sheet)f Fs(she)m(et)p
Fr(.)46 b(The)25 b(region)e(is)j(giv)n(en)f(in)g(sheet)149
564 y(co)r(ordinates.)32 b(Dep)r(ending)20 b(on)i(the)f(class)g(of)h(the)f
(sheet,)h(this)f(ma)n(y)h(cause)e Ft(queue-repaint)j Fr(or)f
Ft(handle-)149 630 y(repaint)d Fr(to)e(b)r(e)h(in)n(v)n(ok)n(ed.)149
763 y(All)e(CLIM)f(implemen)n(tations)d(m)n(ust)j(supp)r(ort)e(repain)n(ting)
h(for)h(regions)g(that)f(are)h(rectangles)e(or)i(region)f(sets)149
829 y(comp)r(osed)h(en)n(tirely)j(of)g(rectangles.)49 962 y
Fj(\))45 b Ft(queue-repaint)29 b Fs(she)m(et)22 b(r)m(e)m(gion)1145
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1081 y(Requests)e(that)h(a)i
(repain)n(t)e(ev)n(en)n(t)h(for)g(the)f Fm(region)h Fs(r)m(e)m(gion)i
Fr(b)r(e)e(placed)f(in)i(the)e(input)h(queue)f(of)h(the)g Fm(sheet)149
1147 y Fs(she)m(et)p Fr(.)43 b(A)23 b(program)e(that)i(reads)f(ev)n(en)n(ts)i
(out)f(of)g(the)g(queue)g(will)i(b)r(e)e(exp)r(ected)e(to)i(call)i
Ft(handle-event)149 1214 y Fr(for)17 b(the)g(repain)n(t)g(region;)h(the)f
(metho)r(d)e(for)i(that)g(generic)f(function)h(on)g(repain)n(t)g(ev)n(en)n
(ts)h(will)h(generally)e(call)149 1280 y Ft(repaint-sheet)p
Fr(.)49 1413 y Fj(\))45 b Ft(handle-repaint)30 b Fs(she)m(et)21
b(me)m(dium)g(r)m(e)m(gion)908 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1532 y(Recursiv)n(ely)d(causes)g(repain)n(ting)g(of)h(the)f
Fm(sheet)f Fs(she)m(et)k Fr(and)e(an)n(y)g(of)g(its)g(c)n(hildren)f(that)g(o)
n(v)n(erlap)h(the)f Fm(region)149 1599 y Fs(r)m(e)m(gion)p
Fr(.)25 b Fs(me)m(dium)15 b Fr(is)g(the)d(medium)g(to)h(use)h(for)f(the)g
(repain)n(ting;)h(if)h(it)f(is)g Ft(nil)p Fr(,)h Ft(handle-repaint)g
Fr(will)g(allo)r(cate)149 1665 y(a)20 b(medium)e(and)i(asso)r(ciate)e(it)j
(with)f(the)g(sheet.)30 b Ft(handle-repaint)21 b Fr(will)h(call)f
Ft(repaint-sheet)g Fr(on)f Fs(she)m(et)p Fr(,)149 1731 y(and)d(then)g(call)i
Ft(handle-repaint)g Fr(on)f(all)h(of)f(the)f(c)n(hildren)h(of)g
Fs(she)m(et)p Fr(.)49 1864 y Fj(\))45 b Ft(repaint-sheet)29
b Fs(she)m(et)22 b(r)m(e)m(gion)1145 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 1983 y(Implemen)n(ts)f(repain)n(ting)h(for)h(a)h
(giv)n(en)g(sheet)e(class.)41 b(It)24 b(ma)n(y)f(only)h(b)r(e)f(called)g(on)g
(a)h(sheet)e(that)h(has)g(an)149 2050 y(asso)r(ciated)15 b(medium.)23
b Fm(sheet)17 b Fr(and)g Fs(r)m(e)m(gion)k Fr(are)c(as)h(for)g
Ft(dispatch-repaint)p Fr(.)149 2271 y Fp(8.4.2)75 b(Repain)n(t)25
b(Proto)r(col)h(Classes)49 2440 y Fj(\))45 b Ft(standard-repainting-mixin)
1403 b Fr([)p Fs(Class)5 b Fr(])149 2559 y(De\014nes)17 b(a)h
Ft(dispatch-repaint)h Fr(metho)r(d)d(that)h(calls)h Ft(queue-repaint)p
Fr(.)49 2691 y Fj(\))45 b Ft(immediate-repainting-mixin)1374
b Fr([)p Fs(Class)5 b Fr(])149 2810 y(De\014nes)17 b(a)h Ft(dispatch-repaint)
h Fr(metho)r(d)d(that)h(calls)h Ft(handle-repaint)p Fr(.)49
2943 y Fj(\))45 b Ft(mute-repainting-mixin)1519 b Fr([)p Fs(Class)5
b Fr(])149 3062 y(De\014nes)23 b(a)h Ft(dispatch-repaint)h
Fr(metho)r(d)c(that)i(calls)h Ft(queue-repaint)p Fr(,)j(and)d(a)g(metho)r(d)d
(on)j Ft(repaint-)149 3129 y(sheet)e Fr(that)e(do)r(es)g(nothing.)33
b(This)21 b(means)f(that)g(its)i(c)n(hildren)f(will)h(b)r(e)f(recursiv)n(ely)
g(repain)n(ted)f(when)g(the)149 3195 y(repain)n(t)d(ev)n(en)n(t)h(is)h
(handled.)p eop
%%Page: 68 83
bop 149 16 a Fm(CHAPTER)16 b(8.)43 b(SHEET)17 b(PR)n(OTOCOLS)1313
b Fr(68)149 210 y Fk(8.5)91 b(Sheet)31 b(Noti\014cation)c(Proto)s(col)149
397 y Fr(The)19 b(noti\014cation)f(proto)r(col)g(allo)n(ws)j(sheet)d(clien)n
(ts)i(to)g(b)r(e)f(noti\014ed)g(when)g(a)h(sheet)f(hierarc)n(h)n(y)g(is)i(c)n
(hanged.)149 464 y(Sheet)14 b(clien)n(ts)h(can)g(observ)n(e)g(mo)r
(di\014cation)d(ev)n(en)n(ts)j(b)n(y)i(pro)n(viding)e Ft(:after)h
Fr(metho)r(ds)d(for)i(functions)f(de\014ned)149 530 y(b)n(y)19
b(this)e(proto)r(col.)149 751 y Fp(8.5.1)75 b(Relationship)27
b(to)e(Windo)n(w)g(System)h(Change)f(Noti\014cations)149 920
y Fo(Minor)d(issue:)54 b Fm(More)18 b(to)f(b)r(e)h(written.)23
b(|)c(RSL)49 1053 y Fj(\))45 b Ft(note-sheet-grafted)30 b Fs(she)m(et)1164
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49 1119 y Fj(\))45
b Ft(note-sheet-degrafted)30 b Fs(she)m(et)1106 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])49 1186 y Fj(\))45 b Ft(note-sheet-adopted)30
b Fs(she)m(et)1164 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49
1252 y Fj(\))45 b Ft(note-sheet-disowned)30 b Fs(she)m(et)1135
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49 1318 y Fj(\))45
b Ft(note-sheet-enabled)30 b Fs(she)m(et)1164 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])49 1385 y Fj(\))45 b Ft(note-sheet-disabled)30
b Fs(she)m(et)1135 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
1504 y(These)14 b(noti\014cation)f(functions)g(are)h(in)n(v)n(ok)n(ed)i(when)
f(the)f(state)f(c)n(hange)h(has)g(b)r(een)g(made)f(to)i(the)f
Fm(sheet)f Fs(she)m(et)p Fr(.)149 1725 y Fp(8.5.2)75 b(Sheet)24
b(Geometry)i(Noti\014cations)149 1894 y Fo(Minor)c(issue:)54
b Fm(More)18 b(to)f(b)r(e)h(written.)23 b(|)c(RSL)49 2027 y
Fj(\))45 b Ft(note-sheet-region-changed)30 b Fs(she)m(et)961
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49 2093 y Fj(\))45
b Ft(note-sheet-transformation-changed)31 b Fs(she)m(et)728
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2212 y(These)15
b(noti\014cation)f(functions)h(are)h(in)n(v)n(ok)n(ed)h(when)f(the)f(region)h
(or)g(transformation)c(of)k(the)g Fm(sheet)p Fs(she)m(et)g
Fr(has)149 2279 y(b)r(een)g(c)n(hanged.)23 b(When)17 b(the)h(regions)e(and)i
(transformations)c(of)j(a)h(sheet)f(are)g(c)n(hanged)f(directly)-5
b(,)18 b(the)g(clien)n(t)149 2345 y(is)g(required)f(to)h(call)h
Ft(note-sheet-region-changed)g Fr(or)f Ft(note-sheet-transformation-changed)p
Fr(.)p eop
%%Page: 69 84
bop 149 691 a Fl(Chapter)46 b(9)149 1034 y Fq(P)l(orts,)53
b(Grafts,)g(and)f(Mirrored)149 1200 y(Sheets)149 1588 y Fk(9.1)91
b(In)m(tro)s(duction)149 1775 y Fr(A)18 b(sheet)g(hierarc)n(h)n(y)h(m)n(ust)f
(b)r(e)g(attac)n(hed)f(to)h(a)h(displa)n(y)h(serv)n(er)e(so)h(as)g(to)f(p)r
(ermit)f(input)h(and)h(output.)25 b(This)149 1842 y(is)18 b(managed)e(b)n(y)j
(the)e(use)h(of)g Fm(p)r(orts)e Fr(and)i Fm(grafts)p Fr(.)149
2091 y Fk(9.2)91 b(P)m(orts)149 2279 y Fr(A)18 b Fm(p)r(ort)f
Fr(is)i(a)f(logical)h(connection)d(to)i(a)g(displa)n(y)h(serv)n(er.)25
b(It)18 b(is)h(resp)r(onsible)e(for)h(managing)e(displa)n(y)j(output)149
2345 y(and)h(serv)n(er)h(resources,)f(and)g(for)h(handling)g(incoming)e
(input)i(ev)n(en)n(ts.)34 b(T)n(ypically)-5 b(,)24 b(the)c(programmer)d(will)
149 2412 y(create)f(a)i(single)g(p)r(ort)f(that)g(will)i(manage)d(all)j(of)f
(the)f(windo)n(ws)h(on)g(the)g(displa)n(y)-5 b(.)149 2545 y(A)18
b(p)r(ort)g(is)h(describ)r(ed)e(with)i(a)g Fm(serv)n(er)f(path)p
Fr(.)26 b(A)19 b(serv)n(er)f(path)g(is)h(a)g(list)h(whose)e(\014rst)g(elemen)
n(t)f(is)i(a)g(k)n(eyw)n(ord)149 2611 y(that)e(selects)g(the)h(kind)g(of)h(p)
r(ort.)24 b(The)18 b(remainder)e(of)i(the)f(serv)n(er)h(path)g(is)h(a)f(list)
h(of)f(alternating)e(k)n(eyw)n(ords)149 2677 y(and)h(v)m(alues)h(whose)f(in)n
(terpretation)f(is)i(p)r(ort)f(t)n(yp)r(e-sp)r(eci\014c.)49
2810 y Fj(\))45 b Ft(find-port)29 b(&key)h Fs(\(server-p)m(ath)22
b Ft(*default-server-path*)p Fs(\))667 b Fr([)p Fs(F)l(unction)t
Fr(])149 2929 y(Finds)21 b(a)g(p)r(ort)f(that)g(pro)n(vides)h(a)g(connection)
e(to)i(the)f(windo)n(w)i(serv)n(er)e(addressed)f(b)n(y)j Fs(server-p)m(ath)p
Fr(.)37 b(If)22 b(no)149 2996 y(suc)n(h)c(connection)d(exists,)j(a)h(new)e
(connection)f(will)k(b)r(e)d(constructed)e(and)i(returned.)149
3128 y(The)g(follo)n(wing)i(serv)n(er)f(paths)f(are)g(curren)n(tly)g(supp)r
(orted:)49 3261 y Fj(\))45 b Ft(:x11)29 b(&key)g Fs(host)21
b(display-id)f(scr)m(e)m(en-id)1100 b Fr([)p Fs(Server)23 b(Path)t
Fr(])149 3380 y(Giv)n(en)h(this)f(serv)n(er)f(path,)i Ft(find-port)g
Fr(\014nds)e(a)h(p)r(ort)f(for)g(the)g(X)h(serv)n(er)g(on)f(the)h(giv)n(en)g
Fs(host)p Fr(,)j(using)c(the)149 3447 y Fs(display-id)d Fr(and)e
Fs(scr)m(e)m(en-id)p Fr(.)1276 3632 y(69)p eop
%%Page: 70 85
bop 149 16 a Fm(CHAPTER)16 b(9.)43 b(POR)-5 b(TS,)19 b(GRAFTS,)f(AND)g(MIRR)n
(ORED)g(SHEETS)686 b Fr(70)149 210 y(On)13 b(a)h(Unix)f(host,)h(if)g(these)e
(v)m(alues)h(are)f(not)h(supplied,)h(the)f(defaults)f(come)g(from)g(the)g
Ft(DISPLAY)i Fr(en)n(vironmen)n(t)149 276 y(v)m(ariable.)24
b(Eac)n(h)18 b(CLIM)f(implemen)n(tation)e(m)n(ust)j(describ)r(e)e(ho)n(w)i
(it)g(uses)g(suc)n(h)g(en)n(vironmen)n(t)e(v)m(ariables.)49
409 y Fj(\))45 b Ft(:genera)29 b(&key)g Fs(scr)m(e)m(en)1446
b Fr([)p Fs(Server)23 b(Path)t Fr(])149 528 y Fo(Minor)e(issue:)53
b Fm(RSL)17 b(claims)f(that)g(this)h(is)g(old)h(and)e(obsolete.)23
b(What)16 b(is)i(the)e(prop)r(osed)f(replacemen)n(t)f(for)149
594 y(it?)24 b(|)19 b(SWM)49 727 y Fj(\))45 b Ft(*default-server-path*)1448
b Fr([)p Fs(V)l(ariable)t Fr(])149 846 y(This)25 b(sp)r(ecial)f(v)m(ariable)h
(is)g(used)f(b)n(y)i Ft(find-port)g Fr(and)e(its)h(callers)g(to)f(default)g
(the)h(c)n(hoice)f(of)h(a)g(displa)n(y)149 912 y(service)c(to)g(lo)r(cate.)34
b(Binding)22 b(this)g(v)m(ariable)f(in)h(a)g(dynamic)f(con)n(text)f(will)k
(a\013ect)c(the)h(defaulting)g(of)h(this)149 979 y(argumen)n(t)17
b(to)j(these)f(functions.)29 b(This)20 b(v)m(ariable)g(will)i(b)r(e)d
(defaulted)f(according)h(to)g(the)h(en)n(vironmen)n(t.)28 b(In)149
1045 y(the)19 b(Unix)h(en)n(vironmen)n(t,)f(for)g(example,)h(CLIM)f(will)i
(attempt)c(to)j(set)f(this)h(v)m(ariable)f(based)g(on)h(the)f(v)m(alue)149
1112 y(of)f(the)f Ft(DISPLAY)i Fr(en)n(vironmen)n(t)d(v)m(ariable.)49
1245 y Fj(\))45 b Ft(port)29 b Fs(obje)m(ct)1552 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 1364 y(Returns)e(the)g(p)r(ort)h(asso)r(ciated)e
(with)i Fs(obje)m(ct)p Fr(.)38 b Ft(port)22 b Fr(is)g(de\014ned)e(for)i(all)g
(sheet)e(classes)h(\(including)g(grafts)149 1430 y(and)e(streams)e(that)h
(supp)r(ort)f(the)i(CLIM)g(graphics)f(proto)r(col\),)f(mediums,)h(and)h
(application)g(frames.)26 b(F)-5 b(or)149 1496 y(degrafted)12
b(sheets)h(or)i(other)e(ob)s(jects)g(that)h(aren't)g(curren)n(tly)f(asso)r
(ciated)g(with)h(particular)g(p)r(orts,)g Ft(port)h Fr(will)149
1563 y(return)h Ft(nil)p Fr(.)49 1696 y Fj(\))45 b Ft(with-port-locked)30
b Fs(p)m(ort)21 b Ft(&body)29 b Fs(b)m(o)m(dy)1219 b Fr([)p
Fs(Macr)m(o)s Fr(])149 1815 y(Executes)17 b Fs(b)m(o)m(dy)k
Fr(after)d(grabbing)g(a)h(lo)r(c)n(k)h(asso)r(ciated)c(with)k(the)e
Fm(p)r(ort)g Fs(p)m(ort)p Fr(,)k(whic)n(h)d(ma)n(y)g(b)r(e)g(a)g(p)r(ort)f
(or)h(an)n(y)149 1881 y(ob)s(ject)e(on)h(whic)n(h)h(the)f(function)f
Ft(port)i Fr(w)n(orks.)26 b(If)19 b Fs(obje)m(ct)i Fr(curren)n(tly)d(has)g
(no)g(p)r(ort,)g Fs(b)m(o)m(dy)i Fr(will)g(b)r(e)e(executed)149
1948 y(without)f(lo)r(c)n(king.)149 2080 y Fs(b)m(o)m(dy)i
Fr(ma)n(y)f(ha)n(v)n(e)h(zero)e(or)h(more)e(declarations)g(as)i(its)g
(\014rst)g(forms.)49 2213 y Fj(\))45 b Ft(port-server-path)30
b Fs(p)m(ort)1244 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
2332 y(Returns)16 b(the)h(serv)n(er)h(path)f(asso)r(ciated)f(with)i(the)f
Fm(p)r(ort)g Fs(p)m(ort)p Fr(.)49 2465 y Fj(\))45 b Ft(port-properties)30
b Fs(p)m(ort)21 b(indic)m(ator)1040 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])49 2531 y Fj(\))45 b Ft(\(setf)29 b(port-properties\))h
Fs(pr)m(op)m(erty)22 b(p)m(ort)g(indic)m(ator)620 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 2650 y(These)i(functions)f(pro)n(vide)
i(a)g(p)r(ort-based)d(prop)r(ert)n(y)h(list.)45 b(They)25 b(are)f(primarily)h
(in)n(tended)e(to)i(supp)r(ort)149 2717 y(users)d(of)i(CLIM)f(that)g(ma)n(y)g
(need)g(to)g(asso)r(ciate)e(certain)i(information)e(with)j(p)r(orts.)39
b(F)-5 b(or)24 b(example,)g(the)149 2783 y(implemen)n(tor)18
b(of)i(a)h(sp)r(ecial)f(graphics)f(pac)n(k)m(age)h(ma)n(y)h(need)e(to)i(main)
n(tain)e(resource)g(tables)h(for)g(eac)n(h)g(p)r(ort)149 2850
y(on)e(whic)n(h)g(it)g(is)h(used.)49 2983 y Fj(\))45 b Ft(map-over-ports)30
b Fs(function)1410 b Fr([)p Fs(F)l(unction)t Fr(])149 3102
y(In)n(v)n(ok)n(es)19 b Fs(function)g Fr(on)f(eac)n(h)g(existing)g(p)r(ort.)
23 b(F)-5 b(unction)18 b(is)g(a)g(function)f(of)h(one)g(argumen)n(t,)e(the)h
(p)r(ort;)h(it)g(has)149 3168 y(dynamic)f(exten)n(t.)49 3301
y Fj(\))45 b Ft(restart-port)29 b Fs(p)m(ort)1361 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 3420 y(In)17 b(a)g(m)n(ulti-pro)r
(cess)d(Lisp,)k Ft(restart-port)g Fr(restarts)c(the)i(global)h(input)f(pro)r
(cessing)f(lo)r(op)h(asso)r(ciated)f(with)p eop
%%Page: 71 86
bop 149 16 a Fm(CHAPTER)16 b(9.)43 b(POR)-5 b(TS,)19 b(GRAFTS,)f(AND)g(MIRR)n
(ORED)g(SHEETS)686 b Fr(71)149 210 y(the)23 b Fm(p)r(ort)f
Fs(p)m(ort)p Fr(.)44 b(All)24 b(p)r(ending)f(input)g(ev)n(en)n(ts)h(are)f
(discarded.)40 b(Serv)n(er)24 b(resources)d(ma)n(y)j(or)f(ma)n(y)h(not)f(b)r
(e)149 276 y(released)16 b(and)i(reallo)r(cated)d(during)j(or)g(after)e(this)
i(action.)49 409 y Fj(\))45 b Ft(destroy-port)29 b Fs(p)m(ort)1361
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 528 y(Destro)n(ys)c(the)g
(connection)e(with)j(the)f(windo)n(w)h(serv)n(er)f(represen)n(ted)e(b)n(y)k
(the)e Fm(p)r(ort)f Fs(p)m(ort)p Fr(.)28 b(All)20 b(sheet)d(hierar-)149
594 y(c)n(hies)h(that)f(are)h(asso)r(ciated)e(with)i Fs(p)m(ort)j
Fr(are)c(forcibly)i(degrafted)d(b)n(y)j(diso)n(wning)f(the)g(c)n(hildren)g
(of)h(grafts)e(on)149 661 y Fs(p)m(ort)g Fr(using)e Fs(she)m(et-disown-child)
p Fr(.)26 b(All)16 b(serv)n(er)e(resources)f(utilized)i(b)n(y)h(suc)n(h)f
(hierarc)n(hies)e(or)i(b)n(y)h(an)n(y)g(graphics)149 727 y(ob)s(jects)g(on)i
Fs(p)m(ort)i Fr(are)d(released)g(as)h(part)f(of)h(the)f(connection)f(sh)n
(utdo)n(wn.)49 860 y Fj(\))45 b Ft(add-watcher)29 b Fs(p)m(ort)22
b(watcher)1184 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49
926 y Fj(\))45 b Ft(delete-watcher)30 b Fs(p)m(ort)21 b(watcher)1097
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49 993 y Fj(\))45
b Ft(reset-watcher)29 b Fs(watcher)22 b(how)1127 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 1112 y(W)-5 b(atc)n(hers)13 b(are)g(a)h(mec)n
(hanism)e(for)i(clien)n(ts)g(to)g(b)r(e)g(noti\014ed)f(when)g(the)h(p)r(ort)f
(is)h(destro)n(y)n(ed)f(or)h(restarted.)21 b Ft(add-)149 1178
y(watcher)14 b Fr(and)f Ft(delete-watcher)i Fr(pro)n(vide)f(an)f(in)n
(terface)f(for)i(adding)f(and)g(remo)n(ving)f Fs(watcher)k
Fr(to)e(the)e(list)j(of)149 1245 y(w)n(atc)n(hers)e(that)g(the)h
Fm(p)r(ort)f Fs(p)m(ort)j Fr(main)n(tains.)22 b Ft(destroy-port)15
b Fr(and)f Ft(restart-port)i Fr(in)n(v)n(ok)n(e)f Ft(reset-watcher)149
1311 y Fr(on)j(eac)n(h)f(of)h(these)f(w)n(atc)n(hers)g(with)h
Ft(:destroy)h Fr(and)e Ft(:restart)i Fr(b)r(eing)f(passed)e(in)j(as)f
Fs(how)p Fr(,)h(resp)r(ectiv)n(ely)-5 b(.)149 1444 y Fo(Minor)22
b(issue:)54 b Fm(What)18 b(exactly)f(is)i(a)f(w)n(atc)n(her?)24
b(The)17 b(ab)r(o)n(v)n(e)h(is)h(not)e(sp)r(eci\014c)g(enough.)23
b(|)c(SWM)149 1693 y Fk(9.3)91 b(Grafts)149 1881 y Fr(A)18
b Fm(graft)f Fr(is)i(a)f(sp)r(ecial)g(sheet)f(that)g(is)i(directly)f
(connected)d(to)j(a)g(displa)n(y)i(serv)n(er.)k(T)n(ypically)-5
b(,)21 b(a)d(graft)f(is)i(the)149 1947 y(CLIM)h(sheet)g(that)g(represen)n(ts)
f(the)h(ro)r(ot)g(windo)n(w)h(of)g(the)f(displa)n(y)-5 b(.)35
b(There)20 b(ma)n(y)h(b)r(e)f(sev)n(eral)h(grafts)f(that)149
2014 y(are)d(all)i(attac)n(hed)d(to)i(the)f(same)g(ro)r(ot)f(windo)n(w;)j
(these)e(grafts)f(ma)n(y)i(ha)n(v)n(e)h(di\013ering)f(co)r(ordinate)d
(systems.)149 2147 y(T)-5 b(o)18 b(displa)n(y)h(a)f(sheet)f(on)h(a)g(displa)n
(y)-5 b(,)19 b(it)g(m)n(ust)e(ha)n(v)n(e)h(a)g(graft)f(for)h(an)g(ancestor.)k
(In)c(addition,)g(the)f(sheet)g(and)149 2213 y(all)23 b(of)f(its)h(ancestors)
d(m)n(ust)h(b)r(e)h(enabled,)h(including)f(the)g(graft.)36
b(In)23 b(general,)f(a)h(sheet)e(b)r(ecomes)e(grafted)149 2279
y(when)e(it)i(\(or)e(one)g(of)h(its)h(ancestors\))c(is)j(adopted)f(b)n(y)h(a)
h(graft.)49 2412 y Fj(\))45 b Ft(sheet-grafted-p)30 b Fs(she)m(et)1251
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2531 y(Returns)16
b Fm(true)h Fr(if)i(an)n(y)f(of)g(the)g(sheet's)f(ancestors)e(is)k(a)f
(graft,)f(otherwise)g(returns)f Fm(false)p Fr(.)49 2664 y Fj(\))45
b Ft(find-graft)29 b(&key)h Fs(\(p)m(ort)15 b Ft(\(find-port\))p
Fs(\))f(\(server-p)m(ath)j Ft(*default-server-path*)p Fs(\))e(\(orientation)h
Ft(:default)p Fs(\))149 2731 y(\(units)j Ft(:device)p Fs(\))1656
b Fr([)p Fs(F)l(unction)t Fr(])149 2850 y(Finds)22 b(a)h(graft)e(that)h
(represen)n(ts)e(the)h(displa)n(y)j(device)e(on)g(the)g(p)r(ort)f
Fs(p)m(ort)j Fr(that)d(also)i(matc)n(hes)d(the)i(other)149
2916 y(supplied)17 b(parameters.)k(If)e(no)f(suc)n(h)f(graft)g(exists,)i(a)f
(new)f(graft)g(is)i(constructed)c(and)i(returned.)149 3049
y(If)24 b Fs(server-p)m(ath)k Fr(is)c(supplied,)i Ft(find-graft)f
Fr(\014nds)f(a)g(graft)f(whose)h(p)r(ort)e(pro)n(vides)i(a)h(connection)d(to)
h(the)149 3115 y(windo)n(w)18 b(serv)n(er)g(addressed)e(b)n(y)i
Fs(server-p)m(ath)p Fr(.)149 3248 y(It)g(is)g(an)g(error)f(to)h(pro)n(vide)g
(b)r(oth)e Fs(p)m(ort)k Fr(and)e Fs(server-p)m(ath)j Fr(in)e(a)f(call)g(to)g
Ft(find-graft)p Fr(.)149 3381 y Fs(orientation)30 b Fr(sp)r(eci\014es)25
b(the)i(orien)n(tation)e(of)j(the)e(graft's)g(co)r(ordinate)f(system.)50
b(Supp)r(orted)24 b(v)m(alues)j(are)149 3447 y Ft(:default)19
b Fr(and)e Ft(:graphics)p Fr(,)j(whic)n(h)e(ha)n(v)n(e)h(the)e(meanings)f
(describ)r(e)g(b)r(elo)n(w:)p eop
%%Page: 72 87
bop 149 16 a Fm(CHAPTER)16 b(9.)43 b(POR)-5 b(TS,)19 b(GRAFTS,)f(AND)g(MIRR)n
(ORED)g(SHEETS)686 b Fr(72)232 210 y Fj(\017)27 b Ft(:default)p
Fr(|a)f(co)r(ordinate)d(system)h(with)h(its)h(origin)f(is)h(in)g(the)f(upp)r
(er)e(left)j(hand)e(corner)g(of)h(the)287 276 y(displa)n(y)19
b(device)f(with)g Fn(y)i Fr(increasing)d(from)g(top)g(to)h(b)r(ottom)d(and)j
Fn(x)g Fr(increasing)f(from)f(left)i(to)g(righ)n(t.)232 382
y Fj(\017)27 b Ft(:graphics)p Fr(|a)16 b(co)r(ordinate)c(system)h(with)i(its)
g(origin)g(in)g(the)f(lo)n(w)n(er)i(left)e(hand)h(corner)e(of)i(the)f(displa)
n(y)287 449 y(device)k(with)g Fn(y)i Fr(increasing)d(from)g(b)r(ottom)e(to)j
(top)f(and)h Fn(x)g Fr(increasing)f(from)f(left)i(to)g(righ)n(t.)149
626 y Fs(units)24 b Fr(sp)r(eci\014es)e(the)h(units)h(of)g(the)f(co)r
(ordinate)f(system)g(and)i(defaults)e(to)i Ft(:device)p Fr(,)j(whic)n(h)d
(means)e(the)149 693 y(device)12 b(units)h(of)g(the)f(host)g(windo)n(w)h
(system)f(\(suc)n(h)g(as)h(pixels\).)23 b(Other)12 b(supp)r(orted)e(v)m
(alues)j(include)f Ft(:inches)p Fr(,)149 759 y Ft(:millimeters)p
Fr(,)22 b(and)e Ft(:screen-sized)p Fr(,)j(whic)n(h)e(means)d(that)i(one)g
(unit)g(in)h(eac)n(h)f(direction)f(is)i(the)f(width)149 825
y(and)d(heigh)n(t)h(of)g(the)f(displa)n(y)i(device.)149 958
y Fo(Minor)j(issue:)54 b Fm(I)19 b(don't)e(kno)n(w)i(ho)n(w)f(m)n(uc)n(h)g
(of)g(this)g(is)g(obsolete.)23 b(|)c(RSL)49 1091 y Fj(\))45
b Ft(graft)29 b Fs(obje)m(ct)1523 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1210 y(Returns)15 b(the)i(graft)f(curren)n(tly)g(asso)r(ciated)f
(with)i Fs(obje)m(ct)p Fr(.)27 b Ft(graft)18 b Fr(is)g(de\014ned)d(for)i(all)
h(sheet)e(classes)h(\(includ-)149 1277 y(ing)j(streams)e(that)i(supp)r(ort)e
(the)i(CLIM)g(graphics)f(proto)r(col\),)g(mediums,)g(and)h(application)f
(frames.)30 b(F)-5 b(or)149 1343 y(degrafted)15 b(sheets)h(or)i(other)e(ob)s
(jects)g(that)h(aren't)g(curren)n(tly)g(asso)r(ciated)e(with)j(a)g
(particular)e(graft,)h Ft(graft)149 1409 y Fr(will)i(return)e
Ft(nil)p Fr(.)49 1542 y Fj(\))45 b Ft(map-over-grafts)30 b
Fs(function)20 b(p)m(ort)1267 b Fr([)p Fs(F)l(unction)t Fr(])149
1661 y(In)n(v)n(ok)n(es)21 b Fs(function)g Fr(on)f(eac)n(h)g(existing)g
(graft)e(asso)r(ciated)g(with)i(the)f Fm(p)r(ort)g Fs(p)m(ort)p
Fr(.)33 b Fs(function)21 b Fr(is)g(a)f(function)f(of)149 1728
y(one)e(argumen)n(t,)f(the)i(graft;)f(it)h(has)g(dynamic)f(exten)n(t.)49
1860 y Fj(\))45 b Ft(with-graft-locked)30 b Fs(gr)m(aft)21
b Ft(&body)29 b Fs(b)m(o)m(dy)1176 b Fr([)p Fs(Macr)m(o)s Fr(])149
1979 y(Executes)15 b Fs(b)m(o)m(dy)j Fr(after)e(grabbing)g(a)h(lo)r(c)n(k)g
(asso)r(ciated)e(with)i(the)f Fm(graft)g Fs(gr)m(aft)p Fr(,)j(whic)n(h)e(ma)n
(y)g(b)r(e)g(a)g(graft)e(or)i(an)n(y)149 2046 y(ob)s(ject)d(on)i(whic)n(h)g
(the)f(function)g Ft(graft)h Fr(w)n(orks.)24 b(If)16 b Fs(obje)m(ct)j
Fr(curren)n(tly)c(has)g(no)h(graft,)g Fs(b)m(o)m(dy)h Fr(will)g(b)r(e)f
(executed)149 2112 y(without)h(lo)r(c)n(king.)149 2245 y Fs(b)m(o)m(dy)i
Fr(ma)n(y)f(ha)n(v)n(e)h(zero)e(or)h(more)e(declarations)g(as)i(its)g
(\014rst)g(forms.)49 2378 y Fj(\))45 b Ft(graft-orientation)30
b Fs(gr)m(aft)1201 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
2497 y(Returns)e(the)i(orien)n(tation)f(of)h(the)f Fm(graft)g
Fs(gr)m(aft)p Fr('s)k(co)r(ordinate)19 b(system.)36 b(The)22
b(returned)e(v)m(alue)i(will)i(b)r(e)e(ei-)149 2563 y(ther)d
Ft(:default)j Fr(or)e Ft(:graphics)p Fr(.)34 b(The)20 b(meanings)f(of)i
(these)e(v)m(alues)i(are)f(the)g(same)f(as)h(describ)r(ed)f(for)h(the)149
2630 y(orien)n(tation)c(argumen)n(t)g(to)i Ft(find-graft)p
Fr(.)49 2763 y Fj(\))45 b Ft(graft-units)29 b Fs(gr)m(aft)1376
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2882 y(Returns)h(the)i(units)
g(of)g(the)f Fm(graft)h Fs(gr)m(aft)p Fr('s)i(co)r(ordinate)c(system.)44
b(The)25 b(returned)e(v)m(alue)j(will)g(b)r(e)f(one)g(of)149
2948 y Ft(:device)p Fr(,)g Ft(:inches)p Fr(,)h Ft(:millimeters)p
Fr(,)g(or)d Ft(:screen-sized)p Fr(.)41 b(The)23 b(meanings)f(of)h(these)f(v)m
(alues)h(are)f(the)149 3014 y(same)16 b(as)i(describ)r(ed)e(for)i(the)f
(units)h(argumen)n(t)e(to)h Ft(find-graft)p Fr(.)49 3147 y
Fj(\))45 b Ft(graft-width)29 b Fs(gr)m(aft)22 b Ft(&key)29
b Fs(\(units)19 b Ft(:device)p Fs(\))822 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])49 3214 y Fj(\))45 b Ft(graft-height)29
b Fs(gr)m(aft)22 b Ft(&key)29 b Fs(\(units)19 b Ft(:device)p
Fs(\))793 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 3333
y(Returns)13 b(the)h(width)h(and)g(heigh)n(t)g(of)g(the)f Fm(graft)g
Fs(gr)m(aft)j Fr(\(and)d(b)n(y)i(extension)e(the)g(asso)r(ciated)f(host)h
(windo)n(w\))h(in)149 3399 y(the)h(units)g(indicated.)23 b
Fs(Units)17 b Fr(ma)n(y)g(b)r(e)e(an)n(y)j(of)e Ft(:device)p
Fr(,)i Ft(:inches)p Fr(,)g Ft(:millimeters)p Fr(,)h(or)d Ft(:screen-sized)p
Fr(.)149 3466 y(The)i(meanings)e(of)i(these)f(v)m(alues)i(are)e(the)h(same)f
(as)h(describ)r(ed)e(for)i(the)g(units)f(argumen)n(t)f(to)i
Ft(find-graft)p Fr(.)p eop
%%Page: 73 88
bop 149 16 a Fm(CHAPTER)16 b(9.)43 b(POR)-5 b(TS,)19 b(GRAFTS,)f(AND)g(MIRR)n
(ORED)g(SHEETS)686 b Fr(73)149 210 y(Note)16 b(if)j(a)f Fs(unit)h
Fr(of)f Ft(:screen-sized)h Fr(is)g(sp)r(eci\014ed,)d(b)r(oth)h(of)h(these)f
(functions)g(will)i(return)d(a)j(v)m(alue)f(of)g Ft(1)p Fr(.)49
342 y Fj(\))45 b Ft(graft-pixels-per-millimeter)30 b Fs(gr)m(aft)1122
b Fr([)p Fs(F)l(unction)t Fr(])49 409 y Fj(\))45 b Ft(graft-pixels-per-inch)
30 b Fs(gr)m(aft)1296 b Fr([)p Fs(F)l(unction)t Fr(])149 528
y(Returns)23 b(the)i(n)n(um)n(b)r(er)e(of)i(pixels)h(p)r(er)e(millimeter)g
(or)h(inc)n(h)h(of)f(the)f Fm(graft)g Fs(gr)m(aft)p Fr(.)48
b(These)25 b(functions)e(are)149 594 y(pro)n(vided)c(as)h(a)h(con)n(v)n
(enience)e(to)g(programmers)d(and)k(can)g(b)r(e)f(easily)i(written)e(in)h
(terms)e(of)j Ft(graft-width)149 661 y Fr(or)c Ft(graft-height)p
Fr(.)149 793 y Fo(Minor)i(issue:)50 b Fm(Do)16 b(w)n(e)f(w)n(an)n(t)g(to)g
(supp)r(ort)d(non-square)i(pixels?)24 b(If)15 b(so,)h(these)d(functions)h
(aren't)g(su\016cien)n(t.)149 860 y(|)k(Rao)149 1109 y Fk(9.4)91
b(Mirrors)30 b(and)g(Mirrored)f(Sheets)149 1297 y Fr(A)21 b
Fm(mirrored)d(sheet)i Fr(is)i(a)f(sp)r(ecial)f(class)h(of)g(sheet)e(that)h
(is)i(attac)n(hed)d(directly)h(to)h(a)g(windo)n(w)g(on)g(a)g(displa)n(y)149
1363 y(serv)n(er.)i(Grafts,)16 b(for)g(example,)g(are)f(alw)n(a)n(ys)i
(mirrored)d(sheets.)23 b(Ho)n(w)n(ev)n(er,)17 b(an)n(y)f(sheet)f(an)n(ywhere)
g(in)i(a)f(sheet)149 1429 y(hierarc)n(h)n(y)e(ma)n(y)g(b)r(e)f(a)h(mirrored)e
(sheet.)22 b(A)15 b(mirrored)d(sheet)h(will)i(usually)g(con)n(tain)e(a)i
(reference)c(to)j(a)g(windo)n(w)149 1496 y(system)j(ob)s(ject,)h(called)g(a)h
(mirror.)25 b(F)-5 b(or)19 b(example,)f(a)h(mirrored)e(sheet)g(attac)n(hed)g
(to)h(an)h(X11)f(serv)n(er)g(migh)n(t)149 1562 y(ha)n(v)n(e)d(an)g(X)g(windo)
n(w)h(system)d(ob)s(ject)h(stored)f(in)j(one)e(of)h(its)g(slots.)24
b(Allo)n(wing)15 b(mirrored)e(sheets)h(at)h(an)n(y)g(p)r(oin)n(t)149
1629 y(in)j(the)g(hierarc)n(h)n(y)f(enables)g(the)h(adaptiv)n(e)f(to)r(olkit)
g(facilities.)149 1762 y(Since)22 b(not)h(all)h(sheets)e(in)i(the)e(hierarc)n
(h)n(y)h(ha)n(v)n(e)h(mirrors,)f(there)f(is)i(no)f(direct)f(corresp)r
(ondence)d(b)r(et)n(w)n(een)149 1828 y(the)i(sheet)g(hierarc)n(h)n(y)g(and)h
(the)f(mirror)g(hierarc)n(h)n(y)-5 b(.)36 b(Ho)n(w)n(ev)n(er,)23
b(on)f(those)f(displa)n(y)i(serv)n(ers)e(that)g(supp)r(ort)149
1894 y(hierarc)n(hical)i(windo)n(ws,)k(the)d(hierarc)n(hies)f(m)n(ust)g(b)r
(e)h(parallel.)44 b(If)25 b(a)f(mirrored)f(sheet)g(is)i(an)f(ancestor)f(of)
149 1961 y(another)e(mirrored)g(sheet,)i(their)g(corresp)r(onding)c(mirrors)j
(m)n(ust)g(ha)n(v)n(e)i(a)f(similar)g(ancestor/desce)o(nda)o(n)n(t)149
2027 y(relationship.)149 2160 y(CLIM)f(in)n(teracts)f(with)i(mirrors)e(when)h
(it)i(m)n(ust)d(displa)n(y)j(output)d(or)i(pro)r(cess)d(ev)n(en)n(ts.)39
b(On)23 b(output,)f(the)149 2226 y(mirrored)d(sheet)i(closest)f(in)i
(ancestry)e(to)i(the)f(sheet)f(on)i(whic)n(h)g(w)n(e)g(wish)g(to)f(dra)n(w)h
(pro)n(vides)f(the)g(mirror)149 2293 y(on)f(whic)n(h)g(to)g(dra)n(w.)31
b(The)20 b(mirror's)f(dra)n(wing)h(clipping)g(region)g(is)g(set)g(up)g(to)g
(b)r(e)f(the)h(in)n(tersection)e(of)i(the)149 2359 y(user's)i(clipping)g
(region)g(and)g(the)g(sheet's)g(region)f(\(b)r(oth)g(transformed)e(to)j(the)g
(appropriate)e(co)r(ordinate)149 2426 y(system\))14 b(for)j(the)e(duration)g
(of)i(the)f(output.)22 b(On)17 b(input,)g(ev)n(en)n(ts)f(are)g(deliv)n(ered)h
(from)e(mirrors)g(to)h(the)g(sheet)149 2492 y(hierarc)n(h)n(y)-5
b(.)23 b(The)15 b(CLIM)g(p)r(ort)f(m)n(ust)g(determine)f(whic)n(h)i(sheet)f
(shall)i(receiv)n(e)e(ev)n(en)n(ts)h(based)g(on)g(information)149
2559 y(suc)n(h)j(as)f(the)h(lo)r(cation)e(of)i(the)g(p)r(oin)n(ter.)149
2691 y(In)i(b)r(oth)f(of)h(these)f(cases,)h(w)n(e)h(m)n(ust)e(ha)n(v)n(e)i(a)
f(co)r(ordinate)e(transformation)e(that)j(con)n(v)n(erts)h(co)r(ordinates)d
(in)149 2758 y(the)g(mirror)g(\(so-called)g(\\nativ)n(e")g(co)r(ordinates\))e
(in)n(to)j(co)r(ordinates)d(in)k(the)e(sheet)g(and)h(vice-v)n(ersa.)149
2979 y Fp(9.4.1)75 b(Mirror)24 b(F)-6 b(unctions)149 3147 y
Fo(Minor)23 b(issue:)58 b Fm(What)18 b(kind)i(of)f(an)g(ob)s(ject)e(is)j(a)f
(mirror?)25 b(Is)19 b(it)h(the)e(Lisp)h(ob)s(ject)e(that)h(is)i(the)e(handle)
g(to)149 3214 y(the)f(actual)g(to)r(olkit)g(windo)n(w)i(or)f(gadget?)k(|)d
(SWM)49 3347 y Fj(\))45 b Ft(sheet-direct-mirror)30 b Fs(she)m(et)1135
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 3466 y(Returns)16
b(the)h(mirror)f(of)i(the)f Fm(sheet)f Fs(she)m(et)p Fr(.)26
b(If)18 b(the)f(sheet)g(is)h(not)f(mirrored)f(\(or)h(do)r(es)f(not)h(curren)n
(tly)g(ha)n(v)n(e)i(a)p eop
%%Page: 74 89
bop 149 16 a Fm(CHAPTER)16 b(9.)43 b(POR)-5 b(TS,)19 b(GRAFTS,)f(AND)g(MIRR)n
(ORED)g(SHEETS)686 b Fr(74)149 210 y(mirror\),)16 b Ft(sheet-mirror)j
Fr(returns)e Ft(nil)p Fr(.)49 342 y Fj(\))45 b Ft(sheet-mirrored-ancestor)30
b Fs(she)m(et)1019 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
461 y(Returns)16 b(the)h(nearest)f(mirrored)g(ancestor)g(of)i(the)g
Fm(sheet)e Fs(she)m(et)p Fr(.)49 594 y Fj(\))45 b Ft(sheet-mirror)29
b Fs(she)m(et)1339 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
713 y(Returns)17 b(the)g(mirror)h(of)g(the)g Fm(sheet)g Fs(she)m(et)p
Fr(.)28 b(If)19 b(the)e(sheet)h(is)h(not)f(itself)h(mirrored,)e
Ft(sheet-mirror)i Fr(returns)149 780 y(the)e(direct)g(mirror)g(of)h(its)g
(nearest)e(mirrored)g(ancestor.)22 b Ft(sheet-mirror)d Fr(could)f(b)r(e)f
(implemen)n(ted)f(as:)149 966 y Ft(\(defun)29 b(sheet-mirror)h(\(sheet\))207
1033 y(\(sheet-direct-mirror)g(\(sheet-mirrored-ancestor)g(sheet\)\)\))49
1219 y Fj(\))45 b Ft(realize-mirror)30 b Fs(p)m(ort)21 b(mirr)m(or)m(e)m
(d-she)m(et)942 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
1338 y(Creates)c(a)i(mirror)f(for)g(the)g Fm(sheet)g Fs(mirr)m(or)m(e)m
(d-she)m(et)25 b Fr(on)19 b(the)h Fm(p)r(ort)e Fs(p)m(ort)p
Fr(,)23 b(if)e(it)f(do)r(es)f(not)g(already)g(ha)n(v)n(e)i(one.)149
1404 y(The)c(returned)f(v)m(alue)i(is)h(the)e(sheet's)g(mirror.)149
1625 y Fp(9.4.2)75 b(In)n(ternal)24 b(In)n(terfaces)h(for)g(Nativ)n(e)i(Co)r
(ordinates)149 1794 y Fo(Minor)c(issue:)56 b Fm(Do)19 b(these)e(functions)g
(w)n(ork)i(on)g(an)n(y)g(sheet,)e(or)i(only)g(on)f(sheets)f(that)g(ha)n(v)n
(e)j(a)e(mirror,)g(or)149 1860 y(only)g(on)g(sheets)f(that)g(ha)n(v)n(e)h(a)h
(direct)e(mirror?)23 b(Also,)18 b(de\014ne)f(what)g(a)i(\\nativ)n(e)e(co)r
(ordinate")e(are.)24 b(Also,)19 b(do)149 1927 y Ft
(sheet-device-transformation)g Fm(and)e Ft(sheet-device-region)i
Fm(really)f(accoun)n(t)e(for)h(the)f(user's)h(trans-)149 1993
y(formation)f(and)h(clipping)h(region?)24 b(|)19 b(SWM)49 2126
y Fj(\))45 b Ft(sheet-native-transformation)30 b Fs(she)m(et)903
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2245 y(Returns)16
b(the)h(transformation)d(for)j(the)g Fm(sheet)g Fs(she)m(et)i
Fr(that)e(con)n(v)n(erts)g(sheet)f(co)r(ordinates)f(in)n(to)j(nativ)n(e)g(co)
r(or-)149 2312 y(dinates.)30 b(The)19 b(ob)s(ject)g(returned)f(b)n(y)j(this)f
(function)f(is)i(v)n(olatile,)h(so)e(programmer)o(s)d(m)n(ust)i(not)g(dep)r
(end)g(on)149 2378 y(the)e(comp)r(onen)n(ts)e(of)j(the)f(ob)s(ject)g
(remaining)f(constan)n(t.)49 2511 y Fj(\))45 b Ft(sheet-native-region)30
b Fs(she)m(et)1135 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
2630 y(Returns)12 b(the)i(region)f(for)h(the)f Fm(sheet)g Fs(she)m(et)j
Fr(in)f(nativ)n(e)f(co)r(ordinates.)20 b(The)14 b(ob)s(ject)f(returned)f(b)n
(y)j(this)f(function)149 2696 y(is)f(v)n(olatile,)j(so)d(programmer)o(s)d(m)n
(ust)i(not)g(dep)r(end)f(on)i(the)g(comp)r(onen)n(ts)c(of)14
b(the)e(ob)s(ject)g(remaining)f(constan)n(t.)49 2829 y Fj(\))45
b Ft(sheet-device-transformation)30 b Fs(she)m(et)903 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 2948 y(Returns)17 b(the)i
(transformation)d(used)j(b)n(y)h(the)f(graphics)f(output)g(routines)g(when)g
(dra)n(wing)i(on)f(the)g(mirror.)149 3014 y(This)h(is)g(the)g(comp)r(osition)
d(of)j(the)f(sheet's)g(nativ)n(e)h(transformation)c(and)j(the)g(user)h
(transformation)o(.)27 b(The)149 3081 y(ob)s(ject)13 b(returned)g(b)n(y)j
(this)f(function)f(is)i(v)n(olatile,)h(so)e(programmers)c(m)n(ust)k(not)f
(dep)r(end)f(on)i(the)g(comp)r(onen)n(ts)149 3147 y(of)j(the)f(ob)s(ject)g
(remaining)f(constan)n(t.)49 3280 y Fj(\))45 b Ft(sheet-device-region)30
b Fs(she)m(et)1135 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
3399 y(Returns)10 b(the)i(actual)g(clipping)g(region)g(to)g(b)r(e)g(used)g
(when)g(dra)n(wing)g(on)h(the)e(mirror.)22 b(This)13 b(is)g(the)e(in)n
(tersection)149 3466 y(of)18 b(the)g(user's)f(clipping)i(region)e
(\(transformed)e(b)n(y)k(the)e(device)h(transformation\))c(with)19
b(the)e(sheet's)h(nativ)n(e)p eop
%%Page: 75 90
bop 149 16 a Fm(CHAPTER)16 b(9.)43 b(POR)-5 b(TS,)19 b(GRAFTS,)f(AND)g(MIRR)n
(ORED)g(SHEETS)686 b Fr(75)149 210 y(region.)34 b(The)22 b(ob)s(ject)e
(returned)f(b)n(y)k(this)f(function)e(is)i(v)n(olatile,)i(so)e(programmer)o
(s)c(m)n(ust)j(not)g(dep)r(end)f(on)149 276 y(the)d(comp)r(onen)n(ts)e(of)j
(the)f(ob)s(ject)g(remaining)f(constan)n(t.)49 409 y Fj(\))45
b Ft(invalidate-cached-transformations)31 b Fs(she)m(et)728
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 528 y Ft
(sheet-native-transformation)17 b Fr(and)e Ft(sheet-device-transformation)i
Fr(t)n(ypically)f(cac)n(he)f(the)f(trans-)149 594 y(formations)k(for)j(p)r
(erformance)c(reasons.)33 b Ft(invalidate-cached-transformations)23
b Fr(clears)d(the)h(cac)n(hed)149 661 y(nativ)n(e)f(and)f(device)g(v)m(alues)
h(for)f(the)g Fm(sheet)g Fs(she)m(et)p Fr('s)j(transformation)16
b(and)j(clipping)h(region.)29 b(It)20 b(is)g(in)n(v)n(ok)n(ed)149
727 y(when)f(a)g(sheet's)f(nativ)n(e)i(transformation)c(c)n(hanges,)i(whic)n
(h)i(happ)r(ens)e(when)g(a)i(sheet's)e(transformation)e(is)149
793 y(c)n(hanged)g(or)i(when)g Ft(invalidate-cached-transformations)i
Fr(is)f(called)f(on)f(an)n(y)i(of)f(its)g(ancestors.)49 926
y Fj(\))45 b Ft(invalidate-cached-regions)30 b Fs(she)m(et)961
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1045 y Ft
(sheet-native-region)g Fr(and)e Ft(sheet-device-region)i Fr(t)n(ypically)f
(cac)n(he)e(the)h(regions)g(for)g(p)r(erformance)149 1112 y(reasons.)25
b Ft(invalidate-cached-regions)c Fr(clears)d(the)g(cac)n(hed)f(nativ)n(e)i
(and)f(device)h(v)m(alues)f(for)h(the)f Fm(sheet)149 1178 y
Fs(she)m(et)p Fr('s)h(nativ)n(e)e(clipping)g(region.)23 b(It)17
b(is)g(in)n(v)n(ok)n(ed)i(when)d(a)h(sheet's)f(nativ)n(e)h(clipping)g(region)
f(c)n(hanges,)g(whic)n(h)149 1245 y(happ)r(ens)k(when)h(the)h(clipping)g
(region)f(c)n(hanges)g(or)h(when)f Ft(invalidate-cached-regions)j
Fr(is)f(called)f(on)149 1311 y(an)n(y)c(of)g(its)g(ancestors.)p
eop
%%Page: 76 91
bop 1078 1262 a Fl(P)l(art)46 b(IV)366 1605 y Fq(Sheet)51 b(and)i(Medium)f
(Output)1000 1771 y(F)-13 b(acilities)1276 3632 y Fr(76)p eop
%%Page: 77 92
bop 149 691 a Fl(Chapter)46 b(10)149 1034 y Fq(Dra)l(wing)53
b(Options)149 1388 y Fr(This)24 b(c)n(hapter)e(describ)r(es)g(the)h(dra)n
(wing)h(options)f(that)g(are)g(used)g(b)n(y)i(CLIM's)f(dra)n(wing)g
(functions,)g(and)149 1455 y(the)17 b(relationship)g(b)r(et)n(w)n(een)g(dra)n
(wing)h(options,)g(sheets,)f(and)h(mediums.)24 b(These)17 b(dra)n(wing)h
(options)f(con)n(trol)149 1521 y(v)m(arious)g(asp)r(ects)f(of)i(the)f(dra)n
(wing)g(pro)r(cess,)f(and)i(can)f(b)r(e)g(pro)n(vided)h(as)g(k)n(eyw)n(ord)g
(argumen)n(ts)d(to)j(all)g(of)g(the)149 1588 y(dra)n(wing)f(functions.)149
1837 y Fk(10.1)91 b(Medium)31 b(Comp)s(onen)m(ts)149 2025 y
Fr(Medium)22 b(ob)s(jects)g(con)n(tain)i(comp)r(onen)n(ts)c(that)j(corresp)r
(ond)d(to)k(the)f(dra)n(wing)h(options;)i(when)d(no)h(v)m(alue)149
2091 y(for)19 b(a)g(dra)n(wing)g(option)f(is)i(explicitly)g(pro)n(vided)f(to)
g(a)g(dra)n(wing)g(function,)f(it)i(is)g(tak)n(en)f(from)f(the)g(medium.)149
2158 y(These)c(v)m(alues)h(can)f(b)r(e)h(directly)f(queried)h(or)g(mo)r
(di\014ed)e(using)i(accessors)d(de\014ned)i(on)h(the)f(sheet)g(or)h(medium.)
149 2224 y(They)20 b(can)g(also)h(b)r(e)e(temp)r(orarily)f(b)r(ound)i(within)
g(a)h(dynamic)e(con)n(text)g(using)i Ft(with-drawing-options)p
Fr(,)149 2291 y Ft(with-text-style)p Fr(,)e(and)f(related)f(forms.)149
2423 y Ft(setf)g Fr(of)f(one)g(of)h(these)e(comp)r(onen)n(ts)e(while)k(it)f
(is)i(temp)r(orarily)c(b)r(ound)h(\(via)h Ft(with-drawing-options)p
Fr(,)j(for)149 2490 y(instance\))d(tak)n(es)i(e\013ect)f(immediately)f(but)h
(is)i(undone)e(when)g(the)g(dynamic)g(binding)h(con)n(text)f(is)i(exited.)149
2623 y(In)c(systems)e(that)h(supp)r(ort)f(m)n(ultiple)h(pro)r(cesses,)g(the)g
(consequences)e(are)i(unsp)r(eci\014ed)f(if)i(one)g(pro)r(cess)e(reads)149
2689 y(or)k(writes)h(a)g(medium)e(comp)r(onen)n(t)f(that)i(is)i(temp)r
(orarily)c(b)r(ound)i(b)n(y)i(another)d(pro)r(cess.)149 2822
y(The)23 b(follo)n(wing)h(functions)e(read)h(and)g(write)g(comp)r(onen)n(ts)d
(of)k(a)f(medium)f(related)g(to)h(dra)n(wing)g(options.)149
2888 y(While)f(these)f(functions)f(are)h(de\014ned)g(for)h(mediums,)f(they)g
(can)g(also)h(b)r(e)g(called)f(on)h(sheets)f(supp)r(ort)e(the)149
2955 y(sheet)f(output)h(proto)r(col)f(and)h(on)h(streams)e(that)h(output)f
(to)i(suc)n(h)g(sheets.)29 b(All)20 b(classes)g(that)e(supp)r(ort)g(the)149
3021 y(medium)d(proto)r(col)f(m)n(ust)i(implemen)n(t)f(metho)r(ds)f(for)i
(these)f(generic)h(functions.)23 b(Often,)16 b(a)h(sheet)e(class)i(that)149
3088 y(supp)r(orts)g(the)i(output)e(proto)r(col)h(will)j(implemen)n(t)c(a)j
(\\tramp)r(oline")c(metho)r(d)h(that)h(passes)g(the)h(op)r(eration)149
3154 y(on)f(to)f Ft(sheet-medium)i Fr(of)f(the)g(sheet.)49
3287 y Fj(\))45 b Ft(medium-foreground)30 b Fs(me)m(dium)1122
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49 3353 y Fj(\))45
b Ft(medium-background)30 b Fs(me)m(dium)1122 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])1276 3632 y(77)p eop
%%Page: 78 93
bop 149 16 a Fm(CHAPTER)16 b(10.)43 b(DRA)-6 b(WING)18 b(OPTIONS)1287
b Fr(78)149 210 y(Returns)19 b(the)h(foreground)f(and)i(bac)n(kground)e(inks)
j(\(whic)n(h)e(are)h(designs\))f(for)g(the)h Fm(medium)e Fs(me)m(dium)p
Fr(,)k(re-)149 276 y(sp)r(ectiv)n(ely)-5 b(.)24 b(The)16 b(foreground)e(ink)j
(is)g(the)f(default)f(ink)i(used)f(when)g(dra)n(wing.)24 b(The)16
b(bac)n(kground)f(ink)i(is)g(the)149 342 y(ink)h(used)g(when)f(erasing.)24
b(See)17 b(Chapter)g(13)h(for)f(a)h(more)f(complete)f(description)g(of)i
(designs.)149 475 y(An)n(y)k(indirect)e(inks)j(are)e(resolv)n(ed)g(against)g
(the)g(foreground)e(and)i(bac)n(kground)f(at)h(the)g(time)g(a)h(design)f(is)
149 542 y(rendered.)49 674 y Fj(\))45 b Ft(\(setf)29 b(medium-foreground\))h
Fs(design)21 b(me)m(dium)749 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])49 741 y Fj(\))45 b Ft(\(setf)29 b(medium-background\))h
Fs(design)21 b(me)m(dium)749 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 860 y(Sets)d(the)h(foreground)e(and)i(bac)n(kground)f(ink,)k(resp)r
(ectiv)n(ely)-5 b(,)20 b(for)h(the)e Fm(medium)g Fs(me)m(dium)j
Fr(to)e Fs(design)p Fr(.)34 b(Y)-5 b(ou)149 926 y(ma)n(y)18
b(not)f(set)g Ft(medium-foreground)j Fr(or)e Ft(medium-background)h
Fr(to)f(an)g(indirect)f(ink.)149 1059 y Fs(design)h Fr(is)f(an)g(un)n(b)r
(ounded)e(design.)24 b(If)17 b(the)f(bac)n(kground)f(design)i(is)g(not)g
(completely)e(opaque)h(at)g(all)i(p)r(oin)n(ts,)149 1126 y(the)f
(consequences)e(are)j(unsp)r(eci\014ed.)149 1258 y(Changing)j(the)g
(foreground)f(or)h(bac)n(kground)g(of)h(a)g(sheet)e(that)h(supp)r(orts)f
(output)g(recording)h(causes)f(the)149 1325 y(con)n(ten)n(ts)25
b(of)i(the)g(stream's)e(viewp)r(ort)h(to)h(b)r(e)f(erased)g(and)g(redra)n(wn)
g(using)h(the)g(new)f(foreground)f(and)149 1391 y(bac)n(kground.)49
1524 y Fj(\))45 b Ft(medium-ink)29 b Fs(me)m(dium)1326 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 1643 y(The)27 b(curren)n(t)e(dra)n
(wing)i(ink)h(for)f(the)f Fm(medium)f Fs(me)m(dium)p Fr(,)32
b(whic)n(h)27 b(can)g(b)r(e)f(an)n(y)i(design.)51 b(The)27
b(dra)n(wing)149 1710 y(functions)12 b(dra)n(w)i(with)g(the)f(color)g(and)h
(pattern)e(that)h(this)g(sp)r(eci\014es.)22 b(See)13 b(Chapter)f(13)i(for)g
(a)g(more)e(complete)149 1776 y(description)k(of)i(inks.)25
b(The)18 b Ft(:ink)h Fr(dra)n(wing)e(option)h(temp)r(orarily)d(c)n(hanges)i
(the)g(v)m(alue)h(of)g Ft(medium-ink)p Fr(.)49 1909 y Fj(\))45
b Ft(\(setf)29 b(medium-ink\))h Fs(design)20 b(me)m(dium)953
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2028 y(Sets)k(the)h(curren)n
(t)g(dra)n(wing)g(ink)h(for)g(the)f Fm(medium)e Fs(me)m(dium)30
b Fr(to)d Fs(design)p Fr(.)55 b Fs(design)29 b Fr(is)f(as)f(for)h
Ft(medium-)149 2094 y(foreground)p Fr(,)19 b(and)f(ma)n(y)g(b)r(e)f(an)h
(indirect)f(ink)i(as)f(w)n(ell.)49 2227 y Fj(\))45 b Ft
(medium-transformation)30 b Fs(me)m(dium)1006 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 2346 y(The)28 b(curren)n(t)g(user)g(transformation)d
(for)k(the)f Fm(medium)f Fs(me)m(dium)p Fr(.)59 b(This)30 b(transformation)25
b(is)30 b(used)e(to)149 2412 y(transform)20 b(the)j(co)r(ordinates)e
(supplied)i(as)h(argumen)n(ts)d(to)i(dra)n(wing)g(functions)f(to)h(the)g(co)r
(ordinate)e(sys-)149 2479 y(tem)f(of)j(the)e(dra)n(wing)h(plane.)36
b(See)22 b(Chapter)e(5)j(for)e(a)i(complete)c(description)i(of)h
(transformations.)33 b(The)149 2545 y Ft(:transformation)19
b Fr(dra)n(wing)f(option)f(temp)r(orarily)f(c)n(hanges)g(the)i(v)m(alue)g(of)
g Ft(medium-transformation)p Fr(.)49 2678 y Fj(\))45 b Ft(\(setf)29
b(medium-transformation\))h Fs(tr)m(ansformation)23 b(me)m(dium)425
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2797 y(Sets)16
b(the)g(curren)n(t)g(user)g(transformation)d(for)k(the)f Fm(medium)f
Fs(me)m(dium)k Fr(to)e(the)f Fm(transformation)d Fs(tr)m(ansforma-)149
2864 y(tion)p Fr(.)49 2996 y Fj(\))45 b Ft(medium-clipping-region)30
b Fs(me)m(dium)977 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
3115 y(The)e(curren)n(t)f(clipping)i(region)f(for)g(the)g Fm(medium)f
Fs(me)m(dium)p Fr(.)35 b(The)20 b(dra)n(wing)h(functions)e(do)h(not)g
(a\013ect)g(the)149 3182 y(dra)n(wing)d(plane)g(outside)g(this)g(region.)24
b(The)17 b Ft(:clipping-region)i Fr(dra)n(wing)f(option)f(temp)r(orarily)e(c)
n(hanges)149 3248 y(the)i(v)m(alue)h(of)g Ft(medium-clipping-region)p
Fr(.)149 3381 y(The)f(clipping)i(region)e(is)h(expressed)f(in)h(user)g(co)r
(ordinates.)p eop
%%Page: 79 94
bop 149 16 a Fm(CHAPTER)16 b(10.)43 b(DRA)-6 b(WING)18 b(OPTIONS)1287
b Fr(79)49 210 y Fj(\))45 b Ft(\(setf)29 b(medium-clipping-region\))h
Fs(r)m(e)m(gion)22 b(me)m(dium)609 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 329 y(Sets)e(the)h(curren)n(t)f(clipping)i(region)e(for)i(the)f
Fm(medium)e Fs(me)m(dium)k Fr(to)e Fs(r)m(e)m(gion)p Fr(.)38
b Fs(r)m(e)m(gion)24 b Fr(m)n(ust)d(b)r(e)f(a)i(sub)r(class)149
395 y(of)c Ft(area)p Fr(.)26 b(F)-5 b(urthermore,)16 b(some)h(implemen)n
(tations)e(ma)n(y)k(signal)f(an)g(error)f(if)i(the)f(clipping)g(region)g(is)h
(not)f(a)149 461 y(rectangle)e(or)h(a)i(region)e(set)g(comp)r(osed)e(en)n
(tirely)j(of)g(rectangles.)49 594 y Fj(\))45 b Ft(medium-line-style)30
b Fs(me)m(dium)1122 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 713 y(The)j(curren)n(t)g(line)h(st)n(yle)h(for)e(the)h
Fm(medium)e Fs(me)m(dium)p Fr(.)50 b(The)25 b(line)i(and)f(arc)f(dra)n(wing)h
(functions)e(render)149 780 y(according)f(to)i(this)g(line)h(st)n(yle.)46
b(See)25 b(Section)f(10.3)h(for)g(a)g(complete)e(description)h(of)h(line)g
(st)n(yles.)47 b(The)149 846 y Ft(:line-style)19 b Fr(dra)n(wing)f(option)f
(temp)r(orarily)e(c)n(hanges)i(the)h(v)m(alue)f(of)i Ft(medium-line-style)p
Fr(.)49 979 y Fj(\))45 b Ft(\(setf)29 b(medium-line-style\))h
Fs(line-style)21 b(me)m(dium)684 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1098 y(Sets)17 b(the)g(curren)n(t)g(line)h(st)n(yle)h(for)e(the)h
Fm(medium)e Fs(me)m(dium)j Fr(to)f(the)f Fm(line)i(st)n(yle)f
Fs(line-style)p Fr(.)49 1231 y Fj(\))45 b Ft(medium-default-text-style)30
b Fs(me)m(dium)890 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
1350 y(The)j(default)g(text)f(st)n(yle)i(for)g(the)f Fm(medium)e
Fs(me)m(dium)p Fr(.)49 b Ft(medium-default-text-style)27 b
Fr(will)h(return)c(a)149 1416 y(fully)f(sp)r(eci\014ed)d(text)h(st)n(yle,)j
(unlik)n(e)f Ft(medium-text-style)p Fr(,)i(whic)n(h)d(ma)n(y)g(return)f(a)h
(text)f(st)n(yle)h(with)g(n)n(ull)149 1483 y(comp)r(onen)n(ts.)f(An)n(y)c
(text)f(st)n(yles)h(that)f(are)h(not)f(fully)i(sp)r(eci\014ed)d(b)n(y)j(the)e
(time)g(they)h(are)f(used)h(for)f(rendering)149 1549 y(are)h(merged)f
(against)h Ft(medium-default-text-style)j Fr(using)e Ft(merge-text-styles)p
Fr(.)149 1682 y(The)e(default)f(v)m(alue)h(for)g Ft
(medium-default-text-style)i Fr(for)e(an)n(y)h(medium)d(is)j
Ft(*default-text-style*)p Fr(.)149 1815 y(See)g(Chapter)f(11)i(for)g(a)g
(complete)e(description)g(of)i(text)g(st)n(yles.)49 1948 y
Fj(\))45 b Ft(\(setf)29 b(medium-default-text-style\))i Fs(text-style)21
b(me)m(dium)451 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
2067 y(Sets)15 b(the)h(default)g(text)f(st)n(yle)i(for)g(the)e
Fm(medium)g Fs(me)m(dium)j Fr(to)e(the)g Fm(text)g(st)n(yle)h
Fs(text-style)p Fr(.)26 b Fs(text-style)18 b Fr(m)n(ust)d(b)r(e)149
2133 y(a)j(fully)h(sp)r(eci\014ed)d(text)h(st)n(yle.)149 2266
y(Some)11 b(CLIM)i(implemen)n(tations)c(ma)n(y)k(arrange)e(to)h(erase)g(and)h
(redra)n(w)f(the)g(output)f(on)i(an)f(output)f(recording)149
2332 y(stream)j(when)i(the)g(default)g(text)g(st)n(yle)h(of)g(the)f(stream)e
(is)k(c)n(hanged.)23 b(Implemen)n(tations)13 b(that)i(do)i(this)g(m)n(ust)149
2399 y(ob)r(ey)i(the)g(prop)r(er)f(v)n(ertical)i(spacing)f(for)g(output)g
(streams,)f(and)i(m)n(ust)f(reformat)e(tables,)j(graphs,)f(and)h(so)149
2465 y(forth,)i(as)g(necessary)-5 b(.)36 b(Because)20 b(of)j(the)e(exp)r
(ense)f(of)j(this)f(op)r(eration,)f(CLIM)h(implemen)n(tations)d(are)i(not)149
2531 y(required)c(to)g(supp)r(ort)f(this.)49 2664 y Fj(\))45
b Ft(medium-text-style)30 b Fs(me)m(dium)1122 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 2783 y(The)17 b(curren)n(t)g(text)g(st)n(yle)i(for)e
(the)h Fm(medium)e Fs(me)m(dium)p Fr(.)26 b(The)18 b(text)f(dra)n(wing)h
(functions,)f(including)g(ordinary)149 2850 y(stream)g(output,)i(render)f
(text)h(as)h(directed)e(b)n(y)i(this)g(text)f(st)n(yle)h(merged)e(against)g
(the)h(default)g(text)g(st)n(yle.)149 2916 y(This)e(con)n(trols)e(b)r(oth)h
(graphical)f(text)h(\(suc)n(h)g(as)h(that)e(dra)n(wn)h(b)n(y)i
Ft(draw-text*)p Fr(\))f(and)f(stream)f(text)h(\(suc)n(h)g(as)149
2983 y(that)i(written)g(b)n(y)j Ft(write-string)p Fr(\).)29
b(See)19 b(Chapter)f(11)h(for)h(a)f(complete)e(description)h(of)i(text)f(st)n
(yles.)29 b(The)149 3049 y Ft(:text-style)19 b Fr(dra)n(wing)f(option)f(temp)
r(orarily)e(c)n(hanges)i(the)h(v)m(alue)f(of)i Ft(medium-text-style)p
Fr(.)49 3182 y Fj(\))45 b Ft(\(setf)29 b(medium-text-style\))h
Fs(text-style)21 b(me)m(dium)684 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 3301 y(Sets)e(the)g(curren)n(t)g(text)h(st)n(yle)g(for)g(the)g
Fm(medium)e Fs(me)m(dium)k Fr(to)d(the)h Fm(text)f(st)n(yle)i
Fs(text-style)p Fr(.)36 b Fs(text-style)23 b Fr(need)149 3367
y(not)17 b(b)r(e)g(a)i(fully)g(merged)c(text)j(st)n(yle.)p
eop
%%Page: 80 95
bop 149 16 a Fm(CHAPTER)16 b(10.)43 b(DRA)-6 b(WING)18 b(OPTIONS)1287
b Fr(80)49 210 y Fj(\))45 b Ft(medium-current-text-style)30
b Fs(me)m(dium)890 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
329 y(The)g(curren)n(t,)g(fully)h(merged)d(text)h(st)n(yle)i(for)e(the)h
Fm(medium)e Fs(me)m(dium)p Fr(.)38 b(This)23 b(is)g(the)e(text)h(st)n(yle)g
(that)f(will)149 395 y(b)r(e)h(used)h(when)f(dra)n(wing)h(text)f(output,)i
(and)e(is)i(the)e(result)h(of)g(merging)e Ft(medium-text-style)k
Fr(against)149 461 y Ft(medium-default-text-style)p Fr(.)149
711 y Fk(10.2)91 b(Dra)m(wing)30 b(Option)f(Binding)h(F)-8
b(orms)49 899 y Fj(\))45 b Ft(with-drawing-options)30 b Fs(\(me)m(dium)20
b Ft(&rest)30 b Fs(dr)m(awing-options\))21 b Ft(&body)30 b
Fs(b)m(o)m(dy)389 b Fr([)p Fs(Macr)m(o)s Fr(])149 1018 y(Binds)23
b(the)f(state)g(of)h(the)g Fm(medium)e Fr(designated)g(b)n(y)j
Fs(me)m(dium)g Fr(to)f(corresp)r(ond)d(to)j(the)f(supplied)h(dra)n(wing)149
1084 y(options,)f(and)f(executes)f(the)i(b)r(o)r(dy)e(with)i(the)g(new)f(dra)
n(wing)h(options)f(sp)r(eci\014ed)f(b)n(y)j Fs(dr)m(awing-options)h
Fr(in)149 1150 y(e\013ect.)50 b(Eac)n(h)26 b(option)h(causes)e(binding)i(of)g
(the)f(corresp)r(onding)e(comp)r(onen)n(t)g(of)i(the)h(medium)e(for)h(the)149
1217 y(dynamic)d(exten)n(t)g(of)g(the)h(b)r(o)r(dy)-5 b(.)41
b(The)24 b(dra)n(wing)g(functions)e(e\013ectiv)n(ely)i(do)g(a)g
Ft(with-drawing-options)149 1283 y Fr(when)17 b(dra)n(wing)h(option)f
(argumen)n(ts)f(are)h(supplied)h(to)f(them.)149 1416 y Fs(me)m(dium)23
b Fr(can)f(b)r(e)g(a)g(medium,)g(a)g(sheet)f(that)g(supp)r(orts)f(the)i
(sheet)f(output)g(proto)r(col,)g(or)h(a)h(stream)d(that)149
1482 y(outputs)c(to)i(suc)n(h)g(a)h(sheet.)24 b(The)18 b Fs(me)m(dium)i
Fr(argumen)n(t)c(is)j(not)f(ev)m(aluated,)f(and)h(m)n(ust)g(b)r(e)g(a)g(sym)n
(b)r(ol)g(that)f(is)149 1549 y(b)r(ound)g(to)i(a)g(sheet)e(or)i(medium.)25
b(If)20 b Fs(me)m(dium)g Fr(is)g Ft(t)p Fr(,)f Ft(*standard-output*)i
Fr(is)e(used.)27 b Fs(b)m(o)m(dy)20 b Fr(ma)n(y)f(ha)n(v)n(e)h(zero)149
1615 y(or)d(more)g(declarations)f(as)i(its)g(\014rst)f(forms.)149
1748 y Ft(with-drawing-options)c Fr(m)n(ust)e(b)r(e)g(implemen)n(ted)f(b)n(y)
i(expanding)f(in)n(to)h(a)g(call)h(to)e Ft(invoke-with-drawing-)149
1815 y(options)p Fr(,)16 b(supplying)d(a)h(function)f(that)f(executes)g
Fs(b)m(o)m(dy)k Fr(as)d(the)g Fs(c)m(ontinuation)k Fr(argumen)n(t)11
b(to)j Ft(invoke-with-)149 1881 y(drawing-options)p Fr(.)25
b(The)14 b(exact)g(b)r(eha)n(vior)g(of)h(this)g(macro)f(is)h(describ)r(ed)e
(under)h Ft(invoke-with-drawing-)149 1947 y(options)p Fr(.)49
2080 y Fj(\))45 b Ft(invoke-with-drawing-options)30 b Fs(me)m(dium)16
b(c)m(ontinuation)g Ft(&rest)29 b Fs(dr)m(awing-options)j Fr([)p
Fs(Generic)21 b(F)l(unction)t Fr(])149 2279 y(Binds)c(the)e(state)h(of)g(the)
g Fm(medium)f Fs(me)m(dium)j Fr(to)e(corresp)r(ond)e(to)i(the)g(supplied)g
(dra)n(wing)g(options,)g(and)h(then)149 2346 y(calls)e(the)g(function)f
Fs(c)m(ontinuation)k Fr(with)d(the)f(new)h(dra)n(wing)g(options)f(in)i
(e\013ect.)23 b Fs(c)m(ontinuation)18 b Fr(is)e(a)f(function)149
2412 y(of)22 b(one)g(argumen)n(t,)f(the)g(medium;)i(it)g(has)e(dynamic)h
(exten)n(t.)36 b Fs(dr)m(awing-options)25 b Fr(is)d(a)h(list)f(of)h
(alternating)149 2479 y(k)n(eyw)n(ord-v)m(alue)17 b(pairs,)f(and)h(m)n(ust)e
(ha)n(v)n(e)i(ev)n(en)g(length.)23 b(Eac)n(h)16 b(option)g(in)h
Fs(dr)m(awing-options)i Fr(causes)c(binding)149 2545 y(of)j(the)f(corresp)r
(onding)e(comp)r(onen)n(t)g(of)j(the)f(medium)f(for)i(the)f(dynamic)g(exten)n
(t)g(of)h(the)g(b)r(o)r(dy)-5 b(.)149 2678 y Fs(me)m(dium)23
b Fr(can)f(b)r(e)g(a)g(medium,)g(a)g(sheet)f(that)g(supp)r(orts)f(the)i
(sheet)f(output)g(proto)r(col,)g(or)h(a)h(stream)d(that)149
2744 y(outputs)d(to)i(suc)n(h)g(a)h(sheet.)27 b(All)20 b(classes)f(that)f(ob)
r(ey)g(the)h(medium)f(proto)r(col)f(m)n(ust)h(implemen)n(t)g(a)h(metho)r(d)
149 2811 y(for)e Ft(invoke-with-drawing-options)p Fr(.)149
2944 y(The)12 b(dra)n(wing)g(options)f(can)h(b)r(e)f(an)n(y)i(of)g(the)e
(follo)n(wing,)k(plus)d(an)n(y)h(of)f(the)g(sub)r(options)e(for)i(line)h(st)n
(yles)f(and)g(text)149 3010 y(st)n(yles.)25 b(The)18 b(default)g(v)m(alue)g
(sp)r(eci\014ed)e(for)i(a)h(dra)n(wing)f(option)f(is)i(the)f(v)m(alue)g(to)g
(whic)n(h)g(the)g(corresp)r(onding)149 3076 y(comp)r(onen)n(t)d(of)j(a)g
(medium)e(is)j(normally)e(initialized.)49 3209 y Fj(\))45 b
Ft(:ink)1974 b Fr([)p Fs(Option)t Fr(])149 3328 y(A)18 b(design)f(that)g
(will)j(b)r(e)e(used)f(as)h(the)g(ink)h(for)e(dra)n(wing)h(op)r(erations.)23
b(The)18 b(dra)n(wing)g(functions)e(dra)n(w)j(with)149 3395
y(the)12 b(color)h(and)f(pattern)f(that)h(this)i(sp)r(eci\014es.)21
b(The)13 b(default)f(v)m(alue)h(is)h Ft(+foreground-ink+)p
Fr(.)24 b(See)12 b(Chapter)g(13)149 3461 y(for)17 b(a)i(complete)c
(description)i(of)h(inks.)p eop
%%Page: 81 96
bop 149 16 a Fm(CHAPTER)16 b(10.)43 b(DRA)-6 b(WING)18 b(OPTIONS)1287
b Fr(81)149 210 y(The)21 b Ft(:ink)g Fs(ink)h Fr(dra)n(wing)f(option)g(temp)r
(orarily)d(c)n(hanges)i(the)h(v)m(alue)g(of)g Ft(\(medium-ink)30
b Fs(me)m(dium)p Ft(\))23 b Fr(to)d Fs(ink)p Fr(,)149 276 y(replacing)d(the)g
(previous)g(ink;)i(the)f(new)g(and)f(old)h(inks)h(are)e(not)h(com)n(bined)e
(in)j(an)n(y)f(w)n(a)n(y)-5 b(.)49 409 y Fj(\))45 b Ft(:transformation)1655
b Fr([)p Fs(Option)t Fr(])149 528 y(This)13 b(transforms)d(the)j(co)r
(ordinates)d(used)j(as)g(argumen)n(ts)d(to)j(dra)n(wing)g(functions)f(to)g
(the)h(co)r(ordinate)d(system)149 594 y(of)20 b(the)f(dra)n(wing)h(plane.)30
b(The)20 b(default)f(v)m(alue)h(is)g Ft(+identity-transformation+)p
Fr(.)33 b(See)19 b(Chapter)g(5)h(for)g(a)149 661 y(complete)15
b(description)i(of)h(transformations)o(.)149 793 y(The)11 b
Ft(:transformation)i Fs(xform)g Fr(dra)n(wing)f(option)f(temp)r(orarily)e(c)n
(hanges)i(the)g(v)m(alue)h(of)p Ft(\(medium-transformation)149
860 y Fs(me)m(dium)p Ft(\))19 b Fr(to)f Ft(\(compose-transformations)30
b(\(medium-transformation)h Fs(me)m(dium)p Ft(\))f Fs(xform)p
Ft(\))p Fr(.)49 993 y Fj(\))45 b Ft(:clipping-region)1626 b
Fr([)p Fs(Option)t Fr(])149 1112 y(The)18 b(dra)n(wing)h(functions)e(do)h
(not)h(a\013ect)e(the)h(dra)n(wing)h(plane)f(outside)g(this)g(region.)26
b(The)19 b(clipping)f(region)149 1178 y(m)n(ust)24 b(b)r(e)g(an)h
Ft(area)p Fr(.)46 b(F)-5 b(urthermore,)25 b(some)e(implemen)n(tations)f(migh)
n(t)j(signal)g(an)g(error)e(if)j(the)f(clipping)149 1245 y(region)20
b(is)h(not)f(a)h(rectangle)e(or)i(a)g(region)f(set)g(comp)r(osed)e(en)n
(tirely)i(of)h(rectangles.)31 b(Rendering)19 b(is)i(clipp)r(ed)149
1311 y(b)r(oth)15 b(b)n(y)i(this)f(clipping)g(region)f(and)h(b)n(y)h(other)e
(clipping)h(regions)f(asso)r(ciated)f(with)i(the)g(mapping)e(from)h(the)149
1377 y(target)d(dra)n(wing)j(plane)f(to)g(the)g(viewp)r(ort)g(that)f(displa)n
(ys)i(a)g(p)r(ortion)e(of)i(the)f(dra)n(wing)g(plane.)23 b(The)14
b(default)g(is)149 1444 y Ft(+everywhere+)p Fr(,)k(or)e(in)h(other)e(w)n
(ords,)i(no)f(clipping)g(o)r(ccurs)f(in)i(the)e(dra)n(wing)i(plane,)f(only)h
(in)g(the)f(viewp)r(ort.)149 1577 y(The)11 b Ft(:clipping-region)j
Fs(r)m(e)m(gion)g Fr(dra)n(wing)d(option)g(temp)r(orarily)f(c)n(hanges)h(the)
g(v)m(alue)h(of)g Ft(\(medium-clipping-)149 1643 y(region)29
b Fs(me)m(dium)p Ft(\))14 b Fr(to)d Ft(\(region-intersection)30
b(\(transform-region)g(\(medium-transformation)h Fs(me)m(dium)p
Ft(\))149 1710 y Fs(r)m(e)m(gion)p Ft(\))g(\(medium-clipping-region)f
Fs(me)m(dium)p Ft(\)\))p Fr(.)d(If)19 b(b)r(oth)e(a)h(clipping)h(region)e
(and)h(a)g(transformation)149 1776 y(are)e(supplied)h(in)h(the)e(same)g(set)h
(of)g(dra)n(wing)g(options,)g(the)f(clipping)i(region)e(argumen)n(t)f(is)j
(transformed)c(b)n(y)149 1842 y(the)j(newly)h(comp)r(osed)d(transformation)g
(b)r(efore)h(calling)i Ft(region-intersection)p Fr(.)149 1975
y Fo(Minor)i(issue:)52 b Fm(A)16 b(b)r(etter)d(explanation)i(is)i(needed.)22
b(It)16 b(do)r(es)f(the)g(righ)n(t)h(thing,)g(but)f(it's)i(hard)e(to)g(tell)i
(that)149 2042 y(from)g(this)g(description.)23 b(That)18 b(is,)h(the)e
(clipping)h(region)f(is)i(expressed)d(in)j(user)e(co)r(ordinates.)22
b(|)d(DCPL)49 2174 y Fj(\))45 b Ft(:line-style)1771 b Fr([)p
Fs(Option)t Fr(])149 2293 y(The)16 b(line)h(and)g(arc)f(dra)n(wing)g
(functions)f(render)h(according)e(to)j(this)f(line)h(st)n(yle.)25
b(The)16 b(line)i(st)n(yle)f(sub)r(options)149 2360 y(and)g(default)g(are)h
(de\014ned)e(in)j(Section)e(10.3.)149 2493 y(The)26 b Ft(:line-style)i
Fs(ls)f Fr(dra)n(wing)g(option)f(temp)r(orarily)f(c)n(hanges)g(the)h(v)m
(alue)h(of)g Ft(\(medium-line-style)149 2559 y Fs(me)m(dium)p
Ft(\))18 b Fr(to)f Fs(ls)p Fr(,)h(replacing)e(the)g(previous)h(line)g(st)n
(yle;)h(the)f(new)g(and)f(old)i(line)f(st)n(yles)h(are)e(not)g(com)n(bined)g
(in)149 2626 y(an)n(y)i(w)n(a)n(y)-5 b(.)149 2758 y(If)16 b(line)h(st)n(yle)g
(sub)r(options)e(are)g(supplied,)i(they)f(temp)r(orarily)e(c)n(hange)i(the)f
(v)m(alue)i(of)f Ft(\(medium-line-style)149 2825 y Fs(me)m(dium)p
Ft(\))h Fr(to)f(a)h(line)f(st)n(yle)h(constructed)c(from)i(the)g(sp)r
(eci\014ed)g(sub)r(options.)22 b(Comp)r(onen)n(ts)13 b(not)i(sp)r(eci\014ed)g
(b)n(y)149 2891 y(sub)r(options)k(are)i(defaulted)f(from)h(the)g
Ft(:line-style)i Fr(dra)n(wing)e(option,)h(if)h(it)f(is)g(supplied,)h(or)e
(else)h(from)149 2958 y(the)17 b(previous)g(v)m(alue)h(of)h
Ft(\(medium-line-style)30 b Fs(me)m(dium)p Ft(\))p Fr(.)c(That)17
b(is,)i(if)g(b)r(oth)e(the)g Ft(:line-style)i Fr(option)149
3024 y(and)g(line)i(st)n(yle)f(sub)r(options)e(are)h(supplied,)i(the)e(sub)r
(options)f(tak)n(e)h(precedence)e(o)n(v)n(er)k(the)e(comp)r(onen)n(ts)e(of)
149 3090 y(the)g Ft(:line-style)i Fr(option.)49 3223 y Fj(\))45
b Ft(:text-style)1771 b Fr([)p Fs(Option)t Fr(])149 3342 y(The)20
b(text)h(dra)n(wing)f(functions,)h(including)g(ordinary)f(stream)f(output,)h
(render)g(text)g(as)h(directed)e(b)n(y)j(this)149 3409 y(text)17
b(st)n(yle)h(merged)e(against)h(the)g(default)g(text)g(st)n(yle.)25
b(The)18 b(default)f(v)m(alue)h(has)f(all)i(n)n(ull)g(comp)r(onen)n(ts.)i
(See)p eop
%%Page: 82 97
bop 149 16 a Fm(CHAPTER)16 b(10.)43 b(DRA)-6 b(WING)18 b(OPTIONS)1287
b Fr(82)149 210 y(Chapter)16 b(11)i(for)g(a)g(complete)d(description)i(of)h
(text)f(st)n(yles,)i(including)f(the)f(text)g(st)n(yle)i(sub)r(options.)149
342 y(The)26 b Ft(:text-style)h Fs(ts)g Fr(dra)n(wing)g(option)e(temp)r
(orarily)f(c)n(hanges)i(the)f(v)m(alue)i(of)f Ft(\(medium-text-style)149
409 y Fs(me)m(dium)p Ft(\))19 b Fr(to)f Ft(\(merge-text-styles)30
b Fs(ts)f Ft(\(medium-text-style)h Fs(me)m(dium)p Ft(\)\))p
Fr(.)149 542 y(If)16 b(text)e(st)n(yle)i(sub)r(options)e(are)h(supplied,)h
(they)f(temp)r(orarily)e(c)n(hange)h(the)h(v)m(alue)h(of)f
Ft(\(medium-text-style)149 608 y Fs(me)m(dium)p Ft(\))26 b
Fr(to)e(a)g(text)g(st)n(yle)g(constructed)d(from)i(the)h(sp)r(eci\014ed)f
(sub)r(options,)h(merged)e(with)i(the)g Ft(:text-)149 674 y(style)e
Fr(dra)n(wing)f(option)g(if)h(it)g(is)h(sp)r(eci\014ed,)e(and)g(then)g
(merged)e(with)j(the)f(previous)g(v)m(alue)g(of)h Ft(\(medium-)149
741 y(text-style)29 b Fs(me)m(dium)p Ft(\))p Fr(.)k(That)20
b(is,)h(if)g(b)r(oth)e(the)h Ft(:text-style)h Fr(option)e(and)h(text)g(st)n
(yle)g(sub)r(options)e(are)149 807 y(supplied,)g(the)f(sub)r(options)f(tak)n
(e)i(precedence)d(o)n(v)n(er)j(the)g(comp)r(onen)n(ts)c(of)k(the)g
Ft(:text-style)h Fr(option.)149 1028 y Fp(10.2.1)75 b(T)-6
b(ransformation)26 b(\\Con)n(v)n(enience")e(F)-6 b(orms)149
1197 y Fr(The)28 b(follo)n(wing)i(three)d(functions)g(are)h(no)h(di\013eren)n
(t)f(than)g(using)g Ft(with-drawing-options)j Fr(with)d(the)149
1263 y Ft(:transformation)22 b Fr(k)n(eyw)n(ord)f(argumen)n(t)d(supplied.)32
b(Ho)n(w)n(ev)n(er,)22 b(they)e(are)g(su\016cien)n(tly)g(useful)h(that)e
(they)149 1330 y(are)e(pro)n(vided)h(as)g(a)g(con)n(v)n(enience)f(to)g
(programmers.)149 1462 y(In)d(order)f(to)h(preserv)n(e)f(referen)n(tial)g
(transparency)-5 b(,)12 b(these)h(three)g(forms)g(apply)h(the)g(translation,)
f(rotation,)h(or)149 1529 y(scaling)i(transformation)d(\014rst,)j(then)g(the)
g(rest)f(of)i(the)f(transformation)d(from)i Ft(\(medium-transformation)149
1595 y Fs(me)m(dium)p Ft(\))p Fr(.)41 b(That)22 b(is,)j(the)e(follo)n(wing)g
(t)n(w)n(o)h(forms)e(w)n(ould)h(return)e(the)i(same)e(transformation)f
(\(assuming)149 1662 y(that)d(the)g(medium's)f(transformation)f(in)j(the)f
(second)g(example)g(is)i(the)e(iden)n(tit)n(y)h(transformation\):)149
1847 y Ft(\(compose-transformations)207 1913 y
(\(make-translation-transformation)31 b(dx)e(dy\))207 1980
y(\(make-rotation-transformation)i(angle\)\))149 2113 y(\(with-translation)f
(\(medium)f(dx)g(dy\))207 2179 y(\(with-rotation)h(\(medium)f(angle\))265
2245 y(\(medium-transformation)h(medium\)\)\))49 2431 y Fj(\))45
b Ft(with-translation)30 b Fs(\(me)m(dium)20 b(dx)g(dy\))g
Ft(&body)29 b Fs(b)m(o)m(dy)932 b Fr([)p Fs(Macr)m(o)s Fr(])149
2550 y(Establishes)19 b(a)i(translation)e(on)h(the)g Fm(medium)f
Fr(designated)g(b)n(y)i Fs(me)m(dium)i Fr(that)c(translates)g(b)n(y)i
Fs(dx)g Fr(in)h(the)e Fn(x)149 2616 y Fr(direction)c(and)i
Fs(dy)h Fr(in)f(the)g Fn(y)i Fr(direction,)d(and)h(then)f(executes)f
Fs(b)m(o)m(dy)k Fr(with)e(that)f(transformation)d(in)19 b(e\013ect.)149
2749 y Fs(dx)f Fr(and)g Fs(dy)g Fr(are)g(as)g(for)f Ft
(make-translation-transformation)p Fr(.)149 2882 y(The)24 b
Fs(me)m(dium)j Fr(argumen)n(t)22 b(is)k(not)e(ev)m(aluated,)h(and)g(m)n(ust)f
(b)r(e)g(a)h(sym)n(b)r(ol)f(that)g(is)h(b)r(ound)f(to)g(a)h(sheet)f(or)149
2948 y(medium.)e(If)c Fs(me)m(dium)i Fr(is)e Ft(t)p Fr(,)h
Ft(*standard-output*)g Fr(is)g(used.)k Fs(b)m(o)m(dy)d Fr(ma)n(y)e(ha)n(v)n
(e)g(zero)f(or)g(more)g(declarations)149 3014 y(as)h(its)g(\014rst)f(forms.)
49 3147 y Fj(\))45 b Ft(with-scaling)29 b Fs(\(me)m(dium)21
b(sx)e Ft(&optional)30 b Fs(sy)19 b(origin\))i Ft(&body)29
b Fs(b)m(o)m(dy)607 b Fr([)p Fs(Macr)m(o)s Fr(])149 3266 y(Establishes)17
b(a)i(scaling)g(transformation)c(on)j(the)g Fm(medium)f Fr(designated)g(b)n
(y)j Fs(me)m(dium)g Fr(that)e(scales)g(b)n(y)i Fs(sx)e Fr(in)149
3333 y(the)j Fn(x)g Fr(direction)g(and)g Fs(sy)h Fr(in)g(the)f
Fn(y)j Fr(direction,)e(and)f(then)g(executes)f Fs(b)m(o)m(dy)j
Fr(with)f(that)e(transformation)e(in)149 3399 y(e\013ect.)k(If)16
b Fs(sy)f Fr(is)h(not)f(supplied,)h(it)f(defaults)g(to)g Fs(sx)p
Fr(.)23 b(If)16 b Fs(origin)g Fr(is)g(supplied,)g(the)f(scaling)g(is)h(ab)r
(out)e(that)g(p)r(oin)n(t;)149 3466 y(if)k(it)h(is)f(not)g(supplied,)g(it)g
(defaults)f(to)h(\(0)p Fn(;)9 b Fr(0\).)p eop
%%Page: 83 98
bop 149 16 a Fm(CHAPTER)16 b(10.)43 b(DRA)-6 b(WING)18 b(OPTIONS)1287
b Fr(83)149 210 y Fs(sx)17 b Fr(and)h Fs(sy)g Fr(are)f(as)h(for)g
Ft(make-scaling-transformation)p Fr(.)149 342 y(The)24 b Fs(me)m(dium)j
Fr(argumen)n(t)22 b(is)k(not)e(ev)m(aluated,)h(and)g(m)n(ust)f(b)r(e)g(a)h
(sym)n(b)r(ol)f(that)g(is)h(b)r(ound)f(to)g(a)h(sheet)f(or)149
409 y(medium.)e(If)c Fs(me)m(dium)i Fr(is)e Ft(t)p Fr(,)h Ft
(*standard-output*)g Fr(is)g(used.)k Fs(b)m(o)m(dy)d Fr(ma)n(y)e(ha)n(v)n(e)g
(zero)f(or)g(more)g(declarations)149 475 y(as)h(its)g(\014rst)f(forms.)49
608 y Fj(\))45 b Ft(with-rotation)29 b Fs(\(me)m(dium)21 b(angle)g
Ft(&optional)30 b Fs(origin\))20 b Ft(&body)30 b Fs(b)m(o)m(dy)571
b Fr([)p Fs(Macr)m(o)s Fr(])149 727 y(Establishes)21 b(a)i(rotation)e(on)h
(the)g Fm(medium)f Fr(designated)g(b)n(y)i Fs(me)m(dium)h Fr(that)e(rotates)f
(b)n(y)i Fs(angle)p Fr(,)j(and)d(then)149 793 y(executes)15
b Fs(b)m(o)m(dy)j Fr(with)f(that)f(transformation)d(in)k(e\013ect.)24
b(If)17 b Fs(origin)h Fr(is)g(supplied,)f(the)f(rotation)f(is)j(ab)r(out)d
(that)149 860 y(p)r(oin)n(t;)j(if)g(it)h(is)f(not)g(supplied,)g(it)g
(defaults)f(to)h(\(0)p Fn(;)9 b Fr(0\).)149 993 y Fs(angle)20
b Fr(and)d Fs(origin)j Fr(are)d(as)h(for)g Ft(make-rotation-transformation)p
Fr(.)149 1126 y(The)24 b Fs(me)m(dium)j Fr(argumen)n(t)22 b(is)k(not)e(ev)m
(aluated,)h(and)g(m)n(ust)f(b)r(e)g(a)h(sym)n(b)r(ol)f(that)g(is)h(b)r(ound)f
(to)g(a)h(sheet)f(or)149 1192 y(medium.)e(If)c Fs(me)m(dium)i
Fr(is)e Ft(t)p Fr(,)h Ft(*standard-output*)g Fr(is)g(used.)k
Fs(b)m(o)m(dy)d Fr(ma)n(y)e(ha)n(v)n(e)g(zero)f(or)g(more)g(declarations)149
1258 y(as)h(its)g(\014rst)f(forms.)149 1480 y Fp(10.2.2)75
b(Establishing)28 b(Lo)r(cal)e(Co)r(ordinate)g(Systems)49 1648
y Fj(\))45 b Ft(with-local-coordinates)30 b Fs(\(me)m(dium)21
b Ft(&optional)29 b Fs(x)20 b(y\))f Ft(&body)29 b Fs(b)m(o)m(dy)524
b Fr([)p Fs(Macr)m(o)s Fr(])149 1767 y(Binds)14 b(the)f(dynamic)g(en)n
(vironmen)n(t)g(to)g(establish)h(a)g(lo)r(cal)f(co)r(ordinate)f(system)g(on)i
(the)f Fm(medium)g Fr(designated)149 1834 y(b)n(y)19 b Fs(me)m(dium)h
Fr(with)e(the)g(origin)g(of)g(the)g(new)g(co)r(ordinate)e(system)h(at)h(the)f
(p)r(osition)g(\()p Fn(x;)9 b(y)r Fr(\).)26 b(The)18 b(\\direction-)149
1900 y(alit)n(y")23 b(of)h(the)e(co)r(ordinate)e(system)i(is)i(otherwise)d
(unc)n(hanged.)38 b Fs(x)23 b Fr(and)g Fs(y)g Fr(are)f(real)h(n)n(um)n(b)r
(ers,)g(and)g(b)r(oth)149 1967 y(default)17 b(to)g(0.)149 2099
y(The)24 b Fs(me)m(dium)j Fr(argumen)n(t)22 b(is)k(not)e(ev)m(aluated,)h(and)
g(m)n(ust)f(b)r(e)g(a)h(sym)n(b)r(ol)f(that)g(is)h(b)r(ound)f(to)g(a)h(sheet)
f(or)149 2166 y(medium.)e(If)c Fs(me)m(dium)i Fr(is)e Ft(t)p
Fr(,)h Ft(*standard-output*)g Fr(is)g(used.)k Fs(b)m(o)m(dy)d
Fr(ma)n(y)e(ha)n(v)n(e)g(zero)f(or)g(more)g(declarations)149
2232 y(as)h(its)g(\014rst)f(forms.)49 2365 y Fj(\))45 b Ft
(with-first-quadrant-coordinates)31 b Fs(\(me)m(dium)20 b Ft(&optional)30
b Fs(x)19 b(y\))g Ft(&body)30 b Fs(b)m(o)m(dy)262 b Fr([)p
Fs(Macr)m(o)s Fr(])149 2484 y(Binds)14 b(the)f(dynamic)g(en)n(vironmen)n(t)g
(to)g(establish)h(a)g(lo)r(cal)f(co)r(ordinate)f(system)g(on)i(the)f
Fm(medium)g Fr(designated)149 2551 y(b)n(y)24 b Fs(me)m(dium)h
Fr(with)e(the)f(p)r(ositiv)n(e)h Fn(x)h Fr(axis)g(extending)d(to)i(the)g
(righ)n(t)g(and)g(the)f(p)r(ositiv)n(e)h Fn(y)j Fr(axis)e(extending)149
2617 y(up)n(w)n(ard,)f(with)e(the)g(origin)h(of)f(the)g(new)h(co)r(ordinate)d
(system)h(at)h(the)g(p)r(osition)g(\()p Fn(x;)9 b(y)r Fr(\).)35
b Fs(x)22 b Fr(and)f Fs(y)h Fr(are)f(real)149 2683 y(n)n(um)n(b)r(ers,)16
b(and)i(b)r(oth)f(default)g(to)g(0.)149 2816 y(The)24 b Fs(me)m(dium)j
Fr(argumen)n(t)22 b(is)k(not)e(ev)m(aluated,)h(and)g(m)n(ust)f(b)r(e)g(a)h
(sym)n(b)r(ol)f(that)g(is)h(b)r(ound)f(to)g(a)h(sheet)f(or)149
2883 y(medium.)e(If)c Fs(me)m(dium)i Fr(is)e Ft(t)p Fr(,)h
Ft(*standard-output*)g Fr(is)g(used.)k Fs(b)m(o)m(dy)d Fr(ma)n(y)e(ha)n(v)n
(e)g(zero)f(or)g(more)g(declarations)149 2949 y(as)h(its)g(\014rst)f(forms.)
149 3198 y Fk(10.3)91 b(Line)30 b(St)m(yles)149 3386 y Fr(A)19
b(line)h(or)f(other)e(path)i(is)g(a)h(one-dimensional)d(ob)s(ject.)27
b(Ho)n(w)n(ev)n(er)19 b(in)h(order)e(to)h(b)r(e)f(visible,)j(the)d(rendering)
149 3453 y(of)i(a)g(line)g(m)n(ust)f(o)r(ccup)n(y)g(some)g(non-zero)f(area)h
(on)h(the)f(displa)n(y)i(hardw)n(are.)29 b(A)20 b Fm(line)g(st)n(yle)h
Fr(represen)n(ts)c(the)p eop
%%Page: 84 99
bop 149 16 a Fm(CHAPTER)16 b(10.)43 b(DRA)-6 b(WING)18 b(OPTIONS)1287
b Fr(84)149 210 y(advice)17 b(of)h(CLIM)g(to)g(the)f(rendering)f(substrate)g
(on)i(ho)n(w)g(to)g(p)r(erform)d(the)j(rendering.)49 342 y
Fj(\))45 b Ft(line-style)1623 b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23
b(Class)5 b Fr(])149 461 y(The)23 b(proto)r(col)f(class)h(for)g(line)h(st)n
(yles.)42 b(If)24 b(y)n(ou)g(w)n(an)n(t)g(to)f(create)f(a)h(new)h(class)f
(that)f(b)r(eha)n(v)n(es)h(lik)n(e)i(a)f(line)149 528 y(st)n(yle,)17
b(it)h(should)e(b)r(e)g(a)h(sub)r(class)e(of)i Ft(line-style)p
Fr(.)25 b(Sub)r(classes)15 b(of)h Ft(line-style)i Fr(m)n(ust)e(ob)r(ey)g(the)
g(line)h(st)n(yle)149 594 y(proto)r(col.)49 727 y Fj(\))45
b Ft(line-style-p)29 b Fs(obje)m(ct)1531 b Fr([)p Fs(F)l(unction)t
Fr(])149 846 y(Returns)16 b Fm(true)h Fr(if)i Fs(obje)m(ct)h
Fr(is)f(a)f Fm(line)h(st)n(yle)p Fr(,)g(otherwise)d(returns)g
Fm(false)p Fr(.)49 979 y Fj(\))45 b Ft(standard-line-style)1577
b Fr([)p Fs(Class)5 b Fr(])149 1098 y(An)20 b(instan)n(tiable)f(class)h(that)
f(implemen)n(ts)g(line)h(st)n(yles.)32 b(A)20 b(sub)r(class)f(of)h
Ft(line-style)p Fr(.)33 b(This)20 b(is)h(the)f(class)149 1164
y(that)d Ft(make-line-style)i Fr(instan)n(tiates.)k(Mem)n(b)r(ers)16
b(of)i(this)g(class)f(are)h(imm)n(utable.)49 1297 y Fj(\))45
b Ft(make-line-style)30 b(&key)f Fs(unit)20 b(thickness)h(joint-shap)m(e)h(c)
m(ap-shap)m(e)g(dashes)395 b Fr([)p Fs(F)l(unction)t Fr(])149
1416 y(Returns)18 b(an)i(ob)s(ject)f(of)h(class)g Ft(standard-line-style)i
Fr(with)e(the)f(supplied)h(c)n(haracteristics.)28 b(The)20
b(argu-)149 1483 y(men)n(ts)c(and)i(their)f(default)g(v)m(alues)h(are)g
(describ)r(ed)e(in)i(Section)f(10.3.1.)149 1704 y Fp(10.3.1)75
b(Line)26 b(St)n(yle)f(Proto)r(col)i(and)d(Line)h(St)n(yle)h(Sub)r(options)
149 1873 y Fr(Eac)n(h)21 b(of)h(these)e(sub)r(options)g(has)h(a)h(corresp)r
(onding)c(reader)i(that)h(can)g(b)r(e)g(used)g(to)g(extract)f(a)i(particular)
149 1939 y(comp)r(onen)n(t)h(from)j(a)h(line)g(st)n(yle.)52
b(The)26 b(generic)g(functions)f(decrib)r(ed)g(b)r(elo)n(w)i(comprise)e(the)h
(line)h(st)n(yle)149 2005 y(proto)r(col;)16 b(all)j(sub)r(classes)d(of)i
Ft(line-style)h Fr(m)n(ust)e(implemen)n(t)f(metho)r(ds)f(for)j(these)f
(generic)g(functions.)49 2138 y Fj(\))45 b Ft(:line-unit)1800
b Fr([)p Fs(Option)t Fr(])49 2205 y Fj(\))45 b Ft(line-style-unit)30
b Fs(line-style)1153 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 2324 y(Giv)n(es)27 b(the)e(unit)g(used)g(for)g(measuring)f(line)i
(thic)n(kness)f(and)g(dash)g(pattern)f(length)g(for)i(the)f(line)h(st)n(yle.)
149 2390 y(P)n(ossible)18 b(v)m(alues)g(are)f Ft(:normal)p
Fr(,)i Ft(:point)p Fr(,)g(or)f Ft(:coordinate)p Fr(.)26 b(The)17
b(meaning)g(of)h(these)f(options)g(is:)232 2578 y Fj(\017)27
b Ft(:normal)p Fr(|thic)n(knesses)18 b(and)f(lengths)g(are)g(giv)n(en)i(in)f
(a)g(relativ)n(e)g(measure)d(in)k(terms)d(of)i(the)f(usual)h(or)287
2645 y(\\normal")i(line)j(thic)n(kness.)36 b(The)22 b(normal)f(line)i(thic)n
(kness)e(is)i(the)e(thic)n(kness)h(of)g(the)f(\\comfortably)287
2711 y(visible)e(thin)f(line",)723 2691 y Fg(1)767 2711 y Fr(whic)n(h)h(is)g
(a)f(prop)r(ert)n(y)f(of)h(the)g(underlying)f(rendering)g(substrate.)23
b(This)18 b(is)h(the)287 2777 y(default.)232 2888 y Fj(\017)27
b Ft(:point)p Fr(|thic)n(knesses)c(and)g(lengths)f(are)g(giv)n(en)i(in)g(an)f
(absolute)f(measure)f(in)j(terms)d(of)i(prin)n(ter's)287 2955
y(p)r(oin)n(ts)17 b(\(appro)n(ximately)f(1)p Fn(=)p Fr(72)i(of)g(an)g(inc)n
(h\).)1270 2934 y Fg(2)p 149 3004 924 3 v 210 3040 a Fe(1)233
3055 y Fd(In)d(some)e(windo)o(w)h(systems,)f(the)i(phrase)f(\\thinnest)g
(visible)e(line")g(is)i(used.)20 b(This)14 b(is)f(not)i(appropriate)f(for)h
(CLIM,)g(whic)o(h)149 3108 y(in)o(tends)d(to)i(b)q(e)f(device)g(indep)q
(enden)o(t.)20 b(\(F)l(or)13 b(instance,)g(the)h(thinnest)f(visible)d(line)i
(on)h(a)g(400)f(d.p.i.)20 b(laser)12 b(prin)o(ter)h(is)g(a)g(function)149
3160 y(of)j(the)g(user's)g(viewing)d(distance)i(from)g(the)i(pap)q(er.\))22
b(Another)17 b(attribute)f(of)g(a)f(\\normal")e(line)i(is)f(that)j(its)e
(thic)o(kness)f(should)149 3213 y(appro)o(ximately)9 b(matc)o(h)j(the)h
(strok)o(e)f(thic)o(kness)f(of)i(\\normal")d(text,)k(where)f(again)e(the)j
(exact)e(measuremen)o(ts)e(are)j(the)h(pro)o(vince)149 3266
y(of)h(the)h(rendering)f(engine,)g(not)h(of)f(CLIM.)210 3303
y Fe(2)233 3318 y Fd(This)e(measure)g(w)o(as)g(c)o(hosen)g(so)g(that)h(CLIM)h
(implemen)o(tors)10 b(who)k(in)o(terface)f(CLIM)i(to)f(an)f(underlying)g
(rendering)h(engine)149 3371 y(\(the)i(windo)o(w)e(system\))h(ma)o(y)e
(legitimatel)o(y)f(c)o(ho)q(ose)i(to)i(mak)o(e)e(it)h(render)h(as)f(1)g
(pixel)f(on)h(curren)o(t)h(\(1990\))f(displa)o(y)e(devices.)p
eop
%%Page: 85 100
bop 149 16 a Fm(CHAPTER)16 b(10.)43 b(DRA)-6 b(WING)18 b(OPTIONS)1287
b Fr(85)933 748 y(Figure)18 b(10.1:)24 b(Line)18 b(join)n(t)g(shap)r(es.)947
1619 y(Figure)g(10.2:)24 b(Line)18 b(cap)f(shap)r(es.)232 1796
y Fj(\017)27 b Ft(:coordinate)p Fr(|this)e(means)e(that)g(the)g(same)g(units)
h(should)g(b)r(e)f(used)h(for)g(line)h(thic)n(kness)e(as)h(are)287
1862 y(used)f(for)f(co)r(ordinates.)37 b(In)24 b(this)f(case,)h(the)e(line)i
(thic)n(kness)e(is)i(scaled)e(b)n(y)i(the)f(medium's)e(curren)n(t)287
1929 y(transformation,)15 b(whereas)h Ft(:normal)j Fr(and)f
Ft(:point)h Fr(do)e(not)h(scale)f(the)h(line)g(thic)n(kness.)49
2117 y Fj(\))45 b Ft(:line-thickness)1655 b Fr([)p Fs(Option)t
Fr(])49 2183 y Fj(\))45 b Ft(line-style-thickness)30 b Fs(line-style)1008
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2302 y(The)j(thic)n(kness,)i
(in)g(the)e(units)g(indicated)g(b)n(y)h Ft(line-style-unit)p
Fr(,)j(of)d(the)f(lines)h(or)g(arcs)f(dra)n(wn)g(b)n(y)i(a)149
2369 y(dra)n(wing)17 b(function.)23 b(The)17 b(thic)n(kness)f(m)n(ust)h(b)r
(e)f(a)i(real)f(n)n(um)n(b)r(er.)22 b(The)17 b(default)g(is)g(1,)h(whic)n(h)g
(com)n(bined)e(with)149 2435 y(the)i(default)g(unit)g(of)h
Ft(:normal)p Fr(,)h(means)e(that)f(the)i(default)e(line)j(dra)n(wn)e(is)i
(the)e(\\comfortably)e(visible)k(thin)149 2501 y(line".)49
2634 y Fj(\))45 b Ft(:line-joint-shape)1597 b Fr([)p Fs(Option)t
Fr(])49 2701 y Fj(\))45 b Ft(line-style-joint-shape)30 b Fs(line-style)950
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2820 y(Sp)r(eci\014es)11
b(the)h(shap)r(e)g(of)h(join)n(ts)g(b)r(et)n(w)n(een)f(segmen)n(ts)e(of)j
(un\014lled)g(\014gures.)22 b(The)13 b(p)r(ossible)f(shap)r(es)f(are)h
Ft(:miter)p Fr(,)149 2886 y Ft(:bevel)p Fr(,)18 b Ft(:round)p
Fr(,)g(and)e Ft(:none)p Fr(;)i(the)e(default)f(is)i Ft(:miter)p
Fr(.)25 b(Note)16 b(that)f(the)h(join)n(t)h(shap)r(e)e(is)i(implemen)n(ted)d
(b)n(y)149 2953 y(the)j(host)g(windo)n(w)i(system,)e(so)h(not)f(all)i
(platforms)d(will)j(necessarily)e(fully)i(supp)r(ort)d(it.)49
3085 y Fj(\))45 b Ft(:line-cap-shape)1655 b Fr([)p Fs(Option)t
Fr(])49 3152 y Fj(\))45 b Ft(line-style-cap-shape)30 b Fs(line-style)1008
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 3271 y(Sp)r(eci\014es)d(the)i
(shap)r(e)f(for)h(the)g(ends)g(of)g(lines)h(and)f(arcs)g(dra)n(wn)g(b)n(y)h
(a)g(dra)n(wing)f(function,)g(one)g(of)h Ft(:butt)p Fr(,)149
3337 y(:)p Ft(square)p Fr(,)i Ft(:round)p Fr(,)g(or)d Ft(:no-end-point)p
Fr(;)26 b(the)21 b(default)f(is)j Ft(:butt)p Fr(.)36 b(Note)21
b(that)f(the)i(cap)f(shap)r(e)f(is)j(imple-)149 3404 y(men)n(ted)16
b(b)n(y)j(the)e(host)g(windo)n(w)i(system,)e(so)h(not)f(all)i(platforms)d
(will)j(necessarily)e(fully)j(supp)r(ort)15 b(it.)p eop
%%Page: 86 101
bop 149 16 a Fm(CHAPTER)16 b(10.)43 b(DRA)-6 b(WING)18 b(OPTIONS)1287
b Fr(86)49 210 y Fj(\))45 b Ft(:line-dashes)1742 b Fr([)p Fs(Option)t
Fr(])49 276 y Fj(\))45 b Ft(line-style-dashes)30 b Fs(line-style)1095
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 395 y(Con)n(trols)17
b(whether)g(lines)i(or)f(arcs)f(are)h(dra)n(wn)g(as)g(dashed)f(\014gures,)g
(and)h(if)h(so,)g(what)f(the)f(dashing)h(pattern)149 461 y(is.)25
b(P)n(ossible)18 b(v)m(alues)g(are:)232 650 y Fj(\017)27 b
Ft(nil)p Fr(|lines)19 b(are)e(dra)n(wn)h(solid,)h(with)f(no)g(dashing.)24
b(This)18 b(is)h(the)e(default.)232 760 y Fj(\017)27 b Ft(t)p
Fr(|lines)e(are)e(dra)n(wn)g(dashed,)i(with)f(a)g(dash)f(pattern)f(that)g(is)
j(unsp)r(eci\014ed)c(and)j(ma)n(y)g(v)m(ary)g(with)287 827
y(the)e(rendering)f(engine.)38 b(This)24 b(allo)n(ws)f(the)f(underlying)g
(displa)n(y)i(substrate)d(to)h(pro)n(vide)h(a)g(default)287
893 y(dashed)18 b(line)j(for)e(the)g(programmer)c(whose)k(only)h(requiremen)n
(t)e(is)i(to)f(dra)n(w)h(a)g(line)g(that)e(is)i(visually)287
960 y(distinguishable)d(from)g(the)g(default)g(solid)i(line.)232
1070 y Fj(\017)27 b Fr(A)12 b(sequence|sp)r(eci\014es)d(a)j(sequence,)g
(usually)g(a)g(v)n(ector,)h(con)n(trolling)e(the)g(dash)h(pattern)e(of)i(a)g
(dra)n(wing)287 1137 y(function.)23 b(It)18 b(is)h(an)f(error)f(if)h(the)g
(sequence)e(do)r(es)h(not)g(con)n(tain)h(an)f(ev)n(en)h(n)n(um)n(b)r(er)f(of)
h(elemen)n(ts.)23 b(The)287 1203 y(elemen)n(ts)e(of)i(the)g(sequence)e(are)h
(lengths)g(\(as)g(real)h(n)n(um)n(b)r(ers\))e(of)i(individual)h(comp)r(onen)n
(ts)19 b(of)k(the)287 1269 y(dashed)e(line)i(or)f(arc.)37 b(The)22
b(o)r(dd)f(elemen)n(ts)g(sp)r(ecify)g(the)h(length)f(of)i(ink)n(ed)g(comp)r
(onen)n(ts,)d(the)i(ev)n(en)287 1336 y(elemen)n(ts)13 b(sp)r(ecify)h(the)f
(gaps.)23 b(All)15 b(lengths)e(are)h(expressed)f(in)i(the)f(units)g(describ)r
(ed)e(b)n(y)k Ft(line-style-)287 1402 y(unit)p Fr(.)149 1591
y(\(See)h(also)h Ft(make-contrasting-dash-patterns)p Fr(.\))149
1812 y Fp(10.3.2)75 b(Con)n(trasting)26 b(Dash)g(P)n(atterns)49
1980 y Fj(\))45 b Ft(make-contrasting-dash-patterns)30 b Fs(n)20
b Ft(&optional)30 b Fs(k)776 b Fr([)p Fs(F)l(unction)t Fr(])149
2099 y(If)18 b Fs(k)h Fr(is)g(not)f(supplied,)g(this)g(returns)f(a)h(v)n
(ector)g(of)g Fs(n)h Fr(dash)e(patterns)f(with)j(recognizably)d(di\013eren)n
(t)i(app)r(ear-)149 2166 y(ance.)33 b(Elemen)n(ts)20 b(of)h(the)g(v)n(ector)f
(are)h(guaran)n(teed)e(to)h(b)r(e)h(acceptable)e(v)m(alues)i(for)g
Ft(:dashes)p Fr(,)i(and)e(do)g(not)149 2232 y(include)d Ft(nil)p
Fr(,)h(but)f(their)g(class)g(is)h(not)f(otherwise)f(sp)r(eci\014ed.)24
b(The)19 b(v)n(ector)e(is)i(a)g(fresh)f(ob)s(ject)f(that)g(ma)n(y)h(b)r(e)149
2299 y(mo)r(di\014ed.)149 2432 y(If)24 b Fs(k)g Fr(is)h(supplied,)g(it)f(m)n
(ust)f(b)r(e)g(an)g(in)n(teger)g(b)r(et)n(w)n(een)g(0)h(and)f
Fs(n)d Fj(\000)d Fr(1)23 b(\(inclusiv)n(e\),)j(in)e(whic)n(h)g(case)f
Ft(make-)149 2498 y(contrasting-dash-patterns)h Fr(returns)d(the)g
Fs(k)p Fr('th)i(dash-pattern)d(rather)h(than)h(returning)e(a)j(v)n(ector)f
(of)149 2564 y(dash-patterns.)149 2697 y(If)c(the)f(implemen)n(tation)e(do)r
(es)i(not)g(ha)n(v)n(e)i Fs(n)f Fr(di\013eren)n(t)g(con)n(trasting)e(dash)h
(patterns,)f Ft(make-contrasting-)149 2764 y(dash-patterns)j
Fr(signals)f(an)g(error.)23 b(This)18 b(will)i(not)d(happ)r(en)g(unless)g
Fs(n)i Fr(is)f(greater)e(than)h(eigh)n(t.)49 2896 y Fj(\))45
b Ft(contrasting-dash-pattern-limit)30 b Fs(p)m(ort)838 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 3015 y(Returns)c(the)h(n)n(um)n(b)r
(er)g(of)h(con)n(trasting)e(dash)i(patterns)e(that)h(can)g(b)r(e)h(rendered)e
(on)i(an)n(y)g(medium)e(on)i(the)149 3082 y Fm(p)r(ort)h Fs(p)m(ort)p
Fr(.)41 b(Implemen)n(tations)20 b(are)i(encouraged)e(to)i(mak)n(e)h(this)f
(as)h(large)f(as)h(p)r(ossible,)h(but)e(it)h(m)n(ust)f(b)r(e)149
3148 y(at)f(least)h(8.)37 b(All)23 b(classes)e(that)g(ob)r(ey)g(the)g(p)r
(ort)g(proto)r(col)f(m)n(ust)h(implemen)n(t)g(a)h(metho)r(d)d(for)j(this)g
(generic)149 3215 y(function.)p eop
%%Page: 87 102
bop 149 691 a Fl(Chapter)46 b(11)149 1034 y Fq(T)-13 b(ext)51
b(St)l(yles)149 1388 y Fr(When)19 b(sp)r(ecifying)g(a)h(particular)e(\\app)r
(earance")e(for)k(rendered)d(c)n(haracters,)h(there)h(is)h(a)g(tension)f(b)r
(et)n(w)n(een)149 1455 y(p)r(ortabilit)n(y)c(and)g(access)f(to)h(sp)r
(eci\014c)f(fon)n(t)h(for)g(a)h(displa)n(y)g(device.)23 b(CLIM)16
b(pro)n(vides)f(a)g(p)r(ortable)f(mec)n(hanism)149 1521 y(for)21
b(describing)g(the)g(desired)g Fm(text)h(st)n(yle)g Fr(in)h(abstract)c
(terms.)35 b(Eac)n(h)22 b(CLIM)f(\\p)r(ort")f(de\014nes)h(a)h(mapping)149
1588 y(b)r(et)n(w)n(een)j(these)g(abstract)f(st)n(yle)j(sp)r(eci\014cations)d
(and)i(particular)f(device-sp)r(eci\014c)f(fon)n(ts.)50 b(In)26
b(this)h(w)n(a)n(y)-5 b(,)149 1654 y(an)23 b(application)g(programmer)c(can)k
(sp)r(ecify)g(the)g(desired)f(text)h(st)n(yle)h(in)g(abstract)d(terms)h
(secure)g(in)i(the)149 1721 y(kno)n(wledge)15 b(that)g(an)h(appropriate)d
(device)j(fon)n(t)f(will)j(b)r(e)d(selected)f(at)i(run)f(time)g(b)n(y)i
(CLIM.)f(Ho)n(w)n(ev)n(er,)h(some)149 1787 y(programmer)o(s)j(ma)n(y)j
(require)g(direct)f(access)g(to)h(particular)f(device)h(fon)n(ts.)40
b(The)23 b(text)f(st)n(yle)i(mec)n(hanism)149 1853 y(supp)r(orts)19
b(sp)r(ecifying)h(device)g(fon)n(ts)h(b)n(y)h(name,)f(allo)n(wing)h(the)e
(programmer)d(to)k(sacri\014ce)f(p)r(ortabilit)n(y)g(for)149
1920 y(con)n(trol.)149 2169 y Fk(11.1)91 b(T)-8 b(ext)31 b(St)m(yles)149
2357 y Fr(T)-5 b(ext)20 b(st)n(yle)i(ob)s(jects)d(ha)n(v)n(e)i(comp)r(onen)n
(ts)c(for)j(family)-5 b(,)23 b(face,)d(and)h(size.)32 b(Not)20
b(all)h(of)g(these)e(attributes)g(need)149 2423 y(b)r(e)g(supplied)h(for)g(a)
h(giv)n(en)g(text)f(st)n(yle)g(ob)s(ject.)31 b(T)-5 b(ext)20
b(st)n(yles)h(can)f(b)r(e)f(merged)f(in)j(m)n(uc)n(h)f(the)g(same)f(w)n(a)n
(y)j(as)149 2490 y(pathnames)e(are)i(merged;)i(unsp)r(eci\014ed)c(comp)r
(onen)n(ts)g(in)j(the)g(st)n(yle)g(ob)s(ject)f(\(that)f(is,)k(comp)r(onen)n
(ts)20 b(that)149 2556 y(ha)n(v)n(e)f Ft(nil)h Fr(in)g(them\))d(ma)n(y)i(b)r
(e)f(\014lled)h(in)h(b)n(y)g(the)e(comp)r(onen)n(ts)e(of)j(a)h(\\default")d
(st)n(yle)i(ob)s(ject.)27 b(A)19 b(text)f(st)n(yle)149 2623
y(ob)s(ject)e(is)j(called)f Fm(fully)i(sp)r(eci\014ed)c Fr(if)j(none)e(of)h
(its)h(comp)r(onen)n(ts)c(is)k Ft(nil)p Fr(,)g(and)f(the)f(size)h(comp)r
(onen)n(t)d(is)k(not)f(a)149 2689 y(relativ)n(e)g(size)f(\(that)g(is,)i(is)g
(neither)d Ft(:smaller)j Fr(nor)f Ft(:larger)p Fr(\).)49 2822
y Fj(\))45 b Ft(text-style)1623 b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23
b(Class)5 b Fr(])149 2941 y(The)22 b(proto)r(col)e(class)j(for)f(text)g(st)n
(yles.)38 b(If)23 b(y)n(ou)g(w)n(an)n(t)g(to)f(create)e(a)j(new)f(class)h
(that)e(b)r(eha)n(v)n(es)h(lik)n(e)i(a)e(text)149 3007 y(st)n(yle,)17
b(it)f(should)g(b)r(e)f(a)h(sub)r(class)f(of)h Ft(text-style)p
Fr(.)25 b(Sub)r(classes)13 b(of)j Ft(text-style)h Fr(m)n(ust)e(ob)r(ey)h(the)
f(text)g(st)n(yle)149 3074 y(proto)r(col.)49 3207 y Fj(\))45
b Ft(text-style-p)29 b Fs(obje)m(ct)1531 b Fr([)p Fs(F)l(unction)t
Fr(])149 3326 y(Returns)16 b Fm(true)h Fr(if)i Fs(obje)m(ct)h
Fr(is)f(a)f Fm(text)f(st)n(yle)p Fr(,)i(otherwise)e(returns)f
Fm(false)p Fr(.)49 3458 y Fj(\))45 b Ft(standard-text-style)1577
b Fr([)p Fs(Class)5 b Fr(])1276 3632 y(87)p eop
%%Page: 88 103
bop 149 16 a Fm(CHAPTER)16 b(11.)43 b(TEXT)18 b(STYLES)1448
b Fr(88)149 210 y(An)20 b(instan)n(tiable)h(class)f(that)g(implemen)n(ts)f
(text)i(st)n(yles.)34 b(It)21 b(is)h(a)f(sub)r(class)e(of)i
Ft(text-style)p Fr(.)35 b(This)22 b(is)f(the)149 276 y(class)c(that)g
Ft(make-text-style)j Fr(instan)n(tiates.)j(Mem)n(b)r(ers)15
b(of)j(this)g(class)g(are)f(imm)n(utable.)149 409 y(The)g(in)n(terface)g(to)h
(text)f(st)n(yles)h(is)h(as)f(follo)n(ws:)49 542 y Fj(\))45
b Ft(make-text-style)30 b Fs(family)20 b(fac)m(e)h(size)1209
b Fr([)p Fs(F)l(unction)t Fr(])149 661 y(Returns)17 b(an)i(ob)s(ject)f(of)i
(class)f Ft(standard-text-style)h Fr(with)g(a)f(family)g(of)h
Fs(family)p Fr(,)h(a)e(face)g(of)g Fs(fac)m(e)p Fr(,)j(and)d(a)149
727 y(size)f(of)g Fs(size)p Fr(.)149 860 y Fs(family)h Fr(is)f(one)g(of)g
Ft(:fix)p Fr(,)h Ft(:serif)p Fr(,)g Ft(:sans-serif)p Fr(,)g(or)f
Ft(nil)p Fr(.)149 993 y Fs(fac)m(e)h Fr(is)g(one)f(of)g Ft(:roman)p
Fr(,)h Ft(:bold)p Fr(,)g Ft(:italic)p Fr(,)g Ft(\(:bold)30
b(:italic\))p Fr(,)19 b(or)f Ft(nil)p Fr(.)149 1126 y Fs(size)h
Fr(is)g(a)g(real)g(n)n(um)n(b)r(er)e(represen)n(ting)g(the)h(size)h(in)g
(prin)n(ter's)f(p)r(oin)n(ts,)h(one)f(of)h(the)f(logical)h(sizes)g(\()p
Ft(:normal)p Fr(,)149 1192 y Ft(:tiny)p Fr(,)14 b Ft(:very-small)p
Fr(,)g Ft(:small)p Fr(,)h Ft(:large)p Fr(,)f Ft(:very-large)p
Fr(,)g Ft(:huge)p Fr(\),)g(a)e(relativ)n(e)g(size)g(\()p Ft(:smaller)g
Fr(or)g Ft(:larger)p Fr(\),)149 1258 y(or)17 b Ft(nil)p Fr(.)149
1391 y(Implemen)n(tations)d(are)k(p)r(ermitted)d(to)i(extend)g(legal)h(v)m
(alues)g(for)g Fs(family)p Fr(,)h Fs(fac)m(e)p Fr(,)h(and)e
Fs(size)p Fr(.)149 1524 y Fo(Minor)f(issue:)49 b Fm(Need)12
b(to)h(describ)r(e)e(what)i(family)-5 b(,)15 b(face,)f(size)f(mean)f(in)i
(terms)d(of)j(visual)g(app)r(earance.)19 b(This)149 1591 y(should)g(also)g(b)
r(e)f(reconciled)g(with)h(the)g(ISO)h(description)d(of)i(the)g(attributes)e
(of)i(a)h(\\text)e(st)n(yle".)28 b(|)20 b(Y)-5 b(ork,)149 1657
y(SWM)49 1790 y Fj(\))45 b Ft(*default-text-style*)1457 b Fr([)p
Fs(Constant)5 b Fr(])149 1909 y(The)23 b(default)f(text)g(st)n(yle)i(used)e
(on)h(a)h(CLIM)e(medium)g(if)i(no)f(text)f(st)n(yle)i(it)f(explicitly)h(sp)r
(eci\014ed)d(for)i(the)149 1975 y(medium)16 b(when)h(it)i(it)f(created.)k
(This)d(m)n(ust)e(b)r(e)g(a)h(fully)i(merged)15 b(text)j(st)n(yle.)49
2108 y Fj(\))45 b Ft(*undefined-text-style*)1399 b Fr([)p Fs(Constant)5
b Fr(])149 2227 y(The)22 b(text)g(st)n(yle)h(that)f(is)h(used)f(as)h(a)f
(fallbac)n(k)i(if)f(no)f(mapping)g(exists)g(for)g(some)g(other)f(text)h(st)n
(yle)h(when)149 2293 y(some)13 b(text)i(is)h(ab)r(out)d(to)i(b)r(e)f
(rendered)f(on)i(a)g(displa)n(y)h(device)f(\(via)g Ft(write-string)h
Fr(and)f Ft(draw-string*)p Fr(,)i(for)149 2360 y(example\).)23
b(This)18 b(text)f(st)n(yle)i(b)r(e)e(fully)i(merged,)d(and)i(it)g(m)n(ust)f
(ha)n(v)n(e)i(a)f(mapping)f(for)g(all)i(displa)n(y)g(devices.)149
2580 y Fp(11.1.1)75 b(T)-6 b(ext)26 b(St)n(yle)f(Proto)r(col)i(and)d(T)-6
b(ext)25 b(St)n(yle)h(Sub)r(options)149 2749 y Fr(The)19 b(follo)n(wing)h
(generic)e(functions)g(comprise)g(the)h(text)g(st)n(yle)g(proto)r(col.)27
b(All)21 b(sub)r(classes)c(of)j Ft(text-style)149 2815 y Fr(m)n(ust)d
(implemen)n(t)f(metho)r(ds)f(for)j(eac)n(h)f(of)h(these)f(generic)g
(functions.)149 2948 y(Eac)n(h)f(of)g(the)g(sub)r(options)f(describ)r(ed)f(b)
r(elo)n(w)i(has)h(a)f(corresp)r(onding)d(reader)i(accessor)g(that)g(can)h(b)r
(e)g(used)g(to)149 3014 y(extract)g(a)i(particular)f(comp)r(onen)n(t)d(from)j
(a)h(text)g(st)n(yle.)49 3147 y Fj(\))45 b Ft(text-style-components)30
b Fs(text-style)979 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 3266 y(Returns)16 b(the)h(comp)r(onen)n(ts)e(of)j(the)f
Fm(text)h(st)n(yle)g Fs(text-style)i Fr(as)e(three)e(v)m(alues,)j(the)e
(family)-5 b(,)19 b(face,)e(and)h(size.)49 3399 y Fj(\))45
b Ft(:text-family)1742 b Fr([)p Fs(Option)t Fr(])49 3466 y
Fj(\))45 b Ft(text-style-family)30 b Fs(text-style)1095 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])p eop
%%Page: 89 104
bop 149 16 a Fm(CHAPTER)16 b(11.)43 b(TEXT)18 b(STYLES)1448
b Fr(89)149 210 y(Sp)r(eci\014es)16 b(the)h(family)h(of)g(the)g
Fm(text)f(st)n(yle)h Fs(text-style)p Fr(.)49 342 y Fj(\))45
b Ft(:text-face)1800 b Fr([)p Fs(Option)t Fr(])49 409 y Fj(\))45
b Ft(text-style-face)30 b Fs(text-style)1153 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 528 y(Sp)r(eci\014es)16 b(the)h(face)g(of)i(the)e
Fm(text)g(st)n(yle)i Fs(text-style)p Fr(.)49 661 y Fj(\))45
b Ft(:text-size)1800 b Fr([)p Fs(Option)t Fr(])49 727 y Fj(\))45
b Ft(text-style-size)30 b Fs(text-style)1153 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 846 y(Sp)r(eci\014es)16 b(the)h(size)h(of)g(the)f
Fm(text)h(st)n(yle)g Fs(text-style)p Fr(.)49 979 y Fj(\))45
b Ft(parse-text-style)30 b Fs(style-sp)m(e)m(c)1327 b Fr([)p
Fs(F)l(unction)t Fr(])149 1098 y(Returns)18 b(a)j(text)f(st)n(yle)h(ob)s
(ject.)30 b Fs(style-sp)m(e)m(c)22 b Fr(ma)n(y)f(b)r(e)e(a)i
Ft(text-style)g Fr(ob)s(ject)e(or)i(a)f(device)g(fon)n(t,)h(in)g(whic)n(h)149
1164 y(case)c(it)h(is)h(returned)c(as)j(is,)h(or)f(it)g(ma)n(y)g(b)r(e)f(a)h
(list)h(of)f(the)f(family)-5 b(,)19 b(face,)e(and)h(size)g(\(that)e(is,)j(a)f
(\\st)n(yle)g(sp)r(ec"\),)149 1231 y(in)f(whic)n(h)g(case)f(it)h(is)h
(\\parsed")c(and)j(a)g Ft(text-style)g Fr(ob)s(ject)f(is)h(returned.)22
b(This)17 b(function)f(is)h(for)g(e\016ciency)-5 b(,)149 1297
y(since)21 b(a)h(n)n(um)n(b)r(er)f(of)h(common)d(functions)i(that)g(tak)n(e)h
(a)g(st)n(yle)g(ob)s(ject)f(as)h(an)g(argumen)n(t)d(can)j(also)g(tak)n(e)g(a)
149 1364 y(st)n(yle)c(sp)r(ec,)f(in)i(particular)d Ft(draw-text)p
Fr(.)49 1496 y Fj(\))45 b Ft(merge-text-styles)30 b Fs(style1)20
b(style2)1019 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
1615 y(Merges)e(the)g Fm(text)h(st)n(yles)h Fs(style1)g Fr(with)g
Fs(style2)p Fr(,)h(that)e(is,)i(returns)d(a)h(new)g(text)g(st)n(yle)h(that)e
(is)i(the)f(same)f(as)149 1682 y Fs(style1)p Fr(,)j(except)c(that)g(unsp)r
(eci\014ed)g(comp)r(onen)n(ts)e(in)k Fs(style1)h Fr(are)e(\014lled)h(in)g
(from)f Fs(style2)p Fr(.)33 b(F)-5 b(or)21 b(con)n(v)n(enience,)149
1748 y(the)c(t)n(w)n(o)i(argumen)n(ts)c(ma)n(y)j(b)r(e)f(also)h(b)r(e)g(st)n
(yle)g(sp)r(ecs.)149 1881 y(When)f(merging)g(the)g(sizes)h(of)h(t)n(w)n(o)f
(text)g(st)n(yles,)h(if)g(the)e(size)i(from)e Fs(style1)i Fr(is)g(a)f
(relativ)n(e)h(size,)f(the)g(resulting)149 1948 y(size)c(is)i(either)e(the)g
(next)h(smaller)f(or)h(next)f(larger)g(size)h(than)f(is)i(sp)r(eci\014ed)d(b)
n(y)j Fs(style2)p Fr(.)24 b(The)15 b(ordering)f(of)h(sizes,)149
2014 y(from)j(smallest)g(to)i(largest,)f(is)h Ft(:tiny)p Fr(,)h
Ft(:very-small)p Fr(,)g Ft(:small)p Fr(,)g Ft(:normal)p Fr(,)h
Ft(:large)p Fr(,)f Ft(:very-large)p Fr(,)g(and)149 2080 y Ft(:huge)p
Fr(.)149 2213 y Fo(Minor)h(issue:)53 b Fm(Need)17 b(to)g(describ)r(e)f
(face-merging)f(prop)r(erly)-5 b(.)23 b(F)-5 b(or)18 b(example,)f(merging)f
(a)i(b)r(old)f(face)g(with)149 2280 y(an)h(italic)g(one)f(can)h(result)f(in)i
(a)f(b)r(old-italic)g(face.)23 b(|)c(SWM)49 2412 y Fj(\))45
b Ft(text-style-ascent)30 b Fs(text-style)21 b(p)m(ort)980
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49 2479 y Fj(\))45
b Ft(text-style-descent)30 b Fs(text-style)21 b(p)m(ort)951
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49 2545 y Fj(\))45
b Ft(text-style-height)30 b Fs(text-style)21 b(p)m(ort)980
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49 2612 y Fj(\))45
b Ft(text-style-width)30 b Fs(text-style)21 b(p)m(ort)1009
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2731 y(Returns)d(the)i(ascen)
n(t,)g(descen)n(t,)g(heigh)n(t,)h(and)f(width)g(\(resp)r(ectiv)n(ely\))e(of)j
(the)e(fon)n(t)h(corresp)r(onding)d(to)j(the)149 2797 y Fm(text)c(st)n(yle)h
Fs(text-style)h Fr(as)e(it)h(w)n(ould)g(b)r(e)f(rendered)e(on)j(an)n(y)g
(medium)e(on)h(the)g Fm(p)r(ort)f Fs(p)m(ort)p Fr(.)26 b Fs(text-style)20
b Fr(m)n(ust)c(b)r(e)149 2864 y(a)i(fully)h(sp)r(eci\014ed)d(text)h(st)n
(yle.)149 2996 y(The)g(ascen)n(t)e(of)j(a)f(fon)n(t)f(is)i(the)f(distance)e
(b)r(et)n(w)n(een)h(the)g(top)h(of)g(the)f(tallest)h(c)n(haracter)d(in)k
(that)e(fon)n(t)h(and)f(the)149 3063 y(fon)n(t's)g(baseline.)23
b(The)16 b(descen)n(t)f(of)i(a)f(fon)n(t)g(is)h(the)f(distance)f(b)r(et)n(w)n
(een)g(the)g(baseline)h(and)g(the)f(b)r(ottom)f(of)i(the)149
3129 y(lo)n(w)n(est)j(descending)f(c)n(haracter)f(\(usually)i(\\g",)g(\\p",)h
(\\q",)g(or)f(\\y"\).)27 b(The)19 b(heigh)n(t)g(of)g(a)h(fon)n(t)f(is)h(the)e
(sum)h(of)149 3196 y(the)f(ascen)n(t)f(and)i(the)f(descen)n(t)f(of)i(the)f
(fon)n(t.)26 b(The)18 b(width)h(of)g(a)f(fon)n(t)h(is)g(the)f(width)h(of)g
(some)e(represen)n(tativ)n(e)149 3262 y(c)n(haracter)e(in)k(the)e(fon)n(t.)
149 3395 y(The)24 b(metho)r(ds)d(for)j(these)f(generic)g(functions)g(will)j
(t)n(ypically)f(sp)r(ecialize)e(b)r(oth)g(the)h Fs(text-style)i
Fr(and)e Fs(p)m(ort)149 3461 y Fr(argumen)n(ts.)42 b(Implemen)n(tations)21
b(should)j(also)h(pro)n(vide)f(\\tramp)r(oline")e(for)i(these)f(generic)h
(function)f(for)p eop
%%Page: 90 105
bop 149 16 a Fm(CHAPTER)16 b(11.)43 b(TEXT)18 b(STYLES)1448
b Fr(90)149 210 y(mediums)16 b(and)h(output)g(sheets;)g(the)g(tramp)r(olines)
e(will)20 b(simply)e(call)g(the)g(metho)r(d)d(for)j(the)f(p)r(ort.)49
342 y Fj(\))45 b Ft(text-style-fixed-width-p)30 b Fs(text-style)21
b(p)m(ort)777 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
461 y(Returns)d Fm(true)g Fr(if)i(the)f Fm(text)g(st)n(yles)h
Fs(text-style)h Fr(will)g(map)e(to)g(a)g(\014xed-width)g(fon)n(t)h(on)f(an)n
(y)h(medium)e(on)h(the)149 528 y Fm(p)r(ort)c Fs(p)m(ort)p
Fr(,)21 b(otherwise)16 b(returns)g Fm(false)p Fr(.)25 b Fs(text-style)19
b Fr(m)n(ust)e(b)r(e)h(a)g(fully)h(sp)r(eci\014ed)d(text)i(st)n(yle.)149
661 y(The)f(metho)r(ds)e(for)i(this)g(generic)f(function)h(will)i(t)n
(ypically)f(sp)r(ecialize)e(b)r(oth)h(the)f Fs(text-style)j
Fr(and)f Fs(p)m(ort)h Fr(argu-)149 727 y(men)n(ts.)i(Implemen)n(tations)10
b(should)i(also)h(pro)n(vide)f(a)h(\\tramp)r(oline")d(for)i(this)h(generic)f
(function)f(for)i(mediums)149 793 y(and)k(output)g(sheets;)g(the)g(tramp)r
(oline)f(will)j(simply)f(call)h(the)e(metho)r(d)e(for)j(the)f(p)r(ort.)149
926 y Fo(Minor)22 b(issue:)54 b Fm(Discuss)18 b(baselines?)24
b(Kerning?)f(|)c(SWM)49 1059 y Fj(\))45 b Ft(text-size)29 b
Fs(me)m(dium)21 b(string)g Ft(&key)29 b Fs(text-style)21 b(\(start)g
Ft(0)p Fs(\))e(end)487 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1178 y(Computes)e(the)h(\\cursor)g(motion")g(in)i(device)f(units)g
(that)f(w)n(ould)i(tak)n(e)f(place)g(if)h Fs(string)h Fr(\(whic)n(h)e(ma)n(y)
g(b)r(e)149 1245 y(either)14 b(a)i(string)f(or)g(a)h(c)n(haracter\))d(w)n
(ere)i(output)g(to)g(the)g Fm(medium)f Fs(me)m(dium)j Fr(starting)d(at)h(the)
g(p)r(osition)g(\(0)p Fn(;)9 b Fr(0\).)149 1311 y(Fiv)n(e)22
b(v)m(alues)g(are)e(returned:)30 b(the)20 b(total)h(width)g(of)h(the)e
(string)h(in)h(device)f(units,)h(the)f(total)g(heigh)n(t)g(of)g(the)149
1377 y(string)16 b(in)i(device)f(units,)h(the)e(\014nal)i Fn(x)f
Fr(cursor)f(p)r(osition)g(\(whic)n(h)h(is)h(the)f(same)f(as)h(the)g(width)g
(if)h(there)e(are)h(no)149 1444 y Ft(#\\Newline)j Fr(c)n(haracters)d(in)j
(the)f(string\),)g(the)g(\014nal)h Fn(y)i Fr(cursor)c(p)r(osition)g(\(whic)n
(h)i(is)g(0)g(if)g(the)f(string)g(has)g(no)149 1510 y Ft(#\\Newline)e
Fr(c)n(haracters)c(in)k(it,)g(and)f(is)g(incremen)n(ted)d(b)n(y)k(the)f(line)
g(heigh)n(t)g(of)g Fs(me)m(dium)h Fr(for)f(eac)n(h)g Ft(#\\Newline)149
1577 y Fr(c)n(haracter)f(in)k(the)e(string\),)g(and)h(the)f(string's)h
(baseline.)149 1710 y Fs(text-style)g Fr(sp)r(eci\014es)d(what)h(text)g(st)n
(yle)h(is)h(to)e(b)r(e)g(used)g(when)g(doing)h(the)f(output,)g(and)g
(defaults)f(to)i Ft(medium-)149 1776 y(merged-text-style)g
Fr(of)f(the)g(medium.)22 b Fs(text-style)17 b Fr(m)n(ust)f(b)r(e)f(a)h(fully)
h(sp)r(eci\014ed)d(text)i(st)n(yle.)24 b Fs(start)18 b Fr(and)d
Fs(end)149 1842 y Fr(ma)n(y)j(b)r(e)f(used)g(to)h(sp)r(ecify)f(a)h(substring)
f(of)h Fs(string)p Fr(.)149 1975 y(If)d(a)g(programmer)c(needs)j(to)h(accoun)
n(t)e(for)i(k)n(erning)f(or)h(the)f(ascen)n(t)g(or)h(descen)n(t)f(of)g(the)h
(text)f(st)n(yle,)i(he)f(should)149 2042 y(measure)g(the)j(size)g(of)g(the)f
(b)r(ounding)f(rectangle)g(of)i(the)g(text)f(rendered)f(on)i
Fs(me)m(dium)p Fr(.)149 2174 y(All)g(mediums)e(and)i(output)e(sheets)h(m)n
(ust)g(implemen)n(t)f(a)i(metho)r(d)e(for)i(this)f(generic)g(function.)149
2424 y Fk(11.2)91 b(T)-8 b(ext)31 b(St)m(yle)f(Binding)g(F)-8
b(orms)49 2612 y Fj(\))45 b Ft(with-text-style)30 b Fs(\(me)m(dium)20
b(text-style\))h Ft(&body)29 b Fs(b)m(o)m(dy)875 b Fr([)p Fs(Macr)m(o)s
Fr(])149 2731 y(Binds)16 b(the)g(curren)n(t)e(text)i(st)n(yle)g(of)g(the)g
Fm(medium)e Fr(designated)g(b)n(y)j Fs(me)m(dium)h Fr(to)d(corresp)r(ond)e
(to)j(the)f(new)h(text)149 2797 y(st)n(yle.)33 b Fs(text-style)22
b Fr(ma)n(y)f(either)f(a)g(text)g(st)n(yle)i(ob)s(ject)d(or)h(a)h(st)n(yle)g
(sp)r(ec)f(\(that)f(is,)j(a)f(list)h(of)e(the)g(a)h(family)-5
b(,)23 b(a)149 2863 y(face)17 b(co)r(de,)g(and)h(a)g(size\).)24
b Fs(b)m(o)m(dy)19 b Fr(is)g(executed)d(with)i(the)f(new)h(text)f(st)n(yle)i
(in)f(e\013ect.)149 2996 y(The)24 b Fs(me)m(dium)j Fr(argumen)n(t)22
b(is)k(not)e(ev)m(aluated,)h(and)g(m)n(ust)f(b)r(e)g(a)h(sym)n(b)r(ol)f(that)
g(is)h(b)r(ound)f(to)g(a)h(sheet)f(or)149 3063 y(medium.)e(If)c
Fs(me)m(dium)i Fr(is)e Ft(t)p Fr(,)h Ft(*standard-output*)g
Fr(is)g(used.)k Fs(b)m(o)m(dy)d Fr(ma)n(y)e(ha)n(v)n(e)g(zero)f(or)g(more)g
(declarations)149 3129 y(as)h(its)g(\014rst)f(forms.)149 3262
y Ft(with-text-style)h Fr(m)n(ust)e(b)r(e)h(implemen)n(ted)d(b)n(y)k
(expanding)e(in)n(to)h(a)g(call)h(to)f Ft(invoke-with-text-style)p
Fr(,)149 3328 y(supplying)k(a)h(function)f(that)g(executes)e
Fs(b)m(o)m(dy)24 b Fr(as)e(the)f Fs(c)m(ontinuation)j Fr(argumen)n(t)c(to)h
Ft(invoke-with-text-)149 3395 y(style)p Fr(.)p eop
%%Page: 91 106
bop 149 16 a Fm(CHAPTER)16 b(11.)43 b(TEXT)18 b(STYLES)1448
b Fr(91)49 210 y Fj(\))45 b Ft(invoke-with-text-style)30 b
Fs(me)m(dium)21 b(c)m(ontinuation)h(text-style)421 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 329 y(Binds)g(the)g(curren)n(t)e(text)
i(st)n(yle)g(of)h(the)e Fm(medium)g Fs(me)m(dium)i Fr(to)f(corresp)r(ond)d
(to)j(the)g(new)g(text)f(st)n(yle,)j(and)149 395 y(calls)15
b(the)g(function)f Fs(c)m(ontinuation)k Fr(with)e(the)e(new)h(text)g(st)n
(yle)h(in)g(e\013ect.)22 b Fs(text-style)17 b Fr(ma)n(y)f(either)e(a)i(text)e
(st)n(yle)149 461 y(ob)s(ject)k(or)h(a)h(st)n(yle)g(sp)r(ec)e(\(that)g(is,)j
(a)e(list)h(of)g(the)f(a)g(family)-5 b(,)21 b(a)f(face)e(co)r(de,)h(and)g(a)h
(size\).)28 b Fs(c)m(ontinuation)22 b Fr(is)f(a)149 528 y(function)16
b(of)j(one)e(argumen)n(t,)f(the)h(medium;)g(it)h(has)g(dynamic)f(exten)n(t.)
149 661 y Fs(me)m(dium)23 b Fr(can)f(b)r(e)g(a)g(medium,)g(a)g(sheet)f(that)g
(supp)r(orts)f(the)i(sheet)f(output)g(proto)r(col,)g(or)h(a)h(stream)d(that)
149 727 y(outputs)d(to)i(suc)n(h)g(a)h(sheet.)27 b(All)20 b(classes)f(that)f
(ob)r(ey)g(the)h(medium)f(proto)r(col)f(m)n(ust)h(implemen)n(t)g(a)h(metho)r
(d)149 793 y(for)e Ft(invoke-with-text-style)p Fr(.)49 926
y Fj(\))45 b Ft(with-text-family)30 b Fs(\(me)m(dium)20 b(family\))g
Ft(&body)30 b Fs(b)m(o)m(dy)912 b Fr([)p Fs(Macr)m(o)s Fr(])49
993 y Fj(\))45 b Ft(with-text-face)30 b Fs(\(me)m(dium)20 b(fac)m(e\))h
Ft(&body)29 b Fs(b)m(o)m(dy)1026 b Fr([)p Fs(Macr)m(o)s Fr(])49
1059 y Fj(\))45 b Ft(with-text-size)30 b Fs(\(me)m(dium)20
b(size\))f Ft(&body)30 b Fs(b)m(o)m(dy)1031 b Fr([)p Fs(Macr)m(o)s
Fr(])149 1178 y(Binds)19 b(the)g(curren)n(t)e(text)i(st)n(yle)g(of)h(the)e
Fm(medium)f Fr(designated)h(b)n(y)i Fs(me)m(dium)g Fr(to)f(corresp)r(ond)d
(to)j(a)g(new)g(text)149 1245 y(st)n(yle)f(consisting)e(of)i(the)e(curren)n
(t)g(text)h(st)n(yle)h(with)g(the)f(new)g(family)-5 b(,)18
b(face,)g(or)f(size)g(\(resp)r(ectiv)n(ely\))f(merged)149 1311
y(in.)26 b Fs(fac)m(e)p Fr(,)21 b Fs(family)p Fr(,)f(and)f
Fs(size)f Fr(are)g(as)h(for)f Ft(make-text-style)p Fr(.)27
b Fs(b)m(o)m(dy)21 b Fr(is)e(executed)e(with)h(the)g(new)g(text)g(st)n(yle)
149 1377 y(in)g(e\013ect.)149 1510 y(The)24 b Fs(me)m(dium)j
Fr(argumen)n(t)22 b(is)k(not)e(ev)m(aluated,)h(and)g(m)n(ust)f(b)r(e)g(a)h
(sym)n(b)r(ol)f(that)g(is)h(b)r(ound)f(to)g(a)h(sheet)f(or)149
1577 y(medium.)e(If)c Fs(me)m(dium)i Fr(is)e Ft(t)p Fr(,)h
Ft(*standard-output*)g Fr(is)g(used.)k Fs(b)m(o)m(dy)d Fr(ma)n(y)e(ha)n(v)n
(e)g(zero)f(or)g(more)g(declarations)149 1643 y(as)h(its)g(\014rst)f(forms.)
149 1776 y(These)26 b(macros)f(are)h(\\con)n(v)n(enience")f(forms)h(of)h
Ft(with-text-style)h Fr(that)e(m)n(ust)g(expand)g(in)n(to)h(calls)g(to)149
1842 y Ft(invoke-with-text-style)p Fr(.)149 2092 y Fk(11.3)91
b(Con)m(trolling)29 b(T)-8 b(ext)30 b(St)m(yle)h(Mappings)149
2279 y Fr(T)-5 b(ext)18 b(st)n(yles)g(are)f(mapp)r(ed)f(to)h(fon)n(ts)h
(using)f(the)g Ft(text-style-mapping)j Fr(function,)d(whic)n(h)h(tak)n(es)g
(a)g(p)r(ort,)f(a)149 2346 y(c)n(haracter)e(set,)i(and)f(a)i(text)e(st)n(yle)
i(and)e(returns)g(a)h(fon)n(t)g(ob)s(ject.)23 b(All)17 b(p)r(orts)f(m)n(ust)g
(implemen)n(t)g(metho)r(ds)e(for)149 2412 y(the)j(follo)n(wing)i(generic)d
(functions,)h(for)h(all)h(classes)e(of)h(text)g(st)n(yle.)149
2545 y(The)e(ob)s(jects)e(used)i(to)g(represen)n(t)e(a)i(fon)n(t)g(mapping)f
(are)h(unsp)r(eci\014ed)e(and)i(are)f(lik)n(ely)k(to)d(v)m(ary)g(from)f(p)r
(ort)g(to)149 2612 y(p)r(ort.)26 b(F)-5 b(or)20 b(instance,)e(a)h(mapping)f
(migh)n(t)h(b)r(e)f(some)g(sort)g(of)i(fon)n(t)f(ob)s(ject)e(on)i(one)g(t)n
(yp)r(e)g(of)g(p)r(ort,)f(or)h(migh)n(t)149 2678 y(simply)f(b)r(e)f(the)g
(name)g(of)h(a)g(fon)n(t)g(on)g(another.)149 2811 y Fo(Minor)k(issue:)54
b Fm(W)-5 b(e)19 b(still)g(need)e(to)g(describ)r(e)g(what)g(a)h(device)g(fon)
n(t)f(is.)26 b(Ditto,)18 b(c)n(haracter)e(sets.)23 b(|)c(SWM)149
2944 y Fr(P)n(art)f(of)h(initializing)h(a)f(p)r(ort)f(is)i(to)f(de\014ne)f
(the)g(mappings)g(b)r(et)n(w)n(een)f(text)i(st)n(yles)g(and)g(fon)n(t)g
(names)e(for)i(the)149 3010 y(p)r(ort's)e(host)g(windo)n(w)h(system.)49
3143 y Fj(\))45 b Ft(text-style-mapping)30 b Fs(p)m(ort)21
b(text-style)g Ft(&optional)30 b Fs(char)m(acter-set)333 b
Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 3262 y(Returns)i(the)h(fon)n(t)
h(mapping)f(that)g(will)i(b)r(e)f(used)f(when)h(rendering)e(c)n(haracters)g
(in)i(the)g(c)n(haracter)d(set)149 3328 y Fs(char)m(acter-set)e
Fr(in)c(the)f Fm(text)h(st)n(yle)g Fs(text-style)h Fr(on)f(an)n(y)h(medium)d
(on)h(the)h Fm(p)r(ort)e Fs(p)m(ort)p Fr(.)26 b(If)17 b(there)f(is)h(no)g
(mapping)149 3395 y(asso)r(ciated)12 b(with)k Fs(char)m(acter-set)j
Fr(and)c Fs(text-style)i Fr(on)e Fs(p)m(ort)p Fr(,)j(then)c(some)g(other)g
(ob)s(ject)g(will)i(b)r(e)f(returned)e(that)149 3461 y(corresp)r(onds)h(to)k
(the)f(\\unmapp)r(ed")e(text)i(st)n(yle.)p eop
%%Page: 92 107
bop 149 16 a Fm(CHAPTER)16 b(11.)43 b(TEXT)18 b(STYLES)1448
b Fr(92)149 210 y Fs(char)m(acter-set)22 b Fr(defaults)17 b(to)g(the)h
(standard)e(c)n(haracter)g(set.)49 342 y Fj(\))45 b Ft(\(setf)29
b(text-style-mapping\))h Fs(mapping)16 b(p)m(ort)g(text-style)f
Ft(&optional)30 b Fs(char)m(acter-set)i Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 542 y(Sets)13 b(the)h(text)g(st)n(yle)h(mapping)e
(for)i Fs(p)m(ort)p Fr(,)i Fs(char)m(acter-set)p Fr(,)j(and)14
b Fs(text-style)j Fr(to)d Fs(mapping)p Fr(.)25 b Fs(p)m(ort)p
Fr(,)18 b Fs(char)m(acter-set)p Fr(,)149 608 y(and)j Fs(text-style)j
Fr(are)d(as)h(for)g Ft(text-style-mapping)p Fr(.)38 b Fs(mapping)24
b Fr(is)f(either)e(a)h(fon)n(t)f(name)g(or)h(a)g(list)g(of)g(the)149
674 y(form)16 b Ft(\(:style)30 b Fs(family)f(fac)m(e)i(size)p
Ft(\))p Fr(;)18 b(in)g(the)f(latter)g(case,)g(the)g(giv)n(en)i(st)n(yle)f(is)
g(translated)e(at)h(run)n(time)f(in)n(to)149 741 y(the)h(fon)n(t)h(represen)n
(ted)d(b)n(y)k(the)e(sp)r(eci\014ed)f(st)n(yle.)149 874 y Fs(char)m
(acter-set)22 b Fr(defaults)17 b(to)g(the)h(standard)e(c)n(haracter)g(set.)49
1007 y Fj(\))45 b Ft(make-device-font-text-style)30 b Fs(display-devic)m(e)23
b(devic)m(e-font-name)475 b Fr([)p Fs(F)l(unction)t Fr(])149
1126 y(Returns)17 b(a)j(text)e(st)n(yle)i(ob)s(ject)e(that)g(will)j(b)r(e)d
(mapp)r(ed)f(directly)i(to)g(the)f(sp)r(eci\014ed)g(device)h(fon)n(t)g(when)f
(text)149 1192 y(is)j(output)f(to)g(a)i(to)e(the)h(displa)n(y)h(device)e
(with)h(this)g(st)n(yle.)34 b(Device)21 b(fon)n(t)g(st)n(yles)h(do)e(not)h
(merge)e(with)i(an)n(y)149 1258 y(other)16 b(kind)j(of)f(st)n(yle.)p
eop
%%Page: 93 108
bop 149 691 a Fl(Chapter)46 b(12)149 1034 y Fq(Graphics)149
1422 y Fk(12.1)91 b(Ov)m(erview)31 b(of)g(Graphics)149 1609
y Fr(The)12 b(CLIM)g(graphic)f(dra)n(wing)h(mo)r(del)e(is)j(an)f(idealized)g
(mo)r(del)f(of)h(graphical)f(pictures.)21 b(The)12 b(mo)r(del)f(pro)n(vides)
149 1676 y(the)i(language)g(that)h(application)f(programs)f(use)i(to)g
(describ)r(e)e(the)i(in)n(tended)f(visual)i(app)r(earance)c(of)k(textual)149
1742 y(and)d(graphical)h(output.)21 b(Usually)13 b(not)g(all)h(of)f(the)g
(con)n(ten)n(ts)e(of)i(the)g(screen)f(are)g(describ)r(ed)f(using)i(the)g
(graphic)149 1809 y(dra)n(wing)k(mo)r(del.)24 b(F)-5 b(or)18
b(example,)f(men)n(us)g(and)h(scroll)g(bars)f(migh)n(t)g(b)r(e)h(describ)r
(ed)e(in)i(higher-lev)n(el)g(terms.)149 1941 y(An)j(imp)r(ortan)n(t)d(asp)r
(ect)h(of)j(the)e(CLIM)h(graphic)f(dra)n(wing)h(mo)r(del)f(is)h(its)h
(extreme)d(device)h(indep)r(endence.)149 2008 y(The)g(mo)r(del)g(describ)r
(es)f(ideal)i(graphical)f(images)f(and)i(ignores)e(limitations)h(of)h(actual)
f(graphics)g(devices.)149 2074 y(One)26 b(consequence)f(of)h(this)h(is)h
(that)e(the)g(actual)g(visual)h(app)r(earance)d(of)i(the)h(screen)e(can)h
(only)i(b)r(e)e(an)149 2141 y(appro)n(ximation)19 b(of)j(the)f(app)r(earance)
d(sp)r(eci\014ed)i(b)n(y)i(the)f(mo)r(del.)33 b(Another)20
b(consequence)f(of)i(this)h(is)g(that)149 2207 y(the)17 b(mo)r(del)g(is)h
(highly)h(p)r(ortable.)149 2340 y(CLIM)f(separates)e(output)h(in)n(to)i(t)n
(w)n(o)g(la)n(y)n(ers,)h(a)f(text/graphics)d(la)n(y)n(er)j(in)h(whic)n(h)f
(one)f(sp)r(eci\014es)f(the)h(desired)149 2406 y(visual)g(app)r(earance)c
(indep)r(enden)n(t)h(of)j(device)f(resolution)f(and)i(c)n(haracteristics,)d
(and)i(a)h(rendering)e(la)n(y)n(er)i(in)149 2473 y(whic)n(h)g(some)g(appro)n
(ximation)e(of)j(the)e(desired)h(visual)h(app)r(earance)c(is)k(created)e(on)h
(the)g(device.)25 b(Of)19 b(course)149 2539 y(application)13
b(programs)f(can)i(inquire)h(ab)r(out)e(the)h(device)g(resolution)f(and)h(c)n
(haracteristics)e(if)j(they)f(wish)h(and)149 2606 y(mo)r(dify)20
b(their)g(desired)g(visual)i(app)r(earance)c(on)j(that)f(basis.)34
b(\(There)19 b(is)j(also)f(a)g(third)g(la)n(y)n(er)h(ab)r(o)n(v)n(e)f(these)
149 2672 y(t)n(w)n(o)g(la)n(y)n(ers,)i(the)e(adaptiv)n(e)f(to)r(olkit)h(la)n
(y)n(er)h(where)e(one)h(sp)r(eci\014es)e(the)h(desired)h(functionalit)n(y)f
(rather)g(than)149 2738 y(the)d(desired)g(visual)i(app)r(earance.\))149
2871 y Fo(Ma)t(jor)k(issue:)60 b Fm(There)19 b(are)g(still)h(no)f(functions)f
(to)h(ask)h(ab)r(out)e(device)h(resolution)f(and)h(c)n(haracteristics.)149
2938 y(What)e(c)n(haracteristics)e(do)j(w)n(e)h(need)e(to)h(b)r(e)f(able)h
(to)g(get)f(to)h(b)r(esides)e(the)i(ob)n(vious)g(ones)f(of)h(resolution)f
(and)149 3004 y(\\color)g(depth".)23 b(Also,)18 b(do)g(w)n(e)g(really)h(need)
e(to)h(refer)e(to)i(the)f(adaptiv)n(e)h(to)r(olkit)f(la)n(y)n(er)i(here?)24
b(|)18 b(SWM)149 3137 y Fr(CLIM's)g(dra)n(wing)f(functions)g(pro)n(vide)h
(con)n(v)n(enien)n(t)g(w)n(a)n(ys)h(to)e(dra)n(w)h(sev)n(eral)g
(commonly-used)e(shap)r(es.)149 3270 y(The)h(in)n(teraction)g(b)r(et)n(w)n
(een)g(graphics)f(and)i(output)e(recording)h(will)i(b)r(e)f(describ)r(ed)d
(in)k(Chapter)d(16.)1276 3632 y(93)p eop
%%Page: 94 109
bop 149 16 a Fm(CHAPTER)16 b(12.)43 b(GRAPHICS)1546 b Fr(94)149
210 y Fk(12.2)91 b(De\014nitions)149 397 y Fo(Dra)n(wing)30
b(plane.)57 b Fr(A)25 b(dra)n(wing)g(plane)f(is)i(an)f(in\014nite)g(t)n(w)n
(o-dimensional)f(plane)h(on)g(whic)n(h)h(graphical)149 464
y(output)f(o)r(ccurs.)50 b(The)26 b(dra)n(wing)h(plane)g(con)n(tains)f(an)h
(arrangemen)n(t)c(of)k(colors)g(and)f(opacities)g(that)g(is)149
530 y(mo)r(di\014ed)21 b(b)n(y)j(eac)n(h)f(graphical)f(output)g(op)r
(eration.)38 b(It)24 b(is)g(not)e(p)r(ossible)h(to)g(read)f(bac)n(k)i(the)f
(con)n(ten)n(ts)f(of)149 596 y(a)f(dra)n(wing)g(plane,)h(except)f(b)n(y)h
(examining)e(the)h(output-history)-5 b(.)33 b(Normally)20 b(eac)n(h)h(windo)n
(w)h(has)f(its)g(o)n(wn)149 663 y(dra)n(wing)c(plane.)149 873
y Fo(Co)r(ordinates.)56 b Fr(Co)r(ordinates)21 b(are)h(a)i(pair)f(of)h(real)f
(n)n(um)n(b)r(ers)f(in)i(implemen)n(tation-de\014n)o(ed)c(units)j(that)149
940 y(iden)n(tify)18 b(a)g(p)r(oin)n(t)g(in)g(the)g(dra)n(wing)f(plane.)149
1150 y Fo(Sheets)h(and)g(Mediums.)57 b Fr(In)15 b(this)f(c)n(hapter,)h(w)n(e)
g(use)f(a)h(sheet)e(as)i(a)f(destination)f(for)h(output.)22
b(Asso)r(ciated)149 1216 y(with)13 b(a)h(sheet)f(is)h(a)g(medium,)f(whic)n(h)
h(has)f(a)h(dra)n(wing)f(plane,)i(t)n(w)n(o)f(designs)f(called)g(the)g
(medium's)f(foreground)149 1283 y(and)i(bac)n(kground,)g(a)g(transformation,)
e(a)i(clipping)h(region,)g(a)f(line)h(st)n(yle,)h(and)e(a)g(text)g(st)n(yle.)
24 b(There)13 b(are)h(p)r(er-)149 1349 y(medium,)g(dynamically)h(scop)r(ed,)g
(default)g(dra)n(wing)g(options.)23 b(Di\013eren)n(t)15 b(medium)f(classes)h
(are)g(pro)n(vided)g(to)149 1416 y(allo)n(w)20 b(programmers)c(to)j(dra)n(w)g
(on)h(di\013eren)n(t)f(sorts)f(of)i(devices,)f(suc)n(h)h(as)f(displa)n(ys,)i
(prin)n(ters,)e(and)h(virtual)149 1482 y(devices)d(suc)n(h)h(as)g(bitmaps.)
149 1615 y(Note)23 b(that)h(a)h(stream)e(is)j(a)f(sp)r(ecial)f(kind)i(of)f
(sheet)e(that)h(implemen)n(ts)f(the)h(stream)f(proto)r(col;)k(streams)149
1681 y(include)c(additional)g(state)g(suc)n(h)h(as)g(the)f(curren)n(t)f(text)
h(cursor)g(\(whic)n(h)h(is)g(some)f(p)r(oin)n(t)g(in)i(the)e(dra)n(wing)149
1748 y(plane\).)31 b(While)21 b(the)f(functions)f(de\014ned)h(here)f(are)h
(sp)r(eci\014ed)f(to)h(b)r(e)g(called)h(on)f(sheets,)g(they)h(can)f(also)g(b)
r(e)149 1814 y(called)e(on)f(streams)f(and)i(mediums.)149 1947
y(By)25 b(default,)h(the)d(\\fundamen)n(tal")f(co)r(ordinate)g(system)h(of)h
(a)h(CLIM)f(stream)e(\(not)i(a)g(general)g(sheet)f(or)149 2013
y(medium,)d(whose)g(fundamen)n(tal)f(co)r(ordinate)f(system)i(is)i(not)e
(de\014ned\))f(is)j(a)f(left)g(handed)f(system)f(with)j Fn(x)149
2080 y Fr(increasing)16 b(to)i(the)f(righ)n(t,)i(and)e Fn(y)k
Fr(increasing)c(do)n(wn)n(w)n(ard.)24 b(\(0)p Fn(;)9 b Fr(0\))18
b(is)g(at)g(the)f(upp)r(er)g(left)h(corner.)149 2329 y Fk(12.3)91
b(Dra)m(wing)30 b(is)g(Appro)m(ximate)149 2517 y Fr(Note)17
b(that)g(although)h(the)f(dra)n(wing)i(plane)f(con)n(tains)f(an)i(in\014nite)
f(n)n(um)n(b)r(er)f(of)i(mathematica)o(l)d(p)r(oin)n(ts,)i(and)149
2583 y(dra)n(wing)f(can)g(b)r(e)g(describ)r(ed)f(as)i(an)f(in\014nite)g(n)n
(um)n(b)r(er)g(of)g(color)g(and)h(opacit)n(y)f(computations,)e(the)i(dra)n
(wing)149 2650 y(plane)g(cannot)g(b)r(e)g(view)n(ed)i(directly)e(and)h(has)g
(no)g(material)e(existence.)24 b(It)18 b(is)h(only)f(an)g(abstraction.)k
(What)149 2716 y(can)d(b)r(e)f(view)n(ed)i(directly)f(is)h(the)f(result)f(of)
h(rendering)f(p)r(ortions)g(of)h(the)g(dra)n(wing)g(plane)g(on)n(to)g(a)g
(medium.)149 2782 y(No)c(in\014nite)g(computations)d(or)k(ob)s(jects)e(of)i
(in\014nite)f(size)g(are)g(required)g(to)g(implemen)n(t)f(CLIM,)i(b)r(ecause)
d(the)149 2849 y(results)k(of)h(rendering)e(ha)n(v)n(e)j(\014nite)e(size)h
(and)g(\014nite)f(resolution.)149 2982 y(A)h(dra)n(wing)g(plane)f(is)i
(describ)r(ed)d(as)i(ha)n(ving)g(in\014nitely)h(\014ne)e(spatial,)h(color,)g
(and)g(opacit)n(y)g(resolution,)f(and)149 3048 y(as)d(allo)n(wing)h(co)r
(ordinates)c(of)k(un)n(b)r(ounded)d(p)r(ositiv)n(e)i(or)g(negativ)n(e)g
(magnitude.)21 b(A)14 b(viewp)r(ort)f(in)n(to)h(a)h(dra)n(wing)149
3115 y(plane,)k(on)f(the)h(other)e(hand,)i(views)g(only)g(a)g(\014nite)g
(region)f(\(usually)g(rectangular\))e(of)j(the)f(dra)n(wing)h(plane.)149
3181 y(F)-5 b(urthermore,)17 b(a)i(viewp)r(ort)f(has)h(limited)g(spatial)g
(resolution)f(and)h(can)g(only)h(pro)r(duce)d(a)i(limited)g(n)n(um)n(b)r(er)
149 3247 y(of)25 b(colors.)47 b(These)24 b(limitations)h(are)g(imp)r(osed)f
(b)n(y)i(the)f(displa)n(y)h(hardw)n(are)f(on)g(whic)n(h)h(the)f(viewp)r(ort)f
(is)149 3314 y(displa)n(y)n(ed.)34 b(A)21 b(viewp)r(ort)e(also)i(has)g
(limited)f(opacit)n(y)h(resolution,)g(determined)d(b)n(y)j(the)g(\014nite)f
(arithmetic)149 3380 y(used)d(in)i(the)e(dra)n(wing)h(engine)f(\(whic)n(h)h
(ma)n(y)g(b)r(e)f(hardw)n(are)g(or)h(soft)n(w)n(are)f(or)h(b)r(oth\).)p
eop
%%Page: 95 110
bop 149 16 a Fm(CHAPTER)16 b(12.)43 b(GRAPHICS)1546 b Fr(95)149
210 y(Co)r(ordinates)14 b(are)j(real)g(n)n(um)n(b)r(ers)e(in)j(implemen)n
(tation-de\014ned)13 b(units.)24 b(Often)16 b(these)g(units)h(equal)g(the)f
(spa-)149 276 y(tial)f(resolution)f(of)h(a)g(viewp)r(ort,)f(so)h(that)f(a)h
(line)h(of)f(thic)n(kness)f(1)h(is)h(equiv)m(alen)n(t)e(to)h(the)f(thinnest)g
(visible)i(line.)149 342 y(Ho)n(w)n(ev)n(er,)i(this)g(equiv)m(alence)f(is)i
(not)e(required)g(and)h(should)g(not)f(b)r(e)g(assumed)f(b)n(y)j(application)
e(programs.)149 475 y(A)e(v)m(alid)i(CLIM)e(implemen)n(tation)e(can)i(b)r(e)f
(quite)i(restrictiv)n(e)e(in)j(the)d(size)i(and)f(resolution)f(of)i(its)g
(viewp)r(orts.)149 542 y(F)-5 b(or)15 b(example,)g(the)f(spatial)h
(resolution)e(migh)n(t)i(b)r(e)f(only)i(a)f(few)g(dozen)e(p)r(oin)n(ts)i(p)r
(er)f(inc)n(h,)i(the)f(maxim)n(um)e(size)149 608 y(migh)n(t)h(b)r(e)g(only)h
(a)g(few)g(h)n(undred)f(p)r(oin)n(ts)g(on)g(a)h(side,)h(and)e(there)g(could)g
(b)r(e)g(as)h(few)g(as)g(t)n(w)n(o)g(displa)n(y)n(able)g(colors)149
674 y(\(usually)h(blac)n(k)h(and)f(white\).)23 b(The)17 b(fully)g(transparen)
n(t)d(and)i(fully)i(opaque)d(opacit)n(y)i(lev)n(els)g(m)n(ust)f(alw)n(a)n(ys)
h(b)r(e)149 741 y(supp)r(orted,)c(but)i(a)g(v)m(alid)h(CLIM)f(implemen)n
(tation)d(migh)n(t)j(supp)r(ort)e(only)j(a)f(few)g(opacit)n(y)g(lev)n(els)h
(in)g(b)r(et)n(w)n(een)149 807 y(\(or)22 b(p)r(ossibly)h(ev)n(en)h(none\).)39
b(A)23 b(v)m(alid)h(CLIM)f(implemen)n(tation)e(migh)n(t)h(implemen)n(t)g
(color)g(blending)h(and)149 874 y(unsaturated)12 b(colors)j(b)n(y)h
(stippling,)g(although)e(it)i(is)g(preferred,)e(when)h(p)r(ossible,)g(for)g
(a)h(viewp)r(ort)e(to)h(displa)n(y)149 940 y(a)j(uniform)f(color)g(as)h(a)g
(uniform)f(color)g(rather)g(than)g(as)h(a)g(p)r(erceptible)d(stipple.)149
1073 y(When)21 b(CLIM)g(records)f(the)h(output)f(to)h(a)h(sheet,)g(there)e
(are)h(no)h(suc)n(h)f(limitations)g(since)g(CLIM)g(just)g(re-)149
1139 y(mem)n(b)r(ers)15 b(the)i(dra)n(wing)h(op)r(erations)d(that)i(w)n(ere)h
(p)r(erformed,)d(not)j(the)f(results)g(of)h(rendering.)149
1272 y(CLIM)12 b(pro)n(vides)g(some)e(w)n(a)n(ys)k(to)d(ask)i(what)e
(resolution)g(limits)h(are)g(in)h(e\013ect)e(for)h(a)g(medium.)21
b(See)11 b(Chapter)g(10)149 1339 y(for)17 b(their)h(descriptions.)149
1472 y(The)h(application)f(programmer)d(uses)j(the)h(CLIM)g(graphic)f(dra)n
(wing)g(mo)r(del)g(as)h(an)g(in)n(terface)f(to)g(describ)r(e)149
1538 y(the)23 b(in)n(tended)h(visual)h(app)r(earance.)40 b(An)24
b(implemen)n(tation)e(do)r(es)h(its)i(b)r(est)e(to)h(appro)n(ximate)e(that)h
(ideal)149 1604 y(app)r(earance)17 b(in)k(a)g(viewp)r(ort,)f(within)h(its)g
(limitations)f(of)g(spatial)g(resolution,)h(color)f(resolution,)g(n)n(um)n(b)
r(er)149 1671 y(of)25 b(sim)n(ultaneously)e(displa)n(y)n(able)j(colors,)g
(and)e(dra)n(wing)h(sp)r(eed.)44 b(This)25 b(will)h(usually)g(require)e
(tradeo\013s,)149 1737 y(for)c(example)g(b)r(et)n(w)n(een)g(sp)r(eed)f(and)i
(accuracy)-5 b(,)20 b(and)h(eac)n(h)f(implemen)n(tation)e(m)n(ust)i(mak)n(e)h
(these)e(tradeo\013s)149 1804 y(according)j(to)h(its)h(o)n(wn)g(hardw)n
(are/soft)n(w)n(are)d(en)n(vironmen)n(t)i(and)g(user)g(concerns.)40
b(F)-5 b(or)24 b(example,)h(if)f(the)149 1870 y(actual)d(device)g(supp)r
(orts)f(a)i(limited)f(n)n(um)n(b)r(er)f(of)i(colors,)h(the)e(desired)g(color)
g(ma)n(y)h(b)r(e)f(appro)n(ximated)f(b)n(y)149 1936 y(tec)n(hniques)d(suc)n
(h)i(as)g(dithering)e(or)i(stippling.)26 b(If)19 b(the)g(actual)e(device)i
(cannot)e(dra)n(w)h(curv)n(es)h(exactly)-5 b(,)19 b(they)149
2003 y(ma)n(y)j(b)r(e)g(appro)n(ximated,)g(with)g(or)g(without)g(an)n
(ti-aliasing.)38 b(If)23 b(the)f(actual)g(device)g(has)g(limited)g(opacit)n
(y)149 2069 y(resolution,)k(color)e(blending)h(ma)n(y)g(b)r(e)f(appro)n
(ximate.)44 b(A)25 b(viewp)r(ort)f(migh)n(t)h(displa)n(y)h(colors)e(that)g
(don't)149 2136 y(app)r(ear)18 b(in)j(the)e(dra)n(wing)h(plane,)h(b)r(oth)e
(b)r(ecause)f(of)i(color)g(and)g(opacit)n(y)f(appro)n(ximation)g(and)h(b)r
(ecause)e(of)149 2202 y(an)n(ti-aliasing)g(at)g(the)f(edges)g(of)h(dra)n(wn)g
(shap)r(es.)149 2335 y(It)24 b(is)h(lik)n(ely)h(that)d(di\013eren)n(t)h
(implemen)n(tations)d(will)26 b(pro)r(duce)c(somewhat)g(di\013eren)n(t)i
(visual)h(app)r(earance)149 2401 y(when)d(running)f(the)h(same)f
(application.)37 b(If)23 b(an)f(application)f(requires)h(more)f(detailed)h
(con)n(trol,)h(it)g(m)n(ust)149 2468 y(resort)f(to)h(a)h(lo)n(w)n(er-lev)n
(el)h(in)n(terface,)g(and)e(will)i(b)r(ecome)c(less)j(p)r(ortable)e(as)h(a)h
(result.)41 b(These)23 b(lo)n(w)n(er-lev)n(el)149 2534 y(in)n(terfaces)16
b(will)k(b)r(e)d(do)r(cumen)n(ted)e(on)i(a)i(p)r(er-platform)c(basis.)149
2667 y(Dra)n(wing)j(computations)c(are)j(alw)n(a)n(ys)i(carried)d(out)h(\\in)
h(color",)f(ev)n(en)h(if)g(the)f(viewp)r(ort)g(is)h(only)g(capable)f(of)149
2733 y(displa)n(ying)g(blac)n(k)f(and)g(white.)24 b(In)16 b(other)f(w)n
(ords,)i(the)e(CLIM)h(dra)n(wing)g(mo)r(del)f(is)i(alw)n(a)n(ys)g(the)f
(fully)h(general)149 2800 y(mo)r(del,)g(ev)n(en)h(if)h(an)f(implemen)n
(tation's)d(color)j(resolution)f(is)h(limited)g(enough)f(that)g(full)i(use)f
(of)g(the)f(mo)r(del)149 2866 y(is)f(not)g(p)r(ossible.)23
b(Of)16 b(course)f(an)h(application)f(that)g(fundamen)n(tally)f(dep)r(ends)g
(on)i(color)g(will)h(not)f(w)n(ork)g(w)n(ell)149 2933 y(on)i(a)g(viewp)r(ort)
e(that)h(cannot)g(displa)n(y)i(color.)24 b(Other)17 b(applications)f(will)k
(degrade)c(gracefully)-5 b(.)149 3066 y(Whether)21 b(the)g(implemen)n(tation)
f(uses)i(raster)f(graphics)h(or)g(some)f(other)h(displa)n(y)h(tec)n(hnique)f
(is)h(in)n(visible)149 3132 y(at)f(this)h(in)n(terface.)37
b(CLIM)22 b(do)r(es)g(not)g(sp)r(ecify)g(the)g(existence)f(of)i(pixels)g(nor)
g(the)f(exact)f(details)i(of)f(scan)149 3198 y(con)n(v)n(ersion,)c(whic)n(h)g
(will)h(v)m(ary)g(from)d(one)i(dra)n(wing)g(engine)f(to)h(the)f(next.)149
3331 y(P)n(erformance)12 b(will)k(also)f(v)m(ary)h(b)r(et)n(w)n(een)e
(implemen)n(tations.)20 b(This)c(in)n(terface)d(is)j(de\014ned)e(in)i(terms)d
(of)i(simple)149 3398 y(conceptual)20 b(op)r(erations,)h(ho)n(w)n(ev)n(er)h
(an)g(actual)f(implemen)n(tation)f(ma)n(y)i(use)g(cac)n(hing,)g(sp)r
(ecialized)f(ob)s(ject)149 3464 y(represen)n(tations,)11 b(and)h(other)g
(optimizations)f(to)i(a)n(v)n(oid)h(materializing)d(storage-in)n(tensiv)n(e)g
(or)i(computation-)p eop
%%Page: 96 111
bop 149 16 a Fm(CHAPTER)16 b(12.)43 b(GRAPHICS)1546 b Fr(96)149
210 y(costly)17 b(in)n(termediate)f(results)h(and)g(to)h(tak)n(e)g(adv)m(an)n
(tage)e(of)i(a)n(v)m(ailable)h(hardw)n(are.)149 459 y Fk(12.4)91
b(Rendering)29 b(Con)m(v)m(en)m(tions)j(for)e(Geometric)f(Shap)s(es)149
647 y Fr(The)16 b(in)n(ten)n(t)h(of)f(this)h(section)e(is)j(to)e(describ)r(e)
f(the)h(con)n(v)n(en)n(tions)g(for)g(ho)n(w)h(CLIM)f(should)h(render)e(a)i
(shap)r(e)e(on)149 713 y(a)h(displa)n(y)g(device.)24 b(These)15
b(con)n(v)n(en)n(tions)g(and)g(the)g(accompan)n(ying)f(examples)g(are)i(mean)
n(t)e(to)h(describ)r(e)f(a)i(set)149 780 y(of)g(goals)g(that)g(a)g(CLIM)g
(implemen)n(tation)e(should)i(try)g(to)g(meet.)23 b(Ho)n(w)n(ev)n(er,)17
b(complian)n(t)e(CLIM)h(implemen-)149 846 y(tations)g(ma)n(y)i(deviate)f
(from)g(these)g(goals)h(if)g(necessary)e(\(for)i(example,)f(if)h(the)g
(rendering)e(p)r(erformance)e(on)149 912 y(a)h(sp)r(eci\014c)e(platform)g(w)n
(ould)j(b)r(e)e(unacceptably)e(slo)n(w)k(if)g(these)d(goals)i(w)n(ere)g(met)e
(exactly)i(and)f(implemen)n(tors)149 979 y(feel)20 b(that)g(users)g(w)n(ould)
h(b)r(e)f(b)r(etter)e(serv)n(ed)i(b)n(y)i(sp)r(eed)d(than)h(b)n(y)i
(accuracy\).)30 b(Note)19 b(that)h(w)n(e)h(discuss)f(only)149
1045 y(pixel-based)c(displa)n(y)i(devices)e(here,)h(whic)n(h)g(are)f(the)h
(most)e(common,)g(but)h(b)n(y)i(no)f(means)e(the)h(only)-5
b(,)19 b(sort)d(of)149 1112 y(displa)n(y)j(device)e(that)g(can)h(b)r(e)f
(supp)r(orted)e(b)n(y)k(CLIM.)149 1244 y(When)i(CLIM)g(dra)n(ws)h(a)g
(geometric)d(shap)r(e)i(on)g(some)g(sort)g(of)g(displa)n(y)i(device,)g(the)e
(idealized)g(geometric)149 1311 y(shap)r(e)15 b(m)n(ust)g(someho)n(w)g(b)r(e)
h(rendered)e(on)i(the)g(displa)n(y)h(device.)24 b(The)16 b(geometric)d(shap)r
(es)i(are)h(made)f(up)h(of)h(a)149 1377 y(set)h(of)h(mathematica)o(l)d(p)r
(oin)n(ts,)i(whic)n(h)i(ha)n(v)n(e)f(no)g(size;)g(the)f(rendering)f(of)i(the)
f(shap)r(e)f(is)j(usually)f(comp)r(osed)149 1444 y(of)d(pixels,)i(whic)n(h)f
(are)e(roughly)h(square.)23 b(These)16 b(pixels)h(exist)f(in)h(\\device)f(co)
r(ordinates",)e(whic)n(h)j(are)e(gotten)149 1510 y(b)n(y)24
b(transforming)d(the)h(user-supplied)h(co)r(ordinates)d(b)n(y)25
b(all)f(of)g(the)e(user-supplied)h(transformation,)e(the)149
1577 y(medium)14 b(transformation,)f(and)j(the)f(transformation)e(that)i
(maps)g(from)g(the)g(sheet)g(to)h(the)g(displa)n(y)h(device.)149
1643 y(\(Note)e(that)i(if)h(the)e(last)h(transformation)d(is)k(a)f(pure)g
(translation)f(that)g(translates)f(b)n(y)j(an)f(in)n(teger)g(m)n(ultiple)149
1709 y(of)h(device)g(units,)g(then)g(it)g(has)g(no)g(e\013ect)g(on)g(the)g
(rendering)e(other)h(than)h(placemen)n(t)e(of)i(the)g(\014gure)f(dra)n(wn)149
1776 y(on)h(the)f(displa)n(y)i(device.\))149 1909 y(Roughly)14
b(sp)r(eaking,)h(a)g(pixel)g(is)g(a\013ected)f(b)n(y)h(dra)n(wing)g(a)g(shap)
r(e)e(only)i(when)g(it)g(is)g(inside)g(the)f(shap)r(e)f(\(w)n(e)i(will)149
1975 y(de\014ne)i(what)g(w)n(e)i(mean)e(b)n(y)i(\\inside")f(in)h(a)f(momen)n
(t\).)23 b(Since)17 b(pixels)i(are)f(little)g(squares)g(and)f(the)h(abstract)
149 2041 y(p)r(oin)n(ts)24 b(ha)n(v)n(e)i(no)f(size,)i(for)e(most)f(shap)r
(es)f(there)h(will)j(b)r(e)d(man)n(y)h(pixels)h(that)e(lie)i(only)f
(partially)h(inside)149 2108 y(the)c(shap)r(e.)37 b(Therefore,)22
b(it)h(is)g(imp)r(ortan)n(t)d(to)j(describ)r(e)d(the)i(con)n(v)n(en)n(tions)g
(used)h(b)n(y)g(CLIM)f(as)h(to)f(whic)n(h)149 2174 y(pixels)16
b(should)g(b)r(e)g(a\013ected)f(when)g(dra)n(wing)h(a)h(shap)r(e,)e(so)h
(that)f(the)h(prop)r(er)e(in)n(terface)h(to)h(the)f(p)r(er-platform)149
2241 y(rendering)j(engine)h(can)g(b)r(e)g(constructed.)27 b(\(It)19
b(is)h(w)n(orth)g(noting)f(that)f(on)i(devices)f(that)g(supp)r(ort)f(color)h
(or)149 2307 y(gra)n(yscale,)h(the)g(rendering)f(engine)h(ma)n(y)g(attempt)e
(to)i(dra)n(w)h(a)f(pixel)h(that)f(is)h(partially)g(inside)f(the)g(shap)r(e)
149 2374 y(dark)n(er)d(or)h(ligh)n(ter,)g(dep)r(ending)e(on)i(ho)n(w)h(m)n
(uc)n(h)e(of)h(it)h(is)g(inside)f(the)f(shap)r(e.)23 b(This)c(is)f(called)g
Fm(an)n(ti-aliasing)p Fr(.\))149 2440 y(The)f(con)n(v)n(en)n(tions)h(used)f
(b)n(y)i(CLIM)f(is)h(the)e(same)g(as)h(the)f(con)n(v)n(en)n(tions)h(used)f(b)
n(y)i(X11:)232 2628 y Fj(\017)27 b Fr(A)18 b(pixel)h(is)f(a)h(addressed)c(b)n
(y)k(its)g(upp)r(er-left)d(corner.)232 2739 y Fj(\017)27 b
Fr(A)c(pixel)h(is)g(considered)d(to)i(b)r(e)g Fm(inside)g Fr(a)g(shap)r(e,)h
(and)f(hence)f(a\013ected)f(b)n(y)j(the)f(rendering)e(of)j(that)287
2805 y(shap)r(e,)19 b(if)i(the)e(cen)n(ter)f(of)i(the)f(pixel)i(is)g(inside)e
(the)h(shap)r(e.)28 b(If)20 b(the)g(cen)n(ter)e(of)i(the)f(pixel)i(lies)f
(exactly)287 2872 y(on)j(the)e(b)r(oundary)g(of)i(the)f(shap)r(e,)h(it)f(is)i
(considered)c(to)j(b)r(e)f(inside)g(if)i(the)e(inside)g(of)h(the)f(shap)r(e)f
(is)287 2938 y(immediately)16 b(to)i(the)f(righ)n(t)h(\(increasing)e
Fn(x)i Fr(direction)f(on)h(the)f(displa)n(y)i(device\))e(of)h(the)f(cen)n
(ter)g(p)r(oin)n(t)287 3004 y(of)e(the)g(pixel.)25 b(If)15
b(the)g(cen)n(ter)f(of)h(the)g(pixel)h(lies)g(exactly)f(on)g(a)h(horizon)n
(tal)e(b)r(oundary)-5 b(,)15 b(it)h(is)g(considered)287 3071
y(to)j(b)r(e)f(inside)h(if)g(the)g(inside)g(of)f(the)h(shap)r(e)e(is)j
(immediately)d(b)r(elo)n(w)h(\(increasing)g Fn(y)j Fr(direction)d(on)g(the)
287 3137 y(displa)n(y)h(device\))e(the)g(cen)n(ter)g(p)r(oin)n(t)h(of)g(the)f
(pixel.)232 3248 y Fj(\017)27 b Fr(An)21 b(un\014lled)g(shap)r(e)f(is)h(dra)n
(wn)g(b)n(y)h(taking)f(the)f(\014lled)i(shap)r(e)e(consisting)g(of)h(those)f
(p)r(oin)n(ts)g(that)g(are)287 3314 y(within)15 b(1/2)f(the)g(line)h(thic)n
(kness)f(from)f(the)h(outline)g(curv)n(e)g(\(using)g(a)h(normal)e(distance)g
(function,)i(that)287 3381 y(is,)21 b(the)e(length)g(of)h(the)f(line)i(dra)n
(wn)e(at)h(righ)n(t)f(angles)h(to)f(the)g(tangen)n(t)f(to)i(the)f(outline)g
(curv)n(e)h(at)f(the)287 3447 y(nearest)d(p)r(oin)n(t\),)i(and)f(applying)h
(the)g(second)e(rule,)i(ab)r(o)n(v)n(e.)p eop
%%Page: 97 112
bop 149 16 a Fm(CHAPTER)16 b(12.)43 b(GRAPHICS)1546 b Fr(97)522
1148 y(Figure)17 b(12.1:)25 b(Pixel)18 b(assignmen)n(t)e(with)i(b)r(oundary)f
(on)h(decision)f(p)r(oin)n(ts.)149 1317 y(It)e(is)g(imp)r(ortan)n(t)e(to)h
(note)g(that)g(these)g(rules)g(imply)i(that)e(the)g(decision)g(p)r(oin)n(t)h
(used)f(for)h(insideness)f(c)n(hec)n(king)149 1383 y(is)20
b(o\013set)f(from)f(the)h(p)r(oin)n(t)g(used)g(for)g(addressing)f(the)h
(pixel)i(b)n(y)f(half)g(a)f(device)h(unit)f(in)h(b)r(oth)e(the)h
Fn(x)h Fr(and)f Fn(y)149 1449 y Fr(directions.)k(It)18 b(is)g(w)n(orth)g
(considering)e(the)i(motiv)m(ations)e(for)i(these)e(con)n(v)n(en)n(tions.)149
1582 y(When)21 b(t)n(w)n(o)h(shap)r(es)d(share)i(a)g(common)e(edge,)j(it)g
(is)g(imp)r(ortan)n(t)d(that)h(only)i(one)f(of)h(the)e(shap)r(es)g(o)n(wn)i
(an)n(y)149 1649 y(pixel.)30 b(The)19 b(t)n(w)n(o)i(triangles)d(in)i(Figure)g
(12.1)f(illustrate)g(this.)30 b(The)19 b(pixels)h(along)f(the)g(diagonal)h(b)
r(elong)e(to)149 1715 y(the)g(lo)n(w)n(er)h(\014gure.)26 b(When)19
b(the)f(decision)g(p)r(oin)n(t)h(of)g(the)f(pixel)h(\(its)g(cen)n(ter\))e
(lies)j(to)e(one)g(side)h(of)g(the)f(line)i(or)149 1781 y(the)c(other,)g
(there)f(is)j(no)e(issue.)24 b(When)17 b(the)f(b)r(oundary)f(passes)g
(through)g(a)i(decision)f(p)r(oin)n(t,)h(whic)n(h)h(side)e(the)149
1848 y(inside)j(of)f(the)g(\014gure)g(is)h(on)g(is)g(used)f(to)g(decide.)26
b(These)18 b(are)g(the)g(triangles)g(that)f(CLIM)i(implemen)n(tations)149
1914 y(should)e(attempt)e(to)j(dra)n(w)g(in)h(this)f(case.)149
2047 y(The)e(reason)g(for)g(c)n(ho)r(osing)g(the)g(decision)g(p)r(oin)n(t)h
(half)g(a)g(pixel)g(o\013set)g(from)e(the)h(address)g(p)r(oin)n(t)g(is)i(to)e
(reduce)149 2114 y(the)e(n)n(um)n(b)r(er)f(of)i(common)d(\014gures)i(\(suc)n
(h)g(as)h(rectilinear)e(lines)j(and)e(rectangles)f(with)i(in)n(tegral)f(co)r
(ordinates\))149 2180 y(that)19 b(in)n(v)n(ok)n(e)k(the)d(b)r(oundary)f
(condition)h(rule.)32 b(This)22 b(usually)f(leads)f(to)h(more)e(symmetrical)f
(results.)32 b(F)-5 b(or)149 2246 y(instance,)14 b(in)i(Figure)f(12.2,)h(w)n
(e)g(see)f(a)g(circle)g(dra)n(wn)g(when)g(the)f(decision)h(p)r(oin)n(t)g(is)h
(the)e(same)g(as)i(the)e(address)149 2313 y(p)r(oin)n(t.)22
b(The)14 b(four)f(ligh)n(ter)h(p)r(oin)n(ts)f(are)g(indeterminate:)19
b(it)c(is)f(not)f(clear)g(whether)g(they)g(are)g(inside)h(or)g(outside)149
2379 y(the)19 b(shap)r(e.)29 b(Since)20 b(w)n(e)g(w)n(an)n(t)g(to)g(ha)n(v)n
(e)h(eac)n(h)e(b)r(oundary)f(case)i(determined)d(according)h(to)i(whic)n(h)g
(side)g(has)149 2446 y(the)h(\014gure)h(on)g(it,)i(and)e(since)g(w)n(e)h(m)n
(ust)f(apply)g(the)g(same)f(rule)h(uniformly)g(for)g(all)h(\014gures,)g(w)n
(e)g(ha)n(v)n(e)g(no)149 2512 y(c)n(hoice)17 b(but)h(to)f(pic)n(k)i(only)g(t)
n(w)n(o)f(of)g(the)g(four)f(p)r(oin)n(ts,)h(leading)f(to)h(an)g(undesirable)e
(lopsided)i(\014gure.)149 2645 y(If)k(w)n(e)g(had)g(instead)e(c)n(hosen)h(to)
h(tak)n(e)f(all)i(four)e(b)r(oundary)f(p)r(oin)n(ts,)j(w)n(e)f(w)n(ould)g(ha)
n(v)n(e)h(a)f(nice)f(symmetrical)149 2711 y(\014gure.)k(Ho)n(w)n(ev)n(er,)19
b(since)g(this)f(\014gure)g(is)h(symmetrical)d(ab)r(out)h(a)i(whole)f(pixel,)
i(it)f(is)h(one)e(pixel)h(wider)g(than)149 2778 y(it)g(ough)n(t)e(to)h(b)r
(e.)26 b(The)18 b(problem)f(with)i(this)f(can)g(b)r(e)g(seen)g(clearly)g(in)h
(Figure)f(12.3)h(if)g(w)n(e)g(attempt)d(to)i(dra)n(w)149 2844
y(a)g(rectangle)e(and)h(circle)h(o)n(v)n(erlaid)h(with)f(the)f(follo)n(wing)i
(co)r(de:)149 3022 y Ft(\(defun)29 b(draw-test)h(\(sheet)f(radius\))207
3088 y(\(draw-circle*)h(sheet)f(0)g(0)g(radius)h(:ink)f(+foreground-ink+\))
207 3155 y(\(draw-rectangle*)h(sheet)f(\(-)g(radius\))h(\(-)f(radius\))g(\(+)
h(radius\))f(\(+)g(radius\))701 3221 y(:ink)g(+flipping-ink+\)\))149
3399 y Fr(It)20 b(is)i(for)e(this)h(reason)e(that)h(w)n(e)h(c)n(ho)r(ose)f
(to)g(ha)n(v)n(e)h(the)g(decision)f(p)r(oin)n(t)g(at)g(the)g(cen)n(ter)g(of)h
(the)f(pixel.)33 b(This)149 3466 y(dra)n(ws)18 b(circles)g(that)f(lo)r(ok)h
(lik)n(e)i(the)e(one)g(in)h(Figure)f(12.4.)26 b(It)18 b(is)h(this)f(shap)r(e)
f(that)h(CLIM)g(implemen)n(tations)p eop
%%Page: 98 113
bop 149 16 a Fm(CHAPTER)16 b(12.)43 b(GRAPHICS)1546 b Fr(98)448
1512 y(Figure)18 b(12.2:)24 b(Cho)r(osing)17 b(an)n(y)h(t)n(w)n(o)h(of)f(the)
f(shaded)g(pixels)h(causes)f(asymmetry)-5 b(.)591 3190 y(Figure)18
b(12.3:)24 b(Tw)n(o)19 b(forms)e(of)h(a)g(circle)f(inscrib)r(ed)g(in)i(a)f
(rectangle.)p eop
%%Page: 99 114
bop 149 16 a Fm(CHAPTER)16 b(12.)43 b(GRAPHICS)1546 b Fr(99)765
1248 y(Figure)18 b(12.4:)24 b(An)18 b(aesthetically)f(pleasing)g(circle.)149
1425 y(should)g(attempt)e(to)j(dra)n(w.)149 1558 y(A)h(consequence)d(of)j
(these)f(rendering)f(con)n(v)n(en)n(tions)i(is)h(that,)e(when)h(the)f(start)g
(or)h(end)f(co)r(ordinate)e(\(min)n(us)149 1624 y(1/2)h(the)g(line)h(thic)n
(kness,)g(if)g(the)f(shap)r(e)f(is)j(a)e(path\))g(is)h(not)f(an)h(in)n
(teger,)f(then)g(rendering)f(is)i(not)f(symmetric)149 1690
y(under)j(re\015ection)f(transformations)o(.)30 b(Th)n(us)22
b(to)e(correctly)g(and)g(p)r(ortably)g(dra)n(w)h(an)g(outline)f(of)h(thic)n
(kness)149 1757 y(1)e(around)g(a)g(\(rectilinear\))e(rectangular)g(area)i
(with)g(in)n(tegral)h(co)r(ordinates,)d(the)i(outline)g(path)f(m)n(ust)h(ha)n
(v)n(e)149 1823 y(half-in)n(tegral)12 b(co)r(ordinates.)20
b(Dra)n(wing)13 b(rectilinear)f(areas)g(whose)g(b)r(oundaries)f(are)h(not)g
(on)h(pixel)h(b)r(oundaries)149 1890 y(cannot)19 b(b)r(e)h(guaran)n(teed)e
(to)i(b)r(e)g(p)r(ortable.)30 b(Another)19 b(w)n(a)n(y)i(to)g(sa)n(y)g(the)f
(same)f(thing)h(is)h(that)f(the)g(\\con)n(trol)149 1956 y(p)r(oin)n(ts")e
(for)g(a)h(rectangular)e(area)h(are)g(at)g(the)h(corners,)e(while)j(the)e
(con)n(trol)g(p)r(oin)n(ts)g(for)h(a)g(rectilinear)f(path)149
2023 y(are)g(in)i(the)e(cen)n(ter)g(of)h(the)g(path,)g(not)f(at)h(the)g
(corners.)26 b(Therefore,)18 b(in)i(order)d(for)i(a)h(path)e(and)h(an)g(area)
f(to)149 2089 y(abut)f(seamlessly)-5 b(,)19 b(the)f(co)r(ordinates)d(of)k
(the)f(path)g(m)n(ust)g(b)r(e)f(o\013set)h(from)g(the)g(co)r(ordinates)e(of)i
(the)g(area)g(b)n(y)149 2155 y(half)g(the)f(path's)h(thic)n(kness.)149
2377 y Fp(12.4.1)75 b(P)n(ermissible)28 b(Alternativ)n(es)f(During)e
(Rendering)149 2545 y Fr(Some)f(platforms)g(ma)n(y)h(distinguish)h(b)r(et)n
(w)n(een)e(lines)i(of)g(the)f(minim)n(um)f(thinness)h(from)f(lines)j(that)d
(are)149 2612 y(thic)n(k)n(er)19 b(than)f(that.)26 b(The)18
b(t)n(w)n(o)i(rasterizations)c(depicted)h(in)i(Figure)g(12.5)g(are)f(b)r(oth)
g(p)r(erfectly)f(reasonable)149 2678 y(rasterizations)f(of)j(tilted)g(lines)g
(that)f(are)h(a)g(single)g(device)g(unit)g(wide.)27 b(The)19
b(righ)n(t-hand)g(line)g(is)h(dra)n(wn)f(as)149 2745 y(a)f(tilted)f
(rectangle,)g(the)g(left)h(as)g(the)f(\\thinnest)f(visible")j(line.)149
2877 y(F)-5 b(or)26 b(thic)n(k)g(lines,)j(a)d(platform)e(ma)n(y)i(c)n(ho)r
(ose)f(to)h(dra)n(w)g(the)f(exact)g(tilted)h(fractional)e(rectangle,)j(or)e
(the)149 2944 y(co)r(ordinates)19 b(of)k(that)f(rectangle)e(migh)n(t)i(b)r(e)
g(rounded)f(so)i(that)e(it)i(is)g(distorted)e(in)n(to)i(another)e(p)r
(olygonal)149 3010 y(shap)r(e.)36 b(The)22 b(latter)f(case)h(ma)n(y)g(b)r(e)g
(pro)n(v)n(e)h(to)f(b)r(e)f(faster)g(on)i(some)e(platforms.)35
b(The)22 b(t)n(w)n(o)h(rasterizations)149 3077 y(depicted)16
b(in)j(Figure)e(12.6)h(are)g(b)r(oth)e(reasonable.)149 3210
y(The)21 b(decision)g(ab)r(out)f(whic)n(h)i(side)g(of)g(the)f(shap)r(e)f(to)i
(tak)n(e)f(when)h(a)f(b)r(oundary)f(line)j(passes)d(through)g(the)149
3276 y(decision)25 b(p)r(oin)n(t)h(is)g(made)f(arbitrarily)-5
b(,)28 b(although)d(w)n(e)h(ha)n(v)n(e)h(c)n(hosen)e(to)h(b)r(e)f(compatible)
f(with)i(the)f(X11)149 3342 y(de\014nition.)35 b(This)22 b(is)h(not)e
(necessarily)g(the)g(most)g(con)n(v)n(enien)n(t)h(decision.)35
b(The)22 b(main)f(problem)g(with)h(this)149 3409 y(is)e(illustrated)f(b)n(y)i
(the)f(case)f(of)h(a)g(horizon)n(tal)f(line)i(\(see)e(Figure)g(12.7\).)30
b(Our)20 b(de\014nition)g(c)n(ho)r(oses)e(to)i(dra)n(w)p eop
%%Page: 100 115
bop 149 16 a Fm(CHAPTER)16 b(12.)43 b(GRAPHICS)1518 b Fr(100)699
1512 y(Figure)18 b(12.5:)24 b(Tw)n(o)18 b(examples)f(of)h(lines)h(of)f(thic)n
(kness)f(1.)699 3190 y(Figure)h(12.6:)24 b(Tw)n(o)18 b(examples)f(of)h(lines)
h(of)f(thic)n(kness)f(2.)p eop
%%Page: 101 116
bop 149 16 a Fm(CHAPTER)16 b(12.)43 b(GRAPHICS)1518 b Fr(101)269
1148 y(Figure)18 b(12.7:)24 b(Tw)n(o)19 b(p)r(ossible)e(de\014nitions)g(of)h
(horizon)n(tal)f(lines.)25 b(Left)17 b(\014gure)g(is)h(X11)g(de\014nition.)
149 1325 y(the)h(rectangular)f(slice)j(ab)r(o)n(v)n(e)f(the)g(co)r
(ordinates,)e(since)i(those)f(pixels)i(are)f(the)g(ones)g(whose)f(cen)n(ters)
g(ha)n(v)n(e)149 1391 y(the)d(\014gure)g(immediately)g(ab)r(o)n(v)n(e)h
(them.)22 b(This)c(de\014nition)e(mak)n(es)h(it)g(simpler)g(to)g(dra)n(w)g
(rectilinear)f(b)r(orders)149 1458 y(around)g(rectilinear)h(areas.)149
1707 y Fk(12.5)91 b(Dra)m(wing)30 b(F)-8 b(unctions)149 1895
y Fr(Eac)n(h)20 b(dra)n(wing)h(function)f(tak)n(es)h(k)n(eyw)n(ord)g(argumen)
n(ts)e(allo)n(wing)j(an)n(y)f(dra)n(wing)g(option)f(or)h(sub)r(option)e(to)
149 1961 y(b)r(e)26 b(supplied)h(separately)e(in)j(the)e(call)i(to)f(the)f
(function.)51 b(In)27 b(some)f(implemen)n(tations)e(of)j(CLIM,)g(the)149
2028 y(dra)n(wing)e(functions)f(ma)n(y)h(ignore)g(dra)n(wing)g(options)f
(that)h(are)g(irrelev)m(an)n(t)f(to)h(that)g(function;)j(in)e(other)149
2094 y(implemen)n(tations,)17 b(an)i(error)g(ma)n(y)g(b)r(e)g(signalled.)29
b(See)19 b(Chapter)f(10)i(for)f(a)g(more)g(complete)e(discussion)i(of)149
2160 y(the)e(dra)n(wing)g(options.)23 b(An)17 b(error)g(will)i(b)r(e)e
(signalled)g(if)h(an)n(y)g(dra)n(wing)g(function)e(is)i(called)f(on)h(a)f
(sheet)g(that)149 2227 y(is)h(m)n(ute)f(for)h(output.)149 2360
y(While)i(the)f(functions)g(in)i(this)f(section)e(are)i(sp)r(eci\014ed)e(to)i
(b)r(e)f(called)h(on)g(sheets,)f(they)h(can)f(also)h(b)r(e)g(called)149
2426 y(on)e(streams)d(and)j(mediums.)149 2559 y Fo(Implemen)n(tation)26
b(note:)k Fr(The)21 b(dra)n(wing)f(functions)f(are)h(all)i(sp)r(eci\014ed)d
(as)h(ordinary)g(functions,)h(not)f(as)149 2625 y(generic)e(functions.)28
b(This)21 b(is)f(in)n(tended)f(to)g(ease)g(the)g(task)g(of)h(writing)g
(compile-time)d(optimizations)h(that)149 2692 y(a)n(v)n(oid)e(k)n(eyw)n(ord)g
(argumen)n(t)d(taking,)j(c)n(hec)n(k)g(for)f(suc)n(h)g(things)g(as)h(constan)
n(t)d(dra)n(wing)i(options,)h(and)f(so)g(forth.)149 2758 y(If)j(y)n(ou)h
(need)e(to)g(sp)r(ecialize)g(an)n(y)i(of)f(the)f(dra)n(wing)h(metho)r(ds,)d
(use)j Ft(define-graphics-method)p Fr(.)149 2891 y(Eac)n(h)f(dra)n(wing)h
(function)e(comes)g(in)i(t)n(w)n(o)h(forms,)e(a)g(\\structured")e(v)n(ersion)
i(and)h(a)g(\\spread")d(v)n(ersion.)25 b(The)149 2957 y(structured)14
b(v)n(ersion)j(passes)f(p)r(oin)n(ts,)h(whereas)f(the)h(spread)e(v)n(ersion)j
(passes)e(co)r(ordinates.)21 b(See)c(Section)e(2.3)149 3024
y(for)i(more)g(information)f(on)i(this.)149 3157 y(An)n(y)e(dra)n(wing)h
(functions)d(ma)n(y)j(create)d(an)i Fm(output)f(record)g Fr(that)g(corresp)r
(onds)e(to)j(the)g(\014gure)f(b)r(eing)h(dra)n(wn.)149 3223
y(See)g(Chapter)f(15)i(for)f(a)h(complete)e(discussion)h(of)h(output)e
(recording.)23 b(During)17 b(output)e(recording,)h(none)g(of)149
3290 y(these)j(functions)g(capture)g(an)n(y)i(argumen)n(ts)d(that)h(are)h(p)r
(oin)n(ts,)h(p)r(oin)n(t)f(sequences,)g(co)r(ordinate)e(sequences,)149
3356 y(or)f(text)h(strings.)23 b(Line)18 b(st)n(yles,)h(text)e(st)n(yles,)i
(transformations,)14 b(and)k(clipping)g(regions)f(ma)n(y)h(b)r(e)f(captured.)
p eop
%%Page: 102 117
bop 149 16 a Fm(CHAPTER)16 b(12.)43 b(GRAPHICS)1518 b Fr(102)149
210 y(Note)20 b(that)g(the)g(CLIM)h(sp)r(eci\014cation)e(do)r(es)h(not)g(sp)r
(ecify)h(more)e(complex)h(shap)r(es)g(suc)n(h)h(as)g(cubic)g(splines)149
276 y(and)c(B)n(\023)-26 b(ezier)18 b(curv)n(es.)24 b(These)17
b(are)h(suitable)f(candidates)f(for)i(extensions)e(to)i(CLIM.)149
497 y Fp(12.5.1)75 b(Basic)27 b(Dra)n(wing)f(F)-6 b(unctions)49
666 y Fj(\))45 b Ft(draw-point)29 b Fs(she)m(et)e(p)m(oint)g
Ft(&key)i Fs(ink)d(clipping-r)m(e)m(gion)j(tr)m(ansformation)f(line-style)e
(line-thickness)i(line-)149 732 y(unit)1947 b Fr([)p Fs(F)l(unction)t
Fr(])49 799 y Fj(\))45 b Ft(draw-point*)29 b Fs(she)m(et)17
b(x)d(y)h Ft(&key)30 b Fs(ink)15 b(clipping-r)m(e)m(gion)k(tr)m(ansformation)
f(line-style)e(line-thickness)h(line-unit)149 865 y Fr([)p
Fs(F)l(unction)t Fr(])149 984 y(These)c(functions)g(\(structured)e(and)j
(spread)f(argumen)n(ts,)g(resp)r(ectiv)n(ely\))f(dra)n(w)j(a)f(single)g(p)r
(oin)n(t)g(on)g(the)g Fm(sheet)149 1051 y Fs(she)m(et)20 b
Fr(at)d(the)h Fm(p)r(oin)n(t)f Fs(p)m(oint)j Fr(\(or)d(the)g(p)r(osition)g
(\()p Fn(x;)9 b(y)r Fr(\)\).)149 1183 y(The)17 b(unit)f(and)h(thic)n(kness)g
(comp)r(onen)n(ts)c(of)k(the)g(curren)n(t)e(line)j(st)n(yle)f(\(see)f
(Chapter)g(10\))g(a\013ect)g(the)h(dra)n(wing)149 1250 y(of)f(the)g(p)r(oin)n
(t)g(b)n(y)h(con)n(trolling)f(the)g(size)g(on)h(the)e(displa)n(y)j(device)e
(of)g(the)g(\\blob")g(that)f(is)i(used)f(to)g(render)f(the)149
1316 y(p)r(oin)n(t.)49 1449 y Fj(\))45 b Ft(draw-points)29
b Fs(she)m(et)g(p)m(oint-se)m(q)h Ft(&key)f Fs(ink)f(clipping-r)m(e)m(gion)j
(tr)m(ansformation)g(line-style)d(line-thickness)149 1516 y(line-unit)1840
b Fr([)p Fs(F)l(unction)t Fr(])49 1582 y Fj(\))45 b Ft(draw-points*)29
b Fs(she)m(et)24 b(c)m(o)m(or)m(d-se)m(q)g Ft(&key)30 b Fs(ink)22
b(clipping-r)m(e)m(gion)k(tr)m(ansformation)e(line-style)f(line-thickness)149
1648 y(line-unit)1840 b Fr([)p Fs(F)l(unction)t Fr(])149 1767
y(These)23 b(functions)f(\(structured)f(and)i(spread)g(argumen)n(ts,)g(resp)r
(ectiv)n(ely\))f(dra)n(w)i(a)f(set)h(of)g(p)r(oin)n(ts)f(on)g(the)149
1834 y Fm(sheet)17 b Fs(she)m(et)p Fr(.)27 b Fs(p)m(oint-se)m(q)20
b Fr(is)f(a)g(sequence)d(of)i(p)r(oin)n(t)g(ob)s(jects;)f Fs(c)m(o)m(or)m
(d-se)m(q)22 b Fr(is)d(a)f(sequence)f(of)h(co)r(ordinate)e(pairs,)149
1900 y(whic)n(h)h(are)f(real)h(n)n(um)n(b)r(ers.)23 b(It)17
b(is)g(an)g(error)f(if)i Fs(c)m(o)m(or)m(d-se)m(q)i Fr(do)r(es)c(not)g(con)n
(tain)g(an)h(ev)n(en)g(n)n(um)n(b)r(er)f(of)h(elemen)n(ts.)149
2033 y(These)g(functions)g(exist)g(as)h(equiv)m(alen)n(ts)g(to)149
2210 y Ft(\(map)29 b(nil)g(#`\(lambda)h(\(point\))f(\(draw-point)h(sheet)f
(point\)\))h(point-seq\))149 2387 y Fr(and)149 2564 y Ft(\(do)f(\(\(i)g(0)g
(\(+)g(i)h(2\)\)\))265 2631 y(\(\(=)f(i)g(\(length)h(coord-seq\)\)\))207
2697 y(\(draw-point*)g(sheet)f(\(elt)g(coord-seq)h(i\))f(\(elt)g(coord-seq)h
(\(+)f(i)g(1\)\)\)\))149 2874 y Fr(for)17 b(con)n(v)n(enience)g(and)h
(e\016ciency)-5 b(.)49 3007 y Fj(\))45 b Ft(draw-line)29 b
Fs(she)m(et)21 b(p)m(oint1)g(p)m(oint2)h Ft(&key)29 b Fs(ink)20
b(clipping-r)m(e)m(gion)j(tr)m(ansformation)g(line-style)d(line-thickness)149
3074 y(line-unit)g(line-dashes)h(line-c)m(ap-shap)m(e)1203
b Fr([)p Fs(F)l(unction)t Fr(])49 3140 y Fj(\))45 b Ft(draw-line*)29
b Fs(she)m(et)23 b(x1)d(y1)h(x2)g(y2)g Ft(&key)29 b Fs(ink)22
b(clipping-r)m(e)m(gion)i(tr)m(ansformation)g(line-style)d(line-thickness)149
3206 y(line-unit)f(line-dashes)h(line-c)m(ap-shap)m(e)1203
b Fr([)p Fs(F)l(unction)t Fr(])149 3325 y(These)23 b(functions)g
(\(structured)d(and)k(spread)f(argumen)n(ts,)g(resp)r(ectiv)n(ely\))g(dra)n
(w)h(a)g(line)g(segmen)n(t)e(on)i(the)149 3392 y Fm(sheet)16
b Fs(she)m(et)k Fr(from)d(the)g Fm(p)r(oin)n(t)h Fs(p)m(oint1)i
Fr(to)e Fs(p)m(oint2)i Fr(\(or)d(from)g(the)g(p)r(osition)g(\()p
Fs(x1)p Fr(,)p Fs(y1)p Fr(\))h(to)g(\()p Fs(x2)p Fr(,)p Fs(y2)p
Fr(\)\).)p eop
%%Page: 103 118
bop 149 16 a Fm(CHAPTER)16 b(12.)43 b(GRAPHICS)1518 b Fr(103)149
210 y(The)16 b(curren)n(t)e(line)j(st)n(yle)g(\(see)e(Chapter)f(10\))i
(a\013ects)f(the)g(dra)n(wing)h(of)h(the)e(line)i(in)g(the)e(ob)n(vious)h(w)n
(a)n(y)-5 b(,)19 b(except)149 276 y(that)e(the)g(join)n(t)h(shap)r(e)f(has)g
(no)h(e\013ect.)24 b(Dashed)17 b(lines)i(start)d(dashing)h(at)h
Fs(p)m(oint1)p Fr(.)49 409 y Fj(\))45 b Ft(draw-lines)29 b
Fs(she)m(et)16 b(p)m(oint-se)m(q)g Ft(&key)29 b Fs(ink)15 b(clipping-r)m(e)m
(gion)i(tr)m(ansformation)g(line-style)f(line-thickness)g(line-)149
475 y(unit)k(line-dashes)h(line-c)m(ap-shap)m(e)1310 b Fr([)p
Fs(F)l(unction)t Fr(])49 542 y Fj(\))45 b Ft(draw-lines*)29
b Fs(she)m(et)g(c)m(o)m(or)m(d-se)m(q)g Ft(&key)g Fs(ink)f(clipping-r)m(e)m
(gion)i(tr)m(ansformation)g(line-style)d(line-thickness)149
608 y(line-unit)20 b(line-dashes)h(line-c)m(ap-shap)m(e)1203
b Fr([)p Fs(F)l(unction)t Fr(])149 727 y(These)16 b(functions)f(\(structured)
e(and)k(spread)e(argumen)n(ts,)g(resp)r(ectiv)n(ely\))g(dra)n(w)i(a)f(set)g
(of)h(disconnected)d(line)149 793 y(segmen)n(ts.)22 b Fs(p)m(oint-se)m(q)c
Fr(is)f(a)g(sequence)e(of)h(p)r(oin)n(t)g(ob)s(jects;)g Fs(c)m(o)m(or)m(d-se)
m(q)k Fr(is)d(a)g(sequence)e(of)h(co)r(ordinate)e(pairs.)24
b(It)149 860 y(is)18 b(an)g(error)f(if)i Fs(c)m(o)m(or)m(d-se)m(q)i
Fr(do)r(es)c(not)g(con)n(tain)g(an)h(ev)n(en)g(n)n(um)n(b)r(er)f(of)h(elemen)
n(ts.)149 993 y(These)f(functions)g(are)g(equiv)m(alen)n(t)h(to)149
1170 y Ft(\(do)29 b(\(\(i)g(0)g(\(+)g(i)h(2\)\)\))265 1236
y(\(\(=)f(i)g(\(length)h(point-seq\)\)\))207 1303 y(\(draw-line)f(sheet)h
(\(elt)f(point-seq)h(i\))f(\(elt)g(point-seq)h(\(1+)f(i\)\)\)\))149
1480 y Fr(and)149 1657 y Ft(\(do)g(\(\(i)g(0)g(\(+)g(i)h(4\)\)\))265
1723 y(\(\(=)f(i)g(\(length)h(coord-seq\)\)\))207 1790 y(\(draw-line*)f
(sheet)h(\(elt)f(coord-seq)h(i\))f(\(elt)g(coord-seq)h(\(+)f(i)g(1\)\))730
1856 y(\(elt)g(coord-seq)h(\(+)f(i)g(2\)\))g(\(elt)h(coord-seq)f(\(+)g(i)g
(3\)\)\)\))49 2033 y Fj(\))45 b Ft(draw-polygon)29 b Fs(she)m(et)20
b(p)m(oint-se)m(q)g Ft(&key)29 b Fs(\(\014l)s(le)m(d)20 b Ft(t)p
Fs(\))e(\(close)m(d)h Ft(t)p Fs(\))f(ink)h(clipping-r)m(e)m(gion)j(tr)m
(ansformation)f(line-)149 2100 y(style)f(line-thickness)i(line-unit)e
(line-dashes)h(line-joint-shap)m(e)h(line-c)m(ap-shap)m(e)343
b Fr([)p Fs(F)l(unction)t Fr(])49 2166 y Fj(\))45 b Ft(draw-polygon*)29
b Fs(she)m(et)16 b(c)m(o)m(or)m(d-se)m(q)i Ft(&key)29 b Fs(\(\014l)s(le)m(d)
15 b Ft(t)p Fs(\))f(\(close)m(d)i Ft(t)p Fs(\))e(ink)h(clipping-r)m(e)m(gion)
j(tr)m(ansformation)g(line-)149 2233 y(style)i(line-thickness)i(line-unit)e
(line-dashes)h(line-joint-shap)m(e)h(line-c)m(ap-shap)m(e)361
b Fr([)p Fs(F)l(unction)t Fr(])149 2432 y(Dra)n(ws)15 b(a)g(p)r(olygon)f(or)g
(p)r(olyline)h(on)g(the)f Fm(sheet)f Fs(she)m(et)p Fr(.)26
b(When)14 b Fs(\014l)s(le)m(d)i Fr(is)g Fm(false)p Fr(,)f(this)g(dra)n(ws)f
(a)h(set)g(of)f(connected)149 2498 y(lines,)g(otherwise)e(it)h(dra)n(ws)g(a)g
(\014lled)h(p)r(olygon.)22 b(If)13 b Fs(close)m(d)i Fr(is)f
Fm(true)e Fr(\(the)g(default\))f(and)i Fs(\014l)s(le)m(d)i
Fr(is)e Fm(false)p Fr(,)i(it)e(ensures)149 2565 y(that)i(a)h(segmen)n(t)f(is)
h(dra)n(wn)g(that)g(connects)e(the)h(ending)h(p)r(oin)n(t)g(of)g(the)g(last)g
(segmen)n(t)e(to)i(the)f(starting)g(p)r(oin)n(t)149 2631 y(of)25
b(the)f(\014rst)h(segmen)n(t.)44 b(The)24 b(curren)n(t)g(line)i(st)n(yle)f
(\(see)f(Chapter)g(10\))g(a\013ects)g(the)h(dra)n(wing)g(of)g(un\014lled)149
2697 y(p)r(olygons)19 b(in)h(the)g(ob)n(vious)g(w)n(a)n(y)-5
b(.)33 b(The)20 b(cap)f(shap)r(e)g(a\013ects)g(only)i(the)e(\\op)r(en")f(v)n
(ertices)i(in)g(the)g(case)f(when)149 2764 y Fs(close)m(d)g
Fr(is)g Fm(false)p Fr(.)24 b(Dashed)17 b(lines)h(start)f(dashing)g(at)g(the)g
(starting)f(p)r(oin)n(t)i(of)g(the)f(\014rst)g(segmen)n(t,)f(and)h(ma)n(y)h
(or)149 2830 y(ma)n(y)g(not)f(con)n(tin)n(ue)g(dashing)h(across)e(v)n
(ertices,)i(dep)r(ending)e(on)i(the)f(windo)n(w)i(system.)149
2963 y Fs(p)m(oint-se)m(q)f Fr(is)f(a)f(sequence)e(of)i(p)r(oin)n(t)g(ob)s
(jects;)g Fs(c)m(o)m(or)m(d-se)m(q)j Fr(is)d(a)h(sequence)d(of)i(co)r
(ordinate)e(pairs.)23 b(It)16 b(is)h(an)f(error)149 3030 y(if)i
Fs(c)m(o)m(or)m(d-se)m(q)k Fr(do)r(es)16 b(not)i(con)n(tain)f(an)h(ev)n(en)g
(n)n(um)n(b)r(er)f(of)h(elemen)n(ts.)149 3162 y(If)f Fs(\014l)s(le)m(d)h
Fr(is)f Fm(true)p Fr(,)g(a)f(closed)g(p)r(olygon)g(is)h(dra)n(wn)g(and)f
(\014lled)h(in.)25 b(In)17 b(this)f(case,)h Fs(close)m(d)h
Fr(is)g(assumed)c(to)j(b)r(e)f Fm(true)149 3229 y Fr(as)i(w)n(ell.)49
3362 y Fj(\))45 b Ft(draw-rectangle*)30 b Fs(she)m(et)19 b(x1)f(y1)g(x2)f(y2)
h Ft(&key)30 b Fs(\(\014l)s(le)m(d)18 b Ft(t)p Fs(\))g(ink)g(clipping-r)m(e)m
(gion)k(tr)m(ansformation)e(line-style)149 3428 y(line-thickness)h(line-unit)
g(line-dashes)g(line-joint-shap)m(e)826 b Fr([)p Fs(F)l(unction)t
Fr(])p eop
%%Page: 104 119
bop 149 16 a Fm(CHAPTER)16 b(12.)43 b(GRAPHICS)1518 b Fr(104)149
210 y(Dra)n(ws)20 b(either)e(a)i(\014lled)g(or)f(un\014lled)h(rectangle)d(on)
j(the)f Fm(sheet)f Fs(she)m(et)j Fr(that)e(has)g(its)h(sides)f(aligned)h
(with)f(the)149 276 y(co)r(ordinate)d(axes)j(of)g(the)g(nativ)n(e)g(co)r
(ordinate)e(system.)27 b(One)19 b(corner)e(of)j(the)e(rectangle)f(is)j(at)f
(the)g(p)r(osition)149 342 y(\()p Fs(x1)p Fr(,)p Fs(y1)p Fr(\))d(and)f(the)g
(opp)r(osite)f(corner)g(is)j(at)e(\()p Fs(x2)p Fr(,)p Fs(y2)p
Fr(\).)24 b(The)16 b(argumen)n(ts)d Fs(x1)p Fr(,)k Fs(y1)p
Fr(,)g Fs(x2)p Fr(,)h(and)d Fs(y1)h Fr(are)g(real)f(n)n(um)n(b)r(ers)149
409 y(that)i(are)g(canonicalized)g(in)h(the)g(same)f(w)n(a)n(y)i(as)f(for)g
Ft(make-bounding-rectangle)p Fr(.)26 b Fs(\014l)s(le)m(d)20
b Fr(is)f(as)f(for)g Ft(draw-)149 475 y(polygon*)p Fr(.)149
608 y(The)g(curren)n(t)f(line)j(st)n(yle)f(\(see)e(Chapter)g(10\))h
(a\013ects)g(the)g(dra)n(wing)h(of)f(un\014lled)h(rectangles)d(in)j(the)f(ob)
n(vious)149 674 y(w)n(a)n(y)-5 b(,)20 b(except)c(that)h(the)h(cap)f(shap)r(e)
g(has)g(no)h(e\013ect.)49 807 y Fj(\))45 b Ft(draw-ellipse)29
b Fs(she)m(et)g(c)m(enter-pt)i(r)m(adius-1-dx)d(r)m(adius-1-dy)g(r)m
(adius-2-dx)g(r)m(adius-2-dy)g Ft(&key)h Fs(\(\014l)s(le)m(d)g
Ft(t)p Fs(\))149 874 y(start-angle)d(end-angle)g(ink)f(clipping-r)m(e)m(gion)
i(tr)m(ansformation)g(line-style)e(line-thickness)h(line-unit)f(line-)149
940 y(dashes)20 b(line-c)m(ap-shap)m(e)1534 b Fr([)p Fs(F)l(unction)t
Fr(])49 1007 y Fj(\))45 b Ft(draw-ellipse*)29 b Fs(she)m(et)j(c)m(enter-x)f
(c)m(enter-y)h(r)m(adius-1-dx)e(r)m(adius-1-dy)h(r)m(adius-2-dx)f(r)m
(adius-2-dy)g Ft(&key)149 1073 y Fs(\(\014l)s(le)m(d)24 b Ft(t)p
Fs(\))e(start-angle)k(end-angle)f(ink)f(clipping-r)m(e)m(gion)j(tr)m
(ansformation)f(line-style)e(line-thickness)h(line-)149 1139
y(unit)20 b(line-dashes)h(line-c)m(ap-shap)m(e)1328 b Fr([)p
Fs(F)l(unction)t Fr(])149 1339 y(These)18 b(functions)g(\(structured)e(and)i
(spread)g(argumen)n(ts,)g(resp)r(ectiv)n(ely\))f(dra)n(w)i(an)g(ellipse)h
(\(when)e Fs(\014l)s(le)m(d)j Fr(is)149 1405 y Fm(true)p Fr(,)e(the)f
(default\))g(or)h(an)g(elliptical)g(arc)g(\(when)f Fs(\014l)s(le)m(d)j
Fr(is)f Fm(false)p Fr(\))e(on)h(the)g Fm(sheet)f Fs(she)m(et)p
Fr(.)29 b(The)19 b(cen)n(ter)f(of)h(the)149 1472 y(ellipse)f(is)h(the)e
Fm(p)r(oin)n(t)h Fs(c)m(enter-pt)j Fr(\(or)c(the)h(p)r(osition)e(\()p
Fs(c)m(enter-x)p Fr(,)p Fs(c)m(enter)q(-y)p Fr(\)\).)149 1604
y(Tw)n(o)21 b(v)n(ectors,)g(\()p Fs(r)m(adius-1-dx)p Fr(,)p
Fs(r)m(adius-1-dy)p Fr(\))g(and)g(\()p Fs(r)m(adius-2-dx)p
Fr(,)p Fs(r)m(adius-2-dy)p Fr(\))g(sp)r(ecify)f(the)g(b)r(ounding)g(par-)149
1671 y(allelogram)c(of)i(the)f(ellipse)h(as)f(explained)g(in)i(Chapter)d(3.)
24 b(All)18 b(of)g(the)f(radii)h(are)f(real)g(n)n(um)n(b)r(ers.)23
b(If)18 b(the)f(t)n(w)n(o)149 1737 y(v)n(ectors)j(are)h(collinear,)h(the)f
(ellipse)g(is)h(not)f(w)n(ell-de\014ned)g(and)g(the)g Ft
(ellipse-not-well-defined)i Fr(error)149 1804 y(will)d(b)r(e)e(signalled.)26
b(The)18 b(sp)r(ecial)g(case)g(of)g(an)h(ellipse)g(with)f(its)h(ma)s(jor)e
(axes)i(aligned)f(with)g(the)g(co)r(ordinate)149 1870 y(axes)f(can)h(b)r(e)f
(obtained)g(b)n(y)i(setting)d(b)r(oth)h Fs(r)m(adius-1-dy)i
Fr(and)f Fs(r)m(adius-2-dx)g Fr(to)g(0.)149 2003 y Fs(start-angle)24
b Fr(and)d Fs(end-angle)i Fr(are)e(real)g(n)n(um)n(b)r(ers)f(that)g(sp)r
(ecify)h(an)g(arc)f(rather)g(than)h(a)g(complete)e(ellipse.)149
2069 y(Angles)26 b(are)g(measured)e(with)i(resp)r(ect)e(to)j(the)f(p)r
(ositiv)n(e)g Fn(x)h Fr(axis.)51 b(The)26 b(elliptical)h(arc)f(runs)g(p)r
(ositiv)n(ely)149 2136 y(\(coun)n(ter-clo)r(c)n(kwise\))18
b(from)i Fs(start-angle)k Fr(to)d Fs(end-angle)p Fr(.)37 b(The)21
b(default)f(for)h Fs(start-angle)j Fr(is)e(0;)h(the)e(default)149
2202 y(for)c Fs(end-angle)k Fr(is)e(2)p Fn(\031)r Fr(.)149
2335 y(In)f(the)f(case)g(of)h(a)h(\\\014lled)f(arc")f(\(that)f(is)j(when)e
Fs(\014l)s(le)m(d)j Fr(is)f Fm(true)e Fr(and)g Fs(start-angle)k
Fr(or)d Fs(end-angle)j Fr(are)c(supplied)149 2401 y(and)22
b(are)g(not)h(0)g(and)f(2)p Fn(\031)r Fr(\),)i(the)e(\014gure)g(dra)n(wn)g
(is)i(the)e(\\pie)h(slice")g(area)f(sw)n(ept)g(out)g(b)n(y)i(a)f(line)h(from)
d(the)149 2468 y(cen)n(ter)d(of)i(the)g(ellipse)g(to)g(a)g(p)r(oin)n(t)g(on)f
(the)h(b)r(oundary)e(as)i(the)f(b)r(oundary)g(p)r(oin)n(t)g(mo)n(v)n(es)h
(from)f Fs(start-angle)149 2534 y Fr(to)e Fs(end-angle)p Fr(.)149
2667 y(When)e(dra)n(wing)i(un\014lled)f(ellipses,)h(the)e(curren)n(t)g(line)i
(st)n(yle)g(\(see)e(Chapter)g(10\))g(a\013ects)h(the)f(dra)n(wing)h(in)h(the)
149 2733 y(ob)n(vious)g(w)n(a)n(y)-5 b(,)20 b(except)c(that)h(the)g(join)n(t)
h(shap)r(e)e(has)h(no)g(e\013ect.)24 b(Dashed)17 b(elliptical)h(arcs)f(start)
f(\\dashing")g(at)149 2800 y Fs(start-angle)p Fr(.)49 2933
y Fj(\))45 b Ft(draw-circle)29 b Fs(she)m(et)j(c)m(enter-pt)h(r)m(adius)e
Ft(&key)e Fs(\(\014l)s(le)m(d)i Ft(t)p Fs(\))f(start-angle)j(end-angle)f(ink)
f(clipping-r)m(e)m(gion)149 2999 y(tr)m(ansformation)22 b(line-style)f
(line-thickness)h(line-unit)e(line-dashes)h(line-c)m(ap-shap)m(e)247
b Fr([)p Fs(F)l(unction)t Fr(])49 3066 y Fj(\))45 b Ft(draw-circle*)29
b Fs(she)m(et)22 b(c)m(enter-x)h(c)m(enter-y)g(r)m(adius)e
Ft(&key)29 b Fs(\(\014l)s(le)m(d)21 b Ft(t)p Fs(\))g(start-angle)i(end-angle)
f(ink)g(clipping-)149 3132 y(r)m(e)m(gion)f(tr)m(ansformation)i(line-style)e
(line-thickness)h(line-unit)e(line-dashes)h(line-c)m(ap-shap)m(e)100
b Fr([)p Fs(F)l(unction)t Fr(])149 3331 y(These)22 b(functions)g
(\(structured)f(and)i(spread)f(argumen)n(ts,)h(resp)r(ectiv)n(ely\))e(dra)n
(w)j(a)f(circle)g(\(when)g Fs(\014l)s(le)m(d)i Fr(is)149 3398
y Fm(true)p Fr(,)d(the)f(default\))g(or)g(a)h(circular)f(arc)h(\(when)e
Fs(\014l)s(le)m(d)k Fr(is)e Fm(false)p Fr(\))g(on)f(the)h Fm(sheet)e
Fs(she)m(et)p Fr(.)38 b(The)22 b(cen)n(ter)e(of)i(the)149 3464
y(circle)c(is)h Fs(c)m(enter-pt)j Fr(or)d(\()p Fs(c)m(enter-x)p
Fr(,)p Fs(c)m(enter-y)p Fr(\))j(and)c(the)g(radius)h(is)g Fs(r)m(adius)p
Fr(.)27 b(These)18 b(are)g(just)g(sp)r(ecial)g(cases)g(of)p
eop
%%Page: 105 120
bop 149 16 a Fm(CHAPTER)16 b(12.)43 b(GRAPHICS)1518 b Fr(105)149
210 y Ft(draw-ellipse)19 b Fr(and)e Ft(draw-ellipse*)p Fr(.)26
b Fs(\014l)s(le)m(d)20 b Fr(is)e(as)g(for)g Ft(draw-ellipse*)p
Fr(.)149 342 y Fs(start-angle)23 b Fr(and)c Fs(end-angle)k
Fr(allo)n(w)e(the)f(sp)r(eci\014cation)e(of)i(an)g(arc)g(rather)e(than)h(a)i
(complete)d(circle)i(in)g(the)149 409 y(same)c(manner)g(as)i(that)f(of)h(the)
g(ellipse)g(functions,)f(ab)r(o)n(v)n(e.)149 542 y(The)g(\\\014lled)h(arc")g
(b)r(eha)n(vior)f(is)h(the)g(same)e(as)i(that)f(of)h(an)g(ellipse,)h(ab)r(o)n
(v)n(e.)49 674 y Fj(\))45 b Ft(draw-text)29 b Fs(she)m(et)16
b(string-or-char)g(p)m(oint)g Ft(&key)29 b Fs(text-style)15
b(\(start)g Ft(0)p Fs(\))f(end)h(\(align-x)f Ft(:left)p Fs(\))g(\(align-y)h
Ft(:baseline)p Fs(\))149 741 y(towar)m(d-p)m(oint)24 b(tr)m(ansform-glyphs)g
(ink)f(clipping-r)m(e)m(gion)i(tr)m(ansformation)g(text-style)e(text-family)g
(text-fac)m(e)149 807 y(text-size)1848 b Fr([)p Fs(F)l(unction)t
Fr(])49 874 y Fj(\))45 b Ft(draw-text*)29 b Fs(she)m(et)16
b(string-or-char)h(x)c(y)h Ft(&key)30 b Fs(text-style)15 b(\(start)g
Ft(0)p Fs(\))f(end)h(\(align-x)f Ft(:left)p Fs(\))g(\(align-y)g
Ft(:baseline)p Fs(\))149 940 y(towar)m(d-x)j(towar)m(d-y)h(tr)m
(ansform-glyphs)h(ink)f(clipping-r)m(e)m(gion)i(tr)m(ansformation)g
(text-style)e(text-family)f(text-)149 1007 y(fac)m(e)k(text-size)1753
b Fr([)p Fs(F)l(unction)t Fr(])149 1206 y(The)15 b(text)h(sp)r(eci\014ed)e(b)
n(y)j Fs(string-or-char)i Fr(is)d(dra)n(wn)g(on)g(the)f Fm(sheet)g
Fs(she)m(et)i Fr(starting)e(at)g(the)h(p)r(osition)e(sp)r(eci\014ed)149
1272 y(b)n(y)k(the)e Fm(p)r(oin)n(t)h Fs(p)m(oint)i Fr(\(or)e(the)f(p)r
(osition)h(\()p Fn(x;)9 b(y)r Fr(\)\).)23 b(The)17 b(exact)g(de\014nition)f
(of)h(\\starting)e(at")i(is)h(dep)r(enden)n(t)d(on)149 1339
y Fs(align-x)21 b Fr(and)f Fs(align-y)p Fr(.)32 b Fs(align-x)21
b Fr(is)g(one)e(of)i Ft(:left)p Fr(,)g Ft(:center)p Fr(,)h(or)e
Ft(:right)p Fr(.)32 b Fs(align-y)22 b Fr(is)e(one)g(of)g Ft(:baseline)p
Fr(,)149 1405 y Ft(:top)p Fr(,)h Ft(:center)p Fr(,)g(or)e Ft(:bottom)p
Fr(.)30 b Fs(align-x)21 b Fr(defaults)d(to)h Ft(:left)i Fr(and)e
Fs(align-y)h Fr(defaults)f(to)g Ft(:baseline)p Fr(;)j(with)149
1472 y(these)16 b(defaults,)i(the)f(\014rst)g(glyph)h(is)h(dra)n(wn)f(with)g
(its)g(left)g(edge)f(and)h(its)g(baseline)f(at)h Fs(p)m(oint)p
Fr(.)149 1604 y Fs(text-style)f Fr(defaults)e(to)g Ft(nil)p
Fr(,)i(meaning)e(that)f(the)h(text)g(will)j(b)r(e)d(dra)n(wn)g(using)h(the)f
(curren)n(t)f(text)h(st)n(yle)i(of)e(the)149 1671 y(sheet's)i(medium.)149
1804 y Fs(start)g Fr(and)f Fs(end)i Fr(sp)r(ecify)d(the)h(start)f(and)h(end)f
(of)i(the)e(string,)i(in)f(the)g(case)f(where)h Fs(string-or-char)j
Fr(is)e(a)f(string.)149 1870 y(If)23 b Fs(start)h Fr(is)f(supplied,)h(it)f(m)
n(ust)f(b)r(e)g(an)g(in)n(teger)g(that)f(is)j(less)e(than)g(the)g(length)g
(of)g(the)g(string.)38 b(If)23 b Fs(end)h Fr(is)149 1936 y(supplied,)f(it)f
(m)n(ust)g(b)r(e)f(an)h(in)n(teger)g(that)f(is)i(less)f(than)f(the)h(length)f
(of)h(the)g(string,)h(but)e(greater)g(than)g(or)149 2003 y(equal)d(to)f
Fs(start)p Fr(.)149 2136 y(Normally)-5 b(,)15 b(glyphs)f(are)g(dra)n(wn)g
(from)g(left)g(to)g(righ)n(t)g(no)h(matter)d(what)i(transformation)c(is)15
b(in)g(e\013ect.)23 b Fs(towar)m(d-)149 2202 y(x)d Fr(or)g
Fs(towar)m(d-y)i Fr(\(deriv)n(ed)d(from)g Fs(towar)m(d-p)m(oint)k
Fr(in)e(the)f(case)f(of)h Ft(draw-text)p Fr(\))h(can)e(b)r(e)h(used)f(to)h(c)
n(hange)f(the)149 2269 y(direction)d(from)g(one)h(glyph)g(to)g(the)g(next)g
(one.)24 b(F)-5 b(or)18 b(example,)e(if)i Fs(towar)m(d-x)h
Fr(is)f(less)g(than)e(the)h Fn(x)g Fr(p)r(osition)g(of)149
2335 y Fs(p)m(oint)p Fr(,)h(then)e(the)g(glyphs)g(will)i(b)r(e)e(dra)n(wn)g
(from)f(righ)n(t)h(to)g(left.)24 b(If)17 b Fs(towar)m(d-y)h
Fr(is)f(greater)d(than)i(the)g Fn(y)j Fr(p)r(osition)149 2401
y(of)j Fs(p)m(oint)p Fr(,)j(then)20 b(the)i(glyphs')g(baselines)f(will)j(b)r
(e)d(p)r(ositioned)f(one)h(ab)r(o)n(v)n(e)h(another.)34 b(More)21
b(precisely)-5 b(,)23 b(the)149 2468 y(reference)17 b(p)r(oin)n(t)i(in)h(eac)
n(h)f(glyph)h(lies)g(on)g(a)f(line)h(from)f Fs(p)m(oint)i Fr(to)e
Fs(towar)m(d-p)m(oint)p Fr(,)24 b(and)19 b(the)g(spacing)f(of)i(eac)n(h)149
2534 y(glyph)d(is)i(determined)14 b(b)n(y)19 b(pac)n(king)e(rectangles)e
(along)j(that)e(line,)j(where)d(eac)n(h)h(rectangle)f(is)i(\\c)n(har-width")
149 2601 y(wide)g(and)f(\\c)n(har-heigh)n(t")g(high.)149 2733
y(If)27 b Fs(tr)m(ansform-glyphs)i Fr(is)f Fm(true)p Fr(,)g(then)e(eac)n(h)g
(glyph)h(is)g(transformed)c(as)k(an)g(image)e(b)r(efore)g(it)i(is)h(dra)n
(wn.)149 2800 y(That)21 b(is,)j(if)e(a)g(rotation)e(transformation)e(is)23
b(in)f(e\013ect,)g(then)f(eac)n(h)g(glyph)h(will)i(b)r(e)d(rotated)e
(individually)-5 b(.)149 2866 y(If)23 b Fs(tr)m(ansform-glyphs)j
Fr(is)e(not)e(supplied,)i(then)e(the)h(individual)h(glyphs)f(are)f(not)h(sub)
s(ject)e(to)i(the)f(curren)n(t)149 2933 y(transformation.)30
b(It)21 b(is)h(p)r(ermissible)e(for)h(CLIM)g(implemen)n(tations)d(to)j
(ignore)f Fs(tr)m(ansform-glyphs)k Fr(if)e(it)g(is)149 2999
y(to)r(o)17 b(exp)r(ensiv)n(e)g(to)h(implemen)n(t.)149 3220
y Fp(12.5.2)75 b(Comp)r(ound)24 b(Dra)n(wing)i(F)-6 b(unctions)149
3389 y Fr(CLIM)15 b(also)g(pro)n(vides)g(a)g(few)g(comp)r(ound)e(dra)n(wing)i
(functions.)22 b(The)15 b(comp)r(ound)d(dra)n(wing)j(functions)f(could)149
3455 y(b)r(e)22 b(comp)r(osed)e(b)n(y)k(a)f(programmer)c(from)i(the)i(basic)f
(dra)n(wing)h(functions,)g(but)f(are)h(pro)n(vided)f(b)n(y)i(CLIM)p
eop
%%Page: 106 121
bop 149 16 a Fm(CHAPTER)16 b(12.)43 b(GRAPHICS)1518 b Fr(106)149
210 y(b)r(ecause)15 b(they)j(are)f(commonly)f(used.)49 342
y Fj(\))45 b Ft(draw-arrow)29 b Fs(she)m(et)16 b(p)m(oint-1)f(p)m(oint-2)h
Ft(&key)29 b Fs(ink)15 b(clipping-r)m(e)m(gion)i(tr)m(ansformation)g
(line-style)f(line-thickness)149 409 y(line-unit)k(line-dashes)h(line-c)m
(ap-shap)m(eto-he)m(ad)j(fr)m(om-he)m(ad)f(he)m(ad-length)g(he)m(ad-width)204
b Fr([)p Fs(F)l(unction)t Fr(])49 475 y Fj(\))45 b Ft(draw-arrow*)29
b Fs(she)m(et)19 b(x1)f(y1)g(x2)f(y2)h Ft(&key)29 b Fs(ink)18
b(clipping-r)m(e)m(gion)j(tr)m(ansformation)g(line-style)d(line-thickness)149
542 y(line-unit)i(line-dashes)h(line-c)m(ap-shap)m(efr)m(om-he)m(a)q(d)j
(to-he)m(ad)e(he)m(ad-length)h(he)m(ad-width)204 b Fr([)p Fs(F)l(unction)t
Fr(])149 661 y(These)23 b(functions)g(\(structured)d(and)k(spread)f(argumen)n
(ts,)g(resp)r(ectiv)n(ely\))g(dra)n(w)h(a)g(line)g(segmen)n(t)e(on)i(the)149
727 y Fm(sheet)14 b Fs(she)m(et)k Fr(from)d(the)g Fm(p)r(oin)n(t)g
Fs(p)m(oint1)j Fr(to)e Fs(p)m(oint2)i Fr(\(or)d(from)g(the)g(p)r(osition)g
(\()p Fs(x1)p Fr(,)p Fs(y1)p Fr(\))h(to)f(\()p Fs(x2)p Fr(,)p
Fs(y2)p Fr(\)\).)23 b(If)17 b Fs(to-he)m(ad)h Fr(is)149 793
y Fm(true)e Fr(\(the)g(default\),)g(then)g(the)h(\\to")f(end)h(of)g(the)f
(line)i(is)g(capp)r(ed)d(b)n(y)j(an)f(arro)n(whead.)22 b(If)c
Fs(fr)m(om-he)m(ad)i Fr(is)e Fm(true)149 860 y Fr(\(the)c(default)h(is)h
Fm(false)p Fr(\),)g(then)e(the)h(\\from")f(end)h(of)g(the)g(line)h(is)g(capp)
r(ed)e(b)n(y)j(an)e(arro)n(whead.)22 b(The)15 b(arro)n(whead)149
926 y(has)i(length)h Fs(he)m(ad-length)j Fr(\(default)c(10\))g(and)h(width)f
Fs(he)m(ad-width)k Fr(\(default)16 b(5\).)149 1059 y(The)f(curren)n(t)f(line)
i(st)n(yle)g(\(see)f(Chapter)f(10\))h(a\013ects)f(the)h(dra)n(wing)h(of)f
(the)g(line)h(p)r(ortion)e(of)i(the)f(arro)n(w)g(in)h(the)149
1126 y(ob)n(vious)i(w)n(a)n(y)-5 b(,)20 b(except)d(that)g(the)g(join)n(t)h
(shap)r(e)f(has)g(no)h(e\013ect.)24 b(Dashed)17 b(arro)n(ws)g(start)g
(dashing)g(at)h Fs(p)m(oint1)p Fr(.)49 1258 y Fj(\))45 b Ft(draw-oval)29
b Fs(she)m(et)c(c)m(enter-pt)i(x-r)m(adius)c(y-r)m(adius)h
Ft(&key)29 b Fs(\(\014l)s(le)m(d)24 b Ft(t)p Fs(\))f(ink)h(clipping-r)m(e)m
(gion)j(tr)m(ansformation)149 1325 y(line-style)20 b(line-thickness)i
(line-unit)f(line-dashes)g(line-c)m(ap-shap)m(e)624 b Fr([)p
Fs(F)l(unction)t Fr(])49 1391 y Fj(\))45 b Ft(draw-oval*)29
b Fs(she)m(et)24 b(c)m(enter-x)h(c)m(enter-y)g(x-r)m(adius)d(y-r)m(adius)h
Ft(&key)29 b Fs(\(\014l)s(le)m(d)24 b Ft(t)p Fs(\))e(ink)h(clipping-r)m(e)m
(gion)j(tr)m(ans-)149 1458 y(formation)21 b(line-style)g(line-thickness)h
(line-unit)e(line-dashes)h(line-c)m(ap-shap)m(e)386 b Fr([)p
Fs(F)l(unction)t Fr(])149 1657 y(These)21 b(functions)g(\(structured)e(and)i
(spread)g(argumen)n(ts,)g(resp)r(ectiv)n(ely\))g(dra)n(w)h(a)g(\014lled)h(or)
f(un\014lled)g(o)n(v)m(al)149 1723 y(\(that)16 b(is,)j(a)f(\\race-trac)n(k")e
(shap)r(e\))g(on)i(the)g Fm(sheet)e Fs(she)m(et)p Fr(.)27 b(The)17
b(o)n(v)m(al)i(is)g(cen)n(tered)d(on)i Fs(c)m(enter-pt)j Fr(\(or)c(\()p
Fs(c)m(enter-)149 1790 y(x)p Fr(,)p Fs(c)m(enter-y)p Fr(\)\).)50
b(If)26 b Fs(x-r)m(adius)h Fr(or)f Fs(y-r)m(adius)g Fr(is)h(0,)i(then)c(a)h
(circle)g(is)g(dra)n(wn)g(with)g(the)g(sp)r(eci\014ed)e(non-zero)149
1856 y(radius.)j(Other,)19 b(a)g(\014gure)f(is)i(dra)n(wn)f(that)f(results)g
(from)g(dra)n(wing)h(a)g(rectangle)e(with)j(dimension)d(x-radius)149
1923 y(b)n(y)f Fs(y-r)m(adius)p Fr(,)h(and)e(the)g(replacing)f(the)h(t)n(w)n
(o)h(short)e(sides)i(with)f(a)h(semicircular)d(arc)i(of)h(the)e(appropriate)f
(size.)149 2172 y Fk(12.6)91 b(Pixmaps)149 2360 y Fr(A)22 b
Fm(pixmap)f Fr(can)g(b)r(e)h(though)n(t)e(of)i(as)g(an)g(\\o\013-screen)f
(windo)n(w",)i(that)e(is,)j(a)e(sheet)f(that)g(can)g(b)r(e)h(used)f(for)149
2426 y(graphical)i(output,)h(but)f(is)i(not)e(visible)i(on)f(an)n(y)g(displa)
n(y)h(device.)42 b(Pixmaps)23 b(are)g(pro)n(vided)h(to)g(allo)n(w)h(a)149
2493 y(programmer)13 b(to)k(generate)e(a)i(piece)g(of)g(output)f(asso)r
(ciated)f(with)i(some)f(displa)n(y)i(device)f(that)f(can)h(then)f(b)r(e)149
2559 y(rapidly)j(dra)n(wn)g(on)f(a)h(real)g(displa)n(y)h(device.)27
b(F)-5 b(or)19 b(example,)g(an)f(electrical)g(CAD)h(system)f(migh)n(t)g
(generate)149 2625 y(a)j(pixmap)f(that)g(corresp)r(onds)e(to)j(a)g(complex,)g
(frequen)n(tly)f(used)h(part)f(in)h(a)g(VLSI)g(sc)n(hematic,)f(and)h(then)149
2692 y(use)c Ft(copy-from-pixmap)j Fr(to)d(dra)n(w)h(the)g(part)f(as)h
(needed.)149 2825 y(The)g(exact)g(represen)n(tation)e(of)j(a)g(pixmap)f(is)h
(explicitly)h(unsp)r(eci\014ed.)25 b(There)18 b(is)h(no)g(in)n(teraction)e(b)
r(et)n(w)n(een)149 2891 y(the)i(pixmap)g(op)r(erations)e(and)i(output)f
(recording,)h(that)f(is,)k(displa)n(ying)e(a)g(pixmap)f(on)g(a)h(sheet)e(is)j
(a)e(pure)149 2957 y(dra)n(wing)i(op)r(eration)e(that)h(a\013ects)h(only)g
(the)g(displa)n(y)-5 b(,)24 b(not)d(the)g(output)e(history)-5
b(.)35 b(Some)20 b(sheets)g(ma)n(y)h(not)149 3024 y(supp)r(ort)16
b(pixmaps;)h(in)i(this)f(case,)f(an)h(error)f(will)i(b)r(e)f(signalled.)49
3157 y Fj(\))45 b Ft(allocate-pixmap)30 b Fs(she)m(et)21 b(width)f(height)941
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 3276 y(Allo)r(cates)h(and)h
(returns)f(a)i(pixmap)g(ob)s(ject)e(that)h(can)g(b)r(e)g(used)h(on)f(an)n(y)i
(sheet)d(that)h(shares)g(the)g(same)149 3342 y(c)n(haracteristics)16
b(as)i Fs(she)m(et)p Fr(.)29 b(\(The)18 b(exact)f(de\014nition)h(of)h
(\\shared)e(c)n(haracteristics")e(will)21 b(v)m(ary)e(from)e(host)h(to)149
3409 y(host.\))23 b Fs(she)m(et)d Fr(can)d(b)r(e)h(a)g(sheet,)f(a)h(medium,)f
(or)g(a)h(stream.)p eop
%%Page: 107 122
bop 149 16 a Fm(CHAPTER)16 b(12.)43 b(GRAPHICS)1518 b Fr(107)149
210 y(The)17 b(resulting)g(pixmap)g(will)j(b)r(e)d Fs(width)i
Fr(units)f(wide,)g Fs(height)i Fr(units)e(high,)g(and)g(as)f(deep)h(as)f(is)i
(necessary)d(to)149 276 y(store)d(the)g(information)f(for)i(the)g(sheet.)22
b(The)14 b(exact)f(represen)n(tation)e(of)j(pixmaps)g(is)h(explicitly)g(unsp)
r(eci\014ed.)149 409 y(The)i(returned)f(v)m(alue)i(is)h(the)e(pixmap.)49
542 y Fj(\))45 b Ft(deallocate-pixmap)30 b Fs(pixmap)1137 b
Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 661 y(Deallo)r(cates)16
b(the)h(pixmap)h Fs(pixmap)p Fr(.)49 793 y Fj(\))45 b Ft(pixmap-width)29
b Fs(pixmap)1283 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49
860 y Fj(\))45 b Ft(pixmap-height)29 b Fs(pixmap)1254 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])49 926 y Fj(\))45 b Ft(pixmap-depth)29
b Fs(pixmap)1283 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
1045 y(These)16 b(functions)g(return,)g(resp)r(ectiv)n(ely)-5
b(,)17 b(the)g(programmer)o(-sp)r(e)o(ci\014ed)c(width)k(and)g(heigh)n(t,)g
(and)g(the)g(depth)149 1112 y(of)h(the)f(pixmap)g Fs(pixmap)p
Fr(.)49 1245 y Fj(\))45 b Ft(copy-to-pixmap)30 b Fs(she)m(et)21
b(she)m(et-x)g(she)m(et-y)g(width)f(height)i Ft(&optional)30
b Fs(pixmap)21 b(\(pixmap-x)e Ft(0)p Fs(\))h(\(pixmap-y)149
1311 y Ft(0)p Fs(\))1780 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1430 y(Copies)17 b(the)g(pixels)i(from)e(the)g(sheet)f
Fs(she)m(et)k Fr(starting)c(at)i(the)f(p)r(osition)g(sp)r(eci\014ed)f(b)n(y)j
(\()p Fs(she)m(et-x)p Fr(,)p Fs(she)m(et-y)p Fr(\))g(in)n(to)149
1496 y(the)f(pixmap)h Fs(pixmap)h Fr(at)f(the)f(p)r(osition)g(sp)r(eci\014ed)
g(b)n(y)i(\()p Fs(pixmap-x)p Fr(,)p Fs(pixmap-y)p Fr(\).)28
b(A)19 b(rectangle)e(whose)i(width)149 1563 y(and)i(heigh)n(t)g(is)h(sp)r
(eci\014ed)e(b)n(y)i Fs(width)h Fr(and)e Fs(height)j Fr(is)e(copied.)34
b Fs(she)m(et-x)23 b Fr(and)e Fs(she)m(et-y)i Fr(are)e(sp)r(eci\014ed)e(in)j
(user)149 1629 y(co)r(ordinates.)g(\(If)c Fs(she)m(et)i Fr(is)f(a)f(medium)e
(or)i(a)g(stream,)f(then)g Fs(she)m(et-x)j Fr(and)d Fs(she)m(et-y)j
Fr(are)e(transformed)c(b)n(y)19 b(the)149 1696 y(user)e(transformation.\))149
1829 y(If)f Fs(pixmap)i Fr(is)f(not)e(supplied,)i(a)f(new)g(pixmap)f(will)j
(b)r(e)e(allo)r(cated.)22 b(Otherwise,)16 b Fs(pixmap)h Fr(m)n(ust)e(b)r(e)h
(an)g(ob)s(ject)149 1895 y(returned)f(b)n(y)k Ft(allocate-pixmap)h
Fr(that)d(has)g(the)h(appropriate)d(c)n(haracteristics)g(for)j
Fs(she)m(et)p Fr(.)149 2028 y(The)f(returned)f(v)m(alue)i(is)h(the)e(pixmap.)
49 2161 y Fj(\))45 b Ft(copy-from-pixmap)30 b Fs(pixmap)15
b(pixmap-x)f(pixmap-y)h(width)f(height)i(she)m(et)g(window-x)e(window-y)29
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2360 y(Copies)12
b(the)h(pixels)g(from)f(the)h(pixmap)f Fs(pixmap)j Fr(starting)c(at)i(the)f
(p)r(osition)g(sp)r(eci\014ed)g(b)n(y)h(\()p Fs(pixmap-x)p
Fr(,)p Fs(pixmap-)149 2426 y(y)p Fr(\))19 b(in)n(to)h(the)f(sheet)g
Fs(she)m(et)i Fr(at)f(the)f(p)r(osition)f(\()p Fs(she)m(et-x)p
Fr(,)p Fs(she)m(et-y)p Fr(\).)32 b(A)19 b(rectangle)f(whose)h(width)g(and)h
(heigh)n(t)f(is)149 2493 y(sp)r(eci\014ed)d(b)n(y)j Fs(width)g
Fr(and)f Fs(height)i Fr(is)f(copied.)24 b Fs(she)m(et-x)19
b Fr(and)f Fs(she)m(et-y)h Fr(are)f(sp)r(eci\014ed)e(in)j(user)e(co)r
(ordinates.)22 b(\(If)149 2559 y Fs(she)m(et)c Fr(is)f(a)g(medium)e(or)h(a)h
(stream,)e(then)h Fs(she)m(et-x)i Fr(and)e Fs(she)m(et-y)i
Fr(are)e(transformed)d(b)n(y)k(the)f(user)g(transforma-)149
2626 y(tion.\))149 2758 y Fs(pixmap)f Fr(m)n(ust)e(b)r(e)g(an)g(ob)s(ject)g
(returned)e(b)n(y)k Ft(allocate-pixmap)g Fr(that)e(has)g(the)g(appropriate)e
(c)n(haracteristics)149 2825 y(for)17 b Fs(she)m(et)p Fr(.)149
2958 y(The)g(returned)f(v)m(alue)i(is)h(the)e(pixmap.)149 3090
y(This)h(is)h(in)n(tended)e(to)g(sp)r(ecialize)g(on)h(b)r(oth)f(the)g
Fs(pixmap)i Fr(and)f Fs(she)m(et)i Fr(argumen)n(ts.)49 3223
y Fj(\))45 b Ft(copy-area)29 b Fs(she)m(et)21 b(fr)m(om-x)g(fr)m(om-y)f
(width)h(height)g(to-x)f(to-y)535 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 3342 y(Copies)15 b(the)f(pixels)i(from)e(the)h(sheet)f
Fs(she)m(et)j Fr(starting)d(at)h(the)g(p)r(osition)f(sp)r(eci\014ed)g(b)n(y)i
(\()p Fs(fr)m(om-x)p Fr(,)p Fs(fr)m(om-y)p Fr(\))g(to)f(the)149
3409 y(p)r(osition)h(\()p Fs(to-x)p Fr(,)p Fs(to-y)p Fr(\))h(on)g(the)f(same)
g(sheet.)23 b(A)17 b(rectangle)e(whose)h(width)h(and)f(heigh)n(t)h(is)g(sp)r
(eci\014ed)f(b)n(y)h Fs(width)p eop
%%Page: 108 123
bop 149 16 a Fm(CHAPTER)16 b(12.)43 b(GRAPHICS)1518 b Fr(108)149
210 y(and)17 b Fs(height)k Fr(is)d(copied.)24 b Fs(fr)m(om-x)p
Fr(,)c Fs(fr)m(om-y)p Fr(,)f Fs(to-x)p Fr(,)g(and)f Fs(to-y)h
Fr(are)e(sp)r(eci\014ed)f(in)j(user)e(co)r(ordinates.)22 b(\(If)c
Fs(she)m(et)i Fr(is)149 276 y(a)e(medium)e(or)i(a)g(stream,)e(then)h
Fs(she)m(et-x)j Fr(and)d Fs(she)m(et-y)j Fr(are)d(transformed)e(b)n(y)k(the)e
(user)g(transformation.\))49 409 y Fj(\))45 b Ft(with-output-to-pixmap)30
b Fs(\(me)m(dium-var)21 b(she)m(et)h Ft(&key)29 b Fs(width)20
b(height\))i Ft(&body)29 b Fs(b)m(o)m(dy)245 b Fr([)p Fs(Macr)m(o)s
Fr(])149 528 y(Binds)24 b Fs(me)m(dium-var)i Fr(to)d(a)g(\\pixmap)g(medium",)
g(that)f(is,)k(a)e(medium)e(that)g(do)r(es)h(output)e(to)j(a)f(pixmap)149
594 y(with)18 b(the)f(c)n(haracteristics)e(appropriate)h(to)h(the)g(sheet)g
Fs(she)m(et)p Fr(,)j(and)e(then)f(ev)m(aluates)f Fs(b)m(o)m(dy)k
Fr(in)f(that)d(con)n(text.)149 661 y(All)22 b(the)f(output)g(done)g(to)g(the)
g(medium)f(designated)g(b)n(y)j Fs(me)m(dium-var)h Fr(inside)e(of)g
Fs(b)m(o)m(dy)i Fr(is)e(dra)n(wn)g(on)f(the)149 727 y(pixmap)14
b(stream.)21 b(The)14 b(pixmap)g(medium)f(m)n(ust)h(supp)r(ort)e(the)i
(medium)f(output)g(proto)r(col,)h(including)g(all)i(of)149
793 y(the)h(graphics)g(function.)25 b(CLIM)18 b(implemen)n(tations)d(are)j(p)
r(ermitted,)d(but)j(not)g(required,)f(to)h(ha)n(v)n(e)h(pixmap)149
860 y(mediums)d(supp)r(ort)g(the)h(stream)f(output)g(proto)r(col)g(\()p
Ft(write-char)j Fr(and)e Ft(write-string)p Fr(\).)149 993 y
Fs(width)c Fr(and)f Fs(height)j Fr(are)d(in)n(tegers)f(that)g(giv)n(e)i(the)f
(width)g(and)g(heigh)n(t)g(of)g(the)g(pixmap.)22 b(If)13 b(they)e(are)h
(unsupplied,)149 1059 y(the)17 b(result)g(pixmap)h(will)h(b)r(e)e(large)h
(enough)f(to)g(con)n(tain)g(all)i(of)f(the)g(output)e(done)h(b)n(y)i
Fs(b)m(o)m(dy)p Fr(.)149 1192 y Fs(me)m(dium-var)h Fr(m)n(ust)d(b)r(e)h(a)g
(sym)n(b)r(ol;)g(it)g(is)h(not)e(ev)m(aluated.)149 1325 y(The)g(returned)f(v)
m(alue)i(is)h(a)f(pixmap)f(that)g(can)h(b)r(e)f(dra)n(wn)h(on)n(to)f
Fs(she)m(et)j Fr(using)e Ft(copy-from-pixmap)p Fr(.)149 1574
y Fk(12.7)91 b(Graphics)29 b(Proto)s(cols)149 1762 y Fr(Ev)n(ery)12
b(medium)f(m)n(ust)g(implemen)n(t)f(metho)r(ds)g(for)i(the)f(v)m(arious)h
(graphical)g(dra)n(wing)g(generic)f(functions.)21 b(F)-5 b(ur-)149
1828 y(thermore,)11 b(ev)n(ery)i(sheet)f(that)g(supp)r(orts)f(the)i(standard)
e(output)g(proto)r(col)g(m)n(ust)h(implemen)n(t)g(these)f(metho)r(ds)149
1895 y(as)18 b(w)n(ell;)i(often,)e(the)f(sheet)g(metho)r(ds)f(will)k(tramp)r
(oline)c(to)i(the)f(metho)r(ds)f(on)i(the)g(sheet's)f(medium.)24
b(All)19 b(of)149 1961 y(these)c(generic)h(functions)f(tak)n(e)i(the)f(same)f
(argumen)n(ts)g(as)h(the)g(non-generic)f(spread)h(function)g(equiv)m(alen)n
(ts,)149 2028 y(except)k(the)i(argumen)n(ts)d(that)i(are)h(k)n(eyw)n(ord)g
(argumen)n(ts)e(in)j(the)e(non-generic)g(functions)f(are)i(p)r(ositional)149
2094 y(argumen)n(ts)15 b(in)k(the)e(generic)g(functions.)149
2227 y(Ev)n(ery)g(p)r(ort)f(m)n(ust)h(implemen)n(t)e(metho)r(ds)g(for)i(the)g
(v)m(arious)g(graphical)f(dra)n(wing)h(generic)g(functions.)23
b(All)18 b(of)149 2293 y(these)i(generic)g(functions)g(tak)n(e)i(as)f(\(sp)r
(ecialized\))e(argumen)n(ts)g(the)i(p)r(ort)f(and)h(medium,)g(follo)n(w)n(ed)
h(b)n(y)g(the)149 2360 y(dra)n(wing)c(function-sp)r(eci\014c)e(argumen)n(ts,)
g(follo)n(w)n(ed)j(b)n(y)h(the)d(ink,)j(line)f(st)n(yle)g(\(or)f(text)g(st)n
(yle\),)g(and)h(clipping)149 2426 y(region.)149 2559 y(The)k(dra)n(wing)f
(function-sp)r(eci\014c)f(argumen)n(ts)f(will)25 b(either)d(b)r(e)h
Fn(x)g Fr(and)g Fn(y)i Fr(p)r(ositions,)f(or)f(a)g(sequence)e(of)j
Fn(x)149 2625 y Fr(and)d Fn(y)i Fr(p)r(ositions.)33 b(These)21
b(p)r(ositions)f(will)j(b)r(e)d(in)i(medium)d(co)r(ordinates,)h(and)h(m)n
(ust)f(b)r(e)h(transformed)d(b)n(y)149 2692 y(applying)f(the)f(medium's)f
(device)i(transformation)c(in)k(order)f(to)h(pro)r(duce)d(device)j(co)r
(ordinates.)k(Note)16 b(that)149 2758 y(the)k(user)g(transformation)d(will)22
b(ha)n(v)n(e)g(already)e(b)r(een)f(applied)i(to)f(the)h(p)r(ositions)e(when)h
(the)h(p)r(ort-sp)r(eci\014c)149 2825 y(dra)n(wing)c(function)g(is)i(called.)
149 2957 y(The)25 b(ink,)j(line)e(st)n(yle)g(\(or)f(text)f(st)n(yle\),)k(and)
d(clipping)h(regions)e(argumen)n(ts)f(are)i(optional,)i(and)e(default)149
3024 y(from)f(the)g(medium)f(\()p Ft(medium-ink)p Fr(,)28 b
Ft(medium-line-style)e Fr(\(or)e Ft(medium-current-text-style)p
Fr(\),)29 b(and)149 3090 y Ft(medium-clipping-region)p Fr(,)22
b(resp)r(ectiv)n(ely\).)29 b(Eac)n(h)20 b(p)r(ort)e(metho)r(d)g(will)j(deco)r
(de)d(the)h(ink,)j(line)f(\(or)e(text\))149 3157 y(st)n(yle,)g(and)e
(clipping)h(region)f(in)i(a)f(p)r(ort-sp)r(eci\014c)d(w)n(a)n(y)k(and)f(comm)
n(unicate)d(it)j(to)g(the)f(underlying)g(p)r(ort.)149 3290
y Fo(Minor)e(issue:)48 b Fm(Do)12 b(w)n(e)g(need)f(to)h(sp)r(ecify)f
Ft(define-graphics-generic)j Fm(and)d Ft(define-graphics-method)p
Fm(,)149 3356 y(or)i(whatev)n(er,)h(so)f(that)g(the)g(graphics)f(proto)r(col)
f(is)k(easier)d(to)i(extend?)21 b(Suc)n(h)14 b(things)f(should)g(also)g(help)
h(de\014ne)149 3422 y(the)j(ho)r(oks)g(in)n(to)h(output)f(recording.)23
b(|)18 b(SWM)p eop
%%Page: 109 124
bop 149 16 a Fm(CHAPTER)16 b(12.)43 b(GRAPHICS)1518 b Fr(109)149
210 y Fo(Ma)t(jor)18 b(issue:)51 b Fm(The)15 b(medium)f(and)h(p)r(ort)e(la)n
(y)n(ers)j(should)f(b)r(e)g(merged.)21 b(There)15 b(is)g(no)h(gain)f(in)h(p)r
(erformance)149 276 y(to)21 b(b)r(e)f(had)h(b)n(y)h(separating)e(them,)h
(since)g(transformation)o(s)d(need)i(to)h(b)r(e)g(applied)g(to)g(the)g(co)r
(ordinates)d(at)149 342 y(b)r(oth)g(la)n(y)n(ers)i(an)n(yw)n(a)n(y)-5
b(,)21 b(and)e(if)h(the)f(t)n(w)n(o)h(la)n(y)n(ers)g(are)e(coalesced,)g
(there)g(is)i(b)r(etter)d(opp)r(ortunit)n(y)g(for)i(cac)n(hing)149
409 y(transformations)o(.)i(|)e(SWM,)f(Y)-5 b(ork)149 630 y
Fp(12.7.1)75 b(General)25 b(Beha)n(vior)h(of)f(Dra)n(wing)h(F)-6
b(unctions)149 798 y Fr(Using)16 b Ft(draw-line*)h Fr(as)g(an)f(example,)g
(calling)g(an)n(y)h(of)g(the)f(dra)n(wing)g(functions)f(sp)r(eci\014ed)f(ab)r
(o)n(v)n(e)j(results)e(in)149 865 y(the)i(follo)n(wing)i(series)e(of)h
(function)f(calls)h(on)g(a)g(non-output)e(recording)g(sheet:)232
1049 y Fj(\017)27 b Fr(A)22 b(program)e(calls)i Ft(draw-line*)h
Fr(on)f(argumen)n(ts)e Fs(she)m(et)p Fr(,)25 b Fs(x1)p Fr(,)f
Fs(y1)p Fr(,)g Fs(x2)p Fr(,)g(and)e Fs(y2)p Fr(,)i(and)e(p)r(erhaps)e(some)
287 1116 y(dra)n(wing)e(options.)232 1225 y Fj(\017)27 b Ft(draw-line*)20
b Fr(merges)c(the)i(supplied)g(dra)n(wing)g(options)g(in)n(to)g(the)g
(sheet's)g(medium,)f(and)h(then)f(calls)287 1291 y Ft(medium-draw-line*)e
Fr(on)e(the)g(sheet.)22 b(\(Note)11 b(that)i(a)g(compiler)f(macro)g(could)h
(detect)e(the)i(case)g(where)287 1358 y(there)k(are)g(no)h(dra)n(wing)g
(options)f(or)h(constan)n(t)e(dra)n(wing)i(options,)f(and)h(do)f(this)h(at)g
(compile)f(time.\))232 1467 y Fj(\017)27 b Ft(medium-draw-line*)13
b Fr(on)f(the)f(sheet)g(tramp)r(olines)e(to)j(the)f(medium's)f
Ft(medium-draw-line*)j Fr(metho)r(d.)232 1576 y Fj(\017)27
b Ft(medium-draw-line*)17 b Fr(p)r(erforms)c(the)i(necessary)f(user)h
(transformations)c(b)n(y)17 b(applying)f(the)e(medium)287 1643
y(transformation)d(to)j Fs(x1)p Fr(,)i Fs(y1)p Fr(,)g Fs(x2)p
Fr(,)g(and)e Fs(y2)p Fr(,)i(and)e(to)g(the)g(clipping)h(region.)22
b(Then)14 b Ft(medium-draw-line*)287 1709 y Fr(calls)k Ft(port-draw-line*)i
Fr(to)d(do)h(the)g(actual)f(dra)n(wing.)149 1930 y Fp(12.7.2)75
b(Medium-sp)r(eci\014c)26 b(Dra)n(wing)g(F)-6 b(unctions)149
2098 y Fr(All)16 b(mediums)e(and)i(all)h(sheets)d(that)h(supp)r(ort)f(the)h
(standard)f(output)g(proto)r(col)g(m)n(ust)h(implemen)n(t)f(metho)r(ds)149
2165 y(for)j(the)h(follo)n(wing)g(generic)f(functions.)149
2298 y Fo(:)32 b(Note:)c Fr(CLIM)19 b(implemen)n(tations)e(should)j(pro)n
(vide)g(\\tramp)r(oline")c(metho)r(ds)i(on)h(sheets)g(that)g(supp)r(ort)149
2364 y(the)d(standard)f(output)h(proto)r(col)f(that)h(simply)h(call)h(the)e
(same)g(generic)g(function)f(on)i(the)g(medium.)22 b(Sheets)149
2431 y(that)16 b(supp)r(ort)f(output)h(recording)f(will)k(require)d(extra)g
(mec)n(hanism)f(b)r(efore)h(delegating)f(to)i(the)g(medium)e(in)149
2497 y(order)i(to)g(implemen)n(t)f(suc)n(h)i(functionalit)n(y)g(as)f
(creating)g(output)f(records)g(and)i(handling)g(scrolling.)49
2630 y Fj(\))45 b Ft(medium-draw-point*)30 b Fs(me)m(dium)21
b(x)e(y)1000 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
2749 y(Dra)n(ws)12 b(a)h(p)r(oin)n(t)e(on)h(the)g Fm(medium)e
Fs(me)m(dium)p Fr(.)24 b(The)12 b(p)r(oin)n(t)g(is)h(dra)n(wn)f(at)f(\()p
Fn(x;)e(y)r Fr(\),)14 b(transformed)9 b(b)n(y)k(the)e(medium's)149
2815 y(curren)n(t)16 b(transformation.)k Ft(medium-draw-point*)g
Fr(will)f(call)f Ft(port-draw-point*)h Fr(in)f(order)e(to)i(dra)n(w)f(the)149
2882 y(p)r(oin)n(t.)49 3014 y Fj(\))45 b Ft(medium-draw-points*)30
b Fs(me)m(dium)21 b(c)m(o)m(or)m(d-se)m(q)830 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 3133 y(Dra)n(ws)16 b(a)h(set)e(of)h(p)r(oin)n(ts)g
(on)g(the)g Fm(medium)e Fs(me)m(dium)p Fr(.)26 b Fs(c)m(o)m(or)m(d-se)m(q)19
b Fr(is)e(a)f(sequence)f(of)h(co)r(ordinate)e(pairs,)i(whic)n(h)149
3200 y(are)i(real)h(n)n(um)n(b)r(ers.)26 b(It)19 b(is)h(an)f(error)e(if)j
Fs(c)m(o)m(or)m(d-se)m(q)i Fr(do)r(es)c(not)h(con)n(tain)f(an)h(ev)n(en)g(n)n
(um)n(b)r(er)f(of)h(elemen)n(ts.)26 b(The)149 3266 y(co)r(ordinates)10
b(in)j Fs(c)m(o)m(or)m(d-se)m(q)j Fr(are)d(transformed)c(b)n(y)14
b(the)f(medium's)e(curren)n(t)g(transformation.)20 b Ft(medium-draw-)149
3333 y(points*)f Fr(will)g(call)g Ft(port-draw-points*)g Fr(in)g(order)d(to)i
(dra)n(w)g(the)f(p)r(oin)n(ts.)49 3466 y Fj(\))45 b Ft(medium-draw-line*)30
b Fs(me)m(dium)21 b(x1)e(y1)h(x2)g(y2)824 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])p eop
%%Page: 110 125
bop 149 16 a Fm(CHAPTER)16 b(12.)43 b(GRAPHICS)1518 b Fr(110)149
210 y(Dra)n(ws)17 b(a)g(line)g(on)g(the)f Fm(medium)f Fs(me)m(dium)p
Fr(.)25 b(The)17 b(line)g(is)h(dra)n(wn)e(from)g(\()p Fn(x)p
Fr(1)p Fn(;)9 b(y)r Fr(1\))16 b(to)g(\()p Fn(x)p Fr(2)p Fn(;)9
b(y)r Fr(2\),)17 b(with)g(the)f(start)149 276 y(and)22 b(end)g(p)r(ositions)f
(transformed)e(b)n(y)k(the)f(medium's)e(curren)n(t)h(transformation.)34
b Ft(medium-draw-line*)149 342 y Fr(will)19 b(call)g Ft(port-draw-line*)g
Fr(in)g(order)d(to)i(dra)n(w)g(the)f(line.)49 475 y Fj(\))45
b Ft(medium-draw-lines*)30 b Fs(me)m(dium)21 b(c)m(o)m(or)m(d-se)m(q)859
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 594 y(Dra)n(ws)c(a)g(set)f
(of)h(disconnected)d(lines)j(on)f(the)g Fm(medium)f Fs(me)m(dium)p
Fr(.)26 b Fs(c)m(o)m(or)m(d-se)m(q)21 b Fr(is)e(a)e(sequence)g(of)g(co)r
(ordinate)149 661 y(pairs,)23 b(whic)n(h)f(are)f(real)h(n)n(um)n(b)r(ers.)34
b(It)22 b(is)h(an)e(error)g(if)h Fs(c)m(o)m(or)m(d-se)m(q)j
Fr(do)r(es)c(not)g(con)n(tain)h(an)f(ev)n(en)h(n)n(um)n(b)r(er)f(of)149
727 y(elemen)n(ts.)g(The)15 b(co)r(ordinates)c(in)16 b Fs(c)m(o)m(or)m(d-se)m
(q)h Fr(are)d(transformed)e(b)n(y)j(the)f(medium's)f(curren)n(t)g
(transformation.)149 793 y Ft(medium-draw-lines*)19 b Fr(will)h(call)e
Ft(port-draw-lines*)i Fr(in)e(order)f(to)h(dra)n(w)g(the)f(line.)49
926 y Fj(\))45 b Ft(medium-draw-polygon*)30 b Fs(me)m(dium)21
b(c)m(o)m(or)m(d-se)m(q)h(close)m(d)639 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 1045 y(Dra)n(ws)15 b(a)h(p)r(olygon)e(or)h(p)r
(olyline)h(on)f(the)f Fm(medium)g Fs(me)m(dium)p Fr(.)25 b
Fs(c)m(o)m(or)m(d-se)m(q)19 b Fr(is)c(a)h(sequence)e(of)h(co)r(ordinate)e
(pairs,)149 1112 y(whic)n(h)k(are)f(real)h(n)n(um)n(b)r(ers.)23
b(It)17 b(is)g(an)g(error)f(if)i Fs(c)m(o)m(or)m(d-se)m(q)i
Fr(do)r(es)c(not)g(con)n(tain)g(an)h(ev)n(en)g(n)n(um)n(b)r(er)f(of)h(elemen)
n(ts.)149 1178 y(The)f(co)r(ordinates)e(in)j Fs(c)m(o)m(or)m(d-se)m(q)i
Fr(are)d(transformed)d(b)n(y)18 b(the)e(medium's)e(curren)n(t)h
(transformation.)21 b Ft(medium-)149 1245 y(draw-polygon*)e
Fr(will)g(call)g Ft(port-draw-polygon*)g Fr(in)g(order)e(to)g(dra)n(w)h(the)g
(p)r(olygon.)49 1377 y Fj(\))45 b Ft(medium-draw-rectangle*)30
b Fs(me)m(dium)21 b(x1)f(y1)g(x2)f(y2)679 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 1496 y(Dra)n(ws)h(a)h(rectangle)d(on)j(the)e
Fm(medium)g Fs(me)m(dium)p Fr(.)42 b(The)23 b(corners)f(of)h(the)g(rectangle)
f(are)g(at)h(\()p Fn(x)p Fr(1)p Fn(;)9 b(y)r Fr(1\))23 b(and)149
1563 y(\()p Fn(x)p Fr(2)p Fn(;)9 b(y)r Fr(2\),)k(with)f(the)g(corner)e(p)r
(ositions)i(transformed)d(b)n(y)k(the)e(medium's)g(curren)n(t)g
(transformation.)19 b Ft(medium-)149 1629 y(draw-rectangle*)g
Fr(will)h(call)e Ft(port-draw-rectangle*)i Fr(in)e(order)f(to)h(dra)n(w)g
(the)f(rectangle.)49 1762 y Fj(\))45 b Ft(medium-draw-ellipse*)30
b Fs(me)m(dium)19 b(c)m(enter-x)g(c)m(enter-y)h(r)m(adius-1-dx)e(r)m
(adius-1-dy)g(r)m(adius-2-dx)g(r)m(adius-2-)149 1829 y(dy)i(start-angle)i
(end-angle)1274 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
2028 y(Dra)n(ws)g(an)f(rectangle)f(on)i(the)f Fm(medium)f Fs(me)m(dium)p
Fr(.)37 b(The)22 b(cen)n(ter)e(of)i(the)f(rectangle)f(is)j(at)e(\()p
Fn(x;)9 b(y)r Fr(\),)23 b(and)e(the)149 2094 y(radii)k(are)g(sp)r(eci\014ed)f
(b)n(y)i(the)f(t)n(w)n(o)g(v)n(ectors)g(\()p Fs(r)m(adius-1-dx)p
Fr(,)p Fs(r)m(adius-1-dy)p Fr(\))h(and)f(\()p Fs(r)m(adius-2-dx)p
Fr(,)p Fs(r)m(adius-2-dy)p Fr(\).)149 2161 y(The)20 b(cen)n(ter)f(p)r(oin)n
(t)g(and)h(radii)h(are)e(transformed)e(b)n(y)k(the)f(medium's)f(curren)n(t)f
(transformation.)28 b Ft(medium-)149 2227 y(draw-ellipse*)19
b Fr(will)g(call)g Ft(port-draw-ellipse*)g Fr(in)g(order)e(to)g(dra)n(w)h
(the)g(ellipse.)149 2360 y Fs(start-angle)24 b Fr(and)d Fs(end-angle)i
Fr(are)e(real)g(n)n(um)n(b)r(ers)f(that)g(sp)r(ecify)h(an)g(arc)f(rather)g
(than)h(a)g(complete)e(ellipse.)149 2426 y(The)e(medium)g(transformation)d(m)
n(ust)j(b)r(e)g(applied)h(to)g(the)f(angles)g(as)h(w)n(ell.)49
2559 y Fj(\))45 b Ft(medium-draw-text*)30 b Fs(me)m(dium)18
b(text)g(x)e(y)h(\(start)g Ft(0)p Fs(\))g(end)h(\(align-x)f
Ft(:left)p Fs(\))g(\(align-y)g Ft(:baseline)p Fs(\))g(towar)m(d-)149
2626 y(x)i(towar)m(d-y)i(tr)m(ansform-glyphs)1181 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 2825 y(Dra)n(ws)17 b(a)h(c)n(haracter)
d(or)i(a)h(string)e(on)h(the)g Fm(medium)f Fs(me)m(dium)p Fr(.)26
b(The)17 b(text)f(is)i(dra)n(wn)f(starting)f(at)h(\()p Fn(x;)9
b(y)r Fr(\),)18 b(and)149 2891 y(to)n(w)n(ards)f(\()p Fs(towar)m(d-x)p
Fr(,)p Fs(towar)m(d-y)p Fr(\);)j(these)d(p)r(ositions)g(are)g(transformed)d
(b)n(y)19 b(the)e(medium's)g(curren)n(t)f(transfor-)149 2958
y(mation.)23 b Ft(medium-draw-text*)c Fr(will)g(call)g(either)e
Ft(port-draw-string*)i Fr(or)f Ft(port-draw-character*)h Fr(in)149
3024 y(order)e(to)g(dra)n(w)h(the)f(text.)p eop
%%Page: 111 126
bop 149 16 a Fm(CHAPTER)16 b(12.)43 b(GRAPHICS)1518 b Fr(111)149
210 y Fp(12.7.3)75 b(P)n(ort-sp)r(eci\014c)26 b(Dra)n(wing)f(F)-6
b(unctions)149 378 y Fr(The)21 b(follo)n(wing)i(p)r(ort-sp)r(eci\014c)c
(functions)h(are)h(required)g(b)n(y)i(the)e(dra)n(wing)h(functions)e(in)i
(the)f(API.)h(If)g(the)149 445 y(optional)17 b(argumen)n(ts)e(to)j(these)f
(functions)f(are)i(not)f(supplied,)h(they)g(are)f(defaulted)g(from)f(the)i
(medium.)49 577 y Fj(\))45 b Ft(port-draw-point*)30 b Fs(p)m(ort)15
b(me)m(dium)h(x)d(y)h Ft(&optional)30 b Fs(ink)15 b(line-style)g(clipping-r)m
(e)m(gion)32 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
777 y(Dra)n(ws)16 b(a)h(p)r(oin)n(t)f(on)g(the)g Fm(medium)e
Fs(me)m(dium)k Fr(on)e(the)g Fm(p)r(ort)f Fs(p)m(ort)p Fr(.)26
b(The)16 b(p)r(oin)n(t)g(is)h(dra)n(wn)f(at)g(the)f(p)r(osition)h(that)149
843 y(results)h(from)g(applying)h(the)f(device)g(transformation)e(to)i(\()p
Fn(x;)9 b(y)r Fr(\).)49 976 y Fj(\))45 b Ft(port-draw-points*)30
b Fs(p)m(ort)15 b(me)m(dium)h(c)m(o)m(or)m(d-se)m(q)g Ft(&optional)30
b Fs(ink)15 b(line-style)g(clipping-r)m(e)m(gion)32 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 1175 y(Dra)n(ws)k(a)g(set)f(of)h(p)r
(oin)n(ts)f(on)g(the)g Fm(medium)f Fs(me)m(dium)k Fr(on)d(the)g
Fm(p)r(ort)g Fs(p)m(ort)p Fr(.)49 b Fs(c)m(o)m(or)m(d-se)m(q)29
b Fr(is)e(a)e(sequence)g(of)149 1242 y(co)r(ordinate)19 b(pairs,)j(whic)n(h)g
(are)f(real)h(n)n(um)n(b)r(ers.)34 b(It)21 b(is)i(an)e(error)f(if)j
Fs(c)m(o)m(or)m(d-se)m(q)i Fr(do)r(es)20 b(not)h(con)n(tain)g(an)h(ev)n(en)
149 1308 y(n)n(um)n(b)r(er)i(of)h(elemen)n(ts.)46 b Ft(port-draw-points*)26
b Fr(could)f(b)r(e)g(implemen)n(ted)e(b)n(y)k(rep)r(eatedly)c(calling)j(p)r
(ort-)149 1374 y(dra)n(w-p)r(oin)n(t*,)17 b(but)h(some)e(p)r(orts)h(ma)n(y)h
(supp)r(ort)e(faster)g(primitiv)n(es)i(to)g(do)g(this.)49 1507
y Fj(\))45 b Ft(port-draw-line*)30 b Fs(p)m(ort)15 b(me)m(dium)g(x1)g(y1)f
(x2)g(y2)g Ft(&optional)30 b Fs(ink)15 b(line-style)g(clipping-r)m(e)m(gion)
32 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1707 y(Dra)n(ws)d(a)f
(line)i(on)e(the)g Fm(medium)f Fs(me)m(dium)j Fr(on)e(the)g
Fm(p)r(ort)g Fs(p)m(ort)p Fr(.)28 b(The)18 b(device)g(transformation)d(is)20
b(applied)e(to)149 1773 y(\()p Fn(x)p Fr(1)p Fn(;)9 b(y)r Fr(1\))17
b(to)h(\()p Fn(x)p Fr(2)p Fn(;)9 b(y)r Fr(2\),)17 b(and)h(the)f(line)i(is)f
(dra)n(wn)g(from)f(one)g(transformed)e(endp)r(oin)n(t)i(to)g(the)h(other.)49
1906 y Fj(\))45 b Ft(port-draw-lines*)30 b Fs(p)m(ort)15 b(me)m(dium)h(c)m(o)
m(or)m(d-se)m(q)g Ft(&optional)30 b Fs(ink)15 b(line-style)g(clipping-r)m(e)m
(gion)32 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2105
y(Dra)n(ws)27 b(a)f(set)g(of)h(disconnected)c(lines)k(on)g(the)f
Fm(medium)e Fs(me)m(dium)k Fr(on)f(the)f Fm(p)r(ort)f Fs(p)m(ort)p
Fr(.)52 b Fs(c)m(o)m(or)m(d-se)m(q)29 b Fr(is)f(a)149 2171
y(sequence)15 b(of)h(co)r(ordinate)e(pairs,)j(whic)n(h)g(are)e(real)i(n)n(um)
n(b)r(ers.)22 b(It)17 b(is)g(an)f(error)f(if)j Fs(c)m(o)m(or)m(d-se)m(q)h
Fr(do)r(es)d(not)f(con)n(tain)149 2238 y(an)22 b(ev)n(en)g(n)n(um)n(b)r(er)f
(of)h(elemen)n(ts.)36 b Ft(port-draw-lines*)24 b Fr(could)e(b)r(e)f(implemen)
n(ted)f(b)n(y)j(rep)r(eatedly)d(calling)149 2304 y(p)r(ort-dra)n(w-line*,)d
(but)g(some)g(p)r(orts)f(ma)n(y)i(supp)r(ort)e(faster)h(primitiv)n(es)h(to)f
(do)h(this.)49 2437 y Fj(\))45 b Ft(port-draw-polygon*)30 b
Fs(p)m(ort)15 b(me)m(dium)h(c)m(o)m(or)m(d-se)m(q)h(close)m(d)e
Ft(&optional)30 b Fs(ink)14 b(line-style)i(clipping-r)m(e)m(gion)32
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2636 y(Dra)n(ws)e(a)g(p)r
(olygon)f(or)h(p)r(olyline)g(on)f(the)g Fm(medium)g Fs(me)m(dium)i
Fr(on)f(the)f Fm(p)r(ort)f Fs(p)m(ort)p Fr(.)32 b(When)20 b
Fs(line-style)h Fr(is)g Ft(nil)p Fr(,)149 2703 y(this)g(dra)n(ws)g(a)h
(\014lled)g(p)r(olygon;)g(otherwise,)f Fs(line-style)i Fr(is)f(the)f(line)h
(st)n(yle)g(to)f(use)g(when)g(dra)n(wing)g(a)h(set)f(of)149
2769 y(connected)e(lines.)36 b Fs(c)m(o)m(or)m(d-se)m(q)25
b Fr(is)e(a)f(sequence)e(of)i(co)r(ordinate)d(pairs,)k(whic)n(h)f(are)f(real)
h(n)n(um)n(b)r(ers.)34 b(It)22 b(is)h(an)149 2836 y(error)12
b(if)j Fs(c)m(o)m(or)m(d-se)m(q)i Fr(do)r(es)12 b(not)h(con)n(tain)g(an)h(ev)
n(en)g(n)n(um)n(b)r(er)e(of)i(elemen)n(ts.)22 b(The)13 b(co)r(ordinate)e
(sequence)h(sp)r(eci\014es)149 2902 y(the)21 b(corners)f(of)h(the)g(p)r
(olygon;)i(the)e(device)g(transformation)d(is)23 b(applied)e(to)g(eac)n(h)h
(of)f(the)g(co)r(ordinates)e(to)149 2968 y(pro)r(duce)c(the)j(corners)e(of)i
(the)f(rendered)f(p)r(olygon.)149 3101 y(When)j Ft(port-draw-polygon*)i
Fr(is)g(dra)n(wing)e(a)h(set)g(of)g(connected)d(lines,)k(then)e(if)h
Fs(close)m(d)i Fr(is)f Fm(true)p Fr(,)e(a)h(closed)149 3168
y(p)r(olygon)d(is)h(dra)n(wn.)25 b(If)18 b Fs(close)m(d)i Fr(is)f
Fm(false)p Fr(,)f(the)f(p)r(olygon)g(will)j(not)d(b)r(e)h(closed.)49
3301 y Fj(\))45 b Ft(port-draw-rectangle*)30 b Fs(p)m(ort)16
b(me)m(dium)f(x1)f(y1)g(x2)g(y2)h Ft(&optional)29 b Fs(ink)15
b(line-style)g(clipping-r)m(e)m(gion)33 b Fr([)p Fs(Generic)21
b(F)l(unction)t Fr(])p eop
%%Page: 112 127
bop 149 16 a Fm(CHAPTER)16 b(12.)43 b(GRAPHICS)1518 b Fr(112)149
210 y(Dra)n(ws)16 b(a)g(rectangle)f(on)h(the)f Fm(medium)f
Fs(me)m(dium)k Fr(on)e(the)f Fm(p)r(ort)g Fs(p)m(ort)p Fr(.)26
b(When)16 b Fs(line-style)h Fr(is)g Ft(nil)p Fr(,)g(this)g(dra)n(ws)f(a)149
276 y(\014lled)j(rectangle;)f(otherwise,)g Fs(line-style)j
Fr(is)e(the)g(line)g(st)n(yle)h(to)e(use)h(when)g(dra)n(wing)g(an)g
(un\014lled)f(rectangle.)149 342 y(The)26 b(device)g(transformation)c(is)27
b(applied)f(to)g(\()p Fn(x)p Fr(1)p Fn(;)9 b(y)r Fr(1\))26
b(and)g(\()p Fn(x)p Fr(2)p Fn(;)9 b(y)r Fr(2\))26 b(to)g(pro)r(duce)e(the)h
(corners)g(of)h(the)149 409 y(rectangle.)49 542 y Fj(\))45
b Ft(port-draw-ellipse*)30 b Fs(p)m(ort)18 b(me)m(dium)g(c)m(enter-x)g(c)m
(enter-y)h(r)m(adius-1-dx)e(r)m(adius-1-dy)g(r)m(adius-2-dx)g(r)m(adius-)149
608 y(2-dy)j(start-angle)i(end-angle)g Ft(&optional)29 b Fs(ink)21
b(line-style)g(clipping-r)m(e)m(gion)237 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 807 y(Dra)n(ws)17 b(an)f(ellipse)h(rectangle)d(on)j
(the)f Fm(medium)e Fs(me)m(dium)k Fr(on)f(the)f Fm(p)r(ort)f
Fs(p)m(ort)p Fr(.)26 b(When)16 b Fs(line-style)i Fr(is)f Ft(nil)p
Fr(,)h(this)149 874 y(dra)n(ws)c(a)h(\014lled)h(ellipse;)g(otherwise,)f
Fs(line-style)h Fr(is)f(the)g(line)g(st)n(yle)g(to)g(use)f(when)h(dra)n(wing)
f(an)h(un\014lled)g(ellipse.)149 1007 y(The)j(cen)n(ter)f(of)h(the)g(ellipse)
g(is)h(pro)r(duced)d(b)n(y)j(applying)f(the)g(device)g(transformation)c(to)k
(\()p Fs(c)m(enter-x)p Fr(,)p Fs(c)m(enter-)149 1073 y(y)p
Fr(\).)39 b(Tw)n(o)24 b(v)n(ectors,)g(\()p Fs(r)m(adius-1-dx)p
Fr(,)p Fs(r)m(adius-1-dy)p Fr(\))f(and)g(\()p Fs(r)m(adius-2-dx)p
Fr(,)p Fs(r)m(adius-2-dy)p Fr(\))g(sp)r(ecify)g(the)f(b)r(ounding)149
1139 y(parallelogram)17 b(of)i(the)f(ellipse)i(as)f(explained)g(in)g(Chapter)
f(3.)28 b(When)19 b(the)f(ellipse)i(v)n(ectors)e(ha)n(v)n(e)h(the)g(same)149
1206 y(length,)e(the)h(ellipse)g(is)h(circle.)24 b(The)17 b(device)h
(transformation)c(m)n(ust)j(is)i(applied)f(to)g(the)f(v)n(ectors)g(as)h(w)n
(ell.)149 1339 y Fs(start-angle)24 b Fr(and)d Fs(end-angle)i
Fr(are)e(real)g(n)n(um)n(b)r(ers)f(that)g(sp)r(ecify)h(an)g(arc)f(rather)g
(than)h(a)g(complete)e(ellipse.)149 1405 y(The)e(device)h(transformation)c(m)
n(ust)j(b)r(e)h(applied)g(to)f(the)g(angles)h(as)g(w)n(ell.)49
1538 y Fj(\))45 b Ft(port-draw-string*)30 b Fs(p)m(ort)c(me)m(dium)g(text)f
(x)f(y)h(\(start)g Ft(0)p Fs(\))f(end)i(\(align-x)f Ft(:left)p
Fs(\))f(\(align-y)h Ft(:baseline)p Fs(\))149 1604 y(towar)m(d-x)16
b(towar)m(d-y)h(tr)m(ansform-glyphs)h Ft(&optional)29 b Fs(ink)17
b(text-style)f(clipping-r)m(e)m(gion)33 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 1804 y(Dra)n(ws)g(a)g(string)f(on)g(the)g
Fm(medium)f Fs(me)m(dium)j Fr(on)f(the)f Fm(p)r(ort)f Fs(p)m(ort)p
Fr(.)38 b(The)21 b(string)g(is)h(dra)n(wn)g(starting)e(at)h(the)149
1870 y(p)r(osition)h(that)f(results)h(from)g(applying)h(the)f(device)g
(transformation)e(to)i(\()p Fn(x;)9 b(y)r Fr(\),)24 b(and)f(to)n(w)n(ards)f
(\()p Fs(towar)m(d-)149 1936 y(x)p Fr(,)p Fs(towar)m(d-y)p
Fr(\).)37 b Fs(align-x)23 b Fr(is)f(one)g(of)g Ft(:left)p Fr(,)i
Ft(:center)p Fr(,)g(or)e Ft(:right)p Fr(.)37 b Fs(align-y)23
b Fr(is)f(one)f(of)h Ft(:baseline)p Fr(,)j Ft(:top)p Fr(,)149
2003 y Ft(:center)p Fr(,)19 b(or)f Ft(:bottom)p Fr(.)149 2136
y Fs(start)23 b Fr(and)e Fs(end)i Fr(sp)r(ecify)f(the)f(start)f(and)i(end)f
(of)h(the)f(string.)35 b Fs(start)23 b Fr(is)g(an)e(in)n(teger)g(that)g(is)i
(less)e(than)g(the)149 2202 y(length)16 b(of)h(the)f(string.)24
b Fs(end)18 b Fr(is)g(an)f(in)n(teger)f(that)g(is)h(less)g(than)f(the)h
(length)f(of)h(the)f(string,)h(but)g(greater)e(than)149 2269
y(or)i(equal)i(to)e Fs(start)p Fr(.)149 2401 y(Normally)-5
b(,)17 b(glyphs)g(are)f(dra)n(wn)g(from)g(left)h(to)f(righ)n(t,)i(but)e
Fs(towar)m(d-x)i Fr(and)f Fs(towar)m(d-y)h Fr(can)f(b)r(e)f(used)g(to)h(c)n
(hange)149 2468 y(the)c(direction)f(from)h(one)g(glyph)h(to)f(the)g(next)g
(one.)23 b(The)13 b(reference)e(p)r(oin)n(t)j(in)g(eac)n(h)f(glyph)h(lies)g
(on)g(a)g(line)g(from)149 2534 y(\()p Fn(x;)9 b(y)r Fr(\))18
b(to)f(\()p Fs(towar)m(d-x)p Fr(,)p Fs(towar)m(d-y)p Fr(\))j(and)e(the)f
(spacing)g(of)h(eac)n(h)g(glyph)g(is)h(determined)c(b)n(y)k(pac)n(king)f
(rectangles)149 2601 y(along)i(that)g(line,)i(where)d(eac)n(h)i(rectangle)d
(is)j(\\c)n(har-width")f(wide)h(and)f(\\c)n(har-heigh)n(t")f(high.)33
b(Of)21 b(course,)149 2667 y(some)16 b(p)r(orts)h(ma)n(y)h(not)f(b)r(e)g
(able)h(to)g(fully)h(supp)r(ort)d(this.)149 2800 y(If)22 b
Fs(tr)m(ansform-glyphs)i Fr(is)e Fm(true)p Fr(,)g(then)f(eac)n(h)g(glyph)h
(is)g(transformed)d(as)i(an)h(image)e(b)r(efore)g(it)i(is)g(dra)n(wn.)36
b(It)149 2866 y(is)25 b(p)r(ermissible)f(for)g(CLIM)h(implemen)n(tations)d
(to)i(ignore)h Fs(tr)m(ansform-glyphs)i Fr(if)f(it)f(is)h(to)r(o)e(exp)r
(ensiv)n(e)g(to)149 2933 y(implemen)n(t.)49 3066 y Fj(\))45
b Ft(port-draw-character*)30 b Fs(p)m(ort)16 b(me)m(dium)f(char)m(acter)i(x)d
(y)g(\(align-x)g Ft(:left)p Fs(\))h(\(align-y)f Ft(:baseline)p
Fs(\))g Ft(&optional)149 3132 y Fs(ink)20 b(text-style)h(clipping-r)m(e)m
(gion)1156 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
3251 y(Dra)n(ws)f(a)g(single)g(c)n(haracter)e(on)i(the)f Fm(medium)f
Fs(me)m(dium)j Fr(on)f(the)g Fm(p)r(ort)e Fs(p)m(ort)k Fr(at)e(the)f(p)r
(osition)g(that)g(results)149 3317 y(from)d(applying)h(the)f(device)h
(transformation)c(to)k(\()p Fn(x;)9 b(y)r Fr(\).)25 b Fs(align-x)19
b Fr(is)g(one)f(of)g Ft(:left)p Fr(,)h Ft(:center)p Fr(,)h(or)d
Ft(:right)p Fr(.)149 3384 y Fs(align-y)i Fr(is)f(one)g(of)g
Ft(:baseline)p Fr(,)h Ft(:top)p Fr(,)g Ft(:center)p Fr(,)h(or)d
Ft(:bottom)p Fr(.)p eop
%%Page: 113 128
bop 149 691 a Fl(Chapter)46 b(13)149 1034 y Fq(Dra)l(wing)53
b(in)g(Color)149 1388 y Fr(This)18 b(c)n(hapter)e(describ)r(es)f(the)i
Ft(:ink)h Fr(dra)n(wing)f(option)g(and)g(the)g(simpler)f(v)m(alues)i(that)e
(can)h(b)r(e)g(supplied)g(for)149 1455 y(that)f(option,)h(suc)n(h)h(as)f
(colors.)24 b(More)17 b(complex)f(v)m(alues)h(that)g(ha)n(v)n(e)h(a)g
(regular)e(or)h(irregular)g(pattern)e(in)j(the)149 1521 y(ink)g(are)g
(describ)r(ed)e(in)i(Chapter)f(14.)149 1654 y Fo(Ma)t(jor)25
b(issue:)68 b Fm(W)-5 b(e)21 b(need)g(to)g(add)g(a)g(thing)g(called)g(a)g
(\\palette",)f(whic)n(h)i(is)g(simply)f(an)g(abstract)e(color)149
1721 y(map.)27 b(P)n(alettes)18 b(are)g(primarily)h(used)g(as)g(a)g(resource)
f(for)g(the)h(limited)g(n)n(um)n(b)r(er)f(of)h(colors)f(on)h(most)f(hosts.)
149 1787 y(Do)24 b(w)n(e)h(need)e(to)h(b)r(e)g(able)g(to)g(used)f(them)g(to)h
(more)f(directly)g(con)n(trol)h(color)f(maps,)i(to)f(do)g(\\color)g(map)149
1853 y(animation",)16 b(for)i(example?)23 b(|)c(SWM)149 1986
y Fo(Minor)24 b(issue:)61 b Fm(W)-5 b(e)20 b(need)e(to)i(add)f(a)h(thing)f
(called)g(a)h(\\raster)d(ink",)k(whic)n(h)f(includes)f(things)g(lik)n(e)i
(plane)149 2053 y(masks,)c(pixel)i(v)m(alues,)f(etc.)24 b(Be)18
b(clear)f(that)g(this)h(is)h(platform)d(and)i(device)f(dep)r(enden)n(t.)22
b(|)d(SWM)149 2299 y Fk(13.1)91 b(The)31 b Fi(:ink)e Fk(Dra)m(wing)h(Option)
149 2487 y Fr(The)16 b Ft(:ink)h Fr(dra)n(wing)g(option,)f(used)g(with)h(the)
f(dra)n(wing)h(functions)e(describ)r(ed)g(in)i(Chapter)e(12,)i(can)f(tak)n(e)
h(as)149 2553 y(its)h(v)m(alue:)232 2717 y Fj(\017)27 b Fr(a)18
b(color,)232 2820 y Fj(\017)27 b Fr(an)18 b(opacit)n(y)-5 b(,)232
2924 y Fj(\017)27 b Fr(the)17 b(constan)n(t)g Ft(+foreground-ink+)p
Fr(,)232 3028 y Fj(\017)27 b Fr(the)17 b(constan)n(t)g Ft(+background-ink+)p
Fr(,)232 3132 y Fj(\017)27 b Fr(a)18 b(\015ipping)g(ink,)h(or)232
3236 y Fj(\017)27 b Fr(other)17 b(v)m(alues)h(describ)r(ed)d(in)k(Chapter)d
(14)149 3399 y(More)e(exactly)-5 b(,)17 b(an)e(ink)h(can)f(b)r(e)g(an)n(y)h
(mem)n(b)r(er)c(of)k(the)e(class)i Ft(design)p Fr(.)24 b(F)-5
b(or)16 b(no)n(w)g(y)n(ou)f(ma)n(y)h(think)f(of)h(a)f(design)149
3466 y(as)j(a)g(p)r(ossibly)g(translucen)n(t)e(color.)23 b(More)18
b(general)e(designs)i(are)f(describ)r(ed)f(in)j(Chapter)d(14.)1262
3632 y(113)p eop
%%Page: 114 129
bop 149 16 a Fm(CHAPTER)16 b(13.)43 b(DRA)-6 b(WING)18 b(IN)g(COLOR)1234
b Fr(114)149 210 y(The)14 b(dra)n(wing)g(functions)f(w)n(ork)i(b)n(y)g
(selecting)e(a)i(region)e(of)i(the)e(dra)n(wing)i(plane)f(and)g(pain)n(ting)g
(it)g(with)h(color.)149 276 y(The)e(region)f(to)h(b)r(e)f(pain)n(ted)h(is)h
(the)e(in)n(tersection)g(of)h(the)g(shap)r(e)e(sp)r(eci\014ed)h(b)n(y)i(the)f
(dra)n(wing)f(function)g(and)h(the)149 342 y Ft(:clipping-region)i
Fr(dra)n(wing)f(option,)g(whic)n(h)g(is)g(then)f(transformed)e(b)n(y)k(the)e
Ft(:transformation)i Fr(dra)n(wing)149 409 y(option.)35 b(The)22
b Ft(:ink)g Fr(dra)n(wing)g(option)f(is)i(a)f(design)f(that)g(sp)r(eci\014es)
f(a)i(new)g(arrangemen)n(t)c(of)k(colors)g(\(and)149 475 y(opacities\))c(in)j
(this)g(region)e(of)i(the)f(medium's)e(dra)n(wing)j(plane.)31
b(An)n(y)21 b(viewp)r(orts)e(or)h(datap)r(orts)e(attac)n(hed)149
542 y(to)j(this)h(dra)n(wing)f(plane)g(are)g(up)r(dated)f(accordingly)-5
b(.)34 b(The)22 b Ft(:ink)g Fr(dra)n(wing)f(option)g(is)h(nev)n(er)g
(a\013ected)e(b)n(y)149 608 y(the)c Ft(:transformation)i Fr(dra)n(wing)f
(option)g(nor)f(b)n(y)i(the)f(sheet)e(transformation;)f(this)j(ensures)f
(that)g(stipple)149 674 y(patterns)f(on)j(adjacen)n(t)f(sheets)f(join)i
(seamlessly)-5 b(.)149 807 y Fo(Minor)21 b(issue:)54 b Fm(The)17
b(description)e(of)i(ho)n(w)h(the)e(clipping)i(region)e(and)h
(transformations)c(con)n(tribute)i(isn't)149 874 y(go)r(o)r(d)i(enough.)27
b(It)20 b(is)f(true)g(if)h(there)e(are)g(no)h(other)f(transformations)e(and)j
(clipping)g(regions)f(presen)n(t,)h(and)149 940 y(b)r(oth)f(are)h(sp)r
(eci\014ed)e(in)j(the)f(curren)n(t)f(dra)n(wing)h(op)r(eration.)26
b(But)19 b(it)h(do)r(esn't)e(sa)n(y)i(what)f(happ)r(ens)e(if)j(things)149
1007 y(are)g(nested.)33 b(I'm)22 b(not)e(sure)h(it)g(needs)g(to.)34
b(Rather,)21 b(I)g(think)h(it)f(should)g(just)g(sa)n(y)h(that)e(the)h(the)f
(region)h(is)149 1073 y(clipp)r(ed)f(b)n(y)j(the)e(curren)n(t)f(clipping)h
(region)g(in)h(e\013ect,)g(then)f(transformed)d(b)n(y)k(the)f(curren)n(t)f
(transform)f(in)149 1139 y(e\013ect,)e(and)h(that)f(the)g(rules)h(for)f
(these)g(are)h(discussed)e(in)j(the)e(dra)n(wing)h(options)f(section.)23
b(|)c(DCPL)149 1272 y Fr(Dra)n(wing)g(consists)g(conceptually)e(of)j(the)f
(follo)n(wing)h(sequence)d(of)j(op)r(erations,)e(p)r(erformed)e(in)k
(parallel)f(at)149 1339 y(ev)n(ery)24 b(p)r(oin)n(t)f(in)h(the)f(dra)n(wing)g
(plane.)41 b(Of)24 b(course,)g(the)f(actual)g(implemen)n(tation)e(do)r(es)h
(not)h(in)n(v)n(olv)n(e)j(an)149 1405 y(in\014nite)17 b(\(or)h(large)f
(parallel\))h(computation.)216 1593 y(1.)28 b(The)16 b(design)f(sp)r
(eci\014es)f(a)i(color)f(and)h(an)f(opacit)n(y)h(at)f(the)g(p)r(oin)n(t.)24
b(These)15 b(can)g(dep)r(end)f(on)i(the)f(dra)n(wing)287 1660
y(plane's)i(curren)n(t)e(color)h(and)h(opacit)n(y)-5 b(,)17
b(on)g(the)f(medium's)f(foreground)f(color,)j(and)g(on)f(the)g(medium's)287
1726 y(bac)n(kground)g(color.)216 1837 y(2.)28 b(The)20 b(color)g(blending)f
(function)g(is)i(applied)f(to)f(the)h(design's)g(color)f(and)h(opacit)n(y)g
(and)f(the)h(dra)n(wing)287 1903 y(plane's)e(color)f(and)h(opacit)n(y)-5
b(,)18 b(returning)f(a)h(new)g(color)f(and)h(opacit)n(y)f(for)h(the)f(p)r
(oin)n(t.)216 2014 y(3.)28 b(The)18 b(dra)n(wing)g(plane's)f(color)h(and)f
(opacit)n(y)h(at)g(that)f(p)r(oin)n(t)g(are)h(set)f(to)h(the)f(new)h(color)f
(and)h(opacit)n(y)-5 b(.)149 2263 y Fk(13.2)91 b(Basic)30 b(Designs)49
2451 y Fj(\))45 b Ft(design)1739 b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23
b(Class)5 b Fr(])149 2570 y(A)23 b(design)g(is)g(an)h(ob)s(ject)d(that)h
(represen)n(ts)f(a)j(w)n(a)n(y)g(of)f(arranging)f(colors)h(and)f(opacities)h
(in)g(the)g(dra)n(wing)149 2636 y(plane.)h(The)17 b Ft(design)h
Fr(class)f(is)i(the)d(proto)r(col)g(class)h(for)g(designs.)24
b(If)18 b(y)n(ou)g(w)n(an)n(t)g(to)f(create)f(a)h(new)g(class)h(that)149
2703 y(b)r(eha)n(v)n(es)i(lik)n(e)i(a)g(design,)f(it)g(should)g(b)r(e)f(a)h
(sub)r(class)f(of)h Ft(design)p Fr(.)34 b(Sub)r(classes)19
b(of)i Ft(design)h Fr(m)n(ust)e(ob)r(ey)g(the)149 2769 y(design)d(proto)r
(col.)149 2902 y(The)25 b(fundamen)n(tal)d(op)r(eration)h(of)i(the)g(CLIM)f
(graphic)g(dra)n(wing)h(mo)r(del)f(is)i(to)e(dra)n(w)h(a)g(design)g(on)n(to)g
(a)149 2969 y(dra)n(wing)h(plane,)i(th)n(us)e(dra)n(wing)g(is)g(alw)n(a)n(ys)
i(con)n(trolled)d(b)n(y)i(designs.)48 b(The)26 b(designs)f(discussed)g(in)i
(this)149 3035 y(c)n(hapter)d(do)i(the)g(same)f(thing)g(at)h(eac)n(h)g(p)r
(oin)n(t)f(in)i(the)e(dra)n(wing)h(plane.)49 b(Chapter)24 b(14)i(discusses)f
(more)149 3101 y(general)16 b(designs)i(and)f(rev)n(eals)h(that)f(regions)g
(are)h(also)g(designs.)149 3234 y(A)g(design)f(can)h(b)r(e)f(c)n
(haracterized)e(in)j(sev)n(eral)g(di\013eren)n(t)g(w)n(a)n(ys:)149
3367 y(All)26 b(designs)e(are)h(either)f Fm(b)r(ounded)f Fr(or)i
Fm(un)n(b)r(ounded)p Fr(.)44 b(Bounded)24 b(designs)h(are)f(transparen)n(t)f
(ev)n(erywhere)149 3433 y(b)r(ey)n(ond)g(a)h(certain)e(distance)h(from)f(a)i
(certain)f(p)r(oin)n(t.)41 b(Dra)n(wing)24 b(a)g(b)r(ounded)e(design)i(has)f
(no)h(e\013ect)f(on)p eop
%%Page: 115 130
bop 149 16 a Fm(CHAPTER)16 b(13.)43 b(DRA)-6 b(WING)18 b(IN)g(COLOR)1234
b Fr(115)149 210 y(the)22 b(dra)n(wing)g(plane)g(outside)f(that)h(distance.)
36 b(Un)n(b)r(ounded)21 b(designs)g(ha)n(v)n(e)i(p)r(oin)n(ts)f(of)h
(non-zero)e(opacit)n(y)149 276 y(arbitrarily)c(far)h(from)f(the)g(origin.)25
b(Dra)n(wing)18 b(an)g(un)n(b)r(ounded)e(design)h(a\013ects)g(the)g(en)n
(tire)h(dra)n(wing)g(plane.)149 409 y(All)f(designs)e(are)h(either)f
Fm(uniform)g Fr(or)h Fm(non-uniform)p Fr(.)22 b(Uniform)15
b(designs)g(ha)n(v)n(e)i(the)f(same)e(color)i(and)g(opacit)n(y)149
475 y(at)22 b(ev)n(ery)g(p)r(oin)n(t)g(in)h(the)e(dra)n(wing)h(plane.)37
b(Uniform)21 b(designs)g(are)h(alw)n(a)n(ys)h(un)n(b)r(ounded,)f(unless)f
(they)h(are)149 542 y(completely)16 b(transparen)n(t.)149 674
y(All)25 b(designs)e(are)h(either)f Fm(solid)h Fr(or)g Fm(translucen)n(t)p
Fr(.)41 b(A)n(t)24 b(eac)n(h)g(p)r(oin)n(t)g(a)g(solid)h(design)e(is)i
(either)e(completely)149 741 y(opaque)15 b(or)g(completely)f(transparen)n(t.)
22 b(A)15 b(solid)i(design)e(can)g(b)r(e)h(opaque)f(at)g(some)g(p)r(oin)n(ts)
g(and)g(transparen)n(t)149 807 y(at)h(others.)23 b(In)17 b(translucen)n(t)e
(designs,)i(at)f(least)h(one)f(p)r(oin)n(t)h(has)f(an)h(opacit)n(y)g(that)f
(is)h(in)n(termediate)e(b)r(et)n(w)n(een)149 874 y(completely)h(opaque)h(and)
h(transparen)n(t.)149 1007 y(All)c(designs)e(are)h(either)f
Fm(colorless)g Fr(or)i Fm(colored)p Fr(.)21 b(Dra)n(wing)14
b(a)f(colorless)g(design)f(uses)h(a)g(default)g(color)f(sp)r(eci\014ed)149
1073 y(b)n(y)19 b(the)e(medium's)g(foreground)f(design.)25
b(This)18 b(is)h(done)f(b)n(y)h(dra)n(wing)f(with)g Ft(\(compose-in)i
(+foreground-)149 1139 y(ink+)e Fr(the-colorless-design)p Ft(\))p
Fr(.)23 b(See)17 b(Chapter)g(14)g(for)h(the)f(details)h(of)g
Ft(compose-in)p Fr(.)49 1272 y Fj(\))45 b Ft(designp)29 b Fs(obje)m(ct)1676
b Fr([)p Fs(F)l(unction)t Fr(])149 1391 y(Returns)16 b Fm(true)h
Fr(if)i Fs(obje)m(ct)h Fr(is)f(a)f Fm(design)p Fr(,)g(otherwise)e(returns)h
Fm(false)p Fr(.)149 1641 y Fk(13.3)91 b(Color)49 1828 y Fj(\))45
b Ft(color)1768 b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23 b(Class)5
b Fr(])149 1947 y(A)13 b(mem)n(b)r(er)d(of)j(the)f(class)h
Ft(color)g Fr(is)h(a)f(completely)e(opaque)h(design)g(that)g(represen)n(ts)f
(the)h(in)n(tuitiv)n(e)i(de\014nition)149 2014 y(of)k(color:)25
b(white,)19 b(blac)n(k,)g(red,)g(pale)f(y)n(ello)n(w,)j(and)d(so)g(forth.)26
b(The)18 b(visual)h(app)r(earance)c(of)k(a)f(single)h(p)r(oin)n(t)f(is)149
2080 y(completely)f(describ)r(ed)h(b)n(y)i(its)g(color.)28
b(Dra)n(wing)20 b(a)g(color)e(sets)h(the)g(color)g(of)g(ev)n(ery)h(p)r(oin)n
(t)f(in)h(the)f(dra)n(wing)149 2147 y(plane)f(to)g(that)g(color,)h(and)f
(sets)g(the)g(opacit)n(y)g(to)h(1.)27 b(The)18 b Ft(color)i
Fr(class)e(is)h(the)f(proto)r(col)f(class)i(for)f(a)h(color,)149
2213 y(and)c(is)h(a)g(sub)r(class)e(of)i Ft(design)p Fr(.)25
b(If)16 b(y)n(ou)g(w)n(an)n(t)g(to)f(create)f(a)i(new)f(class)h(that)e(b)r
(eha)n(v)n(es)h(lik)n(e)i(a)f(color,)g(it)g(should)149 2279
y(b)r(e)h(a)h(sub)r(class)f(of)h Ft(color)p Fr(.)25 b(Sub)r(classes)16
b(of)i Ft(color)h Fr(m)n(ust)e(ob)r(ey)g(the)h(color)f(proto)r(col.)149
2412 y(All)h(of)g(the)g(standard)e(instan)n(tiable)h(color)g(classes)h(pro)n
(vided)f(b)n(y)i(CLIM)f(are)f(imm)n(utable.)149 2545 y(A)d(color)g(can)g(b)r
(e)g(sp)r(eci\014ed)e(b)n(y)k(three)d(real)h(n)n(um)n(b)r(ers)f(b)r(et)n(w)n
(een)g(0)h(and)g(1)h(\(inclusiv)n(e\),)g(giving)g(the)f(amoun)n(ts)f(of)149
2612 y(red,)18 b(green,)f(and)h(blue.)24 b(Three)17 b(0's)i(mean)d(blac)n(k;)
j(three)e(1's)h(mean)f(white.)25 b(The)17 b(in)n(tensit)n(y-h)n
(ue-saturation)149 2678 y(color)h(mo)r(del)f(is)j(also)f(supp)r(orted,)e(but)
h(the)g(red-green-blue)f(color)h(mo)r(del)g(is)h(the)g(primary)e(mo)r(del)h
(w)n(e)h(will)149 2744 y(use)e(in)i(the)e(sp)r(eci\014cation.)49
2877 y Fj(\))45 b Ft(colorp)29 b Fs(obje)m(ct)1705 b Fr([)p
Fs(F)l(unction)t Fr(])149 2996 y(Returns)16 b Fm(true)h Fr(if)i
Fs(obje)m(ct)h Fr(is)f(a)f Fm(color)p Fr(,)g(otherwise)e(returns)h
Fm(false)p Fr(.)149 3129 y(The)24 b(follo)n(wing)i(functions)e(create)f
(colors.)44 b(These)25 b(functions)e(pro)r(duce)g(ob)s(jects)g(that)h(ha)n(v)
n(e)i(equiv)m(alen)n(t)149 3195 y(e\013ects;)21 b(the)e(only)i(di\013erence)f
(is)h(in)g(ho)n(w)g(the)e(color)h(comp)r(onen)n(ts)d(are)j(sp)r(eci\014ed.)31
b(The)20 b(resulting)f(ob)s(jects)149 3262 y(are)g(indistinguishable)g(when)h
(dra)n(wn.)31 b(Whether)18 b(these)h(functions)g(use)g(the)h(sp)r(eci\014ed)e
(v)m(alues)i(exactly)g(or)149 3328 y(appro)n(ximate)f(them)i(b)r(ecause)e(of)
j(limited)f(color)g(resolution)g(is)h(unsp)r(eci\014ed.)34
b(Whether)20 b(these)g(functions)149 3395 y(create)25 b(a)i(new)f(ob)s(ject)f
(or)i(return)e(an)i(existing)g(ob)s(ject)e(with)i(equiv)m(alen)n(t)f(color)h
(comp)r(onen)n(t)c(v)m(alues)k(is)149 3461 y(unsp)r(eci\014ed.)p
eop
%%Page: 116 131
bop 149 16 a Fm(CHAPTER)16 b(13.)43 b(DRA)-6 b(WING)18 b(IN)g(COLOR)1234
b Fr(116)49 210 y Fj(\))45 b Ft(make-rgb-color)30 b Fs(r)m(e)m(d)21
b(gr)m(e)m(en)h(blue)1277 b Fr([)p Fs(F)l(unction)t Fr(])149
329 y(Returns)14 b(a)j(mem)n(b)r(er)c(of)j(class)g Ft(color)p
Fr(.)25 b(The)16 b Fs(r)m(e)m(d)p Fr(,)j Fs(gr)m(e)m(en)p Fr(,)h(and)15
b Fs(blue)j Fr(argumen)n(ts)c(are)h(real)h(n)n(um)n(b)r(ers)f(b)r(et)n(w)n
(een)149 395 y(0)j(and)f(1)i(\(inclusiv)n(e\))e(that)g(sp)r(ecify)h(the)f(v)m
(alues)h(of)g(the)f(corresp)r(onding)e(color)i(comp)r(onen)n(ts.)49
528 y Fj(\))45 b Ft(make-ihs-color)30 b Fs(intensity)20 b(hue)h(satur)m
(ation)1035 b Fr([)p Fs(F)l(unction)t Fr(])149 647 y(Returns)17
b(a)j(mem)n(b)r(er)c(of)j(class)h Ft(color)p Fr(.)29 b(The)19
b Fs(intensity)h Fr(argumen)n(t)d(is)j(a)f(real)g(n)n(um)n(b)r(er)f(b)r(et)n
(w)n(een)g(0)i(and)2384 601 y Fj(p)p 2431 601 28 3 v 2431 647
a Fr(3)149 713 y(\(inclusiv)n(e\).)k(The)18 b Fs(hue)h Fr(and)e
Fs(satur)m(ation)j Fr(argumen)n(ts)c(are)h(real)h(n)n(um)n(b)r(ers)e(b)r(et)n
(w)n(een)h(0)h(and)g(1)g(\(inclusiv)n(e\).)49 846 y Fj(\))45
b Ft(make-gray-color)30 b Fs(luminanc)m(e)1335 b Fr([)p Fs(F)l(unction)t
Fr(])149 965 y(Returns)17 b(a)h(mem)n(b)r(er)e(of)j(class)f
Ft(color)p Fr(.)27 b Fs(luminanc)m(e)21 b Fr(is)e(a)g(real)f(n)n(um)n(b)r(er)
f(b)r(et)n(w)n(een)h(0)g(and)h(1)f(\(inclusiv)n(e\).)26 b(On)149
1031 y(a)21 b(blac)n(k-on-white)f(displa)n(y)i(device,)f(0)g(means)f(blac)n
(k,)i(1)f(means)e(white,)i(and)g(the)f(v)m(alues)g(in)i(b)r(et)n(w)n(een)d
(are)149 1098 y(shades)13 b(of)h(gra)n(y)-5 b(.)24 b(On)14
b(a)g(white-on-blac)n(k)g(displa)n(y)h(device,)g(0)g(means)d(white,)j(1)f
(means)f(blac)n(k,)j(and)d(the)h(v)m(alues)149 1164 y(in)k(b)r(et)n(w)n(een)f
(are)g(shades)g(of)h(gra)n(y)-5 b(.)149 1297 y(The)19 b(follo)n(wing)i(t)n(w)
n(o)f(functions)e(comprise)g(the)h(color)g(proto)r(col.)28
b(Both)19 b(of)h(them)e(return)g(the)h(comp)r(onen)n(ts)149
1364 y(of)f(a)g(color.)24 b(All)19 b(sub)r(classes)d(of)i Ft(color)g
Fr(m)n(ust)g(implemen)n(t)e(metho)r(ds)f(for)j(these)e(generic)h(functions.)
49 1496 y Fj(\))45 b Ft(color-rgb)29 b Fs(c)m(olor)1427 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 1615 y(Returns)15 b(three)g(v)m
(alues,)i(the)f Fs(r)m(e)m(d)p Fr(,)k Fs(gr)m(e)m(en)p Fr(,)g(and)c
Fs(blue)i Fr(comp)r(onen)n(ts)13 b(of)k(the)f Fm(color)g Fs(c)m(olor)p
Fr(.)27 b(The)16 b(v)m(alues)h(are)f(real)149 1682 y(n)n(um)n(b)r(ers)g(b)r
(et)n(w)n(een)h(0)h(and)g(1)g(\(inclusiv)n(e\).)49 1815 y Fj(\))45
b Ft(color-ihs)29 b Fs(c)m(olor)1427 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 1934 y(Returns)15 b(three)h(v)m(alues,)i(the)e
Fs(intensity)p Fr(,)j Fs(hue)p Fr(,)g(and)e Fs(satur)m(ation)i
Fr(comp)r(onen)n(ts)14 b(of)j(the)f Fm(color)h Fs(c)m(olor)p
Fr(.)26 b(The)17 b(\014rst)149 2000 y(v)m(alue)23 b(is)g(a)h(real)e(n)n(um)n
(b)r(er)g(b)r(et)n(w)n(een)g(0)h(andn)1141 1954 y Fj(p)p 1187
1954 V 46 x Fr(3)g(\(inclusiv)n(e\).)40 b(The)23 b(second)e(and)i(third)g(v)m
(alues)f(are)h(real)149 2067 y(n)n(um)n(b)r(ers)16 b(b)r(et)n(w)n(een)h(0)h
(and)g(1)g(\(inclusiv)n(e\).)149 2288 y Fp(13.3.1)75 b(Standard)24
b(Color)h(Names)149 2456 y Fr(T)-5 b(able)19 b(13.1)g(lists)h(all)g(the)f
(pro)n(vided)g(color)g(constan)n(ts.)27 b(Application)18 b(programs)f(can)i
(de\014ne)f(other)g(colors;)149 2523 y(these)e(are)g(pro)n(vided)h(b)r
(ecause)f(they)g(are)h(commonly)e(used)i(in)h(the)f(X)g(Windo)n(ws)g(comm)n
(unit)n(y)-5 b(,)17 b(not)g(b)r(ecause)149 2589 y(there)g(is)i(an)n(ything)f
(sp)r(ecial)f(ab)r(out)g(these)g(particular)g(colors.)25 b(This)19
b(table)f(is)h(a)g(subset)e(of)h(the)g(color)g(listed)149 2656
y(in)g(the)g(\014le)g Ft(/X11/R4/mit/rgb/rgb.txt)p Fr(,)i(from)d(the)g(X11)g
(R4)h(distribution.)149 2877 y Fp(13.3.2)75 b(Con)n(trasting)26
b(Colors)49 3046 y Fj(\))45 b Ft(make-contrasting-inks)30 b
Fs(n)20 b Ft(&optional)29 b Fs(k)1038 b Fr([)p Fs(F)l(unction)t
Fr(])149 3165 y(If)22 b Fs(k)g Fr(is)h(not)e(supplied,)h(this)g(returns)e(a)i
(v)n(ector)f(of)g Fs(n)i Fr(designs)e(with)g(recognizably)f(di\013eren)n(t)i
(app)r(earance.)149 3231 y(Elemen)n(ts)g(of)h(the)g(v)n(ector)g(are)g(guaran)
n(teed)e(to)i(b)r(e)g(acceptable)e(v)m(alues)j(for)f(the)g
Ft(:ink)h Fr(argumen)n(t)d(to)i(the)149 3297 y(dra)n(wing)c(functions,)g(and)
g(will)i(not)e(include)g Ft(+foreground-ink+)p Fr(,)i Ft(+background-ink+)p
Fr(,)h(or)d Ft(nil)p Fr(.)30 b(Their)149 3364 y(class)17 b(is)i(otherwise)e
(unsp)r(eci\014ed.)22 b(The)c(v)n(ector)f(is)h(a)h(fresh)e(ob)s(ject)f(that)h
(ma)n(y)h(b)r(e)g(mo)r(di\014ed.)p eop
%%Page: 117 132
bop 149 16 a Fm(CHAPTER)16 b(13.)43 b(DRA)-6 b(WING)18 b(IN)g(COLOR)1234
b Fr(117)p 149 266 2310 3 v 182 379 a Ft(+alice-blue+)329 b(+antique-white+)f
(+aquamarine+)182 445 y(+azure+)474 b(+beige+)560 b(+bisque+)182
512 y(+black+)474 b(+blanched-almond+)270 b(+blue+)182 578
y(+blue-violet+)300 b(+brown+)560 b(+burlywood+)182 644 y(+cadet-blue+)329
b(+chartreuse+)415 b(+chocolate+)182 711 y(+coral+)474 b(+cornflower-blue+)
270 b(+cornsilk+)182 777 y(+cyan+)503 b(+dark-goldenrod+)299
b(+dark-green+)182 844 y(+dark-khaki+)329 b(+dark-olive-green+)241
b(+dark-orange+)182 910 y(+dark-orchid+)300 b(+dark-salmon+)386
b(+dark-sea-green+)182 976 y(+dark-slate-blue+)184 b(+dark-slate-gray+)270
b(+dark-turquoise+)182 1043 y(+dark-violet+)300 b(+deep-pink+)444
b(+deep-sky-blue+)182 1109 y(+dim-gray+)387 b(+dodger-blue+)f(+firebrick+)182
1176 y(+floral-white+)271 b(+forest-green+)357 b(+gainsboro+)182
1242 y(+ghost-white+)300 b(+gold+)589 b(+goldenrod+)182 1309
y(+gray+)503 b(+green+)560 b(+green-yellow+)182 1375 y(+honeydew+)387
b(+hot-pink+)473 b(+indian-red+)182 1441 y(+ivory+)h(+khaki+)560
b(+lavender+)182 1508 y(+lavender-blush+)213 b(+lawn-green+)415
b(+lemon-chiffon+)182 1574 y(+light-blue+)329 b(+light-coral+)386
b(+light-cyan+)182 1641 y(+light-goldenrod+)184 b(+light-goldenrod-yellow+)67
b(+light-gray+)182 1707 y(+light-pink+)329 b(+light-salmon+)357
b(+light-sea-green+)182 1774 y(+light-sky-blue+)213 b(+light-slate-blue+)241
b(+light-slate-gray+)182 1840 y(+light-steel-blue+)155 b(+light-yellow+)357
b(+lime-green+)182 1906 y(+linen+)474 b(+magenta+)502 b(+maroon+)182
1973 y(+medium-aquamarine+)126 b(+medium-blue+)386 b(+medium-orchid+)182
2039 y(+medium-purple+)242 b(+medium-sea-green+)f(+medium-slate-blue+)182
2106 y(+medium-spring-green+)68 b(+medium-turquoise+)241 b
(+medium-violet-red+)182 2172 y(+midnight-blue+)h(+mint-cream+)415
b(+misty-rose+)182 2238 y(+moccasin+)387 b(+navajo-white+)357
b(+navy-blue+)182 2305 y(+old-lace+)387 b(+olive-drab+)415
b(+orange+)182 2371 y(+orange-red+)329 b(+orchid+)531 b(+pale-goldenrod+)182
2438 y(+pale-green+)329 b(+pale-turquoise+)299 b(+pale-violet-red+)182
2504 y(+papaya-whip+)h(+peach-puff+)415 b(+peru+)182 2571 y(+pink+)503
b(+plum+)589 b(+powder-blue+)182 2637 y(+purple+)445 b(+red+)618
b(+rosy-brown+)182 2703 y(+royal-blue+)329 b(+saddle-brown+)357
b(+salmon+)182 2770 y(+sandy-brown+)300 b(+sea-green+)444 b(+seashell+)182
2836 y(+sienna+)h(+sky-blue+)473 b(+slate-blue+)182 2903 y(+slate-gray+)329
b(+snow+)589 b(+spring-green+)182 2969 y(+steel-blue+)329 b(+tan+)618
b(+thistle+)182 3035 y(+tomato+)445 b(+turquoise+)f(+violet+)182
3102 y(+violet-red+)329 b(+wheat+)560 b(+white+)182 3168 y(+white-smoke+)300
b(+yellow+)531 b(+yellow-green+)887 3288 y Fr(T)-5 b(able)18
b(13.1:)25 b(Standard)16 b(color)h(names.)p 149 3356 V eop
%%Page: 118 133
bop 149 16 a Fm(CHAPTER)16 b(13.)43 b(DRA)-6 b(WING)18 b(IN)g(COLOR)1234
b Fr(118)149 210 y(If)24 b Fs(k)g Fr(is)h(supplied,)g(it)f(m)n(ust)f(b)r(e)g
(an)g(in)n(teger)g(b)r(et)n(w)n(een)g(0)h(and)f Fs(n)d Fj(\000)d
Fr(1)23 b(\(inclusiv)n(e\),)j(in)e(whic)n(h)g(case)f Ft(make-)149
276 y(contrasting-inks)c Fr(returns)d(the)i Fs(k)p Fr('th)g(design)g(rather)e
(than)h(returning)f(a)i(v)n(ector)g(of)g(designs.)149 409 y(If)12
b(the)g(implemen)n(tation)d(do)r(es)i(not)g(ha)n(v)n(e)i Fs(n)g
Fr(di\013eren)n(t)e(con)n(trasting)g(inks,)j Ft(make-contrasting-inks)g
Fr(signals)149 475 y(an)k(error.)23 b(This)18 b(will)i(not)d(happ)r(en)f
(unless)i Fs(n)h Fr(is)f(greater)e(than)h(eigh)n(t.)149 608
y(The)22 b(rendering)f(of)i(the)f(design)g(ma)n(y)h(b)r(e)f(a)h(color)f(or)h
(a)g(stippled)f(pattern,)g(dep)r(ending)f(on)h(whether)f(the)149
674 y(output)16 b(medium)g(supp)r(orts)g(color.)49 807 y Fj(\))45
b Ft(contrasting-inks-limit)30 b Fs(p)m(ort)1070 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 926 y(Returns)13 b(the)h(n)n(um)n(b)r(er)f(of)h(con)
n(trasting)f(colors)h(\(or)g(stipple)g(patterns)f(if)i Fs(p)m(ort)h
Fr(is)g(mono)r(c)n(hrome)10 b(or)15 b(gra)n(yscale\))149 993
y(that)f(can)h(b)r(e)g(rendered)f(on)h(an)n(y)h(medium)e(on)h(the)g
Fm(p)r(ort)f Fs(p)m(ort)p Fr(.)26 b(Implemen)n(tations)12 b(are)j(encouraged)
e(to)i(mak)n(e)149 1059 y(this)20 b(as)g(large)g(as)g(p)r(ossible,)h(but)f
(it)g(m)n(ust)g(b)r(e)g(at)g(least)f(8.)32 b(All)21 b(classes)f(that)f(ob)r
(ey)h(the)f(medium)g(proto)r(col)149 1126 y(m)n(ust)e(implemen)n(t)f(a)i
(metho)r(d)d(for)j(this)g(generic)f(function.)149 1375 y Fk(13.4)91
b(Opacit)m(y)49 1563 y Fj(\))45 b Ft(opacity)1710 b Fr([)p
Fs(Pr)m(oto)m(c)m(ol)23 b(Class)5 b Fr(])149 1682 y(A)23 b(mem)n(b)r(er)e(of)
i(the)g(class)g Ft(opacity)h Fr(is)g(a)g(completely)d(colorless)i(design)g
(that)f(is)i(t)n(ypically)g(used)f(as)g(the)149 1748 y(second)15
b(argumen)n(t)f(to)i Ft(compose-in)h Fr(to)f(adjust)f(the)h(opacit)n(y)g(of)g
(another)e(design.)24 b(See)16 b(Chapter)e(14)i(for)g(the)149
1815 y(details)i(of)g Ft(compose-in)p Fr(.)26 b(The)18 b Ft(opacity)i
Fr(class)e(is)h(the)e(proto)r(col)g(class)h(for)g(an)g(opacit)n(y)-5
b(,)19 b(and)f(is)h(a)f(sub)r(class)149 1881 y(of)d Ft(design)p
Fr(.)25 b(If)16 b(y)n(ou)g(w)n(an)n(t)g(to)g(create)e(a)i(new)f(class)h(that)
e(b)r(eha)n(v)n(es)h(lik)n(e)i(an)f(opacit)n(y)-5 b(,)17 b(it)f(should)f(b)r
(e)g(a)h(sub)r(class)149 1947 y(of)i Ft(opacity)p Fr(.)25 b(Sub)r(classes)16
b(of)i Ft(opacity)h Fr(m)n(ust)e(ob)r(ey)g(the)h(opacit)n(y)f(proto)r(col.)
149 2080 y(All)h(of)g(the)g(standard)e(instan)n(tiable)h(opacit)n(y)h
(classes)f(pro)n(vided)h(b)n(y)g(CLIM)g(are)g(imm)n(utable.)149
2213 y(Opacit)n(y)j(con)n(trols)f(ho)n(w)i(graphical)e(output)f(co)n(v)n(ers)
j(previous)e(output.)33 b(Opacit)n(y)21 b(can)f(v)m(ary)i(from)e(totally)149
2279 y(opaque)f(to)g(totally)h(transparen)n(t.)28 b(In)n(termediate)17
b(opacit)n(y)i(v)m(alues)h(result)f(in)i(color)e(blending)h(so)f(that)g(the)
149 2346 y(earlier)e(picture)g(sho)n(ws)h(through)e(what)h(is)i(dra)n(wn)f
(on)g(top)f(of)h(it.)149 2479 y(An)23 b(opacit)n(y)h(ma)n(y)g(b)r(e)g(sp)r
(eci\014ed)e(b)n(y)j(a)f(real)g(n)n(um)n(b)r(er)f(b)r(et)n(w)n(een)g(0)h(and)
g(1)g(\(inclusiv)n(e\).)42 b(0)25 b(is)f(completely)149 2545
y(transparen)n(t,)c(1)i(is)h(completely)d(opaque,)j(fractions)d(are)h
(translucen)n(t.)35 b(The)22 b(opacit)n(y)f(of)h(a)g(design)g(is)g(the)149
2612 y(degree)16 b(to)i(whic)n(h)g(it)g(hides)g(the)f(previous)h(con)n(ten)n
(ts)e(of)i(the)g(dra)n(wing)g(plane)f(when)h(it)g(is)h(dra)n(wn.)149
2744 y(The)d(fully)h(transparen)n(t)d(and)i(fully)i(opaque)d(opacit)n(y)h
(lev)n(els)i(\(that)d(is,)i(opacities)f(0)g(and)g(1\))g(m)n(ust)g(alw)n(a)n
(ys)h(b)r(e)149 2811 y(supp)r(orted,)f(but)i(a)h(v)m(alid)h(CLIM)e(implemen)n
(tation)e(migh)n(t)i(only)i(supp)r(ort)c(a)j(handful)f(of)h(opacit)n(y)f(lev)
n(els)i(in)149 2877 y(b)r(et)n(w)n(een)e(\(including)i(none\).)29
b(A)20 b(v)m(alid)h(CLIM)f(implemen)n(tation)d(migh)n(t)j(implemen)n(t)e
(color)h(blending)h(and)149 2944 y(unsaturated)12 b(colors)j(b)n(y)h
(stippling,)g(although)e(it)i(is)g(preferred,)e(when)h(p)r(ossible,)g(for)g
(a)h(viewp)r(ort)e(to)h(displa)n(y)149 3010 y(a)j(uniform)f(color)g(as)h(a)g
(uniform)f(color)g(rather)g(than)g(as)h(a)g(p)r(erceptible)d(stipple.)49
3143 y Fj(\))45 b Ft(opacityp)29 b Fs(obje)m(ct)1647 b Fr([)p
Fs(F)l(unction)t Fr(])149 3262 y(Returns)16 b Fm(true)h Fr(if)i
Fs(obje)m(ct)h Fr(is)f(an)f Fm(opacit)n(y)p Fr(,)g(otherwise)e(returns)h
Fm(false)p Fr(.)149 3395 y(The)g(follo)n(wing)i(function)e(returns)f(an)i
(opacit)n(y:)p eop
%%Page: 119 134
bop 149 16 a Fm(CHAPTER)16 b(13.)43 b(DRA)-6 b(WING)18 b(IN)g(COLOR)1234
b Fr(119)49 210 y Fj(\))45 b Ft(make-opacity)29 b Fs(value)1544
b Fr([)p Fs(F)l(unction)t Fr(])149 329 y(Returns)16 b(a)i(mem)n(b)r(er)d(of)i
(class)h Ft(opacity)g Fr(whose)f(opacit)n(y)h(is)g Fs(value)p
Fr(,)i(whic)n(h)e(is)g(a)g(real)f(n)n(um)n(b)r(er)g(in)h(the)f(range)149
395 y(from)g(0)h(to)f(1)h(\(inclusiv)n(e\),)h(where)e(0)h(is)g(fully)i
(transparen)n(t)15 b(and)i(1)i(is)f(fully)h(opaque.)149 528
y(The)c(follo)n(wing)h(function)e(returns)g(the)h(sole)g(comp)r(onen)n(t)d
(of)k(an)f(opacit)n(y)-5 b(.)24 b(This)15 b(is)i(the)d(only)i(function)e(in)i
(the)149 594 y(opacit)n(y)h(proto)r(col.)23 b(All)c(sub)r(classes)d(of)i
Ft(opacity)h Fr(m)n(ust)e(implemen)n(t)f(metho)r(ds)f(for)j(this)g(generic)e
(function.)49 727 y Fj(\))45 b Ft(opacity-value)29 b Fs(op)m(acity)1258
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 846 y(Returns)16
b(the)i(opacit)n(y)g(v)m(alue)g(of)g(the)g Fm(opacit)n(y)g
Fs(op)m(acity)p Fr(,)j(whic)n(h)e(is)g(a)f(real)g(n)n(um)n(b)r(er)f(in)i(the)
e(range)g(from)h(0)g(to)149 912 y(1)g(\(inclusiv)n(e\).)149
1162 y Fk(13.5)91 b(Color)30 b(Blending)149 1350 y Fr(Dra)n(wing)17
b(a)g(design)f(that)g(is)h(not)f(completely)f(opaque)h(at)h(all)g(p)r(oin)n
(ts)f(allo)n(ws)i(the)e(previous)g(con)n(ten)n(ts)g(of)g(the)149
1416 y(dra)n(wing)g(plane)g(to)f(sho)n(w)i(through.)22 b(The)16
b(simplest)f(case)g(is)i(dra)n(wing)f(a)h(solid)f(design:)23
b(where)16 b(the)f(design)h(is)149 1482 y(opaque,)h(it)h(replaces)f(the)g
(previous)g(con)n(ten)n(ts)g(of)h(the)f(dra)n(wing)h(plane;)g(where)f(the)g
(design)g(is)i(transparen)n(t,)149 1549 y(it)c(lea)n(v)n(es)h(the)f(dra)n
(wing)g(plane)f(unc)n(hanged.)22 b(In)16 b(the)e(more)g(general)g(case)g(of)h
(dra)n(wing)g(a)h(translucen)n(t)d(design,)149 1615 y(the)19
b(resulting)f(color)h(is)h(a)g(blend)f(of)g(the)g(design's)g(color)g(and)g
(the)g(previous)g(color)g(of)h(the)e(dra)n(wing)i(plane.)149
1682 y(F)-5 b(or)17 b(purp)r(oses)d(of)j(color)f(blending,)h(the)f(dra)n(wn)g
(design)g(is)i(called)e(the)g(foreground)e(and)j(the)f(dra)n(wing)g(plane)149
1748 y(is)i(called)g(the)f(bac)n(kground.)149 1881 y(The)j(function)f
Ft(compose-over)j Fr(p)r(erforms)c(a)j(similar)f(op)r(eration:)28
b(it)20 b(com)n(bines)g(t)n(w)n(o)h(designs)f(to)g(pro)r(duce)149
1947 y(a)25 b(design,)h(rather)d(than)h(com)n(bining)g(a)h(design)f(and)g
(the)g(con)n(ten)n(ts)g(of)g(the)h(dra)n(wing)f(plane)g(to)h(pro)r(duce)149
2014 y(the)c(new)h(con)n(ten)n(ts)f(of)h(the)f(dra)n(wing)h(plane.)36
b(F)-5 b(or)22 b(purp)r(oses)e(of)i(color)g(blending,)h(the)e(\014rst)g
(argumen)n(t)f(to)149 2080 y Ft(compose-over)g Fr(is)g(called)f(the)g
(foreground)e(and)h(the)h(second)f(argumen)n(t)f(is)j(called)f(the)g(bac)n
(kground.)26 b(See)149 2147 y(Chapter)16 b(14)i(for)g(the)f(details)g(of)i
Ft(compose-over)p Fr(.)149 2279 y(Color)c(blending)f(is)i(de\014ned)d(b)n(y)j
(an)f(ideal)h(function)d Fj(F)5 b Fr(:)k(\()p Fn(r)1365 2287
y Fg(1)1391 2279 y Fn(;)g(g)1441 2287 y Fg(1)1466 2279 y Fn(;)g(b)1514
2287 y Fg(1)1540 2279 y Fn(;)g(o)1591 2287 y Fg(1)1616 2279
y Fn(;)g(r)1665 2287 y Fg(2)1690 2279 y Fn(;)g(g)1740 2287
y Fg(2)1766 2279 y Fn(;)g(b)1814 2287 y Fg(2)1839 2279 y Fn(;)g(o)1890
2287 y Fg(2)1915 2279 y Fr(\))15 b Fj(!)h Fr(\()p Fn(r)2070
2287 y Fg(3)2094 2279 y Fn(;)9 b(g)2144 2287 y Fg(3)2170 2279
y Fn(;)g(b)2218 2287 y Fg(3)2243 2279 y Fn(;)g(o)2294 2287
y Fg(3)2320 2279 y Fr(\))15 b(that)149 2346 y(op)r(erates)h(on)j(the)g(color)
f(and)h(opacit)n(y)g(at)f(a)i(single)f(p)r(oin)n(t.)27 b(\()p
Fn(r)1472 2354 y Fg(1)1496 2346 y Fn(;)9 b(g)1546 2354 y Fg(1)1572
2346 y Fn(;)g(b)1620 2354 y Fg(1)1645 2346 y Fn(;)g(o)1696
2354 y Fg(1)1722 2346 y Fr(\))19 b(are)f(the)h(foreground)d(color)j(and)149
2412 y(opacit)n(y)-5 b(.)42 b(\()p Fn(r)424 2420 y Fg(2)448
2412 y Fn(;)9 b(g)498 2420 y Fg(2)524 2412 y Fn(;)g(b)572 2420
y Fg(2)597 2412 y Fn(;)g(o)648 2420 y Fg(2)674 2412 y Fr(\))24
b(are)f(the)g(bac)n(kground)f(color)i(and)f(opacit)n(y)-5 b(.)43
b(\()p Fn(r)1754 2420 y Fg(3)1778 2412 y Fn(;)9 b(g)1828 2420
y Fg(3)1854 2412 y Fn(;)g(b)1902 2420 y Fg(3)1927 2412 y Fn(;)g(o)1978
2420 y Fg(3)2003 2412 y Fr(\))24 b(are)f(the)h(resulting)149
2479 y(color)19 b(and)g(opacit)n(y)-5 b(.)31 b(The)19 b(color)g(blending)h
(function)e Fj(F)26 b Fr(is)20 b(conceptually)f(applied)g(at)h(ev)n(ery)g(p)r
(oin)n(t)f(in)h(the)149 2545 y(dra)n(wing)d(plane.)149 2678
y Fj(F)23 b Fr(p)r(erforms)16 b(linear)i(in)n(terp)r(olation)e(on)i(all)g
(four)g(comp)r(onen)n(ts:)786 2796 y Fn(o)813 2804 y Fg(3)893
2796 y Fr(=)181 b Fn(o)1144 2804 y Fg(1)1224 2796 y Fr(+)55
b(\(1)12 b Fj(\000)g Fn(o)1466 2804 y Fg(1)1491 2796 y Fr(\))g
Fj(\003)g Fn(o)1592 2804 y Fg(2)788 2862 y Fn(r)813 2870 y
Fg(3)893 2862 y Fr(=)57 b(\()p Fn(o)1042 2870 y Fg(1)1079 2862
y Fj(\003)12 b Fn(r)1144 2870 y Fg(1)1224 2862 y Fr(+)55 b(\(1)12
b Fj(\000)g Fn(o)1466 2870 y Fg(1)1491 2862 y Fr(\))g Fj(\003)g
Fn(o)1592 2870 y Fg(2)1628 2862 y Fj(\003)g Fn(r)1693 2870
y Fg(2)1718 2862 y Fr(\))p Fn(=o)1795 2870 y Fg(3)787 2929
y Fn(g)813 2937 y Fg(3)893 2929 y Fr(=)56 b(\()p Fn(o)1041
2937 y Fg(1)1077 2929 y Fj(\003)12 b Fn(g)1143 2937 y Fg(1)1224
2929 y Fr(+)55 b(\(1)12 b Fj(\000)g Fn(o)1466 2937 y Fg(1)1491
2929 y Fr(\))g Fj(\003)g Fn(o)1592 2937 y Fg(2)1628 2929 y
Fj(\003)g Fn(g)1694 2937 y Fg(2)1720 2929 y Fr(\))p Fn(=o)1797
2937 y Fg(3)789 2995 y Fn(b)813 3003 y Fg(3)893 2995 y Fr(=)58
b(\()p Fn(o)1043 3003 y Fg(1)1080 2995 y Fj(\003)12 b Fn(b)1144
3003 y Fg(1)1224 2995 y Fr(+)55 b(\(1)12 b Fj(\000)g Fn(o)1466
3003 y Fg(1)1491 2995 y Fr(\))g Fj(\003)g Fn(o)1592 3003 y
Fg(2)1628 2995 y Fj(\003)g Fn(b)1692 3003 y Fg(2)1717 2995
y Fr(\))p Fn(=o)1794 3003 y Fg(3)149 3115 y Fr(Note)j(that)h(if)h
Fn(o)476 3123 y Fg(3)518 3115 y Fr(is)g(zero,)g(these)e(equations)h(w)n(ould)
h(divide)g(zero)f(b)n(y)h(zero.)23 b(In)17 b(that)f(case)g
Fn(r)2071 3123 y Fg(3)2095 3115 y Fr(,)i Fn(g)2154 3123 y Fg(3)2179
3115 y Fr(,)g(and)f Fn(b)2343 3123 y Fg(3)2384 3115 y Fr(are)149
3181 y(de\014ned)f(to)i(b)r(e)f(zero.)149 3314 y(CLIM)24 b(requires)g(that)g
Fj(F)31 b Fr(b)r(e)24 b(implemen)n(ted)f(exactly)h(if)i Fn(o)1431
3322 y Fg(1)1481 3314 y Fr(is)f(zero)f(or)h(one)f(or)h(if)h
Fn(o)2010 3322 y Fg(2)2060 3314 y Fr(is)f(zero.)45 b(If)25
b Fn(o)2371 3322 y Fg(1)2421 3314 y Fr(is)149 3380 y(zero,)c(the)f(result)g
(is)h(the)f(bac)n(kground.)32 b(If)21 b Fn(o)1110 3388 y Fg(1)1156
3380 y Fr(is)h(one)e(or)g Fn(o)1416 3388 y Fg(2)1462 3380 y
Fr(is)i(zero,)f(the)f(result)g(is)i(the)e(foreground.)30 b(F)-5
b(or)149 3447 y(fractional)17 b(opacit)n(y)h(v)m(alues,)h(an)f(implemen)n
(tation)e(can)i(deviate)f(from)h(the)f(ideal)i(color)f(blending)g(function)p
eop
%%Page: 120 135
bop 149 16 a Fm(CHAPTER)16 b(13.)43 b(DRA)-6 b(WING)18 b(IN)g(COLOR)1234
b Fr(120)149 210 y(either)15 b(b)r(ecause)e(the)j(implemen)n(tation)d(has)i
(limited)h(opacit)n(y)f(resolution)g(or)h(b)r(ecause)d(the)j(implemen)n
(tation)149 276 y(can)h(compute)f(a)i(di\013eren)n(t)f(color)h(blending)f
(function)g(m)n(uc)n(h)h(more)e(quic)n(kly)-5 b(.)149 409 y(If)21
b(a)g(medium's)e(bac)n(kground)g(design)h(is)i(not)e(completely)f(opaque)h
(at)g(all)i(p)r(oin)n(ts,)f(the)f(consequences)e(are)149 475
y(unsp)r(eci\014ed.)i(Consequen)n(tly)-5 b(,)14 b(a)g(dra)n(wing)f(plane)f
(is)i(alw)n(a)n(ys)g(opaque)f(and)f(dra)n(wing)h(can)g(use)g(simpli\014ed)f
(color)149 542 y(blending)19 b(that)g(assumes)e Fn(o)738 550
y Fg(2)781 542 y Fr(=)i(1)g(and)h Fn(o)1027 550 y Fg(3)1070
542 y Fr(=)e(1.)30 b(Ho)n(w)n(ev)n(er,)20 b Ft(compose-over)h
Fr(m)n(ust)e(handle)g(a)h(non-opaque)149 608 y(bac)n(kground)c(correctly)-5
b(.)149 741 y(Note)15 b(that)h(these)f(\()p Fn(r)n(;)9 b(g)r(;)g(b;)g(o)p
Fr(\))19 b(quadruples)c(of)i(real)g(n)n(um)n(b)r(ers)e(b)r(et)n(w)n(een)g(0)i
(and)f(1)h(are)f(mathematical)d(and)k(an)149 807 y(implemen)n(tation)e(need)h
(not)i(store)e(information)g(in)i(this)g(form.)23 b(Most)17
b(implemen)n(tations)e(are)i(exp)r(ected)e(to)149 874 y(use)i(a)h(di\013eren)
n(t)g(represen)n(tation.)149 1123 y Fk(13.6)91 b(Indirect)29
b(Inks)149 1311 y Fr(Dra)n(wing)14 b(with)f(an)h Fm(indirect)e(ink)j
Fr(is)f(the)f(same)f(as)i(dra)n(wing)f(another)f(design)h(named)f(directly)-5
b(.)23 b(F)-5 b(or)13 b(example,)149 1377 y Ft(+foreground-ink+)23
b Fr(is)h(a)e(design)g(that)f(dra)n(ws)h(the)g(medium's)f(foreground)f
(design)i(and)g(is)h(the)f(default)149 1444 y(v)m(alue)f(of)g(the)g
Ft(:ink)h Fr(dra)n(wing)f(option.)33 b(Indirect)20 b(inks)i(exist)f(for)g
(the)g(b)r(ene\014t)e(of)i(output)f(recording.)32 b(F)-5 b(or)149
1510 y(example,)15 b(one)h(can)g(dra)n(w)g(with)g Ft(+foreground-ink+)p
Fr(,)i(c)n(hange)d(to)h(a)g(di\013eren)n(t)g Ft(medium-foreground)p
Fr(,)i(and)149 1577 y(repla)n(y)g(the)f(output)g(record;)f(the)i(repla)n(y)n
(ed)g(output)e(will)k(come)c(out)i(in)g(the)f(new)h(color.)149
1709 y(Y)-5 b(ou)20 b(can)h(c)n(hange)e(the)h(foreground)f(or)i(bac)n
(kground)e(design)h(of)h(a)g(medium)e(at)h(an)n(y)i(time.)32
b(This)21 b(c)n(hanges)149 1776 y(the)16 b(con)n(ten)n(ts)g(of)i(the)e
(medium's)g(dra)n(wing)h(plane.)24 b(The)17 b(e\013ect)f(is)i(as)g(if)g(ev)n
(erything)e(on)h(the)g(dra)n(wing)g(plane)149 1842 y(is)g(erased,)e(the)h
(bac)n(kground)f(design)g(is)i(dra)n(wn)f(on)n(to)g(the)g(dra)n(wing)g
(plane,)g(and)g(then)f(ev)n(erything)h(that)f(w)n(as)149 1909
y(ev)n(er)f(dra)n(wn)g(\(pro)n(vided)f(it)i(w)n(as)f(sa)n(v)n(ed)h(in)f(the)g
(output)e(history\))i(is)g(dra)n(wn)g(o)n(v)n(er)h(again,)g(using)f(the)f
(medium's)149 1975 y(new)k(foreground)f(and)i(bac)n(kground.)149
2108 y(If)h(an)g(in\014nite)f(recursion)f(is)j(created)d(using)h(an)h
(indirect)f(ink,)i(an)f(error)e(is)j(signalled)f(when)f(the)g(recursion)149
2174 y(is)g(created,)f(when)g(the)g(design)h(is)h(used)e(for)h(dra)n(wing,)g
(or)g(b)r(oth.)149 2307 y(Tw)n(o)g(indirect)f(inks)i(are)e(de\014ned,)g(but)h
(no)g(adv)n(ertised)f(w)n(a)n(y)i(is)f(pro)n(vided)g(to)g(create)e(more)g(of)
j(them.)49 2440 y Fj(\))45 b Ft(+foreground-ink+)1573 b Fr([)p
Fs(Constant)5 b Fr(])149 2559 y(An)17 b(indirect)g(ink)i(that)e(uses)h(the)f
(medium's)f(foreground)g(design.)49 2692 y Fj(\))45 b Ft(+background-ink+)
1573 b Fr([)p Fs(Constant)5 b Fr(])149 2811 y(An)17 b(indirect)g(ink)i(that)e
(uses)h(the)f(medium's)f(bac)n(kground)h(design.)149 3060 y
Fk(13.7)91 b(Flipping)28 b(Ink)49 3248 y Fj(\))45 b Ft(make-flipping-ink)30
b Fs(design1)21 b(design2)1145 b Fr([)p Fs(F)l(unction)t Fr(])149
3367 y(Returns)13 b(a)j(design)f(that)f(in)n(terc)n(hanges)g(o)r(ccurrences)e
(of)j(the)g(t)n(w)n(o)h Fm(designs)f Fs(design1)i Fr(and)e
Fs(design2)p Fr(.)25 b(Dra)n(wing)149 3433 y(the)18 b(resulting)f(design)h(o)
n(v)n(er)i(a)e(bac)n(kground)g(\(either)f(b)n(y)i(dra)n(wing)g(or)f(with)h
Ft(compose-over)p Fr(\))g(is)h(de\014ned)d(to)p eop
%%Page: 121 136
bop 149 16 a Fm(CHAPTER)16 b(13.)43 b(DRA)-6 b(WING)18 b(IN)g(COLOR)1234
b Fr(121)149 210 y(c)n(hange)19 b(the)g(color)g(in)i(the)e(bac)n(kground)f
(that)h(w)n(ould)h(ha)n(v)n(e)h(b)r(een)e(dra)n(wn)g(b)n(y)i
Fs(design1)h Fr(at)d(that)g(p)r(oin)n(t)g(in)n(to)149 276 y(the)h(color)g
(that)f(w)n(ould)i(ha)n(v)n(e)g(b)r(een)e(dra)n(wn)i(b)n(y)g
Fs(design2)h Fr(at)e(that)g(p)r(oin)n(t,)h(and)f(vice)h(v)n(ersa.)32
b(The)20 b(e\013ect)g(on)149 342 y(an)n(y)15 b(color)g(other)f(than)g(the)g
(colors)h(determined)d(b)n(y)k(those)e(t)n(w)n(o)h(designs)g(is)g(unsp)r
(eci\014ed;)g(ho)n(w)n(ev)n(er,)h(dra)n(wing)149 409 y(the)g(same)f(\014gure)
h(t)n(wice)g(using)h(the)f(same)f(\015ipping)i(ink)g(is)h(guaran)n(teed)c(to)
i(b)r(e)g(an)h(\\iden)n(tit)n(y")g(op)r(eration.)k(If)149 475
y(either)c Fs(design1)i Fr(or)f Fs(design2)h Fr(is)g(not)e(solid,)i(the)e
(consequences)e(are)i(unsp)r(eci\014ed.)22 b(The)c(purp)r(ose)e(of)i
(\015ipping)149 542 y(is)g(to)g(allo)n(w)h(the)e(use)h(of)g(\\X)n(OR)g(hac)n
(ks")g(for)f(temp)r(orary)e(c)n(hanges)i(to)h(the)f(displa)n(y)-5
b(.)149 674 y(The)22 b(opacit)n(y)h(of)f(a)h(\015ipping)g(ink)g(is)h(zero)e
(at)g(p)r(oin)n(ts)g(where)g(the)g(opacit)n(y)g(of)h(either)f
Fs(design1)i Fr(or)f Fs(design2)149 741 y Fr(is)f(zero.)36
b(Otherwise)21 b(the)g(opacit)n(y)h(of)g(a)g(\015ipping)g(ink)h(is)g(1.)37
b(If)22 b Fs(design1)i Fr(or)e Fs(design2)h Fr(is)g(translucen)n(t,)e(the)149
807 y(consequences)g(are)i(unsp)r(eci\014ed.)41 b(If)24 b Ft(compose-in)h
Fr(or)f Ft(compose-out)h Fr(is)g(used)e(to)h(mak)n(e)g(a)g(\015ipping)g(ink)
149 874 y(translucen)n(t,)16 b(the)h(consequences)f(are)h(unsp)r(eci\014ed.)
149 1007 y(If)h Fs(design1)i Fr(and)d Fs(design2)j Fr(are)d(equiv)m(alen)n
(t,)i(the)e(result)g(can)h(b)r(e)f Ft(+nowhere+)p Fr(.)149
1139 y(In)h(Release)f(2,)h Ft(make-flipping-ink)i Fr(migh)n(t)d(require)g
Fs(design1)j Fr(and)e Fs(design2)h Fr(to)f(b)r(e)f(colors.)49
1272 y Fj(\))45 b Ft(+flipping-ink+)1631 b Fr([)p Fs(Constant)5
b Fr(])149 1391 y(A)18 b(\015ipping)g(ink)g(that)f(\015ips)h
Ft(+foreground-ink+)i Fr(and)d Ft(+background-ink+)p Fr(.)149
1641 y Fk(13.8)91 b(Examples)31 b(of)f(Simple)g(Dra)m(wing)g(E\013ects)149
1828 y Fo(Dra)n(wing)22 b(in)g(the)g(foreground)h(color.)55
b Fr(Use)18 b(the)f(default,)h(or)f(sp)r(ecify)h Ft(:ink)29
b(+foreground-ink+)p Fr(.)149 2039 y Fo(Erasing.)56 b Fr(Sp)r(ecify)17
b Ft(:ink)29 b(+background-ink+)p Fr(.)149 2249 y Fo(Dra)n(wing)h(in)g
(color.)55 b Fr(Sp)r(ecify)24 b Ft(:ink)30 b(+green+)p Fr(,)d
Ft(:ink)j(\(make-rgb-color)f(0.6)h(0.0)f(0.4\))p Fr(,)e(and)e(so)149
2315 y(forth.)149 2526 y Fo(Dra)n(wing)j(an)f(opaque)g(gra)n(y)-5
b(.)54 b Fr(Sp)r(ecify)22 b Ft(:ink)29 b(\(make-gray-color)h(0.25\))24
b Fr(to)f(dra)n(w)f(in)i(a)f(shade)f(of)149 2592 y(gra)n(y)d(indep)r(enden)n
(t)e(of)j(the)f(windo)n(w's)h(foreground)d(color.)28 b(On)20
b(a)g(non-color,)f(non-gra)n(yscale)f(displa)n(y)j(this)149
2658 y(will)e(generally)f(turn)f(in)n(to)h(a)g(stipple.)p eop
%%Page: 122 137
bop 149 691 a Fl(Chapter)46 b(14)149 1034 y Fq(General)51 b(Designs)149
1388 y Fr(This)20 b(c)n(hapter)f(discusses)g(more)g(general)g(designs)g(than)
h(Chapter)f(13)h(and)f(rev)n(eals)i(that)e(regions)g(are)h(also)149
1455 y(designs.)26 b(This)20 b(c)n(hapter)d(generalizes)g(to)i(those)e
(designs)i(that)e(do)i(not)g(ha)n(v)n(e)g(the)f(same)g(color)g(and)h(opacit)n
(y)149 1521 y(at)e(ev)n(ery)i(p)r(oin)n(t)e(in)i(the)e(dra)n(wing)h(plane.)24
b(These)17 b(include:)232 1710 y Fj(\017)27 b Fr(comp)r(osite)15
b(designs,)232 1820 y Fj(\017)27 b Fr(patterns,)232 1931 y
Fj(\017)g Fr(stencils,)232 2042 y Fj(\017)g Fr(tiled)18 b(designs,)232
2152 y Fj(\017)27 b Fr(transformed)15 b(designs,)232 2263 y
Fj(\017)27 b Fr(output)16 b(record)h(designs,)h(and)232 2374
y Fj(\017)27 b Fr(regions)149 2562 y(Sev)n(eral)d(of)g(the)g(features)f
(describ)r(ed)f(in)j(this)f(c)n(hapter)f(ma)n(y)i(not)f(b)r(e)f(fully)j(supp)
r(orted)c(in)j(Release)e(2)i(of)149 2628 y(CLIM.)149 2761 y
Fo(Note:)f Fr(A)18 b(design)g(is)g(a)h(uni\014cation)d(of)j(b)r(oth)d(a)j
(shap)r(e)d(and)i(a)h(color)e(and)h(opacit)n(y)-5 b(.)25 b(As)18
b(suc)n(h,)g(a)h(design)e(can)149 2828 y(serv)n(e)j(m)n(ultiple)h(roles.)33
b(F)-5 b(or)21 b(example,)g(the)f(same)g(design)g(can)g(pla)n(y)i(the)e(role)
h(of)g(an)g(ink)g(that)f(colors)g(the)149 2894 y(dra)n(wing)f(plane,)h(a)g
(shap)r(e)e(that)g(sp)r(eci\014es)g(where)h(to)g(dra)n(w)g(another)f(design,)
i(a)f(stencil)g(that)g(con)n(trols)f(the)149 2960 y(comp)r(ositing)d(of)j(t)n
(w)n(o)g(designs,)f(the)h(bac)n(kground)e(of)i(a)f(windo)n(w,)i(or)f(a)g
(region)e(that)h(de\014nes)g(clipping.)24 b(It)18 b(is)149
3027 y(imp)r(ortan)n(t)f(not)i(to)g(get)g(confused)f(b)r(et)n(w)n(een)h
Fm(t)n(yp)r(e)p Fr(,)h(whic)n(h)g(is)g(inheren)n(t)f(in)h(an)f(ob)s(ject,)g
(and)h Fm(role)p Fr(,)g(whic)n(h)g(is)149 3093 y(determined)15
b(b)n(y)k(ho)n(w)f(an)g(ob)s(ject)f(is)h(used)g(in)g(a)g(particular)f
(function)g(call.)1262 3632 y(122)p eop
%%Page: 123 138
bop 149 16 a Fm(CHAPTER)16 b(14.)43 b(GENERAL)17 b(DESIGNS)1272
b Fr(123)149 210 y Fk(14.1)91 b(The)31 b(Comp)s(ositing)d(Proto)s(col)149
397 y Fm(Comp)r(ositing)14 b Fr(creates)g(a)j(design)f(whose)g(app)r(earance)
d(at)j(eac)n(h)g(p)r(oin)n(t)g(is)h(a)g(comp)r(osite)d(of)i(the)g(app)r
(earances)149 464 y(of)g(t)n(w)n(o)g(other)f(designs)g(at)g(that)g(p)r(oin)n
(t.)24 b(Three)15 b(v)m(arieties)g(of)h(comp)r(ositing)d(are)i(pro)n(vided:)
23 b Fm(comp)r(osing)14 b(o)n(v)n(er)p Fr(,)149 530 y Fm(comp)r(osing)h(in)p
Fr(,)k(and)f Fm(comp)r(osing)d(out)p Fr(.)149 663 y(The)h(metho)r(ds)e(for)i
Ft(compose-over)p Fr(,)i Ft(compose-in)p Fr(,)h(and)d Ft(compose-out)h
Fr(will)i(t)n(ypically)e(sp)r(ecialize)e(b)r(oth)h(of)149 729
y(the)h(design)g(argumen)n(ts.)149 862 y Fm(In)h(Release)f(2,)h(comp)r
(ositing)e(migh)n(t)h(only)h(b)r(e)g(supp)r(orted)d(for)j(uniform)e(designs.)
49 995 y Fj(\))45 b Ft(compose-over)29 b Fs(design1)21 b(design2)1080
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1114 y(Comp)r(oses)d(a)i(new)
g(design)g(that)g(is)h(equiv)m(alen)n(t)f(to)g(the)g Fm(design)g
Fs(design1)i Fr(on)f(top)e(of)i(the)f Fm(design)g Fs(design2)p
Fr(.)149 1180 y(Dra)n(wing)c(the)f(resulting)h(design)f(pro)r(duces)f(the)h
(same)g(visual)i(app)r(earance)13 b(as)k(dra)n(wing)g Fs(design2)i
Fr(and)e(then)149 1247 y(dra)n(wing)j Fs(design1)p Fr(,)k(but)c(migh)n(t)g(b)
r(e)h(faster)e(and)i(migh)n(t)f(not)g(allo)n(w)i(the)e(in)n(termediate)f
(state)g(to)h(b)r(e)h(visible)149 1313 y(on)d(the)f(screen.)149
1446 y(If)h(b)r(oth)f(argumen)n(ts)e(are)j(regions,)f Ft(compose-over)i
Fr(is)g(the)e(same)g(as)h Ft(region-union)p Fr(.)149 1579 y(This)i(function)g
(is)h(p)r(ermitted)c(to)j(capture)e(its)j(m)n(utable)e(inputs;)i(the)f
(consequences)d(of)k(mo)r(difying)e(those)149 1645 y(ob)s(jects)g(are)h(unsp)
r(eci\014ed.)e(The)i(result)g(returned)e(b)n(y)k Ft(compose-over)g
Fr(migh)n(t)d(b)r(e)h(freshly)h(constructed)c(or)149 1712 y(migh)n(t)g(b)r(e)
g(an)h(existing)g(ob)s(ject.)49 1845 y Fj(\))45 b Ft(compose-in)29
b Fs(ink)21 b(mask)1298 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1964 y(Comp)r(oses)c(a)j(new)g(design)g(b)n(y)h(clipping)f(the)f
Fm(design)h Fs(ink)h Fr(to)e(the)h(inside)g(of)g(the)f Fm(design)h
Fs(mask)p Fr(.)35 b(The)20 b(\014rst)149 2030 y(design,)g Fs(ink)p
Fr(,)j(supplies)d(the)f(color,)i(while)g(the)f(second)f(design,)h
Fs(mask)p Fr(,)j(c)n(hanges)c(the)g(shap)r(e)g(of)i(the)e(design)149
2096 y(b)n(y)g(adjusting)d(the)i(opacit)n(y)-5 b(.)149 2229
y(More)18 b(precisely)-5 b(,)20 b(at)f(eac)n(h)f(p)r(oin)n(t)h(in)h(the)e
(dra)n(wing)h(plane)g(the)g(resulting)f(design)g(sp)r(eci\014es)g(a)h(color)g
(and)g(an)149 2296 y(opacit)n(y)e(as)g(follo)n(ws:)25 b(the)16
b(color)h(is)h(the)e(same)g(color)h(that)f Fs(ink)i Fr(sp)r(eci\014es.)23
b(The)17 b(opacit)n(y)f(is)i(the)f(opacit)n(y)g(that)149 2362
y Fs(ink)i Fr(sp)r(eci\014es,)d(m)n(ultiplied)i(b)n(y)h(the)e(stencil)h
(opacit)n(y)g(of)g Fs(mask)p Fr(.)149 2495 y(The)c Fm(stencil)f(opacit)n(y)h
Fr(of)g(a)h(design)e(at)h(a)g(p)r(oin)n(t)g(is)h(de\014ned)d(as)j(the)e
(opacit)n(y)h(that)f(w)n(ould)i(result)e(from)g(dra)n(wing)149
2561 y(the)g(design)h(on)n(to)g(a)g(\014ctitious)f(medium)f(whose)i(dra)n
(wing)g(plane)g(is)g(initially)i(completely)d(transparen)n(t)e(blac)n(k)149
2628 y(\(opacit)n(y)22 b(and)g(all)i(color)e(comp)r(onen)n(ts)d(are)k
(zero\),)f(and)h(whose)f(foreground)e(and)j(bac)n(kground)e(are)h(b)r(oth)149
2694 y(opaque)d(blac)n(k.)30 b(With)20 b(this)f(de\014nition,)h(the)f
(stencil)g(opacit)n(y)h(of)f(a)h(mem)n(b)r(er)d(of)j(class)g
Ft(opacity)g Fr(is)h(simply)149 2761 y(its)d(v)m(alue.)149
2893 y(If)g Fs(mask)h Fr(is)g(a)f(solid)g(design,)g(the)f(e\013ect)g(of)h
Ft(compose-in)h Fr(is)g(to)f(clip)g Fs(ink)h Fr(to)f Fs(mask)p
Fr(.)25 b(If)19 b Fs(mask)g Fr(is)f(translucen)n(t,)149 2960
y(the)f(e\013ect)g(is)i(a)f(soft)f(matte.)149 3093 y(If)h(b)r(oth)f(argumen)n
(ts)e(are)j(regions,)f Ft(compose-in)i Fr(is)g(the)e(same)g(as)h
Ft(region-intersection)p Fr(.)149 3226 y(This)i(function)g(is)h(p)r(ermitted)
c(to)j(capture)e(its)j(m)n(utable)e(inputs;)i(the)f(consequences)d(of)k(mo)r
(difying)e(those)149 3292 y(ob)s(jects)k(are)i(unsp)r(eci\014ed.)f(The)h
(result)f(returned)g(b)n(y)i Ft(compose-in)g Fr(migh)n(t)f(b)r(e)g(freshly)g
(constructed)d(or)149 3358 y(migh)n(t)17 b(b)r(e)g(an)h(existing)g(ob)s
(ject.)p eop
%%Page: 124 139
bop 149 16 a Fm(CHAPTER)16 b(14.)43 b(GENERAL)17 b(DESIGNS)1272
b Fr(124)49 210 y Fj(\))45 b Ft(compose-out)29 b Fs(ink)21
b(mask)1269 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
329 y(Comp)r(oses)16 b(a)k(new)f(design)g(b)n(y)h(clipping)f(the)g
Fm(design)f Fs(ink)j Fr(to)e(the)f(outside)g(of)i(the)e Fm(design)h
Fs(mask)p Fr(.)29 b(The)19 b(\014rst)149 395 y(design,)h Fs(ink)p
Fr(,)j(supplies)d(the)f(color,)i(while)g(the)f(second)f(design,)h
Fs(mask)p Fr(,)j(c)n(hanges)c(the)g(shap)r(e)g(of)i(the)e(design)149
461 y(b)n(y)g(adjusting)d(the)i(opacit)n(y)-5 b(.)149 594 y(More)18
b(precisely)-5 b(,)20 b(at)f(eac)n(h)f(p)r(oin)n(t)h(in)h(the)e(dra)n(wing)h
(plane)g(the)g(resulting)f(design)g(sp)r(eci\014es)g(a)h(color)g(and)g(an)149
661 y(opacit)n(y)e(as)g(follo)n(ws:)25 b(the)16 b(color)h(is)h(the)e(same)g
(color)h(that)f Fs(ink)i Fr(sp)r(eci\014es.)23 b(The)17 b(opacit)n(y)f(is)i
(the)f(opacit)n(y)g(that)149 727 y Fs(ink)i Fr(sp)r(eci\014es,)d(m)n
(ultiplied)i(b)n(y)h(1)f(min)n(us)g(the)f(stencil)h(opacit)n(y)g(of)g
Fs(mask)p Fr(.)149 860 y(If)g Fs(mask)h Fr(is)g(a)f(solid)h(design,)f(the)f
(e\013ect)g(of)i Ft(compose-out)g Fr(is)f(to)g(clip)h Fs(ink)g
Fr(to)f(the)f(complemen)n(t)e(of)j Fs(mask)p Fr(.)26 b(If)149
926 y Fs(mask)19 b Fr(is)f(translucen)n(t,)f(the)g(e\013ect)g(is)i(a)f(soft)f
(matte.)149 1059 y(If)22 b(b)r(oth)f(argumen)n(ts)f(are)i(regions,)h
Ft(compose-out)g Fr(is)g(the)f(same)f(as)h Ft(region-difference)i
Fr(of)f Fs(mask)g Fr(and)149 1126 y Fs(ink)p Fr(.)149 1258
y(This)d(function)g(is)h(p)r(ermitted)c(to)j(capture)e(its)j(m)n(utable)e
(inputs;)i(the)f(consequences)d(of)k(mo)r(difying)e(those)149
1325 y(ob)s(jects)i(are)h(unsp)r(eci\014ed.)f(The)i(result)f(returned)f(b)n
(y)j Ft(compose-out)g Fr(migh)n(t)e(b)r(e)g(freshly)h(constructed)d(or)149
1391 y(migh)n(t)d(b)r(e)g(an)h(existing)g(ob)s(ject.)149 1641
y Fk(14.2)91 b(P)m(atterns)30 b(and)g(Stencils)149 1828 y Fm(P)n(atterning)14
b Fr(creates)h(a)i(b)r(ounded)d(rectangular)g(arrangemen)n(t)f(of)k(designs,)
g(lik)n(e)h(a)e(c)n(hec)n(k)n(erb)r(oard.)22 b(Dra)n(wing)149
1895 y(a)d(pattern)f(dra)n(ws)h(a)h(di\013eren)n(t)e(design)h(in)h(eac)n(h)f
(rectangular)e(cell)j(of)g(the)e(pattern.)27 b(T)-5 b(o)20
b(create)e(an)h(in\014nite)149 1961 y(pattern,)d(apply)i Ft
(make-rectangular-tile)i Fr(to)e(a)g(pattern.)149 2094 y(A)g
Fm(stencil)f Fr(is)i(a)f(sp)r(ecial)f(kind)i(of)f(pattern)e(that)h(con)n
(tains)g(only)h(opacities.)49 2227 y Fj(\))45 b Ft(make-pattern)29
b Fs(arr)m(ay)22 b(designs)1346 b Fr([)p Fs(F)l(unction)t Fr(])149
2346 y(Returns)11 b(a)j(pattern)d(design)i(that)f(has)h Ft(\(array-dimension)
30 b Fs(arr)m(ay)h Ft(0\))13 b Fr(cells)h(in)g(the)f(v)n(ertical)g(direction)
f(and)149 2412 y Ft(\(array-dimension)30 b Fs(arr)m(ay)g Ft(1\))18
b Fr(cells)g(in)g(the)f(horizon)n(tal)f(direction.)23 b Fs(arr)m(ay)c
Fr(m)n(ust)e(b)r(e)g(a)g(t)n(w)n(o-dimensional)149 2479 y(arra)n(y)22
b(of)g(non-negativ)n(e)g(in)n(tegers)f(less)i(than)e(the)h(length)g(of)g
Fs(designs)p Fr(.)39 b Fs(designs)24 b Fr(m)n(ust)d(b)r(e)h(a)h(sequence)e
(of)149 2545 y Fm(designs)p Fr(.)i(The)16 b(design)g(in)h(cell)g(\()p
Fn(i;)9 b(j)s Fr(\))17 b(of)f(the)g(resulting)f(pattern)g(is)i(the)f
Fn(n)p Fr(th)g(elemen)n(t)f(of)i Fs(designs)p Fr(,)h(if)f Fn(n)g
Fr(is)g(the)149 2612 y(v)m(alue)i(of)h Ft(\(aref)29 b Fs(arr)m(ay)h
Ft(i)f(j\))p Fr(.)h(F)-5 b(or)20 b(example,)f Fs(arr)m(ay)i
Fr(can)e(b)r(e)g(a)g(bit-arra)n(y)h(and)f Fs(designs)h Fr(can)f(b)r(e)g(a)h
(list)g(of)149 2678 y(t)n(w)n(o)e(designs,)g(the)f(design)h(dra)n(wn)f(for)h
(0)g(and)g(the)f(one)h(dra)n(wn)f(for)h(1.)149 2811 y(Eac)n(h)i(cell)h(of)g
(a)g(pattern)d(can)j(b)r(e)f(regarded)e(as)j(a)g(hole)f(that)g(allo)n(ws)h
(the)f(design)g(in)i(it)f(to)f(sho)n(w)h(through.)149 2877
y(Eac)n(h)f(cell)i(migh)n(t)e(ha)n(v)n(e)i(a)f(di\013eren)n(t)g(design)g(in)g
(it.)34 b(The)21 b(p)r(ortion)f(of)h(the)f(design)h(that)f(sho)n(ws)h
(through)f(a)149 2944 y(hole)f(is)h(the)e(p)r(ortion)g(on)h(the)g(part)f(of)i
(the)e(dra)n(wing)h(plane)g(where)g(the)f(hole)h(is)h(lo)r(cated.)27
b(In)19 b(other)f(w)n(ords,)149 3010 y(incorp)r(orating)f(a)j(design)f(in)n
(to)h(a)g(pattern)e(do)r(es)h(not)g(c)n(hange)g(its)h(alignmen)n(t)f(to)h
(the)f(dra)n(wing)h(plane,)g(and)149 3076 y(do)r(es)c(not)g(apply)h(a)h(co)r
(ordinate)c(transformation)f(to)k(the)g(design.)23 b(Dra)n(wing)18
b(a)f(pattern)e(collects)h(the)g(pieces)149 3143 y(of)d(designs)h(that)e(sho)
n(w)i(through)e(all)j(the)e(holes)g(and)h(dra)n(ws)f(the)g(pieces)g(where)g
(the)g(holes)h(lie)g(on)g(the)f(dra)n(wing)149 3209 y(plane.)24
b(The)18 b(pattern)e(is)i(completely)e(transparen)n(t)g(outside)h(the)g(area)
g(de\014ned)g(b)n(y)i(the)e(arra)n(y)-5 b(.)149 3342 y(Eac)n(h)21
b(cell)h(of)f(a)h(pattern)d(o)r(ccupies)g(a)j(1)g(b)n(y)g(1)f(square.)34
b(Y)-5 b(ou)22 b(can)e(use)i Ft(transform-region)g Fr(to)f(scale)g(the)149
3409 y(pattern)c(to)j(a)g(di\013eren)n(t)f(cell)h(size)g(and)f(shap)r(e,)g
(or)h(to)f(rotate)f(the)h(pattern)f(so)h(that)g(the)g(rectangular)e(cells)p
eop
%%Page: 125 140
bop 149 16 a Fm(CHAPTER)16 b(14.)43 b(GENERAL)17 b(DESIGNS)1272
b Fr(125)149 210 y(b)r(ecome)13 b(diamond-shap)r(ed.)21 b(Applying)16
b(a)h(co)r(ordinate)c(transformation)g(to)j(a)g(pattern)e(do)r(es)h(not)h
(a\013ect)f(the)149 276 y(designs)e(that)g(mak)n(e)h(up)g(the)g(pattern.)21
b(It)14 b(only)h(c)n(hanges)e(the)g(p)r(osition,)h(size,)h(and)f(shap)r(e)f
(of)h(the)g(cells')h(holes,)149 342 y(allo)n(wing)20 b(di\013eren)n(t)g(p)r
(ortions)e(of)i(the)f(designs)h(in)g(the)g(cells)g(to)f(sho)n(w)i(through.)28
b(Consequen)n(tly)-5 b(,)21 b(applying)149 409 y Ft(make-rectangular-tile)c
Fr(to)e(a)g(pattern)f(of)h(non)n(uniform)f(designs)g(can)h(pro)r(duce)f(a)h
(di\013eren)n(t)g(app)r(earance)149 475 y(in)21 b(eac)n(h)g(tile.)34
b(The)21 b(pattern)e(cells')i(holes)g(are)f(tiled,)j(but)d(the)g(designs)h
(in)g(the)g(cells)g(are)f(not)h(tiled)g(and)g(a)149 542 y(di\013eren)n(t)c(p)
r(ortion)g(of)h(eac)n(h)f(of)h(those)f(designs)g(sho)n(ws)h(through)e(in)j
(eac)n(h)f(tile.)149 674 y(This)i(function)g(is)h(p)r(ermitted)c(to)j
(capture)e(its)j(m)n(utable)e(inputs;)i(the)f(consequences)d(of)k(mo)r
(difying)e(those)149 741 y(ob)s(jects)d(are)i(unsp)r(eci\014ed.)49
874 y Fj(\))45 b Ft(make-stencil)29 b Fs(arr)m(ay)1540 b Fr([)p
Fs(F)l(unction)t Fr(])149 993 y(Returns)11 b(a)j(pattern)d(design)i(that)f
(has)h Ft(\(array-dimension)30 b Fs(arr)m(ay)h Ft(0\))13 b
Fr(cells)h(in)g(the)f(v)n(ertical)g(direction)f(and)149 1059
y Ft(\(array-dimension)30 b Fs(arr)m(ay)g Ft(1\))18 b Fr(cells)g(in)g(the)f
(horizon)n(tal)f(direction.)23 b Fs(arr)m(ay)c Fr(m)n(ust)e(b)r(e)g(a)g(t)n
(w)n(o-dimensional)149 1126 y(arra)n(y)k(of)g(real)g(n)n(um)n(b)r(ers)e(b)r
(et)n(w)n(een)h(0)h(and)g(1)g(\(inclusiv)n(e\))g(that)f(represen)n(t)f
(opacities.)33 b(The)21 b(design)g(in)g(cell)149 1192 y(\()p
Fn(i;)9 b(j)s Fr(\))18 b(of)g(the)f(resulting)g(pattern)f(is)j(the)e(v)m
(alue)h(of)g Ft(\(make-opacity)30 b(\(aref)f Fs(arr)m(ay)i
Ft(i)e(j\)\))p Fr(.)149 1325 y(This)20 b(function)g(is)h(p)r(ermitted)c(to)j
(capture)e(its)j(m)n(utable)e(inputs;)i(the)f(consequences)d(of)k(mo)r
(difying)e(those)149 1391 y(ob)s(jects)d(are)i(unsp)r(eci\014ed.)149
1641 y Fk(14.3)91 b(Tiling)149 1828 y Fm(Tiling)24 b Fr(rep)r(eats)c(a)j
(rectangular)d(p)r(ortion)i(of)g(a)h(design)g(throughout)d(the)i(dra)n(wing)h
(plane.)38 b(This)24 b(is)f(most)149 1895 y(commonly)16 b(used)h(with)h
(patterns.)49 2028 y Fj(\))45 b Ft(make-rectangular-tile)30
b Fs(design)21 b(width)f(height)945 b Fr([)p Fs(F)l(unction)t
Fr(])149 2147 y(Returns)22 b(a)i(design)f(that,)h(when)f(used)h(as)f(an)h
(ink,)i(tiles)e(a)g(rectangular)d(p)r(ortion)h(of)i(the)f Fm(design)g
Fs(design)149 2213 y Fr(across)14 b(the)h(en)n(tire)h(dra)n(wing)f(plane.)23
b(The)16 b(resulting)f(design)g(rep)r(eats)e(with)j(a)g(p)r(erio)r(d)e(of)i
Fs(width)h Fr(horizon)n(tally)149 2279 y(and)26 b Fs(height)j
Fr(v)n(ertically)-5 b(.)51 b Fs(width)28 b Fr(and)e Fs(height)j
Fr(m)n(ust)c(b)r(oth)h(b)r(e)g(in)n(tegers.)49 b(The)26 b(p)r(ortion)f(of)i
Fs(design)h Fr(that)149 2346 y(app)r(ears)23 b(in)i(eac)n(h)g(tile)h(is)f(a)h
(rectangle)d(whose)h(top-left)h(corner)e(is)j(at)f(\(0)p Fn(;)9
b Fr(0\))24 b(and)h(whose)f(b)r(ottom-righ)n(t)149 2412 y(corner)17
b(is)j(at)e(\()p Fn(w)q(idth;)9 b(heig)r(ht)p Fr(\).)28 b(The)19
b(rep)r(etition)e(of)i Fs(design)h Fr(is)g(accomplished)c(b)n(y)k(applying)f
(a)g(co)r(ordinate)149 2479 y(transformation)c(to)k(shift)g
Fs(design)i Fr(in)n(to)e(p)r(osition)f(for)h(eac)n(h)g(tile,)h(and)f(then)f
(extracting)g(a)h Fs(width)h Fr(b)n(y)g Fs(height)149 2545
y Fr(p)r(ortion)c(of)i(that)f(design.)149 2678 y(Applying)j(a)h(co)r
(ordinate)d(transformation)e(to)21 b(a)f(rectangular)e(tile)j(do)r(es)e(not)h
(c)n(hange)g(the)g(p)r(ortion)f(of)h(the)149 2744 y(argumen)n(t)k
Fs(design)k Fr(that)d(app)r(ears)g(in)i(eac)n(h)f(tile.)50
b(Ho)n(w)n(ev)n(er,)29 b(it)e(can)f(c)n(hange)g(the)g(p)r(erio)r(d,)h(phase,)
h(and)149 2811 y(orien)n(tation)21 b(of)j(the)e(rep)r(eated)f(pattern)g(of)i
(tiles.)40 b(This)24 b(is)g(so)f(that)f(adjacen)n(t)f(\014gures)h(dra)n(wn)h
(using)g(the)149 2877 y(same)16 b(tile)j(ha)n(v)n(e)f(their)g(inks)g(\\line)h
(up".)149 3127 y Fk(14.4)91 b(Regions)30 b(as)g(Designs)149
3314 y Fr(An)n(y)20 b(mem)n(b)r(er)d(of)j(the)f(class)g Ft(region)i
Fr(is)f(a)g(solid,)h(colorless)e(design.)29 b(The)19 b(design)g(is)i(opaque)e
(at)g(p)r(oin)n(ts)g(in)149 3381 y(the)14 b(region)g(and)h(transparen)n(t)d
(elsewhere.)22 b(Figure)14 b(14.1)h(sho)n(ws)g(ho)n(w)g(the)g(design)f(and)h
(region)f(classes)g(relate)149 3447 y(to)j(eac)n(h)h(other.)p
eop
%%Page: 126 141
bop 149 16 a Fm(CHAPTER)16 b(14.)43 b(GENERAL)17 b(DESIGNS)1272
b Fr(126)149 2624 y(Figure)19 b(14.1:)27 b(The)20 b(class)f(structure)e(for)i
(all)h(designs)f(and)g(regions.)28 b(En)n(tries)19 b(in)h(b)r(old)f(corresp)r
(ond)e(to)i(real)149 2690 y(CLIM)e(classes.)p eop
%%Page: 127 142
bop 149 16 a Fm(CHAPTER)16 b(14.)43 b(GENERAL)17 b(DESIGNS)1272
b Fr(127)149 210 y(Since)11 b(b)r(ounded)f(designs)h(ob)r(ey)g(the)g(region)g
(proto)r(col,)h(the)f(functions)f Ft(transform-region)k Fr(and)d
Ft(untransform-)149 276 y(region)21 b Fr(accept)f(an)n(y)h(design)g(as)g
(their)f(second)g(argumen)n(t)e(and)j(apply)g(a)g(co)r(ordinate)e
(transformation)e(to)149 342 y(the)22 b(design.)39 b(The)22
b(result)g(is)i(a)f(design)f(that)g(migh)n(t)g(b)r(e)h(freshly)f(constructed)
e(or)j(migh)n(t)f(b)r(e)g(an)h(existing)149 409 y(ob)s(ject.)149
542 y(T)-5 b(ransforming)20 b(a)i(uniform)e(design)i(simply)g(returns)e(the)h
(argumen)n(t.)34 b(T)-5 b(ransforming)20 b(a)i(comp)r(osite,)f(\015ip-)149
608 y(ping,)d(or)g(indirect)f(design)h(applies)g(the)f(transformation)e(to)j
(the)f(comp)r(onen)n(t)e(design\(s\).)23 b(T)-5 b(ransforming)17
b(a)149 674 y(pattern,)f(tile,)j(or)f(output)e(record)g(design)i(is)g
(describ)r(ed)e(in)j(the)e(sections)g(on)h(those)f(designs.)149
923 y Fk(14.5)91 b(Arbitrary)29 b(Designs)49 1111 y Fj(\))45
b Ft(draw-design)29 b Fs(she)m(et)19 b(design)f Ft(&key)29
b Fs(ink)18 b(clipping-r)m(e)m(gion)i(tr)m(ansformation)g(line-style)e
(line-thickness)h(line-)149 1177 y(unit)14 b(line-dashes)h(line-joint-shap)m
(e)i(line-c)m(ap-shap)m(e)f(text-style)g(text-family)f(text-fac)m(e)h
(text-size)30 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
1377 y(Dra)n(ws)16 b(the)f Fm(design)g Fs(design)j Fr(on)n(to)d(the)g
Fm(sheet)g Fs(she)m(et)p Fr(.)26 b(This)16 b(is)g(de\014ned)f(to)g(w)n(ork)i
(for)e(all)i(t)n(yp)r(es)e(of)h(regions)f(and)149 1443 y(designs,)e(although)
f(in)h(practice)e(some)g(implemen)n(tations)f(ma)n(y)j(b)r(e)f(more)f
(restrictiv)n(e.)22 b Fs(ink)p Fr(,)15 b Fs(tr)m(ansformation)p
Fr(,)149 1509 y(and)k Fs(clipping-r)m(e)m(gion)24 b Fr(are)19
b(used)h(to)f(mo)r(dify)g(the)g(medium.)29 b(The)20 b(other)e(dra)n(wing)i
(argumen)n(ts)d(con)n(trol)i(the)149 1576 y(dra)n(wing)f(of)g(the)g(design,)g
(dep)r(ending)e(on)i(what)g(sort)g(of)g(design)g(is)h(b)r(eing)e(dra)n(wn.)25
b(F)-5 b(or)19 b(instance,)e(if)i Fs(design)149 1642 y Fr(is)f(a)g(path,)g
(then)f(line)i(st)n(yle)f(options)f(ma)n(y)h(b)r(e)f(supplied.)149
1775 y(If)i Fs(design)h Fr(is)g(an)e(area,)h Ft(draw-design)h
Fr(pain)n(ts)f(the)f(sp)r(eci\014ed)f(region)h(of)h(the)f(dra)n(wing)h(plane)
f(with)h(curren)n(t)149 1841 y(ink)k(of)f(the)f(sheet's)g(medium.)35
b(If)22 b Fs(design)i Fr(is)e(a)h(path,)f Ft(draw-design)h
Fr(strok)n(es)f(the)f(path)g(with)h(medium's)149 1908 y(curren)n(t)g(ink)i
(under)f(con)n(trol)g(of)h(the)f(line-st)n(yle.)42 b(If)24
b Fs(design)h Fr(is)f(a)g(p)r(oin)n(t,)h Ft(draw-design)g Fr(is)f(the)f(same)
g(as)149 1974 y Ft(draw-point)p Fr(.)149 2107 y(If)d Fs(design)h
Fr(is)f(a)g(color)g(or)f(an)h(opacit)n(y)-5 b(,)20 b Ft(draw-design)h
Fr(pain)n(ts)f(the)f(en)n(tire)g(dra)n(wing)h(plane)f(\(sub)s(ject)f(to)h
(the)149 2174 y(clipping)f(region)f(of)h(the)f(sheet's)g(medium\).)149
2306 y(If)h Fs(design)h Fr(is)g Ft(+nowhere+)p Fr(,)g Ft(draw-design)g
Fr(has)f(no)g(e\013ect.)149 2439 y(If)i Fs(design)i Fr(is)f(a)f(non-uniform)f
(design)h(\(see)f(Chapter)g(14\),)h Ft(draw-design)i Fr(pain)n(ts)e(the)g
(design,)g(p)r(ositioned)149 2506 y(at)d(co)r(ordinates)e(\(0)p
Fn(;)9 b Fr(0\).)149 2638 y(CLIM)17 b(implemen)n(tations)e(are)j(required)f
(to)h(supp)r(ort)d Ft(draw-design)20 b Fr(for)d(the)h(follo)n(wing)g(cases:)
232 2822 y Fj(\017)27 b Fr(Designs)i(created)e(b)n(y)j(the)f(geometric)e(ob)s
(ject)g(constructors,)i(suc)n(h)h(as)f Ft(make-line)h Fr(and)f
Ft(make-)287 2889 y(ellipse)p Fr(,)19 b(in)g(conjunction)d(with)i(dra)n(wing)
g(argumen)n(ts)d(that)i(supply)h(the)f(dra)n(wing)h(ink.)232
2998 y Fj(\017)27 b Fr(Designs)22 b(created)d(b)n(y)k(calling)f
Ft(compose-in)g Fr(on)g(a)g(color)f(and)g(an)h(ob)s(ject)e(created)g(b)n(y)j
(a)e(geometric)287 3064 y(ob)s(ject)c(constructor.)232 3173
y Fj(\017)27 b Fr(Designs)18 b(created)e(b)n(y)j(calling)f
Ft(compose-over)h Fr(on)f(an)n(y)g(of)g(the)g(cases)f(ab)r(o)n(v)n(e.)232
3282 y Fj(\017)27 b Fr(Designs)18 b(returned)e(b)n(y)i Ft
(make-design-from-output-record)p Fr(.)49 3466 y Fj(\))45 b
Ft(draw-pattern*)29 b Fs(she)m(et)22 b(p)m(attern)g(x)d(y)h
Ft(&key)29 b Fs(clipping-r)m(e)m(gion)24 b(tr)m(ansformation)345
b Fr([)p Fs(F)l(unction)t Fr(])p eop
%%Page: 128 143
bop 149 16 a Fm(CHAPTER)16 b(14.)43 b(GENERAL)17 b(DESIGNS)1272
b Fr(128)149 210 y(Dra)n(ws)16 b(the)g(pattern)e Fs(p)m(attern)19
b Fr(on)d(the)f Fm(sheet)g Fs(she)m(et)j Fr(at)e(the)g(p)r(osition)f(\()p
Fn(x;)9 b(y)r Fr(\).)24 b Fs(p)m(attern)19 b Fr(is)d(an)n(y)h(design)f
(created)149 276 y(b)n(y)i Ft(make-pattern)p Fr(.)25 b Fs(clipping-r)m(e)m
(gion)c Fr(and)c Fs(tr)m(ansformation)j Fr(are)d(as)g(for)g
Ft(with-drawing-options)h Fr(or)f(an)n(y)149 342 y(of)h(the)f(dra)n(wing)h
(functions.)149 475 y(Note)13 b(that)h Fs(tr)m(ansformation)k
Fr(only)d(a\013ects)f(the)g(p)r(osition)f(at)i(whic)n(h)g(the)f(pattern)f(is)
i(dra)n(wn,)h(not)e(the)g(pattern)149 542 y(itself.)25 b(If)18
b(a)h(programmer)14 b(wishes)k(to)g(a\013ect)f(the)g(pattern,)g(he)h(should)g
(explicit)n(y)h(call)f Ft(transform-region)149 608 y Fr(on)g(the)f(pattern.)
149 741 y(Dra)n(wing)i(a)g(bitmap)f(consists)g(of)h(dra)n(wing)g(an)g
(appropriately)f(aligned)h(and)f(scaled)h(pattern)e(constructed)149
807 y(from)h(the)h(bitmap's)f(bits.)28 b(A)20 b(1)f(in)h(the)f(bitmap)f
(corresp)r(onds)e(to)j Ft(+foreground-ink+)p Fr(,)j(while)e(a)f(0)h(corre-)
149 874 y(sp)r(onds)g(to)g Ft(+background-ink+)j Fr(if)f(an)f(opaque)g(dra)n
(wing)g(op)r(eration)e(is)j(desired,)f(or)g(to)g Ft(+nowhere+)i
Fr(if)f(a)149 940 y(transparen)n(t)15 b(dra)n(wing)j(op)r(eration)e(is)i
(desired.)149 1073 y(Dra)n(wing)c(a)h(\(colored\))d(raster)h(image)g
(consists)g(of)h(dra)n(wing)h(an)f(appropriately)e(aligned)i(and)g(scaled)g
(pattern)149 1139 y(constructed)g(from)j(the)h(raster)e(arra)n(y)i(and)f
(raster)g(color)g(map.)149 1272 y Ft(draw-pattern*)k Fr(could)g(b)r(e)e
(implemen)n(ted)f(as)j(follo)n(ws,)h(assuming)d(that)g(the)h(functions)f
Ft(pattern-width)149 1339 y Fr(and)e Ft(pattern-height)j Fr(return)c(the)h
(width)h(and)g(heigh)n(t)f(of)h(the)g(pattern.)149 1527 y Ft(\(defun)29
b(draw-pattern*)h(\(sheet)f(pattern)h(x)f(y)g(&key)g(clipping-region)h
(transformation\))207 1593 y(\(check-type)f(pattern)h(pattern\))207
1660 y(\(let)f(\(\(width)h(\(pattern-width)f(pattern\)\))381
1726 y(\(height)h(\(pattern-height)g(pattern\)\)\))265 1793
y(\(if)f(\(or)g(clipping-region)h(transformation\))381 1859
y(\(with-drawing-options)g(\(sheet)g(:clipping-region)g(clipping-region)1224
1925 y(:transformation)g(transformation\))439 1992 y(\(draw-rectangle*)g
(sheet)g(x)f(y)g(\(+)g(x)g(width\))h(\(+)f(y)g(height\))933
2058 y(:filled)h(t)f(:ink)g(pattern\)\))381 2125 y(\(draw-rectangle*)h(sheet)
f(x)h(y)f(\(+)g(x)g(width\))g(\(+)h(y)f(height\))875 2191 y(:filled)h(t)f
(:ink)g(pattern\)\)\)\))149 2440 y Fk(14.6)91 b(Examples)31
b(of)f(More)g(Complex)h(Dra)m(wing)f(E\013ects)149 2628 y Fo(P)n(ain)n(ting)h
(a)f(gra)n(y)g(or)h(colored)g(w)n(ash)g(o)n(v)n(er)f(a)g(displa)n(y)-5
b(.)57 b Fr(Sp)r(ecify)25 b(a)h(translucen)n(t)d(design)j(as)f(the)149
2695 y(ink,)h(suc)n(h)e(as)g Ft(:ink)29 b(\(compose-in)h(+black+)f
(\(make-opacity)h(0.25\)\))p Fr(,)d Ft(:ink)i(\(compose-in)h(+red+)149
2761 y(\(make-opacity)f(0.1\)\))p Fr(,)15 b(or)c Ft(:ink)30
b(\(compose-in)f(+foreground-ink+)h(\(make-opacity)g(0.75\)\))p
Fr(.)23 b(The)149 2827 y(last)15 b(example)g(can)g(b)r(e)g(abbreviated)f(as)i
Ft(:ink)29 b(\(make-opacity)h(0.75\))p Fr(.)24 b(On)16 b(a)g(non-color,)g
(non-gra)n(yscale)149 2894 y(displa)n(y)j(this)e(will)j(usually)e(turn)g(in)n
(to)g(a)g(stipple.)149 3104 y Fo(Dra)n(wing)g(a)f(faded)i(but)f(opaque)g(v)n
(ersion)g(of)g(the)g(foreground)h(color.)56 b Fr(Sp)r(ecify)13
b Ft(:ink)30 b(\(compose-)149 3171 y(over)f(\(compose-in)h(+foreground-ink+)g
(\(make-opacity)f(0.25\)\))h(+background-ink+\))c Fr(to)e(dra)n(w)149
3237 y(at)d(25\045)h(of)g(the)f(normal)f(con)n(trast.)34 b(On)22
b(a)g(non-color,)g(non-gra)n(yscale)f(displa)n(y)h(this)g(will)h(probably)e
(turn)149 3303 y(in)n(to)d(a)g(stipple.)p eop
%%Page: 129 144
bop 149 16 a Fm(CHAPTER)16 b(14.)43 b(GENERAL)17 b(DESIGNS)1272
b Fr(129)149 210 y Fo(Dra)n(wing)31 b(a)g(tiled)h(pattern.)55
b Fr(Sp)r(ecify)25 b Ft(:ink)30 b(\(make-rectangular-tile)g(\(make-pattern)g
Fs(arr)m(ay)149 276 y(c)m(olors)p Ft(\)\))p Fr(.)149 486 y
Fo(Dra)n(wing)15 b(a)f(\\bitmap".)57 b Fr(Use)11 b Ft(\(draw-design)30
b Fs(she)m(et)g Ft(\(make-pattern)g Fs(bit)p Ft(-)p Fs(arr)m(ay)h
Ft(\(list)f(+background-)149 553 y(ink+)f(+foreground-ink+\)\))h
(:transformation)g(\(make-translation-transformation)h Fs(x)e(y)p
Ft(\)\))p Fr(.)149 802 y Fk(14.7)91 b(Design)31 b(Proto)s(col)149
990 y Fo(Minor)26 b(issue:)66 b Fm(The)21 b(generic)f(functions)f(underlying)
i(the)f(functions)g(describ)r(ed)e(in)k(this)f(and)f(the)h(pre-)149
1056 y(ceding)16 b(c)n(hapter)g(will)j(b)r(e)d(do)r(cumen)n(ted)e(later.)24
b(This)17 b(will)i(allo)n(w)f(for)f(programmer-de\014n)o(ed)c(design)k
(classes.)149 1123 y(This)h(also)g(needs)f(to)h(describ)r(e)e(ho)n(w)i(to)g
(deco)r(de)e(designs)h(in)n(to)h(inks.)25 b(|)19 b(SWM)p eop
%%Page: 130 145
bop 1103 1262 a Fl(P)l(art)46 b(V)420 1605 y Fq(Extended)51
b(Stream)h(Output)1000 1771 y(F)-13 b(acilities)1262 3632 y
Fr(130)p eop
%%Page: 131 146
bop 149 691 a Fl(Chapter)46 b(15)149 1034 y Fq(Extended)51
b(Stream)g(Output)149 1388 y Fr(CLIM)19 b(pro)n(vides)h(a)g(stream-orien)n
(ted)d(output)i(la)n(y)n(er)i(that)e(is)h(implemen)n(ted)e(on)i(top)f(of)h
(the)f(sheet)g(output)149 1455 y(arc)n(hitecture.)25 b(The)19
b(basic)g(CLIM)f(output)g(stream)f(proto)r(col)g(is)j(based)e(on)h(the)f(c)n
(haracter)f(output)h(stream)149 1521 y(proto)r(col)11 b(prop)r(osal)g
(submitted)g(to)h(the)g(ANSI)h(Common)d(Lisp)j(committee)d(b)n(y)k(Da)n(vid)g
(Gra)n(y)-5 b(.)24 b(This)13 b(prop)r(osal)149 1588 y(w)n(as)18
b(not)f(appro)n(v)n(ed)h(b)n(y)h(the)e(committee,)e(but)j(has)f(b)r(een)g
(implemen)n(ted)e(b)n(y)k(most)e(Lisp)h(v)n(endors.)149 1837
y Fk(15.1)91 b(Basic)30 b(Output)f(Streams)149 2025 y Fr(CLIM)15
b(pro)n(vides)h(an)g(implemen)n(tation)d(of)j(the)f(basic)h(output)e(stream)g
(facilities)i(\(describ)r(ed)d(in)j(more)f(detail)149 2091
y(in)f(App)r(endix)e(C\),)i(either)f(b)n(y)h(directly)f(using)g(the)g
(underlying)f(Lisp)i(implemen)n(tation,)d(or)j(b)n(y)g(implemen)n(ting)149
2158 y(the)j(facilities)h(itself.)49 2291 y Fj(\))45 b Ft
(standard-output-stream)1490 b Fr([)p Fs(Class)5 b Fr(])149
2410 y(This)18 b(class)g(pro)n(vides)f(an)h(implemen)n(tation)d(of)j(the)f
(CLIM)h(basic)f(output)g(stream)e(proto)r(col,)i(based)g(on)g(the)149
2476 y(CLIM)g(output)g(k)n(ernel.)24 b(Mem)n(b)r(ers)16 b(of)i(this)g(class)g
(are)f(m)n(utable.)49 2609 y Fj(\))45 b Ft(stream-write-char)30
b Fs(str)m(e)m(am)21 b(char)m(acter)912 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 2728 y(W)-5 b(rites)17 b(the)h(c)n(haracter)d
Fs(char)m(acter)22 b Fr(to)c(the)f Fm(output)g(stream)f Fs(str)m(e)m(am)p
Fr(,)k(and)e(returns)e Fs(char)m(acter)22 b Fr(as)c(its)g(v)m(alue.)49
2861 y Fj(\))45 b Ft(stream-line-column)30 b Fs(str)m(e)m(am)1124
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2980 y(This)15
b(function)f(returns)f(the)h(column)g(n)n(um)n(b)r(er)f(where)h(the)h(next)f
(c)n(haracter)f(will)j(b)r(e)e(written)g(on)h(the)f Fm(output)149
3046 y(stream)i Fs(str)m(e)m(am)p Fr(.)26 b(The)18 b(\014rst)f(column)g(on)h
(a)g(line)h(is)f(n)n(um)n(b)r(ered)e(0.)49 3179 y Fj(\))45
b Ft(stream-start-line-p)30 b Fs(str)m(e)m(am)1095 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 3298 y(Returns)13 b
Fm(true)i Fr(if)h(the)f Fm(output)f(stream)f Fs(str)m(e)m(am)k
Fr(is)g(p)r(ositioned)c(at)i(the)g(b)r(eginning)f(of)i(a)f(line)h(\(that)e
(is,)j(column)149 3364 y(0\),)h(otherwise)e(returns)g Fm(false)p
Fr(.)1262 3632 y(131)p eop
%%Page: 132 147
bop 149 16 a Fm(CHAPTER)16 b(15.)43 b(EXTENDED)17 b(STREAM)g(OUTPUT)971
b Fr(132)49 210 y Fj(\))45 b Ft(stream-write-string)30 b Fs(str)m(e)m(am)21
b(string)g Ft(&optional)30 b Fs(\(start)20 b Ft(0)p Fs(\))g(end)316
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 329 y(W)-5
b(rites)22 b(the)g(string)f Fs(string)j Fr(to)e(the)g Fm(output)f(stream)f
Fs(str)m(e)m(am)p Fr(.)40 b(If)22 b Fs(start)i Fr(and)e Fs(end)i
Fr(are)e(supplied,)h(they)f(are)149 395 y(in)n(tegers)17 b(that)g(sp)r(ecify)
g(what)g(part)g(of)h Fs(string)i Fr(to)d(output.)23 b Fs(string)d
Fr(is)e(returned)e(as)i(the)f(v)m(alue.)49 528 y Fj(\))45 b
Ft(stream-terpri)29 b Fs(str)m(e)m(am)1270 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 647 y(W)-5 b(rites)17 b(an)h(end)g(of)g(line)g(c)n
(haracter)e(on)i(the)f Fm(output)g(stream)f Fs(str)m(e)m(am)p
Fr(,)k(and)e(returns)e Fm(false)p Fr(.)49 780 y Fj(\))45 b
Ft(stream-fresh-line)30 b Fs(str)m(e)m(am)1153 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 899 y(W)-5 b(rites)22 b(an)h(end)f(of)g(line)i(c)n
(haracter)c(on)i(the)g Fm(output)f(stream)g Fs(str)m(e)m(am)k
Fr(only)e(if)g(the)f(stream)f(is)i(not)f(at)g(the)149 965 y(b)r(eginning)16
b(of)i(the)g(line.)49 1098 y Fj(\))45 b Ft(stream-finish-output)30
b Fs(str)m(e)m(am)1066 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1217 y(Ensures)d(that)h(all)h(the)f(output)g(sen)n(t)g(to)g(the)g
Fm(output)g(stream)e Fs(str)m(e)m(am)23 b Fr(has)e(reac)n(hed)e(its)i
(destination,)f(and)149 1283 y(only)e(then)f(return)g Fm(false)p
Fr(.)49 1416 y Fj(\))45 b Ft(stream-force-output)30 b Fs(str)m(e)m(am)1095
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1535 y(Lik)n(e)f
Ft(stream-finish-output)p Fr(,)i(except)c(that)h(it)g(ma)n(y)h(immediately)d
(return)h Fm(false)i Fr(without)e(w)n(aiting)i(for)149 1602
y(the)c(output)f(to)i(complete.)49 1734 y Fj(\))45 b Ft(stream-clear-output)
30 b Fs(str)m(e)m(am)1095 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1853 y(Ab)r(orts)15 b(an)n(y)k(outstanding)c(output)i(op)r(eration)e
(in)k(progress)d(on)h(the)h Fm(output)e(stream)g Fs(str)m(e)m(am)p
Fr(,)k(and)d(returns)149 1920 y Fm(false)p Fr(.)49 2053 y Fj(\))45
b Ft(stream-advance-to-column)30 b Fs(str)m(e)m(am)22 b(c)m(olumn)758
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2172 y(W)-5
b(rites)13 b(enough)f(blank)i(space)e(on)h(the)g Fm(output)f(stream)f
Fs(str)m(e)m(am)16 b Fr(so)d(that)f(the)h(next)g(c)n(haracter)e(will)k(b)r(e)
e(written)149 2238 y(at)k(the)h(p)r(osition)f(sp)r(eci\014ed)f(b)n(y)j
Fs(c)m(olumn)p Fr(,)h(whic)n(h)e(is)h(an)f(in)n(teger.)149
2488 y Fk(15.2)91 b(Extended)31 b(Output)e(Streams)149 2675
y Fr(In)e(addition)g(to)g(the)f(basic)h(output)f(stream)f(proto)r(col,)j
(CLIM)f(de\014nes)f(an)h(extended)e(output)h(stream)149 2742
y(proto)r(col.)21 b(This)14 b(proto)r(col)e(extends)g(the)h(stream)f(mo)r
(del)g(to)i(main)n(tain)f(the)g(state)f(of)i(a)g(text)f(cursor,)h(margins,)
149 2808 y(text)j(st)n(yles,)i(in)n(ter-line)f(spacing,)g(and)f(so)h(forth.)
49 2941 y Fj(\))45 b Ft(extended-output-stream)1275 b Fr([)p
Fs(Pr)m(oto)m(c)m(ol)23 b(Class)5 b Fr(])149 3060 y(The)21
b(proto)r(col)f(class)i(for)g(CLIM)g(extended)e(output)g(streams.)34
b(This)23 b(is)f(a)g(sub)r(class)f(of)h Ft(output-stream)p
Fr(.)149 3126 y(If)e(y)n(ou)h(w)n(an)n(t)g(to)f(create)e(a)i(new)g(class)g
(that)g(b)r(eha)n(v)n(es)f(lik)n(e)j(an)e(extended)f(output)f(stream,)h(it)i
(should)f(b)r(e)g(a)149 3193 y(sub)r(class)e(of)h Ft(extended-output-stream)p
Fr(.)31 b(Sub)r(classes)18 b(of)i Ft(extended-output-stream)h
Fr(m)n(ust)e(ob)r(ey)f(the)149 3259 y(extended)e(output)g(stream)g(proto)r
(col.)49 3392 y Fj(\))45 b Ft(extended-output-stream-p)30 b
Fs(obje)m(ct)1182 b Fr([)p Fs(F)l(unction)t Fr(])p eop
%%Page: 133 148
bop 149 16 a Fm(CHAPTER)16 b(15.)43 b(EXTENDED)17 b(STREAM)g(OUTPUT)971
b Fr(133)149 210 y(Returns)16 b Fm(true)h Fr(if)i Fs(obje)m(ct)h
Fr(is)f(a)f(CLIM)g Fm(extended)e(output)h(stream)p Fr(,)f(otherwise)g
(returns)h Fm(false)p Fr(.)49 342 y Fj(\))45 b Ft(:foreground)1743
b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])49 409 y Fj(\))45
b Ft(:background)1743 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])49
475 y Fj(\))45 b Ft(:default-text-style)1511 b Fr([)p Fs(Init)21
b(A)o(r)m(g)5 b Fr(])49 542 y Fj(\))45 b Ft(:vertical-spacing)1569
b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])49 608 y Fj(\))45
b Ft(:text-margin)1714 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b
Fr(])49 674 y Fj(\))45 b Ft(:end-of-line-action)1511 b Fr([)p
Fs(Init)21 b(A)o(r)m(g)5 b Fr(])49 741 y Fj(\))45 b Ft(:end-of-page-action)
1511 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])49 807 y Fj(\))45
b Ft(:default-view)1685 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b
Fr(])149 926 y(All)14 b(sub)r(classes)d(of)i Ft(extended-output-stream)i
Fr(m)n(ust)d(handle)h(these)f(initargs,)i(whic)n(h)g(are)e(used)h(to)g(sp)r
(ecify)-5 b(,)149 993 y(resp)r(ectiv)n(ely)g(,)15 b(the)f(medium)e
(foreground)h(and)h(bac)n(kground,)g(default)g(text)g(st)n(yle,)i(v)n
(ertical)f(spacing,)g(default)149 1059 y(text)i(margin,)g(end)h(of)g(line)g
(and)g(end)f(of)h(page)g(actions,)f(and)g(the)h(default)f(view)h(for)g(the)f
(stream.)49 1192 y Fj(\))45 b Ft(standard-extended-output-stream)1229
b Fr([)p Fs(Class)5 b Fr(])149 1311 y(This)18 b(class)f(pro)n(vides)h(an)g
(implemen)n(tation)d(of)i(the)g(CLIM)h(extended)e(output)g(stream)g(proto)r
(col,)g(based)h(on)149 1377 y(the)g(CLIM)h(output)e(k)n(ernel.)149
1510 y(Mem)n(b)r(ers)f(of)j(this)g(class)g(are)g(m)n(utable.)149
1760 y Fk(15.3)91 b(The)31 b(T)-8 b(ext)30 b(Cursor)149 1947
y Fr(In)14 b(the)f(da)n(ys)i(when)e(displa)n(y)i(devices)e(displa)n(y)n(ed)i
(only)f(t)n(w)n(o)h(dimensional)e(arra)n(ys)g(of)h(\014xed)g(width)g(c)n
(haracters,)149 2014 y(the)19 b(text)g(cursor)f(w)n(as)i(a)g(simple)f(thing.)
29 b(A)20 b(discrete)e(p)r(osition)h(w)n(as)h(selected)e(in)i(in)n(teger)f(c)
n(haracter)f(units,)149 2080 y(and)c(a)g(c)n(haracter)e(could)i(go)g(there)f
(and)h(noplace)f(else.)23 b(Ev)n(en)15 b(for)f(v)m(ariable)g(width)g(fon)n
(ts,)h(simply)f(addressing)149 2147 y(a)i(c)n(haracter)d(b)n(y)k(the)e(pixel)
i(p)r(osition)e(of)h(one)f(of)h(its)g(corners)e(is)j(su\016cien)n(t.)23
b(Ho)n(w)n(ev)n(er,)17 b(v)m(ariable)f(heigh)n(t)f(fon)n(ts)149
2213 y(with)25 b(v)m(ariable)f(baselines)h(on)g(pixel-addressable)e(displa)n
(ys)j(upset)e(this)h(simple)f(mo)r(del.)44 b(The)25 b(\\logical")149
2279 y(v)n(ertical)17 b(reference)e(p)r(oin)n(t)i(is)h(the)f(baseline,)g(as)h
(it)g(is)g(in)g(t)n(yp)r(esetting.)k(In)c(t)n(yp)r(esetting,)e(ho)n(w)n(ev)n
(er,)i(an)f(en)n(tire)149 2346 y(line)k(of)f(text)g(is)i(created)c(with)j
(baselines)e(aligned)i(and)f(padded)f(to)h(the)g(maxim)n(um)f(ascen)n(t)h
(and)g(descen)n(t,)149 2412 y(then)d(the)g(en)n(tire)h(line)g(is)h(put)e(b)r
(elo)n(w)h(the)f(previous)h(line.)149 2545 y(It)23 b(is)g(clearly)g
(desirable)f(to)h(ha)n(v)n(e)h(the)e(c)n(haracters)e(on)j(a)g(line)h(aligned)
e(with)h(their)g(baselines,)h(but)e(when)149 2612 y(the)d(line)i(on)g(the)e
(displa)n(y)j(is)f(formed)d(piece)i(b)n(y)i(piece,)e(it)h(is)g(imp)r(ossible)
e(to)h(pic)n(k)i(in)f(adv)m(ance)e(the)h(prop)r(er)149 2678
y(baseline.)k(The)17 b(solution)h(CLIM)g(adopts)e(is)j(to)e(c)n(ho)r(ose)g(a)
h(baseline,)g(but)f(not)h(commit)e(to)h(it.)149 2811 y(The)k(CLIM)h(mo)r(del)
e(sa)n(ys)i(that)f(text)g(has)g(at)h(least)f(6)h(prop)r(erties.)33
b(With)22 b(a)g(reference)d(p)r(oin)n(t)i(of)h(\(0)p Fn(;)9
b Fr(0\))21 b(at)149 2877 y(the)16 b(upp)r(er)f(left)i(of)g(the)f(text,)h(it)
g(has)f(a)h(b)r(ounding)f(b)r(o)n(x)h(consisting)e(of)i(ascen)n(t,)g(descen)n
(t,)f(left)g(k)n(erning,)i(righ)n(t)149 2944 y(extension,)j(and)f(a)h
(displacemen)n(t)e(to)i(the)f(next)h(reference)e(p)r(oin)n(t)h(in)i(b)r(oth)e
Fn(x)h Fr(and)f Fn(y)r Fr(.)35 b(CLIM)20 b(determines)149 3010
y(the)k(p)r(osition)g(of)h(the)f(reference)f(p)r(oin)n(t)h(and)h(dra)n(ws)g
(the)f(text)g(relativ)n(e)h(to)g(that,)h(and)f(then)f(the)g(cursor)149
3076 y(p)r(osition)16 b(is)j(adjusted)d(b)n(y)j(the)e(displacemen)n(t.)22
b(In)c(this)g(w)n(a)n(y)-5 b(,)20 b(text)d(has)h(width)f(and)h(heigh)n(t,)g
(but)f(the)g Fn(x)h Fr(and)149 3143 y Fn(y)i Fr(displacemen)n(ts)c(need)h
(not)g(equal)i(the)e(width)h(and)f(heigh)n(t.)149 3276 y(CLIM)i(adopts)g(the)
g(follo)n(wing)i(approac)n(h)d(to)i(the)f(actual)g(rendering)f(of)i(a)g
(glyph.)31 b(T)-5 b(extual)19 b(output)g(using)149 3342 y(the)g(stream)g
(functions)g(\()p Fm(not)g Fr(the)g(graphics)h(functions\))e(main)n(tains)h
(text)h(on)g(a)h(\\line".)31 b(Note)19 b(that)h(a)g(line)149
3409 y(is)e(not)g(an)g(output)e(record,)h(but)g(is)i(rather)d(a)i(collection)
f(of)h(\\text)f(so)h(far",)g(a)g(top)f(\(whic)n(h)h(is)h(p)r(ositioned)d(at)p
eop
%%Page: 134 149
bop 149 16 a Fm(CHAPTER)16 b(15.)43 b(EXTENDED)17 b(STREAM)g(OUTPUT)971
b Fr(134)149 210 y(the)18 b(b)r(ottom)d(of)k(the)f(previous)g(line)h(plus)g
(the)f(stream's)f(v)n(ertical)h(spacing\),)g(a)h(baseline,)f(a)h(b)r(ottom,)d
(and)j(a)149 276 y(\\cursor)14 b(p)r(osition".)23 b(The)15
b(cursor)g(p)r(osition)g(is)i(de\014ned)e(to)g(b)r(e)h(at)g(the)f(top)g(of)h
(the)g(line,)h(not)f(at)f(the)h(baseline.)149 342 y(The)21
b(reason)e(for)i(this)g(is)h(that)e(the)h(baseline)f(can)h(mo)n(v)n(e,)h(but)
f(the)f(top)h(is)h(relativ)n(e)f(to)g(the)f(previous)h(line,)149
409 y(whic)n(h)15 b(has)g(b)r(een)e(completed)f(and)j(therefore)d(do)r(esn't)
i(mo)n(v)n(e.)23 b(If)15 b(text)f(is)i(dra)n(wn)f(on)f(the)h(curren)n(t)e
(line)i(whose)149 475 y(ascen)n(t)h(is)h(greater)e(than)h(the)g(curren)n(t)g
(ascen)n(t)g(of)h(the)f(line,)i(then)e(the)g(line)i(is)f(mo)n(v)n(ed)g(do)n
(wn)g(to)g(mak)n(e)f(ro)r(om.)149 542 y(This)j(can)g(b)r(e)g(done)g(easily)g
(using)h(the)e(output)g(records)g(for)h(the)f(existing)i(text)e(on)h(the)g
(line.)29 b(When)19 b(there)149 608 y(is)h(enough)e(ro)r(om,)h(the)g
(reference)e(p)r(oin)n(t)i(for)h(the)f(text)g(is)h(the)f Fn(x)h
Fr(p)r(osition)e(of)i(the)f(cursor)g(at)g(the)g(baseline,)149
674 y(and)e(the)h(cursor)e(p)r(osition)h(is)i(adjusted)d(b)n(y)j(the)e
(displacemen)n(t.)149 807 y(The)f(follo)n(wing)i(\014gures)d(sho)n(w)i(this)g
(in)g(action)f(b)r(efore)f(and)h(after)g(eac)n(h)g(of)h(three)e(c)n
(haracters)f(are)j(dra)n(wn.)23 b(In)149 874 y(all)e(three)e(\014gure,)h(the)
g(small)h(circle)f(is)h(the)f(\\cursor)e(p)r(osition".)31 b(A)n(t)20
b(\014rst,)h(there)e(is)i(nothing)f(on)g(the)g(line.)149 940
y(The)f(\014rst)f(c)n(haracter)f(establishes)h(the)h(initial)h(baseline,)g
(and)f(is)h(then)e(dra)n(wn.)29 b(The)19 b(upp)r(er)f(left)h(corner)f(of)149
1007 y(the)k(c)n(haracter)f(is)j(where)e(the)h(cursor)f(w)n(as)i(\(as)e(in)i
(the)f(traditional)f(mo)r(del\),)h(but)f(this)i(will)g(not)f(remain)149
1073 y(the)17 b(case.)25 b(Dra)n(wing)18 b(the)g(second)f(c)n(haracter,)f
(whic)n(h)i(is)h(larger)f(than)f(the)h(\014rst,)g(requires)f(mo)n(ving)h(the)
f(\014rst)149 1139 y(c)n(haracter)12 b(do)n(wn)i(in)h(order)f(to)g(get)f(the)
h(baselines)g(to)g(align;)i(during)e(this)h(time,)f(the)g(top)g(of)g(the)g
(line)h(remains)149 1206 y(the)j(same.)25 b(Again,)18 b(the)g(upp)r(er)f
(left)i(of)g(the)f(second)f(c)n(haracter)f(is)j(where)f(the)g(cursor)f(w)n
(as,)j(but)e(that)f(is)j(no)149 1272 y(longer)f(the)g(case)g(for)g(the)h
(\014rst)f(c)n(haracter)e(\(whic)n(h)j(has)f(mo)n(v)n(ed)h(do)n(wn\).)30
b(The)19 b(third)h(c)n(haracter)d(is)k(smaller)149 1339 y(than)c(the)g
(second,)g(so)h(no)f(mo)n(ving)h(of)g(c)n(haracters)d(needs)i(to)g(b)r(e)h
(done.)23 b(Ho)n(w)n(ev)n(er,)c(the)e(c)n(haracter)e(is)k(dra)n(wn)149
1405 y(to)e(align)i(the)e(baselines,)h(whic)n(h)g(in)h(this)f(case)f(means)g
(the)g(upp)r(er)g(left)h(is)g Fm(not)g Fr(where)f(the)g(cursor)g(w)n(as.)25
b(Nor)149 1472 y(is)19 b(the)e(cursor)g(at)h(the)f(upp)r(er)g(righ)n(t)h(of)g
(the)g(c)n(haracter)e(as)i(it)h(w)n(as)f(for)g(the)g(previous)f(t)n(w)n(o)i
(c)n(haracters.)j(It)d(is,)149 1538 y(ho)n(w)n(ev)n(er,)f(at)g(the)f(upp)r
(er)g(righ)n(t)h(of)g(the)f(collectiv)n(e)h(line.)p eop
%%Page: 135 150
bop 149 16 a Fm(CHAPTER)16 b(15.)43 b(EXTENDED)17 b(STREAM)g(OUTPUT)971
b Fr(135)p 327 555 161 3 v 132 488 a(\(0,y\))247 530 y Fc(@)272
554 y(@)-55 b(R)p Fb(s)p 727 555 481 3 v 532 488 a Fr(\(0,y\))647
530 y Fc(@)672 554 y(@)g(R)p 725 553 325 3 v 725 1033 3 481
v 824 812 a Fr(small)p 1047 1033 V 725 1035 325 3 v 732 408
a(\(w1,y\))887 450 y Fc(@)943 505 y(@)992 554 y(@)g(R)p Fb(s)456
1214 y Fr(bl-small)647 1194 y Fc(\002)666 1139 y(\002)684 1084
y(\002)703 1028 y(\002)709 1010 y(\002)-18 b(\016)p 727 955
401 3 v 1072 954 a(-)p 1527 555 881 3 v 1332 488 a Fr(\(0,y\))1447
530 y Fc(@)1472 554 y(@)-55 b(R)p 1525 633 325 3 v 1525 1113
3 481 v 1624 892 a Fr(small)p 1847 1113 V 1525 1115 325 3 v
1532 408 a(\(w1,y\))1687 450 y Fc(@)1743 505 y(@)1792 554 y(@)g(R)p
1845 553 405 3 v 1845 1193 3 641 v 1996 892 a Fr(BIG)p 2247
1193 V 1845 1195 405 3 v 1741 328 a(\(w1+w2,y\))2007 370 y
Fc(@)2063 425 y(@)2118 480 y(@)2173 536 y(@)2192 554 y(@)g(R)p
Fb(s)1280 1294 y Fr(bl-BIG)1447 1274 y Fc(\002)1466 1219 y(\002)1484
1164 y(\002)1503 1108 y(\002)1509 1090 y(\002)-18 b(\016)p
1527 1035 801 3 v 2272 1034 a(-)p 727 1755 1201 3 v 532 1688
a Fr(\(0,y\))647 1730 y Fc(@)672 1754 y(@)-55 b(R)p 725 1833
325 3 v 725 2313 3 481 v 824 2092 a Fr(small)p 1047 2313 V
725 2315 325 3 v 732 1608 a(\(w1,y\))887 1650 y Fc(@)943 1705
y(@)992 1754 y(@)g(R)p 1045 1753 405 3 v 1045 2393 3 641 v
1196 2092 a Fr(BIG)p 1447 2393 V 1045 2395 405 3 v 941 1528
a(\(w1+w2,y\))1207 1570 y Fc(@)1263 1625 y(@)1318 1680 y(@)1373
1736 y(@)1392 1754 y(@)g(R)p 1445 1833 325 3 v 1445 2313 3
481 v 1544 2092 a Fr(small)p 1767 2313 V 1445 2315 325 3 v
1071 1448 a(\(w1+w2+w3,y\))1447 1490 y Fc(@)1503 1545 y(@)1558
1600 y(@)1613 1656 y(@)1669 1711 y(@)1712 1754 y(@)g(R)p Fb(s)480
2494 y Fr(bl-BIG)647 2474 y Fc(\002)666 2419 y(\002)684 2364
y(\002)703 2308 y(\002)709 2290 y(\002)-18 b(\016)p 727 2235
1121 3 v 1792 2234 a(-)149 2687 y Fo(Minor)23 b(issue:)56 b
Fm(The)18 b(ab)r(o)n(v)n(e)g(ma)n(y)g(b)r(e)g(to)r(o)f(simplistic.)26
b(The)18 b(displacemen)n(t)e(probably)i(w)n(an)n(ts)g(to)g(dep)r(end)149
2754 y(not)h(only)i(on)f(language)f(but)g(language)g(rendering)g(mo)r(de.)29
b(F)-5 b(or)20 b(example,)g(Japanese)f(can)h(apparen)n(tly)f(go)149
2820 y(either)d(v)n(ertically)h(or)g(horizon)n(tally)-5 b(.)25
b(It)17 b(ma)n(y)g(b)r(e)f(necessary)g(to)g(ha)n(v)n(e)i(the)f(b)r(ounding)e
(b)r(o)n(x)i(and)g(p)r(erhaps)e(the)149 2886 y(reference)j(p)r(oin)n(t)j
(dispatc)n(h)f(as)i(w)n(ell.)35 b(Similarly)-5 b(,)23 b(\\newline")e(could)f
(mean)g(\\do)n(wn)h(one)g(line,)i(all)f(the)e(w)n(a)n(y)149
2953 y(to)d(the)h(left")f(for)h(English,)h(\\do)n(wn)e(one)h(line,)h(all)g
(the)e(w)n(a)n(y)j(to)d(the)h(righ)n(t")f(for)h(Arabic,)g(or)f(\\to)h(the)f
(left)h(one)149 3019 y(line,)k(all)f(the)f(w)n(a)n(y)i(to)f(the)f(top.")31
b(\\Home)19 b(cursor")g(is)i(another)e(ditt)n(y)i(to)f(consider.)31
b(W)-5 b(e)21 b(need)f(to)g(discuss)149 3086 y(this)e(on)f(a)i(larger)e
(scale)g(with)h(p)r(eople)f(who)h(kno)n(w)g(m)n(ulti-lingual)h(rendering)d
(issues.)24 b(|)19 b(DCPL)p eop
%%Page: 136 151
bop 149 16 a Fm(CHAPTER)16 b(15.)43 b(EXTENDED)17 b(STREAM)g(OUTPUT)971
b Fr(136)149 210 y Fp(15.3.1)75 b(T)-6 b(ext)26 b(Cursor)e(Proto)r(col)149
378 y Fr(Man)n(y)15 b(streams)e(that)h(main)n(tain)g(a)h(text)f(cursor)g
(displa)n(y)i(some)e(visible)i(indication)e(of)h(the)f(text)h(cursor.)22
b(The)149 445 y(ob)s(ject)16 b(that)h(represen)n(ts)f(this)i(displa)n(y)h(is)
f(\(somewhat)e(confusingly\))g(also)i(called)g(a)g(cursor.)49
577 y Fj(\))45 b Ft(cursor)1739 b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23
b(Class)5 b Fr(])149 696 y(The)19 b(proto)r(col)e(class)i(that)f(corresp)r
(onds)f(to)i(cursors.)27 b(If)19 b(y)n(ou)h(w)n(an)n(t)g(to)f(create)e(a)j
(new)f(class)g(that)f(b)r(eha)n(v)n(es)149 763 y(lik)n(e)24
b(a)g(cursor,)g(it)f(should)g(b)r(e)g(a)g(sub)r(class)f(of)h
Ft(cursor)p Fr(.)42 b(Sub)r(classes)21 b(of)i Ft(cursor)h Fr(m)n(ust)f(ob)r
(ey)f(the)h(cursor)149 829 y(proto)r(col.)16 b(Mem)n(b)r(ers)g(of)i(this)g
(class)f(are)h(m)n(utable.)49 962 y Fj(\))45 b Ft(cursorp)29
b Fs(obje)m(ct)1676 b Fr([)p Fs(F)l(unction)t Fr(])149 1081
y(Returns)16 b Fm(true)h Fr(if)i Fs(obje)m(ct)h Fr(is)f(a)f
Fm(cursor)p Fr(,)f(otherwise)g(returns)f Fm(false)p Fr(.)49
1214 y Fj(\))45 b Ft(:sheet)1888 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5
b Fr(])149 1333 y(The)17 b Ft(:sheet)i Fr(initarg)f(is)g(used)g(to)f(sp)r
(ecify)h(the)f(sheet)g(with)h(whic)n(h)g(the)g(cursor)e(is)j(asso)r(ciated.)
49 1466 y Fj(\))45 b Ft(standard-text-cursor)1548 b Fr([)p
Fs(Class)5 b Fr(])149 1585 y(The)16 b(instan)n(tiable)f(class)h(that)f
(implemen)n(ts)f(a)j(text)e(cursor.)23 b(T)n(ypically)-5 b(,)19
b(p)r(orts)14 b(will)k(further)d(sp)r(ecialize)g(this)149 1651
y(class.)49 1784 y Fj(\))45 b Ft(cursor-sheet)29 b Fs(cursor)1303
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1903 y(Returns)16
b(the)h(sheet)g(with)h(whic)n(h)h(the)e Fm(cursor)f Fs(cursor)k
Fr(is)e(asso)r(ciated.)49 2036 y Fj(\))45 b Ft(cursor-position)30
b Fs(cursor)1215 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
2155 y(Returns)16 b(the)h Fn(x)h Fr(and)g Fn(y)j Fr(p)r(osition)c(of)h(the)f
Fm(cursor)g Fs(cursor)i Fr(as)f(t)n(w)n(o)g(v)m(alues.)49 2288
y Fj(\))45 b Ft(\(setf*)29 b(cursor-position\))h Fs(x)20 b(y)f(cursor)891
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2407 y(Sets)17
b(the)g Fn(x)h Fr(and)g Fn(y)i Fr(p)r(osition)d(of)h(the)g
Fm(cursor)e Fs(cursor)k Fr(to)d(the)h(sp)r(eci\014ed)e(p)r(osition.)49
2539 y Fj(\))45 b Ft(cursor-visibility)30 b Fs(cursor)1157
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49 2606 y Fj(\))45
b Ft(\(setf)29 b(cursor-visibility\))h Fs(visibility)21 b(cursor)733
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2725 y(Returns)c(\(or)i
(sets\))f(the)g(visibilit)n(y)k(of)d(the)f Fm(cursor)g Fs(cursor)p
Fr(.)32 b(The)20 b(visibilit)n(y)j(can)c(b)r(e)h(either)f Ft(:on)i
Fr(\(meaning)149 2791 y(that)d(the)g(cursor)g(will)j(b)r(e)e(visible)h(at)f
(its)g(curren)n(t)f(p)r(osition\),)g Ft(:off)i Fr(\(meaning)d(that)h(the)h
(cursor)f(is)h(activ)n(e,)149 2858 y(but)e(not)h(visible)h(at)e(its)h(curren)
n(t)f(p)r(osition\),)g(or)g Ft(nil)i Fr(\(meaning)d(that)h(the)g(cursor)g(is)
i(to)e(b)r(e)h(deactiv)m(ated\).)49 2991 y Fj(\))45 b Ft(display-cursor)30
b Fs(cursor)20 b(state)1112 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 3110 y(This)c(is)g(resp)r(onsible)d(for)i(dra)n(wing)h(or)f(erasing)
f(the)h Fm(cursor)f Fs(cursor)p Fr(.)26 b(If)18 b Fs(state)h
Fr(is)f Ft(:draw)p Fr(,)g(the)f(cursor)f(will)j(b)r(e)149 3176
y(dra)n(wn.)24 b(Otherwise,)17 b(if)i(the)e Fs(state)j Fr(is)e
Ft(:erase)p Fr(,)i(the)d(cursor)g(will)i(b)r(e)f(erased.)p
eop
%%Page: 137 152
bop 149 16 a Fm(CHAPTER)16 b(15.)43 b(EXTENDED)17 b(STREAM)g(OUTPUT)971
b Fr(137)149 210 y Fp(15.3.2)75 b(Stream)25 b(T)-6 b(ext)25
b(Cursor)g(Proto)r(col)149 378 y Fr(The)17 b(follo)n(wing)g(generic)f
(functions)g(comprise)f(the)i(stream)e(text)h(cursor)g(proto)r(col.)22
b(An)n(y)c(extended)d(output)149 445 y(stream)h(class)h(m)n(ust)g(implemen)n
(t)g(metho)r(ds)e(for)j(these)e(generic)h(functions.)49 577
y Fj(\))45 b Ft(stream-text-cursor)30 b Fs(str)m(e)m(am)1124
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49 696 y Fj(\))45
b Ft(\(setf)29 b(stream-text-cursor\))h Fs(cursor)21 b(str)m(e)m(am)748
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 815 y(Returns)16
b(\(or)h(sets\))g(the)g(text)h(cursor)e(ob)s(ject)h(for)h(the)f(stream)f
Fs(str)m(e)m(am)p Fr(.)49 948 y Fj(\))45 b Ft(stream-cursor-position)30
b Fs(str)m(e)m(am)1008 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1067 y(Returns)c(the)h(curren)n(t)g(text)g(cursor)f(p)r(osition)h
(for)h(the)f Fm(extended)f(output)g(stream)g Fs(str)m(e)m(am)k
Fr(as)e(t)n(w)n(o)h(in)n(teger)149 1134 y(v)m(alues,)d(the)f
Fn(x)h Fr(and)g Fn(y)i Fr(p)r(ositions.)49 1266 y Fj(\))45
b Ft(\(setf*)29 b(stream-cursor-position\))h Fs(x)20 b(y)g(str)m(e)m(am)683
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1385 y(Sets)d(the)h(text)g
(cursor)f(p)r(osition)g(of)h(the)g Fm(extended)e(output)h(stream)f
Fs(str)m(e)m(am)23 b Fr(to)d Fs(x)g Fr(and)g Fs(y)p Fr(.)32
b Fs(x)21 b Fr(and)f Fs(y)g Fr(are)g(in)149 1452 y(device)d(units,)h(and)g(m)
n(ust)f(b)r(e)g(in)n(tegers.)49 1585 y Fj(\))45 b Ft
(stream-increment-cursor-position)31 b Fs(str)m(e)m(am)21 b(dx)f(dy)567
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1704 y(Mo)n(v)n(es)16
b(the)f(text)g(cursor)g(p)r(osition)g(of)g(the)h Fm(extended)e(output)g
(stream)g Fs(str)m(e)m(am)k Fr(relativ)n(ely)-5 b(,)17 b(adding)f
Fs(dx)g Fr(to)f(the)149 1770 y Fn(x)i Fr(co)r(ordinate)d(and)j
Fs(dy)g Fr(to)g(the)f Fn(y)k Fr(co)r(ordinate.)h(Either)16
b(of)h Fs(dx)h Fr(or)e Fs(dy)i Fr(ma)n(y)f(b)r(e)f Ft(nil)p
Fr(,)i(meaning)e(the)g(the)g Fn(x)h Fr(or)g Fn(y)149 1837 y
Fr(cursor)f(p)r(osition)h(will)j(b)r(e)d(una\013ected.)23 b(Otherwise,)17
b Fs(dx)h Fr(and)g Fs(dy)h Fr(m)n(ust)e(b)r(e)g(in)n(tegers.)149
2086 y Fk(15.4)91 b(T)-8 b(ext)31 b(Proto)s(col)149 2274 y
Fr(The)19 b(follo)n(wing)i(generic)e(functions)f(comprise)g(the)i(text)f
(proto)r(col.)28 b(An)n(y)21 b(extended)d(output)g(stream)g(class)149
2340 y(m)n(ust)f(implemen)n(t)f(metho)r(ds)f(for)j(these)f(generic)f
(functions.)49 2473 y Fj(\))45 b Ft(stream-character-width)30
b Fs(str)m(e)m(am)22 b(char)m(acter)h Ft(&key)29 b Fs(text-style)384
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2592 y(Returns)i(a)j
(rational)e(n)n(um)n(b)r(er)g(corresp)r(onding)e(to)j(the)g(amoun)n(t)e(of)j
(horizon)n(tal)e(motion)g(of)h(the)g(cursor)149 2658 y(p)r(osition)16
b(that)g(w)n(ould)h(o)r(ccur)e(if)j(the)e(c)n(haracter)f Fs(char)m(acter)21
b Fr(w)n(ere)c(output)e(to)i(the)f Fm(extended)f(output)h(stream)149
2725 y Fs(str)m(e)m(am)j Fr(in)g(the)e Fm(text)g(st)n(yle)h
Fs(text-style)h Fr(\(whic)n(h)e(defaults)g(to)g(the)g(curren)n(t)f(text)h(st)
n(yle)h(for)g(the)e(stream\).)22 b(This)149 2791 y(ignores)17
b(the)g(stream's)f(text)h(margin.)49 2924 y Fj(\))45 b Ft
(stream-string-width)30 b Fs(str)m(e)m(am)21 b(char)m(acter)j
Ft(&key)29 b Fs(start)21 b(end)f(text-style)236 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 3043 y(Computes)c(ho)n(w)i(the)g(cursor)f(p)r
(osition)g(w)n(ould)i(mo)n(v)n(e)f(horizon)n(tally)g(if)h(the)f(string)f
Fs(string)j Fr(w)n(ere)e(output)f(to)149 3109 y(the)14 b Fm(extended)g
(output)g(stream)f Fs(str)m(e)m(am)18 b Fr(in)e(the)e Fm(text)h(st)n(yle)h
Fs(text-style)h Fr(\(whic)n(h)e(defaults)g(to)g(the)f(curren)n(t)g(text)149
3176 y(st)n(yle)k(for)g(the)f(stream\))f(starting)g(at)i(the)f(left)h
(margin.)23 b(This)c(ignores)e(the)g(stream's)f(text)h(margin.)149
3309 y(The)f(\014rst)g(returned)f(v)m(alue)h(is)i(the)e Fn(x)g
Fr(co)r(ordinate)e(that)i(the)g(cursor)f(p)r(osition)h(w)n(ould)h(mo)n(v)n(e)
g(to.)24 b(The)16 b(second)149 3375 y(returned)g(v)m(alue)i(is)h(the)f(maxim)
n(um)f Fn(x)h Fr(co)r(ordinate)e(the)h(cursor)g(w)n(ould)i(visit)g(during)f
(the)g(output.)24 b(\(This)18 b(is)149 3442 y(the)f(same)g(as)h(the)f
(\014rst)g(v)m(alue)h(unless)g(the)f(string)g(con)n(tains)g(a)i
Ft(#\\Newline)g Fr(c)n(haracter.\))p eop
%%Page: 138 153
bop 149 16 a Fm(CHAPTER)16 b(15.)43 b(EXTENDED)17 b(STREAM)g(OUTPUT)971
b Fr(138)149 210 y Fs(start)19 b Fr(and)f Fs(end)h Fr(are)f(in)n(tegers,)f
(and)g(default)g(to)h(0)g(and)g(the)f(length)g(of)h(the)g(string,)f(resp)r
(ectiv)n(ely)-5 b(.)49 342 y Fj(\))45 b Ft(stream-text-margin)30
b Fs(str)m(e)m(am)1124 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])49 409 y Fj(\))45 b Ft(\(setf)29 b(stream-text-margin\))h
Fs(mar)m(gin)22 b(str)m(e)m(am)733 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 528 y(The)12 b Fn(x)h Fr(co)r(ordinate)d(at)j(whic)n(h)g(text)f
(wraps)g(around)g(on)h(the)f Fm(extended)f(output)g(stream)g
Fs(str)m(e)m(am)k Fr(\(see)d Ft(stream-)149 594 y(end-of-line-action)p
Fr(\).)24 b(The)15 b(default)g(setting)f(is)i(the)f(width)g(of)g(the)g(viewp)
r(ort,)g(whic)n(h)h(is)g(the)e(righ)n(t-hand)149 661 y(edge)j(of)h(the)f
(viewp)r(ort)g(when)g(it)i(is)f(horizon)n(tally)g(scrolled)f(to)h(the)f
(\\initial)i(p)r(osition".)149 793 y(Y)-5 b(ou)18 b(can)h(use)f
Ft(setf)i Fr(with)f Ft(stream-text-margin)i Fr(to)d(establish)g(a)h(new)g
(text)g(margin.)26 b(If)19 b Fs(mar)m(gin)i Fr(is)f Ft(nil)p
Fr(,)149 860 y(then)e(the)h(width)g(of)g(the)g(viewp)r(ort)f(will)j(b)r(e)e
(used.)27 b(If)20 b(the)f(width)g(of)g(the)g(viewp)r(ort)f(is)i(later)f(c)n
(hanged,)f(the)149 926 y(text)f(margin)g(will)i(c)n(hange,)f(to)r(o.)49
1059 y Fj(\))45 b Ft(stream-line-height)30 b Fs(str)m(e)m(am)21
b Ft(&key)30 b Fs(text-style)743 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1178 y(Returns)16 b(what)i(the)f(line)i(heigh)n(t)f(of)g(a)g(line)h
(on)f(the)f Fm(extended)g(output)f(stream)g Fs(str)m(e)m(am)k
Fr(con)n(taining)e(text)f(in)149 1245 y(the)j Fm(text)g(st)n(yle)h
Fs(text-style)h Fr(w)n(ould)f(b)r(e,)g(as)g(a)g(rational)f(n)n(um)n(b)r(er.)
31 b Fs(text-style)22 b Fr(defaults)e(to)g(the)g(curren)n(t)f(text)149
1311 y(st)n(yle)f(for)g(the)f(stream.)49 1444 y Fj(\))45 b
Ft(stream-vertical-spacing)30 b Fs(str)m(e)m(am)979 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 1563 y(Returns)e(the)i(curren)n(t)e
(in)n(ter-line)j(spacing)e(\(as)h(a)g(rational)f(n)n(um)n(b)r(er\))f(for)i
(the)g Fm(extended)e(output)h(stream)149 1629 y Fs(str)m(e)m(am)p
Fr(.)49 1762 y Fj(\))45 b Ft(stream-baseline)30 b Fs(str)m(e)m(am)1211
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1881 y(Returns)14
b(the)h(curren)n(t)f(text)i(baseline)f(\(as)g(a)h(rational)f(n)n(um)n(b)r
(er\))f(for)i(the)f Fm(extended)f(output)g(stream)g Fs(str)m(e)m(am)p
Fr(.)149 2102 y Fp(15.4.1)75 b(Mixing)27 b(T)-6 b(ext)25 b(and)f(Graphics)149
2271 y Fr(The)d(follo)n(wing)h(macro)e(pro)n(vides)h(a)h(con)n(v)n(enien)n(t)
f(w)n(a)n(y)i(to)e(mix)h(text)e(and)i(graphics)e(on)h(the)g(same)f(output)149
2337 y(stream.)49 2470 y Fj(\))45 b Ft(with-room-for-graphics)30
b Fs(\()p Ft(&optional)f Fs(str)m(e)m(am)19 b Ft(&key)29 b
Fs(\(move-cursor)18 b Ft(t)p Fs(\))f(height)i(r)m(e)m(c)m(or)m(d-typ)m(e\))h
Ft(&body)149 2537 y Fs(b)m(o)m(dy)2002 b Fr([)p Fs(Macr)m(o)s
Fr(])149 2656 y(Binds)14 b(the)f(dynamic)g(en)n(vironmen)n(t)f(to)i
(establish)f(a)h(lo)r(cal)f(Cartesian)g(co)r(ordinate)e(system)h(for)i(doing)
f(graph-)149 2722 y(ics)18 b(output)e(on)n(to)i(the)f Fm(extended)f(output)g
(stream)g Fr(designated)g(b)n(y)i Fs(str)m(e)m(am)p Fr(.)27
b(The)18 b(origin)g(\(0)p Fn(;)9 b Fr(0\))17 b(of)h(the)f(lo)r(cal)149
2789 y(co)r(ordinate)e(system)i(is)i(placed)e(at)h(the)g(curren)n(t)e(cursor)
h(p)r(osition,)h(and)f(is)i(in)g(the)f(lo)n(w)n(er)g(left)g(corner)f(of)h
(the)149 2855 y(area)k(created.)36 b(If)23 b(the)f(b)r(o)r(olean)f
Fs(move-cursor)k Fr(is)f Fm(true)e Fr(\(the)f(default\),)i(then)f(after)f
(the)i(graphic)e(output)149 2921 y(is)f(completed,)d(the)h(cursor)g(is)i(p)r
(ositioned)e(past)g(\(immediately)f(b)r(elo)n(w\))h(this)i(origin.)28
b(The)19 b(b)r(ottom)d(of)j(the)149 2988 y(v)n(ertical)e(blo)r(c)n(k)g(allo)r
(cated)f(is)i(at)f(this)g(lo)r(cation)f(\(that)g(is,)j(just)e(b)r(elo)n(w)g
(p)r(oin)n(t)g(\(0)p Fn(;)9 b Fr(0\),)17 b(not)g(necessarily)f(at)h(the)149
3054 y(b)r(ottom)e(of)j(the)f(output)g(done\).)149 3187 y(The)23
b Fs(str)m(e)m(am)i Fr(argumen)n(t)c(is)j(not)e(ev)m(aluated,)h(and)g(m)n
(ust)f(b)r(e)h(a)g(sym)n(b)r(ol)g(that)f(is)i(b)r(ound)d(to)i(a)g(stream.)38
b(If)149 3253 y Fs(str)m(e)m(am)19 b Fr(is)f Ft(t)g Fr(\(the)f(default\),)f
Ft(*standard-output*)j Fr(is)f(used.)24 b Fs(b)m(o)m(dy)19
b Fr(ma)n(y)e(ha)n(v)n(e)h(zero)f(or)g(more)f(declarations)149
3320 y(as)i(its)g(\014rst)f(forms.)149 3453 y(If)h Fs(height)i
Fr(is)e(supplied,)g(it)f(m)n(ust)g(b)r(e)g(a)h(rational)f(n)n(um)n(b)r(er)f
(that)g(sp)r(eci\014es)g(the)h(amoun)n(t)f(of)i(v)n(ertical)f(space)g(to)p
eop
%%Page: 139 154
bop 149 16 a Fm(CHAPTER)16 b(15.)43 b(EXTENDED)17 b(STREAM)g(OUTPUT)971
b Fr(139)149 210 y(allo)r(cate)19 b(for)i(the)f(output,)g(in)i(device)e
(units.)33 b(If)21 b(it)g(is)h(not)e(supplied,)h(the)g(heigh)n(t)f(is)i
(computed)c(from)h(the)149 276 y(output.)149 409 y Fs(r)m(e)m(c)m(or)m(d-typ)
m(e)f Fr(sp)r(eci\014es)12 b(the)h(class)g(of)h(output)e(record)g(to)h
(create)f(to)h(hold)h(the)f(graphical)g(output.)21 b(The)14
b(default)149 475 y(is)k Ft(standard-sequence-output-record)p
Fr(.)149 697 y Fp(15.4.2)75 b(W)-6 b(rapping)25 b(of)g(T)-6
b(ext)25 b(Lines)49 865 y Fj(\))45 b Ft(stream-end-of-line-action)30
b Fs(str)m(e)m(am)921 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])49 932 y Fj(\))45 b Ft(\(setf)29 b(stream-end-of-line-action\))i
Fs(action)21 b(str)m(e)m(am)549 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1051 y(The)c(end-of-line)g(action)g(con)n(trols)f(what)h(happ)r(ens)
f(if)i(the)f(text)f(cursor)h(p)r(osition)f(mo)n(v)n(es)h(horizon)n(tally)g
(out)149 1117 y(of)i(the)g(viewp)r(ort,)h(or)f(if)i(text)e(output)f(reac)n
(hes)g(the)h(text)g(margin.)32 b(\(By)21 b(default)f(the)g(text)g(margin)f
(is)i(the)149 1183 y(width)d(of)g(the)f(viewp)r(ort,)g(so)h(these)f(are)g
(usually)i(the)e(same)g(thing.\))149 1316 y Ft(stream-end-of-line-action)28
b Fr(returns)e(the)g(end-of-line)h(action)f(for)g(the)g Fm(extended)f(output)
h(stream)149 1383 y Fs(str)m(e)m(am)p Fr(.)g(It)18 b(can)g(b)r(e)f(c)n
(hanged)g(b)n(y)i(using)f Ft(setf)g Fr(on)g Ft(stream-end-of-line-action)p
Fr(.)149 1516 y(The)f(end-of-line)i(action)e(is)h(one)g(of:)232
1704 y Fj(\017)27 b Ft(:wrap)p Fr(|when)22 b(doing)g(text)f(output,)h(wrap)f
(the)g(text)h(around)e(\(that)h(is,)j(break)d(the)g(text)h(line)g(and)287
1770 y(start)f(another)f(line\).)38 b(When)21 b(setting)g(the)h(cursor)f(p)r
(osition,)i(scroll)f(the)f(windo)n(w)i(horizon)n(tally)f(to)287
1837 y(k)n(eep)c(the)f(cursor)g(p)r(osition)g(inside)h(the)g(viewp)r(ort.)23
b(This)18 b(is)h(the)e(default.)232 1947 y Fj(\017)27 b Ft(:scroll)p
Fr(|scroll)21 b(the)e(windo)n(w)h(horizon)n(tally)f(to)h(k)n(eep)f(the)g
(cursor)g(p)r(osition)g(inside)g(the)h(viewp)r(ort,)287 2014
y(then)d(k)n(eep)h(doing)g(the)f(output.)232 2124 y Fj(\017)27
b Ft(:allow)p Fr(|ignore)14 b(the)f(text)h(margin)f(and)g(do)h(the)g(output)e
(on)i(the)f(dra)n(wing)h(plane)g(b)r(ey)n(ond)f(the)h(visible)287
2191 y(part)j(of)h(the)f(viewp)r(ort.)49 2379 y Fj(\))45 b
Ft(with-end-of-line-action)30 b Fs(\(str)m(e)m(am)21 b(action\))g
Ft(&body)30 b Fs(b)m(o)m(dy)739 b Fr([)p Fs(Macr)m(o)s Fr(])149
2498 y(T)-5 b(emp)r(orarily)20 b(c)n(hanges)h Fs(str)m(e)m(am)p
Fr('s)j(end-of-line)e(action)f(for)g(the)h(duration)e(of)i(execution)e(of)i
(b)r(o)r(dy)-5 b(.)36 b Fs(action)149 2564 y Fr(m)n(ust)17
b(b)r(e)g(one)h(of)g(the)f(actions)g(describ)r(ed)f(in)i Ft
(stream-end-of-line-action)p Fr(.)149 2697 y(The)23 b Fs(str)m(e)m(am)i
Fr(argumen)n(t)c(is)j(not)e(ev)m(aluated,)h(and)g(m)n(ust)f(b)r(e)h(a)g(sym)n
(b)r(ol)g(that)f(is)i(b)r(ound)d(to)i(a)g(stream.)38 b(If)149
2764 y Fs(str)m(e)m(am)23 b Fr(is)f Ft(t)p Fr(,)h Ft(*standard-output*)g
Fr(is)f(used.)34 b Fs(b)m(o)m(dy)23 b Fr(ma)n(y)e(ha)n(v)n(e)h(zero)e(or)h
(more)f(declarations)g(as)h(its)g(\014rst)149 2830 y(forms.)49
2963 y Fj(\))45 b Ft(stream-end-of-page-action)30 b Fs(str)m(e)m(am)921
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49 3029 y Fj(\))45
b Ft(\(setf)29 b(stream-end-of-page-action\))i Fs(action)21
b(str)m(e)m(am)549 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
3148 y(The)16 b(end-of-page)g(action)f(con)n(trols)h(what)g(happ)r(ens)f(if)i
(the)f(text)g(cursor)f(p)r(osition)h(mo)n(v)n(es)g(v)n(ertically)i(out)e(of)
149 3215 y(the)h(viewp)r(ort.)149 3348 y Ft(stream-end-of-page-action)26
b Fr(returns)c(the)i(end-of-page)e(action)i(for)f(the)h Fm(extended)e(output)
h(stream)149 3414 y Fs(str)m(e)m(am)p Fr(.)j(It)18 b(can)g(b)r(e)f(c)n
(hanged)g(b)n(y)i(using)f Ft(setf)g Fr(on)g Ft(stream-end-of-page-action)p
Fr(.)p eop
%%Page: 140 155
bop 149 16 a Fm(CHAPTER)16 b(15.)43 b(EXTENDED)17 b(STREAM)g(OUTPUT)971
b Fr(140)149 210 y(The)17 b(end-of-page)g(action)g(is)i(one)e(of:)232
391 y Fj(\017)27 b Ft(:wrap)p Fr(|when)19 b(doing)f(text)g(output,)f(wrap)i
(the)e(text)h(around)g(\(that)f(is,)i(go)g(bac)n(k)g(to)f(the)g(top)g(of)g
(the)287 458 y(viewp)r(ort\).)232 566 y Fj(\017)27 b Ft(:scroll)p
Fr(|scroll)15 b(the)f(windo)n(w)g(v)n(ertically)h(to)f(k)n(eep)h(the)e
(cursor)g(p)r(osition)g(inside)i(the)e(viewp)r(ort,)i(then)287
632 y(k)n(eep)j(doing)g(output.)23 b(This)18 b(is)h(the)e(default.)232
740 y Fj(\017)27 b Ft(:allow)p Fr(|ignore)19 b(the)g(viewp)r(ort)f(and)h(do)g
(the)g(output)f(on)h(the)f(dra)n(wing)i(plane)f(b)r(ey)n(ond)f(the)h(visible)
287 807 y(part)e(of)h(the)f(viewp)r(ort.)49 988 y Fj(\))45
b Ft(with-end-of-page-action)30 b Fs(\(str)m(e)m(am)21 b(action\))g
Ft(&body)30 b Fs(b)m(o)m(dy)739 b Fr([)p Fs(Macr)m(o)s Fr(])149
1107 y(T)-5 b(emp)r(orarily)18 b(c)n(hanges)h Fs(str)m(e)m(am)p
Fr('s)k(end-of-page)18 b(action)i(for)f(the)h(duration)f(of)h(execution)e(of)
j(b)r(o)r(dy)-5 b(.)30 b Fs(action)149 1174 y Fr(m)n(ust)17
b(b)r(e)g(one)h(of)g(the)f(actions)g(describ)r(ed)f(in)i Ft
(stream-end-of-page-action)p Fr(.)149 1307 y(The)23 b Fs(str)m(e)m(am)i
Fr(argumen)n(t)c(is)j(not)e(ev)m(aluated,)h(and)g(m)n(ust)f(b)r(e)h(a)g(sym)n
(b)r(ol)g(that)f(is)i(b)r(ound)d(to)i(a)g(stream.)38 b(If)149
1373 y Fs(str)m(e)m(am)23 b Fr(is)f Ft(t)p Fr(,)h Ft(*standard-output*)g
Fr(is)f(used.)34 b Fs(b)m(o)m(dy)23 b Fr(ma)n(y)e(ha)n(v)n(e)h(zero)e(or)h
(more)f(declarations)g(as)h(its)g(\014rst)149 1440 y(forms.)149
1688 y Fk(15.5)91 b(A)m(ttracting)29 b(the)h(User's)g(A)m(tten)m(tion)49
1876 y Fj(\))45 b Ft(beep)29 b(&optional)h Fs(she)m(et)1280
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1995 y(A)n(ttracts)15
b(the)j(user's)f(atten)n(tion,)g(usually)h(with)g(an)g(audible)g(sound.)149
2243 y Fk(15.6)91 b(Bu\013ering)30 b(of)h(Output)149 2431 y
Fr(Some)16 b(mediums)f(that)i(supp)r(ort)e(the)i(output)f(proto)r(col)f(ma)n
(y)j(bu\013er)f(output.)23 b(When)17 b(bu\013ering)g(is)h(enabled)149
2497 y(on)c(a)h(medium,)f(the)g(time)f(at)h(whic)n(h)h(output)e(is)j
(actually)e(done)g(on)g(the)g(medium)f(is)i(unpredictable.)21
b Ft(force-)149 2563 y(output)d Fr(or)f Ft(finish-output)h
Fr(can)f(b)r(e)f(used)h(to)g(ensure)e(that)h(all)i(p)r(ending)e(output)g
(gets)g(completed.)22 b(If)17 b(the)149 2630 y(medium)i(is)i(a)g
(bidirectional)e(stream,)h(a)h Ft(force-output)g Fr(is)h(p)r(erformed)17
b(whenev)n(er)j(an)n(y)h(sort)f(of)h(input)f(is)149 2696 y(requested)c(on)i
(the)f(stream.)149 2829 y Ft(with-buffered-output)k Fr(pro)n(vides)e(a)g(w)n
(a)n(y)h(to)f(con)n(trol)g(when)f(bu\013ering)h(is)h(enabled)e(on)h(a)g
(medium.)27 b(By)149 2895 y(default,)13 b(CLIM's)f(in)n(teractiv)n(e)f
(streams)g(are)g(bu\013ered)g(if)j(the)d(underlying)h(windo)n(w)h(system)e
(supp)r(orts)f(bu\013er-)149 2962 y(ing.)49 3095 y Fj(\))45
b Ft(medium-buffering-output-p)30 b Fs(me)m(dium)890 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 3214 y(Returns)16 b
Fm(true)h Fr(if)i(the)e Fm(medium)f Fs(me)m(dium)k Fr(is)e(curren)n(tly)g
(bu\013ering)f(output,)g(otherwise)f(returns)g Fm(false)p Fr(.)49
3347 y Fj(\))45 b Ft(\(setf)29 b(medium-buffering-output-p\))i
Fs(bu\013er-p)20 b(me)m(dium)481 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 3466 y(Sets)17 b Ft(medium-buffering-output-p)j Fr(of)e(the)f
Fm(medium)f Fs(me)m(dium)k Fr(to)d Fs(bu\013er-p)p Fr(.)p eop
%%Page: 141 156
bop 149 16 a Fm(CHAPTER)16 b(15.)43 b(EXTENDED)17 b(STREAM)g(OUTPUT)971
b Fr(141)49 210 y Fj(\))45 b Ft(with-output-buffered)30 b Fs(\(me)m(dium)20
b Ft(&optional)30 b Fs(\(bu\013er-p)20 b Ft(t)p Fs(\)\))g Ft(&body)29
b Fs(b)m(o)m(dy)374 b Fr([)p Fs(Macr)m(o)s Fr(])149 329 y(If)17
b Fs(bu\013er-p)h Fr(is)f Fm(true)f Fr(\(the)f(default\),)h(this)h(causes)e
(the)h Fm(medium)f Fr(designated)g(b)n(y)i Fs(me)m(dium)i Fr(to)d(start)f
(bu\013ering)149 395 y(output,)24 b(and)g(ev)m(aluates)f Fs(b)m(o)m(dy)i
Fr(in)g(that)e(con)n(text.)42 b(If)24 b Fs(bu\013er-p)i Fr(is)f
Fm(false)p Fr(,)g Ft(force-output)h Fr(will)f(b)r(e)f(called)149
461 y(b)r(efore)16 b Fs(b)m(o)m(dy)j Fr(is)f(ev)m(aluated.)23
b(When)17 b Fs(b)m(o)m(dy)j Fr(is)e(exited)f(\(or)g(ab)r(orted)f(from\),)g
Ft(force-output)j Fr(will)g(b)r(e)e(called)h(if)149 528 y(output)e
(bu\013ering)h(will)j(b)r(e)d(disabled)h(after)f Ft(with-output-buffered)i
Fr(is)g(exited.)149 661 y(The)g Fs(me)m(dium)j Fr(argumen)n(t)c(is)i(not)g
(ev)m(aluated,)f(and)h(m)n(ust)f(b)r(e)g(a)h(sym)n(b)r(ol)g(that)f(is)h(b)r
(ound)f(to)h(a)g(medium.)28 b(If)149 727 y Fs(me)m(dium)21
b Fr(is)f Ft(t)p Fr(,)h Ft(*standard-output*)g Fr(is)f(used.)29
b Fs(b)m(o)m(dy)21 b Fr(ma)n(y)e(ha)n(v)n(e)i(zero)d(or)i(more)e
(declarations)f(as)j(its)f(\014rst)149 793 y(forms.)p eop
%%Page: 142 157
bop 149 691 a Fl(Chapter)46 b(16)149 1034 y Fq(Output)52 b(Recording)149
1422 y Fk(16.1)91 b(Ov)m(erview)31 b(of)g(Output)e(Recording)149
1609 y Fr(CLIM)19 b(pro)n(vides)g(a)h(mec)n(hanism)d(whereb)n(y)i(output)f
(\(textual)g(and)h(graphical\))f(ma)n(y)i(b)r(e)f(captured)e(in)n(to)j(an)149
1676 y Fm(output)13 b(history)i Fr(for)g(later)g(repla)n(y)h(on)f(the)f(same)
g(stream.)22 b(This)16 b(mec)n(hanism)d(serv)n(es)i(as)g(the)g(basis)g(for)g
(man)n(y)149 1742 y(other)h(to)r(ols,)i(suc)n(h)g(as)g(the)f(formatted)e
(output)h(and)i(presen)n(tation)e(mec)n(hanisms)f(describ)r(ed)h(elsewhere.)
149 1875 y(The)d(output)e(recording)h(facilit)n(y)i(is)g(la)n(y)n(ered)g(on)f
(top)f(of)i(the)e(graphics)g(and)h(text)g(output)e(proto)r(cols.)21
b(It)13 b(w)n(orks)149 1941 y(b)n(y)j(in)n(tercepting)d(the)i(op)r(erations)e
(in)j(the)e(graphics)h(and)g(text)f(output)g(proto)r(cols,)g(and)h(sa)n(ving)
h(information)149 2008 y(ab)r(out)h(these)i(op)r(erations)d(in)k(ob)s(jects)e
(called)h Fm(output)f(records)p Fr(.)27 b(In)20 b(general,)f(an)g(output)f
(record)g(is)i(a)f(kind)149 2074 y(of)k(displa)n(y)h(list,)h(that)d(is,)j(a)e
(collection)f(of)h(instructions)e(for)h(dra)n(wing)h(something)e(on)i(a)g
(stream.)37 b(Some)149 2141 y(output)17 b(records)f(ma)n(y)j(ha)n(v)n(e)g
Fm(c)n(hildren)p Fr(,)f(that)g(is,)h(a)g(collection)e(of)i(inferior)f(output)
f(records.)24 b(Other)17 b(output)149 2207 y(records,)f(whic)n(h)h(are)g
(called)g Fm(displa)n(y)n(ed)h(output)d(records)p Fr(,)h(corresp)r(ond)e
(directly)j(to)g(displa)n(y)n(ed)h(information)149 2274 y(on)k(the)g(stream,)
f(and)h(do)g(not)g(ha)n(v)n(e)h(c)n(hildren.)37 b(If)23 b(y)n(ou)g(think)f
(of)h(output)d(records)h(b)r(eing)g(arranged)g(in)i(a)149 2340
y(tree,)d(displa)n(y)n(ed)h(output)e(records)g(are)h(all)h(of)f(the)g(leaf)h
(no)r(des)e(in)i(the)f(tree,)g(for)g(example,)g(displa)n(y)n(ed)h(text)149
2406 y(and)c(graphics)g(records.)149 2539 y(Displa)n(y)n(ed)k(output)e
(records)g(m)n(ust)g(record)g(the)h(state)f(of)h(the)g(supplied)g(dra)n(wing)
g(options)g(at)g(the)f(instan)n(t)149 2606 y(the)d(output)g(record)g(is)i
(created,)d(as)j(follo)n(ws.)25 b(The)17 b(ink)h(supplied)f(b)n(y)h(the)e
(programmer)e(m)n(ust)i(b)r(e)h(captured)149 2672 y(without)d(resolving)h
(indirect)g(inks;)i(this)e(is)h(so)g(that)e(a)h(user)g(can)g(later)g(c)n
(hange)f(the)h(default)f(foreground)f(and)149 2738 y(bac)n(kground)18
b(ink)i(of)g(the)f(medium)e(and)j(ha)n(v)n(e)g(that)e(c)n(hange)h(a\013ect)g
(the)g(already-created)d(output)i(records)149 2805 y(during)k(repla)n(y)-5
b(.)40 b(The)23 b(e\013ect)f(of)h(the)f(sp)r(eci\014ed)f(\\user")h
(transformation)d(\(comp)r(osed)g(with)k(the)f(medium)149 2871
y(transformation\))16 b(m)n(ust)k(b)r(e)g(captured;)g(CLIM)g(implemen)n
(tations)e(are)i(free)g(to)g(do)h(this)f(either)g(b)n(y)h(sa)n(ving)149
2938 y(the)g(transformation)e(ob)s(ject)h(or)i(b)n(y)h(sa)n(ving)g(the)e
(transformed)e(v)m(alues)j(of)g(all)h(ob)s(jects)e(that)g(are)g(a\013ected)
149 3004 y(b)n(y)f(the)f(transformation.)25 b(The)19 b(user)g(clipping)g
(region)g(and)g(line)h(st)n(yle)g(m)n(ust)e(b)r(e)h(captured)e(in)j(the)f
(output)149 3071 y(record)h(as)i(w)n(ell.)38 b(Subsequen)n(t)20
b(repla)n(ying)i(of)g(the)f(record)g(under)g(a)h(new)g(user)f
(transformation,)f(clipping)149 3137 y(region,)d(or)h(line)g(st)n(yle)h(will)
g(not)e(a\013ect)g(the)h(repla)n(y)n(ed)f(output.)23 b(CLIM)18
b(implemen)n(tation)d(are)i(p)r(ermitted)e(to)149 3203 y(capture)k(the)i
(text)g(st)n(yle)h(either)e(fully)j(merged)c(against)i(the)g(medium's)e
(default,)j(or)g(not;)h(in)f(the)f(former)149 3270 y(case,)c(subsequen)n(t)f
(c)n(hanges)g(to)h(the)g(medium's)e(default)i(text)g(st)n(yle)g(will)i(not)e
(a\013ect)g(repla)n(ying)g(the)g(record,)149 3336 y(but)g(in)i(the)e(latter)g
(case)g(c)n(hanging)g(the)h(default)f(text)g(st)n(yle)h(will)i(a\013ect)d
(repla)n(ying.)1262 3632 y(142)p eop
%%Page: 143 158
bop 149 16 a Fm(CHAPTER)16 b(16.)43 b(OUTPUT)17 b(RECORDING)1203
b Fr(143)149 210 y(A)17 b(CLIM)f(stream)f(that)h(supp)r(orts)f(output)g
(recording)g(has)i(an)g(output)e(history)h(ob)s(ject,)h(whic)n(h)g(is)g(a)g
(sp)r(ecial)149 276 y(kind)24 b(of)g(output)f(record)f(that)h(supp)r(orts)f
(some)h(other)f(op)r(erations.)40 b(CLIM)24 b(de\014nes)f(a)h(standard)e(set)
i(of)149 342 y(output)16 b(history)i(implemen)n(tations)d(and)i(a)h(standard)
e(set)i(of)g(output)e(record)h(t)n(yp)r(es.)149 475 y(The)24
b(output)e(recording)g(mec)n(hanism)g(is)j(de\014ned)e(so)h(as)g(to)g(p)r
(ermit)e(application)h(sp)r(eci\014c)f(or)i(host)g(win-)149
542 y(do)n(w)17 b(system)e(sp)r(eci\014c)g(implemen)n(tations)f(of)i(the)g(v)
m(arious)h(recording)d(proto)r(cols.)22 b(CLIM)17 b(implemen)n(tations)149
608 y(should)f(pro)n(vide)h(sev)n(eral)f(t)n(yp)r(es)h(of)f(standard)f
(output)h(records)f(with)h(di\013eren)n(t)h(c)n(haracteristics)d(for)i(searc)
n(h,)149 674 y(storage,)h(and)h(retriev)m(al.)26 b(Tw)n(o)19
b(examples)e(are)h(\\sequence")f(output)g(records)f(\(whic)n(h)j(store)e
(elemen)n(ts)g(in)j(a)149 741 y(sequence,)13 b(and)g(whose)f(insertion)g(and)
h(retriev)m(al)g(complexit)n(y)f(is)i(O\(n\)\))e(and)h(\\tree")f(output)f
(records)h(\(whic)n(h)149 807 y(store)i(elemen)n(ts)g(in)h(some)g(sort)f(of)h
(tree)g(based)f(on)h(the)g(lo)r(cation)f(of)i(the)e(elemen)n(t,)h(and)g
(whose)g(insertion)f(and)149 874 y(retriev)m(al)j(complexit)n(y)g(is)i
(O\(log)f(n\)\).)149 1007 y Fo(Ma)t(jor)28 b(issue:)79 b Fm(There)23
b(is)i(a)f(prop)r(osal)e(on)i(the)f(table)g(to)h(unify)g(the)f(sheet)g(and)g
(output)f(record)h(pro-)149 1073 y(to)r(cols,)g(not)g(b)n(y)h(unifying)g(the)
e(class)h(structure,)g(but)f(b)n(y)j(making)d(them)g(implemen)n(t)f(the)i
(same)f(generic)149 1139 y(functions)d(where)h(that)g(mak)n(es)g(sense.)32
b(F)-5 b(or)21 b(instance,)g(sheets)e(and)i(output)e(records)g(b)r(oth)h(ha)n
(v)n(e)h(regions,)149 1206 y(transformations)16 b(\(that)i(relate)g(sheets)h
(to)g(their)g(paren)n(ts\),)g(b)r(oth)f(supp)r(ort)g(a)i(repain)n(ting)f(op)r
(eration,)f(and)149 1272 y(so)g(forth.)149 1405 y(In)13 b(particular,)g
Ft(sheet-parent)h Fm(and)f Ft(output-record-parent)h Fm(are)f(equiv)m(alen)n
(t,)h(as)f(are)f Ft(sheet-children)149 1472 y Fm(and)f Ft
(output-record-children)p Fm(,)k Ft(sheet-adopt-child)f Fm(and)d
Ft(add-output-record)p Fm(,)k Ft(sheet-disown-child)149 1538
y Fm(and)21 b Ft(delete-output-record)p Fm(,)k(and)d Ft(repaint-sheet)h
Fm(and)f Ft(replay-output-record)p Fm(,)j(and)d(the)f(map-)149
1604 y(ping)d(functions.)25 b Ft(output-record-position)20
b Fm(and)e(its)h Ft(setf)g Fm(function)e(ha)n(v)n(e)i(sheet)f(analogs.)25
b(The)18 b(sheet)149 1671 y(and)f(output)g(record)f(noti\014cation)g
(functions)h(are)g(also)h(equiv)m(alen)n(t.)149 1804 y(This)e(simpli\014es)g
(the)g(conceptual)e(framew)n(ork)g(of)j(CLIM,)f(and)g(could)g(ev)n(en)n
(tually)h(simplify)f(the)g(implemen-)149 1870 y(tation)f(as)h(w)n(ell.)25
b(Doing)16 b(this)g(w)n(ork)h(no)n(w)f(op)r(ens)f(the)g(do)r(or)g(for)h
(later)f(uni\014cations,)h(suc)n(h)g(unifying)g(the)f(pane)149
1936 y(la)n(y)n(out)j(functionalit)n(y)g(with)g(table)f(formatting.)22
b(|)d(Y)-5 b(ork,)18 b(SWM)149 2186 y Fk(16.2)91 b(Output)30
b(Records)49 2374 y Fj(\))45 b Ft(output-record)1536 b Fr([)p
Fs(Pr)m(oto)m(c)m(ol)23 b(Class)5 b Fr(])149 2493 y(The)26
b(proto)r(col)f(class)i(that)f(is)i(used)e(to)h(indicate)f(that)g(an)h(ob)s
(ject)e(is)j(an)f(output)e(record,)k(that)c(is,)31 b(an)149
2559 y(ob)s(ject)19 b(that)h(con)n(tains)g(other)g(output)g(records.)31
b(This)22 b(is)g(a)f(sub)r(class)e(of)i Ft(bounding-rectangle)p
Fr(,)j(and)d(as)149 2625 y(suc)n(h,)h(output)d(records)g(ob)r(ey)i(the)f(b)r
(ounding)f(rectangle)g(proto)r(col.)32 b(If)21 b(y)n(ou)h(w)n(an)n(t)f(to)g
(create)e(a)i(new)g(class)149 2692 y(that)g(b)r(eha)n(v)n(es)h(lik)n(e)j(an)d
(output)f(record,)i(it)g(should)f(b)r(e)g(a)h(sub)r(class)e(of)i
Ft(output-record)p Fr(.)40 b(Sub)r(classes)21 b(of)149 2758
y Ft(output-record)e Fr(m)n(ust)e(ob)r(ey)g(the)h(output)e(record)g(proto)r
(col.)149 2891 y(All)i(output)f(records)f(are)h(m)n(utable.)49
3024 y Fj(\))45 b Ft(output-record-p)30 b Fs(obje)m(ct)1443
b Fr([)p Fs(F)l(unction)t Fr(])149 3143 y(Returns)16 b Fm(true)h
Fr(if)i Fs(obje)m(ct)h Fr(is)f(an)f Fm(output)e(record)p Fr(,)h(otherwise)g
(returns)f Fm(false)p Fr(.)49 3276 y Fj(\))45 b Ft(displayed-output-record)
1246 b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23 b(Class)5 b Fr(])149
3395 y(The)23 b(proto)r(col)f(class)i(that)e(is)j(used)e(to)h(indicate)f
(that)f(an)i(ob)s(ject)e(is)j(a)f(displa)n(y)n(ed)g(output)f(record,)h(that)
149 3461 y(is,)33 b(an)c(ob)s(ject)e(that)h(represen)n(ts)f(a)j(visible)g
(piece)e(of)h(output)f(on)h(some)f(output)f(stream.)56 b(This)30
b(is)g(a)p eop
%%Page: 144 159
bop 149 16 a Fm(CHAPTER)16 b(16.)43 b(OUTPUT)17 b(RECORDING)1203
b Fr(144)149 210 y(sub)r(class)22 b(of)h Ft(bounding-rectangle)p
Fr(.)43 b(If)24 b(y)n(ou)g(w)n(an)n(t)f(to)g(create)f(a)i(new)f(class)g(that)
f(b)r(eha)n(v)n(es)h(lik)n(e)i(a)f(dis-)149 276 y(pla)n(y)n(ed)j(output)e
(record,)j(it)f(should)g(b)r(e)f(a)h(sub)r(class)e(of)i Ft
(displayed-output-record)p Fr(.)53 b(Sub)r(classes)25 b(of)149
342 y Ft(displayed-output-record)19 b Fr(m)n(ust)f(ob)r(ey)f(the)g(displa)n
(y)n(ed)i(output)d(record)h(proto)r(col.)149 475 y(All)h(displa)n(y)n(ed)h
(output)e(records)f(are)h(m)n(utable.)49 608 y Fj(\))45 b Ft
(displayed-output-record-p)30 b Fs(obje)m(ct)1153 b Fr([)p
Fs(F)l(unction)t Fr(])149 727 y(Returns)16 b Fm(true)h Fr(if)i
Fs(obje)m(ct)h Fr(is)f(a)f Fm(displa)n(y)n(ed)h(output)d(record)p
Fr(,)h(otherwise)g(returns)f Fm(false)p Fr(.)49 860 y Fj(\))45
b Ft(:x-position)1743 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])49
926 y Fj(\))45 b Ft(:y-position)1743 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5
b Fr(])49 993 y Fj(\))45 b Ft(:parent)1859 b Fr([)p Fs(Init)21
b(A)o(r)m(g)5 b Fr(])149 1112 y(All)19 b(sub)r(classes)e(of)h(either)g
Ft(output-record)i Fr(or)e Ft(displayed-output-record)j Fr(m)n(ust)d(handle)g
(these)f(three)149 1178 y(initargs,)i(whic)n(h)g(are)f(used)h(to)f(sp)r
(ecify)-5 b(,)20 b(resp)r(ectiv)n(ely)-5 b(,)19 b(the)f Fn(x)h
Fr(and)g Fn(y)i Fr(p)r(osition)d(of)h(the)g(output)e(record,)h(and)149
1245 y(the)f(paren)n(t)g(of)h(the)f(output)g(record.)49 1377
y Fj(\))45 b Ft(:size)1917 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5
b Fr(])149 1496 y(All)17 b(sub)r(classes)f(of)h Ft(output-record)h
Fr(m)n(ust)e(handle)h(the)f Ft(:size)i Fr(initarg.)23 b(It)17
b(is)h(used)f(to)f(sp)r(ecify)h(ho)n(w)g(m)n(uc)n(h)149 1563
y(ro)r(om)d(should)h(b)r(e)g(left)h(for)f(c)n(hild)i(output)d(records)g
(\(if,)j(for)e(example,)g(the)g(c)n(hildren)h(are)f(stored)f(in)j(a)f(v)n
(ector\).)149 1629 y(It)21 b(is)h(p)r(ermissible)e(for)i Ft(:size)g
Fr(to)f(b)r(e)g(ignored,)h(pro)n(vided)f(that)g(the)g(resulting)f(output)g
(record)g(is)j(able)e(to)149 1696 y(store)16 b(the)i(sp)r(eci\014ed)e(n)n(um)
n(b)r(er)h(of)h(c)n(hild)g(output)f(records.)149 1917 y Fp(16.2.1)75
b(The)25 b(Basic)i(Output)c(Record)i(Proto)r(col)149 2086 y
Fr(All)h(sub)r(classes)d(of)j Ft(output-record)g Fr(and)g Ft
(displayed-output-record)h Fr(m)n(ust)d(inherit)h(or)h(implemen)n(t)149
2152 y(metho)r(ds)15 b(for)j(the)f(follo)n(wing)i(generic)d(functions.)149
2285 y(When)h(the)g(generic)g(functions)f(in)j(this)f(section)e(tak)n(e)i(b)r
(oth)f Fs(r)m(e)m(c)m(or)m(d)k Fr(and)d(a)g Fs(str)m(e)m(am)i
Fr(argumen)n(ts,)c(CLIM)h(im-)149 2351 y(plemen)n(tations)12
b(will)17 b(sp)r(ecialize)c(the)i Fs(str)m(e)m(am)i Fr(argumen)n(t)12
b(for)j(the)f Ft(standard-output-recording-stream)149 2418
y Fr(class)j(and)h(the)f Fs(r)m(e)m(c)m(or)m(d)22 b Fr(argumen)n(t)15
b(for)j(all)h(of)f(the)f(implemen)n(tation-sp)r(eci\014c)d(output)i(record)h
(classes.)49 2551 y Fj(\))45 b Ft(output-record-position)30
b Fs(r)m(e)m(c)m(or)m(d)1024 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 2670 y(Returns)11 b(the)i Fn(x)h Fr(and)e Fn(y)k Fr(p)r(osition)d
(of)g(the)g Fm(output)f(record)f Fs(r)m(e)m(c)m(or)m(d)17 b
Fr(as)c(t)n(w)n(o)h(rational)f(n)n(um)n(b)r(ers.)21 b(The)13
b(p)r(osition)g(of)149 2736 y(an)k(output)e(record)h(is)i(the)e(p)r(osition)g
(of)h(the)g(upp)r(er-left)e(corner)h(of)h(its)g(b)r(ounding)f(rectangle.)22
b(The)17 b(p)r(osition)149 2802 y(is)h(relativ)n(e)g(to)g(the)f(stream,)g
(where)g(\(0)p Fn(;)9 b Fr(0\))17 b(is)i(\(initially\))f(the)g(upp)r(er-left)
e(corner)g(of)i(the)g(stream.)49 2935 y Fj(\))45 b Ft(\(setf*)29
b(output-record-position\))h Fs(x)20 b(y)g(r)m(e)m(c)m(or)m(d)699
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 3054 y(Changes)g(the)h
Fn(x)h Fr(and)g Fn(y)i Fr(p)r(osition)d(of)h(the)f Fm(output)g(record)f
Fs(r)m(e)m(c)m(or)m(d)27 b Fr(to)d(b)r(e)f Fs(x)h Fr(and)f
Fs(y)h Fr(\(whic)n(h)g(are)f(rational)149 3121 y(n)n(um)n(b)r(ers\),)g(and)h
(up)r(dates)d(the)i(b)r(ounding)g(rectangle)e(to)j(re\015ect)e(the)h(new)g(p)
r(osition)g(\(and)g(sa)n(v)n(ed)h(cursor)149 3187 y(p)r(ositions,)15
b(if)j(the)d(output)g(record)g(stores)g(it\).)23 b(If)17 b
Fs(r)m(e)m(c)m(or)m(d)j Fr(has)c(an)n(y)h(c)n(hildren,)f(all)i(of)e(the)g(c)n
(hildren)g(\(and)f(their)149 3253 y(descendan)n(ts)k(as)j(w)n(ell\))g(will)i
(b)r(e)d(mo)n(v)n(ed)g(b)n(y)i(the)e(same)g(amoun)n(t)f(as)i
Fs(r)m(e)m(c)m(or)m(d)j Fr(w)n(as)d(mo)n(v)n(ed.)36 b(The)21
b(b)r(ounding)149 3320 y(rectangles)16 b(of)j(all)g(of)g Fs(r)m(e)m(c)m(or)m
(d)p Fr('s)j(ancestors)17 b(will)j(also)e(b)r(e)g(up)r(dated)f(to)h(b)r(e)g
(large)g(enough)g(to)g(con)n(tain)g Fs(r)m(e)m(c)m(or)m(d)p
Fr(.)149 3386 y(This)h(do)r(es)f(not)h(repla)n(y)g(the)g(output)f(record,)g
(but)h(the)f(next)h(time)f(the)h(output)f(record)f(is)j(repla)n(y)n(ed)g(it)f
(will)149 3453 y(app)r(ear)d(at)h(the)h(new)g(p)r(osition.)p
eop
%%Page: 145 160
bop 149 16 a Fm(CHAPTER)16 b(16.)43 b(OUTPUT)17 b(RECORDING)1203
b Fr(145)49 210 y Fj(\))45 b Ft(output-record-start-cursor-position)31
b Fs(r)m(e)m(c)m(or)m(d)646 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 329 y(Returns)c(the)h Fn(x)g Fr(and)h Fn(y)i Fr(starting)c(cursor)g
(p)r(osition)h(of)h(the)f Fm(output)f(record)g Fs(r)m(e)m(c)m(or)m(d)23
b Fr(as)c(t)n(w)n(o)i(in)n(teger)d(v)m(alues.)149 395 y(The)j(p)r(ositions)f
(are)g(relativ)n(e)h(to)g(the)g(stream,)f(where)g(\(0)p Fn(;)9
b Fr(0\))21 b(is)h(\(initially\))f(the)g(upp)r(er-left)e(corner)h(of)h(the)
149 461 y(stream.)149 594 y(T)-5 b(ext)13 b(output)f(records)f(and)i(up)r
(dating)f(output)g(records)f(main)n(tain)i(the)f(cursor)g(p)r(osition.)22
b(Graphical)13 b(output)149 661 y(records)g(and)j(other)e(output)g(records)g
(that)g(do)i(not)e(require)h(or)h(a\013ect)e(the)h(cursor)f(p)r(osition)h
(will)i(return)d Ft(nil)149 727 y Fr(as)k(b)r(oth)e(of)i(the)g(v)m(alues.)49
860 y Fj(\))45 b Ft(\(setf*)29 b(output-record-start-cursor-position\))i
Fs(x)20 b(y)f(r)m(e)m(c)m(or)m(d)322 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 979 y(Changes)13 b(the)h Fn(x)h Fr(and)g
Fn(y)i Fr(starting)c(cursor)h(p)r(osition)f(of)i(the)f Fm(output)f(record)h
Fs(r)m(e)m(c)m(or)m(d)k Fr(to)c(b)r(e)g Fs(x)h Fr(and)f Fs(y)i
Fr(\(whic)n(h)e(are)149 1045 y(in)n(tegers\).)30 b(This)21
b(do)r(es)e(not)h(a\013ect)g(the)g(b)r(ounding)f(rectangle)f(of)j
Fs(r)m(e)m(c)m(or)m(d)p Fr(,)j(nor)d(do)r(es)e(it)i(repla)n(y)f(the)g(output)
149 1112 y(record.)29 b(F)-5 b(or)20 b(those)f(output)g(records)f(that)h(do)h
(not)g(require)f(or)h(a\013ect)g(the)f(cursor)g(p)r(osition,)h(the)f(metho)r
(d)149 1178 y(for)e(this)h(function)f(is)i(a)f(no-op.)49 1311
y Fj(\))45 b Ft(output-record-end-cursor-position)31 b Fs(r)m(e)m(c)m(or)m(d)
704 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1430 y(Returns)d(the)i
Fn(x)h Fr(and)f Fn(y)j Fr(ending)d(cursor)f(p)r(osition)g(of)h(the)g
Fm(output)f(record)g Fs(r)m(e)m(c)m(or)m(d)25 b Fr(as)c(t)n(w)n(o)h(in)n
(teger)e(v)m(alues.)149 1496 y(The)h(p)r(ositions)f(are)g(relativ)n(e)h(to)g
(the)g(stream,)f(where)g(\(0)p Fn(;)9 b Fr(0\))21 b(is)h(\(initially\))f(the)
g(upp)r(er-left)e(corner)h(of)h(the)149 1563 y(stream.)29 b(Graphical)20
b(output)e(records)h(do)h(not)f(trac)n(k)h(the)f(cursor)g(p)r(osition,)h(so)h
(only)f(text)g(output)e(record)149 1629 y(\(and)f(some)g(others\))f(will)j
(return)e(meaningful)f(v)m(alues)i(for)f(this.)149 1762 y(T)-5
b(ext)13 b(output)f(records)f(and)i(up)r(dating)f(output)g(records)f(main)n
(tain)i(the)f(cursor)g(p)r(osition.)22 b(Graphical)13 b(output)149
1829 y(records)g(and)j(other)e(output)g(records)g(that)g(do)i(not)e(require)h
(or)h(a\013ect)e(the)h(cursor)f(p)r(osition)h(will)i(return)d
Ft(nil)149 1895 y Fr(as)k(b)r(oth)e(of)i(the)g(v)m(alues.)49
2028 y Fj(\))45 b Ft(\(setf*)29 b(output-record-end-cursor-position\))i
Fs(x)20 b(y)f(r)m(e)m(c)m(or)m(d)380 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 2147 y(Changes)15 b(the)g Fn(x)i Fr(and)e
Fn(y)k Fr(ending)d(cursor)f(p)r(osition)g(of)h(the)g Fm(output)f(record)f
Fs(r)m(e)m(c)m(or)m(d)20 b Fr(to)c(b)r(e)f Fs(x)i Fr(and)f
Fs(y)g Fr(\(whic)n(h)g(are)149 2213 y(in)n(tegers\).)30 b(This)21
b(do)r(es)e(not)h(a\013ect)g(the)g(b)r(ounding)f(rectangle)f(of)j
Fs(r)m(e)m(c)m(or)m(d)p Fr(,)j(nor)d(do)r(es)e(it)i(repla)n(y)f(the)g(output)
149 2280 y(record.)29 b(F)-5 b(or)20 b(those)f(output)g(records)f(that)h(do)h
(not)g(require)f(or)h(a\013ect)g(the)f(cursor)g(p)r(osition,)h(the)f(metho)r
(d)149 2346 y(for)e(this)h(function)f(is)i(a)f(no-op.)49 2479
y Fj(\))45 b Ft(output-record-parent)30 b Fs(r)m(e)m(c)m(or)m(d)1082
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2598 y(Returns)d(the)h
(output)g(record)f(that)h(is)i(the)e(paren)n(t)g(of)h(the)f
Fm(output)g(record)f Fs(r)m(e)m(c)m(or)m(d)p Fr(,)26 b(or)21
b Ft(nil)g Fr(if)h(the)e(record)149 2664 y(has)d(no)h(paren)n(t.)49
2797 y Fj(\))45 b Ft(replay)29 b Fs(r)m(e)m(c)m(or)m(d)23 b(str)m(e)m(am)e
Ft(&optional)30 b Fs(r)m(e)m(gion)1066 b Fr([)p Fs(F)l(unction)t
Fr(])149 2916 y(This)26 b(function)e(bind)i Ft(stream-recording-p)i
Fr(of)e Fs(str)m(e)m(am)h Fr(to)f Fm(false)p Fr(,)i(and)d(then)g(calls)h
Ft(replay-output-)149 2983 y(record)c Fr(on)g(the)f(argumen)n(ts)e
Fs(r)m(e)m(c)m(or)m(d)p Fr(,)27 b Fs(str)m(e)m(am)p Fr(,)e(and)d
Fs(r)m(e)m(gion)p Fr(.)38 b(If)22 b Ft(stream-drawing-p)h Fr(of)f
Fs(str)m(e)m(am)i Fr(is)e Fm(false)p Fr(,)149 3049 y Ft(replay)16
b Fr(do)r(es)f(nothing.)23 b Ft(replay)17 b Fr(is)f(t)n(ypically)h(called)f
(during)g(scrolling,)g(b)n(y)h(repain)n(t)e(handlers,)h(and)f(so)h(on.)149
3182 y(CLIM)e(implemen)n(tations)e(are)i(p)r(ermitted)d(to)k(default)e
Fs(r)m(e)m(gion)k Fr(either)d(to)g Ft(nil)i Fr(or)e(to)g(the)g(region)g
(corresp)r(ond-)149 3248 y(ing)k(to)g(viewp)r(ort)e(of)i Fs(str)m(e)m(am)p
Fr(.)49 3381 y Fj(\))45 b Ft(replay-output-record)30 b Fs(r)m(e)m(c)m(or)m(d)
23 b(str)m(e)m(am)e Ft(&optional)30 b Fs(r)m(e)m(gion)21 b(x-o\013set)f
(y-o\013set)58 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])p
eop
%%Page: 146 161
bop 149 16 a Fm(CHAPTER)16 b(16.)43 b(OUTPUT)17 b(RECORDING)1203
b Fr(146)149 210 y(Displa)n(ys)15 b(the)e(output)g(captured)f(b)n(y)j(the)e
Fm(output)f(record)h Fs(r)m(e)m(c)m(or)m(d)k Fr(on)d(the)f
Fm(output)g(recording)f(stream)g Fs(str)m(e)m(am)p Fr(,)149
276 y(exactly)22 b(as)g(it)h(w)n(as)f(originally)h(captured)d(\(sub)s(ject)h
(to)h(subsequen)n(t)e(mo)r(di\014cations\).)34 b(The)23 b(curren)n(t)d(user)
149 342 y(transformation,)f(line)j(st)n(yle,)h(text)e(st)n(yle,)i(ink,)h(and)
d(clipping)g(region)g(of)h Fs(str)m(e)m(am)h Fr(are)e(all)i(ignored)d(during)
149 409 y(the)d(repla)n(y)h(op)r(eration.)k(Instead,)17 b(these)g(are)h
(gotten)e(from)h(the)g(output)f(record.)149 542 y(If)h Fs(r)m(e)m(c)m(or)m(d)
k Fr(is)d(not)f(a)h(displa)n(y)n(ed)g(output)e(record,)g(then)g(repla)n(ying)
i(it)f(in)n(v)n(olv)n(es)j(repla)n(ying)d(all)h(of)g(its)f(c)n(hildren.)149
608 y(If)i Fs(r)m(e)m(c)m(or)m(d)j Fr(is)e(a)f(displa)n(y)n(ed)h(output)d
(record,)h(then)g(repla)n(ying)h(it)g(in)n(v)n(olv)n(es)i(redoing)d(the)g
(graphics)g(op)r(eration)149 674 y(captured)d(in)k(the)e(record.)149
807 y Fs(r)m(e)m(gion)k Fr(is)f(a)g(region)e(that)g(can)h(b)r(e)g(supplied)g
(to)g(limit)g(what)g(records)e(are)i(displa)n(y)n(ed.)29 b(Only)20
b(those)e(records)149 874 y(that)f(o)n(v)n(erlap)h Fs(r)m(e)m(gion)i
Fr(are)e(repla)n(y)n(ed.)24 b(The)18 b(default)f(for)h Fs(r)m(e)m(gion)i
Fr(is)f Ft(+everywhere+)p Fr(.)149 1007 y(It)f(is)h(p)r(ermissible)e(for)h
(implemen)n(tations)e(to)i(restrict)f Ft(replay-output-record)j
Fr(suc)n(h)e(that)g Fs(str)m(e)m(am)j Fr(m)n(ust)149 1073 y(b)r(e)c(the)g
(same)g(stream)f(on)i(whic)n(h)g(the)f(output)g(records)f(w)n(ere)i
(originally)h(recorded.)149 1206 y Fo(Minor)29 b(issue:)78
b Fm(Ho)n(w)23 b(do)r(es)g(repla)n(ying)g(a)h(text)f(output)f(record)f(\(or)i
(an)n(y)h(record)e(that)h(main)n(tains)f(the)149 1272 y(cursor)d(p)r
(osition\))f(a\013ect)h(the)h(cursor)f(p)r(osition)g(of)h(the)f(stream?)29
b(It)20 b(is)h(probably)e(that)g(case)h(that)f Ft(replay)149
1339 y Fm(should)e(not)h(a\013ect)f(the)g(cursor)g(p)r(osition.)23
b(|)c(SWM)49 1472 y Fj(\))45 b Ft(erase-output-record)30 b
Fs(r)m(e)m(c)m(or)m(d)23 b(str)m(e)m(am)932 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 1591 y(Erases)c(the)h Fm(output)f(record)f
Fs(r)m(e)m(c)m(or)m(d)23 b Fr(from)18 b(the)h Fm(output)f(recording)g(stream)
f Fs(str)m(e)m(am)p Fr(,)22 b(remo)n(v)n(es)d Fs(r)m(e)m(c)m(or)m(d)k
Fr(from)149 1657 y Fs(str)m(e)m(am)p Fr('s)g(output)18 b(history)-5
b(,)22 b(and)e(ensures)f(that)g(all)j(other)d(output)g(records)f(that)i(w)n
(ere)g(co)n(v)n(ered)g(b)n(y)h Fs(r)m(e)m(c)m(or)m(d)149 1723
y Fr(are)14 b(visible.)24 b(In)15 b(e\013ect,)g(this)g(dra)n(ws)g(bac)n
(kground)e(ink)j(o)n(v)n(er)f(the)f(record,)g(and)h(then)f(redra)n(ws)g(all)h
(the)f(records)149 1790 y(that)j(o)n(v)n(erlap)h Fs(r)m(e)m(c)m(or)m(d)p
Fr(.)49 1923 y Fj(\))45 b Ft(output-record-hit-detection-rectangle*)31
b Fs(r)m(e)m(c)m(or)m(d)559 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 2042 y(This)h(metho)r(d)d(is)j(used)g(to)f(establish)g(the)g(usual)h
(\\e\013ectiv)n(e)f(size")g(of)h Fs(r)m(e)m(c)m(or)m(d)j Fr(for)c(hit)h
(detection)e(queries.)149 2108 y(F)-5 b(our)21 b(v)m(alues)h(are)e(returned)g
(corresp)r(onding)e(to)j(the)g(edges)f(of)i(the)f(b)r(ounding)f(rectangle)f
(that)i(is)h(the)f(hit)149 2174 y(detection)14 b(rectangle.)21
b(The)16 b(default)f(metho)r(d)f(\(on)h(CLIM's)h(standard)e(output)g(record)h
(class\))g(is)i(equiv)m(alen)n(t)149 2241 y(to)f(calling)h(calling)g
Ft(bounding-rectangle*)i Fr(on)e Fs(r)m(e)m(c)m(or)m(d)p Fr(,)j(but)d(this)g
(metho)r(d)d(can)i(b)r(e)g(sp)r(ecialized)g(to)g(return)149
2307 y(a)i(larger)f(b)r(ounding)f(rectangle)g(in)j(order)e(to)g(implemen)n(t)
f(a)j(form)d(of)i(h)n(ysteresis.)49 2440 y Fj(\))45 b Ft
(output-record-refined-sensitivity-test)31 b Fs(r)m(e)m(c)m(or)m(d)23
b(x)c(y)464 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
2559 y(This)15 b(is)g(used)f(to)g(de\014nitiv)n(ely)h(answ)n(er)f(hit)h
(detection)e(queries,)i(that)e(is,)k(determining)12 b(that)i(the)g(p)r(oin)n
(t)g(\()p Fn(x;)9 b(y)r Fr(\))149 2626 y(is)16 b(con)n(tained)e(within)i(the)
f(output)f(record)g Fs(r)m(e)m(c)m(or)m(d)p Fr(.)27 b(Once)15
b(the)g(p)r(osition)g(\()p Fn(x;)9 b(y)r Fr(\))15 b(has)g(b)r(een)g
(determined)e(to)i(lie)149 2692 y(within)23 b Ft
(output-record-hit-detection-rectangle*)p Fr(,)k Ft
(output-record-refined-sensitivity-)149 2758 y(test)21 b Fr(is)g(in)n(v)n(ok)
n(ed.)32 b(Output)19 b(record)g(sub)r(classes)f(can)i(pro)n(vide)g(a)h(metho)
r(d)c(that)j(pro)n(vides)g(a)g(more)f(precise)149 2825 y(de\014nition)d(of)i
(a)f(hit,)h(for)g(example,)e(output)g(records)g(for)h(elliptical)h(rings)g
(will)h(implemen)n(t)c(a)j(metho)r(d)d(that)149 2891 y(detects)h(whether)g
(the)h(p)r(oin)n(ting)h(device)f(is)i(on)f(the)f(elliptical)h(ring.)49
3024 y Fj(\))45 b Ft(highlight-output-record)30 b Fs(r)m(e)m(c)m(or)m(d)23
b(str)m(e)m(am)e(state)683 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 3143 y(This)f(metho)r(d)d(is)j(called)g(in)g(order)f(to)g(dra)n(w)h
(a)g(highligh)n(ting)f(b)r(o)n(x)h(around)e(the)h Fm(output)g(record)f
Fs(r)m(e)m(c)m(or)m(d)24 b Fr(on)149 3209 y(the)g Fm(output)g(recording)f
(stream)g Fs(str)m(e)m(am)p Fr(.)49 b Fs(state)26 b Fr(will)h(b)r(e)e(either)
f Ft(:highlight)i Fr(\(meaning)d(to)i(dra)n(w)g(the)149 3276
y(highligh)n(ting\))e(or)g Ft(:unhighlight)i Fr(\(meaning)c(to)i(erase)g(the)
g(highligh)n(ting\).)40 b(The)24 b(default)e(metho)r(d)f(\(on)149
3342 y(CLIM's)j(standard)e(output)g(record)g(class\))i(will)h(simply)f(dra)n
(w)g(a)g(rectangle)e(that)h(corresp)r(onds)e(the)i(the)149
3409 y(b)r(ounding)16 b(rectangle)g(of)i Fs(r)m(e)m(c)m(or)m(d)p
Fr(.)p eop
%%Page: 147 162
bop 149 16 a Fm(CHAPTER)16 b(16.)43 b(OUTPUT)17 b(RECORDING)1203
b Fr(147)149 210 y Fp(16.2.2)75 b(The)25 b(Output)f(Record)g(\\Database")h
(Proto)r(col)149 378 y Fr(All)g(classes)f(that)g(are)g(sub)r(classes)f(of)i
Ft(output-record)h Fr(m)n(ust)e(implemen)n(t)f(metho)r(ds)f(for)j(the)f
(follo)n(wing)149 445 y(generic)16 b(functions.)49 577 y Fj(\))45
b Ft(output-record-children)30 b Fs(r)m(e)m(c)m(or)m(d)1024
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 696 y(Returns)c(a)h(sequence)
f(of)i(all)g(of)g(the)f(c)n(hildren)g(of)h(the)f Fm(output)f(record)g
Fs(r)m(e)m(c)m(or)m(d)p Fr(.)32 b(It)20 b(is)g(unsp)r(eci\014ed)d(whether)149
763 y(the)g(sequence)f(is)j(a)f(freshly)g(created)e(ob)s(ject)g(or)i(a)g
(\\liv)n(e")h(ob)s(ject)e(represen)n(ting)e(the)j(state)e(of)i
Fs(r)m(e)m(c)m(or)m(d)p Fr(.)49 896 y Fj(\))45 b Ft(add-output-record)30
b Fs(child)21 b(r)m(e)m(c)m(or)m(d)1036 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 1015 y(Adds)14 b(the)g(new)h Fm(output)e(record)g
Fs(child)k Fr(to)d(the)h Fm(output)e(record)g Fs(r)m(e)m(c)m(or)m(d)p
Fr(.)27 b(The)15 b(b)r(ounding)e(rectangle)g(for)h Fs(r)m(e)m(c)m(or)m(d)149
1081 y Fr(\(and)j(all)i(its)f(ancestors\))d(m)n(ust)i(b)r(e)h(up)r(dated)d
(to)j(accoun)n(t)e(for)i(the)f(new)h(c)n(hild)h(record.)149
1214 y(The)e(metho)r(ds)f(for)h(the)h Ft(add-output-record)h
Fr(will)h(t)n(ypically)f(sp)r(ecialize)d(only)j(the)e Fs(r)m(e)m(c)m(or)m(d)
22 b Fr(argumen)n(t.)49 1347 y Fj(\))45 b Ft(delete-output-record)30
b Fs(child)21 b(r)m(e)m(c)m(or)m(d)i Ft(&optional)29 b Fs(\(err)m(orp)22
b Ft(t)p Fs(\))392 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
1466 y(Remo)n(v)n(es)g(the)h Fm(output)f(record)f Fs(child)k
Fr(from)e(the)f Fm(output)g(record)g Fs(r)m(e)m(c)m(or)m(d)p
Fr(.)44 b(The)23 b(b)r(ounding)f(rectangle)f(for)149 1532 y
Fs(r)m(e)m(c)m(or)m(d)26 b Fr(\(and)d(all)h(its)f(ancestors\))e(ma)n(y)i(b)r
(e)f(up)r(dated)f(to)i(accoun)n(t)f(for)h(the)g(c)n(hild)h(ha)n(ving)f(b)r
(een)f(remo)n(v)n(ed,)149 1599 y(although)16 b(this)i(is)h(not)e(mandatory)-5
b(.)149 1731 y(If)17 b Fs(err)m(orp)i Fr(is)e Fm(true)f Fr(\(the)g(default\))
f(and)h Fs(child)i Fr(is)g(not)e(con)n(tained)f(within)i Fs(r)m(e)m(c)m(or)m
(d)p Fr(,)j(then)c(an)h(error)e(is)i(signalled.)149 1864 y(The)g(metho)r(ds)e
(for)i(the)g Ft(delete-output-record)i Fr(will)g(t)n(ypically)g(sp)r
(ecialize)d(only)i(the)f Fs(r)m(e)m(c)m(or)m(d)k Fr(argumen)n(t.)49
1997 y Fj(\))45 b Ft(clear-output-record)30 b Fs(r)m(e)m(c)m(or)m(d)1111
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2116 y(Remo)n(v)n(es)17
b(all)h(of)g(the)f(c)n(hildren)h(from)e(the)h Fm(output)f(record)h
Fs(r)m(e)m(c)m(or)m(d)p Fr(,)k(and)c(resets)g(the)g(b)r(ounding)f(rectangle)g
(of)149 2183 y Fs(r)m(e)m(c)m(or)m(d)21 b Fr(to)d(its)g(initial)h(state.)49
2315 y Fj(\))45 b Ft(output-record-count)30 b Fs(r)m(e)m(c)m(or)m(d)1111
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2434 y(Returns)16
b(the)h(n)n(um)n(b)r(er)g(of)h(c)n(hildren)g(con)n(tained)e(within)j(the)e
Fm(output)f(record)h Fs(r)m(e)m(c)m(or)m(d)p Fr(.)49 2567 y
Fj(\))45 b Ft(map-over-output-records-containing-position)31
b Fs(function)26 b(r)m(e)m(c)m(or)m(d)j(x)24 b(y)i Ft(&optional)j
Fs(x-o\013set)d(y-)149 2634 y(o\013set)1723 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 2833 y(Maps)16 b(o)n(v)n(er)i(all)g(of)f(the)f(c)n
(hildren)h(of)g(the)f Fm(output)g(record)f Fs(r)m(e)m(c)m(or)m(d)20
b Fr(that)c(con)n(tain)g(the)h(p)r(oin)n(t)f(at)h(\()p Fn(x;)9
b(y)r Fr(\),)17 b(calling)149 2899 y Fs(function)h Fr(on)e(eac)n(h)h(one.)23
b Fs(function)18 b Fr(is)g(a)e(function)g(of)g(one)h(argumen)n(t,)e(the)h
(record)f(con)n(taining)g(the)h(p)r(oin)n(t;)h(it)149 2966
y(has)g(dynamic)g(exten)n(t.)149 3099 y(If)24 b(there)f(are)h(m)n(ultiple)g
(records)f(that)g(con)n(tain)h(the)g(p)r(oin)n(t)g(and)g(that)f(o)n(v)n
(erlap)i(eac)n(h)f(other,)h Ft(map-over-)149 3165 y
(output-records-containing-position)15 b Fr(m)n(ust)d(hit)i(the)e(upp)r
(ermost)e(\(most)h(recen)n(tly)h(inserted\))f(record)149 3231
y(\014rst)k(and)h(the)f(b)r(ottommost)d(\(least)j(recen)n(tly)g(inserted\))g
(record)f(last.)24 b(Otherwise,)16 b(the)f(order)g(in)i(whic)n(h)f(the)149
3298 y(records)g(are)h(tra)n(v)n(ersed)g(is)i(unsp)r(eci\014ed.)49
3431 y Fj(\))45 b Ft(map-over-output-records-overlapping-region)31
b Fs(function)17 b(r)m(e)m(c)m(or)m(d)h(r)m(e)m(gion)g Ft(&optional)30
b Fs(x-o\013set)16 b(y-)p eop
%%Page: 148 163
bop 149 16 a Fm(CHAPTER)16 b(16.)43 b(OUTPUT)17 b(RECORDING)1203
b Fr(148)149 210 y Fs(o\013set)1723 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 409 y(Maps)c(o)n(v)n(er)i(all)f(of)g(the)g(c)n
(hildren)f(of)h(the)g Fm(output)e(record)g Fs(r)m(e)m(c)m(or)m(d)23
b Fr(that)18 b(o)n(v)n(erlap)h(the)f Fm(region)g Fs(r)m(e)m(gion)p
Fr(,)k(calling)149 475 y Fs(function)c Fr(on)f(eac)n(h)g(one.)23
b Fs(function)c Fr(is)e(a)h(function)d(of)i(one)g(argumen)n(t,)e(the)h
(record)g(o)n(v)n(erlapping)h(the)f(region;)149 542 y(it)i(has)g(dynamic)f
(exten)n(t.)149 674 y(If)23 b(there)f(are)g(m)n(ultiple)h(records)e(that)h(o)
n(v)n(erlap)i(the)e(region)h(and)f(that)g(o)n(v)n(erlap)i(eac)n(h)e(other,)i
Ft(map-over-)149 741 y(output-records-overlapping-region)15
b Fr(m)n(ust)d(hit)h(the)f(b)r(ottommos)o(t)d(\(least)j(recen)n(tly)g
(inserted\))f(record)149 807 y(\014rst)17 b(and)h(the)g(upp)r(ermost)d
(\(most)i(recen)n(tly)g(inserted\))g(record)f(last.)26 b(Otherwise,)18
b(the)f(order)h(in)h(whic)n(h)f(the)149 874 y(records)e(are)h(tra)n(v)n
(ersed)g(is)i(unsp)r(eci\014ed.)149 1095 y Fp(16.2.3)75 b(Output)24
b(Record)g(Change)h(Noti\014cation)i(Proto)r(col)149 1264 y
Fr(The)14 b(follo)n(wing)h(functions)e(are)g(called)h(b)n(y)i(programmer)o(s)
11 b(and)j(b)n(y)h(CLIM)f(itself)g(in)h(order)e(to)h(notify)g(a)h(paren)n(t)
149 1330 y(output)h(record)h(when)g(the)g(b)r(ounding)g(rectangle)f(of)i(one)
f(of)h(its)g(c)n(hild)h(output)e(record)f(c)n(hanges.)49 1463
y Fj(\))45 b Ft(recompute-extent-for-new-child)30 b Fs(r)m(e)m(c)m(or)m(d)23
b(child)657 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
1582 y(This)g(function)f(is)i(called)f(whenev)n(er)f(a)h(new)g(c)n(hild)h(is)
g(added)e(to)h(an)f(output)g(record.)35 b(Its)22 b(con)n(tract)e(is)j(to)149
1648 y(up)r(date)e(the)i(b)r(ounding)g(rectangle)e(of)j(the)f
Fm(output)f(record)g Fs(r)m(e)m(c)m(or)m(d)27 b Fr(to)d(b)r(e)f(large)g
(enough)f(to)h(completely)149 1715 y(con)n(tain)g(the)h(new)g(c)n(hild)i
Fm(output)c(record)h Fs(child)p Fr(.)46 b(The)24 b(paren)n(t)f(of)i
Fs(r)m(e)m(c)m(or)m(d)i Fr(m)n(ust)d(b)r(e)g(noti\014ed)f(b)n(y)i(calling)149
1781 y Ft(recompute-extent-for-changed-child)p Fr(.)149 1914
y Ft(add-output-record)19 b Fr(is)g(required)e(to)h(call)g
Ft(recompute-extent-for-new-child)p Fr(.)49 2047 y Fj(\))45
b Ft(recompute-extent-for-changed-child)31 b Fs(r)m(e)m(c)m(or)m(d)24
b(child)e(old-min-x)f(old-min-y)h(old-max-x)f(old-max-y)149
2113 y Fr([)p Fs(Generic)g(F)l(unction)t Fr(])149 2232 y(This)16
b(function)f(is)i(called)e(whenev)n(er)g(the)h(b)r(ounding)e(rectangle)g(of)i
(one)g(of)g(the)f(c)n(hilds)i(of)f(a)g(record)e(has)i(b)r(een)149
2299 y(c)n(hanged.)40 b(Its)23 b(con)n(tract)e(is)k(to)e(up)r(date)e(the)i(b)
r(ounding)f(rectangle)g(of)h(the)g Fm(output)f(record)g Fs(r)m(e)m(c)m(or)m
(d)27 b Fr(to)c(b)r(e)149 2365 y(large)16 b(enough)f(to)h(completely)f(con)n
(tain)h(the)g(new)g(b)r(ounding)f(rectangle)g(of)h(the)g(c)n(hild)i
Fm(output)d(record)g Fs(child)p Fr(.)149 2432 y(All)22 b(of)g(the)f
(ancestors)e(of)j Fs(r)m(e)m(c)m(or)m(d)j Fr(m)n(ust)c(b)r(e)g(noti\014ed)g
(b)n(y)h(recursiv)n(ely)g(calling)g Ft(recompute-extent-for-)149
2498 y(changed-child)p Fr(.)149 2631 y(Whenev)n(er)g(the)i(b)r(ounding)e
(rectangle)g(of)h(an)h(output)e(record)g(is)j(c)n(hanged)d(or)i
Ft(delete-output-record)149 2697 y Fr(is)f(called,)h Ft
(recompute-extent-for-changed-child)h Fr(m)n(ust)d(b)r(e)g(called)g(to)h
(inform)e(the)h(paren)n(t)g(of)g(the)149 2764 y(record)16 b(that)h(a)h(c)n
(hange)f(has)h(tak)n(en)f(place.)49 2896 y Fj(\))45 b Ft
(tree-recompute-extent)30 b Fs(r)m(e)m(c)m(or)m(d)1053 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 3015 y(This)14 b(function)f(is)i
(called)f(whenev)n(er)g(the)f(b)r(ounding)g(rectangles)f(of)i(a)h(n)n(um)n(b)
r(er)d(of)j(c)n(hildren)f(of)g(a)g(record)f(ha)n(v)n(e)149
3082 y(b)r(een)19 b(c)n(hanged,)h(suc)n(h)g(as)g(happ)r(ens)e(during)i(table)
f(and)h(graph)g(formatting.)28 b(Its)20 b(con)n(tract)e(is)j(to)f(compute)149
3148 y(the)f(b)r(ounding)g(rectangle)e(large)j(enough)f(to)g(con)n(tain)h
(all)g(of)h(the)e(c)n(hildren)h(of)g(the)f(output)g(record)f
Fs(r)m(e)m(c)m(or)m(d)p Fr(,)149 3215 y(adjust)c(the)g(b)r(ounding)g
(rectangle)f(of)i(the)g Fm(output)e(record)h Fs(r)m(e)m(c)m(or)m(d)19
b Fr(accordingly)-5 b(,)15 b(and)g(then)f(call)i Ft(recompute-)149
3281 y(extent-for-changed-child)k Fr(on)d Fs(r)m(e)m(c)m(or)m(d)p
Fr(.)p eop
%%Page: 149 164
bop 149 16 a Fm(CHAPTER)16 b(16.)43 b(OUTPUT)17 b(RECORDING)1203
b Fr(149)149 210 y Fk(16.3)91 b(T)m(yp)s(es)31 b(of)f(Output)g(Records)149
397 y Fr(This)19 b(section)e(discusses)h(sev)n(eral)g(t)n(yp)r(es)h(of)f
(output)f(records,)h(including)h(t)n(w)n(o)g(standard)e(classes)g(of)i
(output)149 464 y(records)d(and)i(the)f(displa)n(y)n(ed)i(output)d(record)g
(proto)r(col.)149 683 y Fp(16.3.1)75 b(Standard)24 b(Output)f(Record)i
(Classes)49 851 y Fj(\))45 b Ft(standard-sequence-output-record)1229
b Fr([)p Fs(Class)5 b Fr(])149 970 y(The)19 b(standard)f(class)h(pro)n(vided)
h(b)n(y)g(CLIM)f(to)h(store)e(a)i(relativ)n(ely)g(short)f(sequence)f(of)h
(output)f(records;)i(a)149 1037 y(sub)r(class)e(of)i Ft(output-record)p
Fr(.)31 b(The)20 b(insertion)f(and)g(retriev)m(al)g(complexit)n(y)g(of)h
(this)g(class)g(is)g(O\(n\).)29 b(Most)149 1103 y(of)18 b(the)f(formatted)e
(output)i(facilities)h(\(suc)n(h)f(as)h Ft(formatting-table)p
Fr(\))h(create)d(output)h(records)f(that)h(are)h(a)149 1169
y(sub)r(class)e(of)i Ft(standard-sequence-output-record)p Fr(.)49
1302 y Fj(\))45 b Ft(standard-tree-output-record)1345 b Fr([)p
Fs(Class)5 b Fr(])149 1421 y(The)21 b(standard)e(class)j(pro)n(vided)f(b)n(y)
h(CLIM)f(to)g(store)g(longer)f(sequences)g(of)h(output)f(records.)33
b(T)n(ypically)-5 b(,)149 1488 y(the)15 b(c)n(hild)j(records)c(of)j(a)f(tree)
g(output)f(record)f(will)k(b)r(e)e(main)n(tained)f(in)i(some)e(sort)h(of)g
(sorted)f(order,)h(suc)n(h)h(as)149 1554 y(a)h(lexicographic)f(ordering)f(on)
i(the)g Fn(x)g Fr(and)f Fn(y)k Fr(co)r(ordinates)15 b(of)j(the)g(c)n
(hildren.)24 b(The)18 b(insertion)f(and)h(retriev)m(al)149
1620 y(complexit)n(y)f(of)h(this)g(class)g(is)g(O\(log)g(n\).)149
1839 y Fp(16.3.2)75 b(Graphics)25 b(Displa)n(y)n(ed)i(Output)d(Records)149
2008 y Fr(Graphics)i(displa)n(y)n(ed)h(output)f(records)f(are)h(used)g(to)g
(record)g(the)g(output)f(pro)r(duced)f(b)n(y)k(the)e(graphics)149
2074 y(functions,)f(suc)n(h)g(as)f Ft(draw-line*)p Fr(.)46
b(Eac)n(h)24 b(graphics)g(displa)n(y)n(ed)h(output)e(record)g(describ)r(es)g
(the)h(output)149 2141 y(pro)r(duced)15 b(b)n(y)k(a)f(call)h(to)e(one)h(of)g
(the)f(graphics)g(functions.)149 2274 y(The)25 b(exact)f(con)n(ten)n(ts)g(of)
i(graphics)e(displa)n(y)n(ed)i(output)e(records)g(is)i(unsp)r(eci\014ed,)f
(but)g(they)g(m)n(ust)g(store)149 2340 y(su\016cien)n(t)g(information)e(to)j
(b)r(e)f(able)g(to)g(exactly)h(redra)n(w)f(the)g(original)g(output)f(at)i
(repla)n(y)f(time.)47 b(The)149 2406 y(minim)n(um)24 b(information)f(that)i
(m)n(ust)g(b)r(e)g(captured)e(for)i(all)i(graphics)d(displa)n(y)n(ed)j
(output)d(records)f(is)k(as)149 2473 y(follo)n(ws:)232 2647
y Fj(\017)g Fr(The)19 b(description)e(of)i(the)g(graphical)f(ob)s(ject)f
(itself,)j(for)f(example,)f(the)h(end)f(p)r(oin)n(ts)h(of)g(a)g(line)g(or)g
(the)287 2713 y(cen)n(ter)e(p)r(oin)n(t)g(and)h(radius)f(of)h(a)h(circle.)232
2818 y Fj(\017)27 b Fr(The)20 b(programmer-sup)o(plied)d(ink)k(at)e(the)h
(time)f(the)g(dra)n(wing)h(function)f(w)n(as)i(called.)30 b(Indirect)19
b(inks)287 2885 y(m)n(ust)12 b(not)g(b)r(e)g(resolv)n(ed,)h(so)g(that)e(a)i
(user)f(can)g(later)g(c)n(hange)f(the)h(default)g(foreground)e(and)i(bac)n
(kground)287 2951 y(ink)19 b(of)g(the)e(medium)g(and)h(ha)n(v)n(e)h(that)e(c)
n(hange)h(a\013ect)f(the)h(already-created)e(output)h(records)f(during)287
3018 y(repla)n(y)-5 b(.)232 3123 y Fj(\017)27 b Fr(F)-5 b(or)16
b(paths,)f(the)g(programmer-supp)o(lied)e(line-st)n(yle)j(at)f(the)g(time)g
(the)g(dra)n(wing)g(function)f(w)n(as)i(called.)232 3228 y
Fj(\017)27 b Fr(The)18 b(programmer)o(-supplied)d(clipping)j(region)f(at)g
(the)h(time)f(the)g(dra)n(wing)h(function)f(w)n(as)h(called.)232
3333 y Fj(\017)27 b Fr(The)17 b(user)f(transformation)o(.)21
b(This)c(ma)n(y)g(b)r(e)f(accomplished)e(b)n(y)j(either)f(explicitly)i
(storing)d(the)h(trans-)287 3399 y(formation,)i(or)i(b)n(y)h(transforming)16
b(the)k(co)r(ordinates)c(supplied)k(to)f(the)g(dra)n(wing)h(function)e(and)i
(cap-)287 3466 y(turing)d(the)h(transformed)c(co)r(ordinates.)p
eop
%%Page: 150 165
bop 149 16 a Fm(CHAPTER)16 b(16.)43 b(OUTPUT)17 b(RECORDING)1203
b Fr(150)49 210 y Fj(\))45 b Ft(graphics-displayed-output-record)985
b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23 b(Class)5 b Fr(])149 329 y(The)17
b(proto)r(col)f(class)h(that)f(corresp)r(onds)f(to)i(output)f(records)g(for)h
(the)g(graphics)f(functions,)h(suc)n(h)g(as)h Ft(draw-)149
395 y(line*)p Fr(.)25 b(This)18 b(is)g(a)f(sub)r(class)g(of)g
Ft(displayed-output-record)p Fr(.)26 b(If)18 b(y)n(ou)g(w)n(an)n(t)g(to)f
(create)f(a)h(new)g(class)h(that)149 461 y(b)r(eha)n(v)n(es)11
b(lik)n(e)i(a)f(graphics)f(displa)n(y)n(ed)h(output)f(record,)g(it)i(should)e
(b)r(e)g(a)h(sub)r(class)f(of)h Ft(graphics-displayed-output-record)p
Fr(.)149 528 y(Sub)r(classes)21 b(of)i Ft(graphics-displayed-output-record)i
Fr(m)n(ust)d(ob)r(ey)g(the)h(graphics)f(displa)n(y)n(ed)h(output)149
594 y(record)16 b(proto)r(col.)49 727 y Fj(\))45 b Ft
(graphics-displayed-output-record-p)31 b Fs(obje)m(ct)891 b
Fr([)p Fs(F)l(unction)t Fr(])149 846 y(Returns)16 b Fm(true)h
Fr(if)i Fs(obje)m(ct)h Fr(is)f(a)f Fm(graphics)f(displa)n(y)n(ed)i(output)d
(record)p Fr(,)h(otherwise)f(returns)h Fm(false)p Fr(.)149
1066 y Fp(16.3.3)75 b(T)-6 b(ext)26 b(Displa)n(y)n(ed)g(Output)e(Record)149
1235 y Fr(T)-5 b(ext)12 b(displa)n(y)n(ed)h(output)e(records)f(are)i(used)f
(to)h(record)f(the)g(textual)g(output)g(pro)r(duced)f(b)n(y)j(suc)n(h)f
(functions)f(as)149 1301 y Ft(stream-write-char)k Fr(and)e
Ft(stream-write-string)p Fr(.)24 b(Eac)n(h)13 b(text)g(displa)n(y)n(ed)h
(output)e(record)g(corresp)r(onds)149 1368 y(to)19 b(no)h(more)f(than)g(one)h
(line)h(of)f(textual)f(output)f(\(that)h(is,)j(line)e(breaks)g(caused)e(b)n
(y)j Ft(terpri)g Fr(and)f Ft(fresh-)149 1434 y(line)e Fr(create)e(a)j(new)e
(text)h(output)e(record,)h(as)h(do)g(certain)e(other)h(stream)f(op)r
(erations)f(describ)r(ed)h(b)r(elo)n(w\).)149 1567 y(The)f(exact)g(con)n(ten)
n(ts)g(of)g(text)g(displa)n(y)n(ed)i(output)d(records)g(is)j(unsp)r
(eci\014ed,)d(but)h(they)h(m)n(ust)f(store)f(su\016cien)n(t)149
1633 y(information)22 b(to)j(b)r(e)f(able)g(to)h(exactly)f(redra)n(w)g(the)g
(original)h(output)e(at)h(repla)n(y)h(time.)44 b(The)24 b(minim)n(um)149
1700 y(information)16 b(that)h(m)n(ust)g(b)r(e)g(captured)f(for)i(all)g(text)
g(displa)n(y)n(ed)g(output)f(records)f(is)j(as)f(follo)n(ws:)232
1882 y Fj(\017)27 b Fr(The)18 b(displa)n(y)n(ed)h(text)e(strings.)232
1990 y Fj(\017)27 b Fr(The)18 b(starting)e(and)i(ending)f(cursor)g(p)r
(ositions.)232 2098 y Fj(\017)27 b Fr(The)20 b(text)f(st)n(yle)i(in)g(whic)n
(h)f(the)g(text)f(string)h(w)n(as)g(written.)30 b(Dep)r(ending)19
b(on)h(the)f(CLIM)h(implemen-)287 2165 y(tation,)d(this)g(ma)n(y)g(b)r(e)g
(either)g(fully)h(merged)d(against)i(the)f(medium's)g(default)g(or)i(not;)f
(in)h(the)f(former)287 2231 y(case,)k(subsequen)n(t)f(c)n(hanges)f(to)i(the)f
(medium's)f(default)h(text)g(st)n(yle)i(will)g(not)e(a\013ect)g(repla)n(ying)
h(the)287 2298 y(record,)c(but)g(in)i(the)e(latter)g(case)g(c)n(hanging)g
(the)h(default)f(text)g(st)n(yle)h(will)i(a\013ect)d(repla)n(ying.)232
2406 y Fj(\017)27 b Fr(The)20 b(programmer-sup)o(plied)d(ink)k(at)e(the)h
(time)f(the)g(dra)n(wing)h(function)f(w)n(as)i(called.)30 b(Indirect)19
b(inks)287 2472 y(m)n(ust)12 b(not)g(b)r(e)g(resolv)n(ed,)h(so)g(that)e(a)i
(user)f(can)g(later)g(c)n(hange)f(the)h(default)g(foreground)e(and)i(bac)n
(kground)287 2539 y(ink)19 b(of)g(the)e(medium)g(and)h(ha)n(v)n(e)h(that)e(c)
n(hange)h(a\013ect)f(the)h(already-created)e(output)h(records)f(during)287
2605 y(repla)n(y)-5 b(.)232 2713 y Fj(\017)27 b Fr(The)18 b(programmer)o
(-supplied)d(clipping)j(region)f(at)g(the)h(time)f(the)g(dra)n(wing)h
(function)f(w)n(as)h(called.)49 2895 y Fj(\))45 b Ft
(text-displayed-output-record)1101 b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23
b(Class)5 b Fr(])149 3014 y(The)25 b(proto)r(col)e(class)i(that)g(corresp)r
(onds)d(to)j(text)g(displa)n(y)n(ed)h(output)e(records.)45
b(This)26 b(is)g(a)g(sub)r(class)e(of)149 3081 y Ft(displayed-output-record)p
Fr(.)47 b(If)25 b(y)n(ou)g(w)n(an)n(t)g(to)g(create)e(a)i(new)g(class)f(that)
g(b)r(eha)n(v)n(es)g(lik)n(e)j(a)e(text)f(dis-)149 3147 y(pla)n(y)n(ed)d
(output)e(record,)i(it)g(should)f(b)r(e)g(a)h(sub)r(class)f(of)h
Ft(text-displayed-output-record)p Fr(.)35 b(Sub)r(classes)149
3214 y(of)18 b Ft(text-displayed-output-record)i Fr(m)n(ust)d(ob)r(ey)g(the)g
(text)h(displa)n(y)n(ed)g(output)f(record)f(proto)r(col.)49
3347 y Fj(\))45 b Ft(text-displayed-output-record-p)30 b Fs(obje)m(ct)1008
b Fr([)p Fs(F)l(unction)t Fr(])149 3466 y(Returns)16 b Fm(true)h
Fr(if)i Fs(obje)m(ct)h Fr(is)f(a)f Fm(text)f(displa)n(y)n(ed)i(output)e
(record)p Fr(,)f(otherwise)h(returns)f Fm(false)p Fr(.)p eop
%%Page: 151 166
bop 149 16 a Fm(CHAPTER)16 b(16.)43 b(OUTPUT)17 b(RECORDING)1203
b Fr(151)149 210 y(The)17 b(follo)n(wing)i(t)n(w)n(o)g(generic)d(functions)h
(comprise)f(the)h(text)h(displa)n(y)n(ed)g(output)f(record)f(proto)r(col.)49
342 y Fj(\))45 b Ft(add-character-output-to-text-record)31
b Fs(text-r)m(e)m(c)m(or)m(d)c(char)m(acter)f(text-style)f(width)e(height)i
(b)m(aseline)149 409 y Fr([)p Fs(Generic)c(F)l(unction)t Fr(])149
528 y(Adds)g(the)h(c)n(haracter)e Fs(char)m(acter)26 b Fr(to)c(the)g
Fm(text)g(displa)n(y)n(ed)h(output)e(record)f Fs(text-r)m(e)m(c)m(or)m(d)27
b Fr(in)c(the)f(text)f(st)n(yle)149 594 y Fs(text-style)p Fr(.)34
b Fs(width)22 b Fr(and)f Fs(height)i Fr(are)d(the)g(width)g(and)h(heigh)n(t)f
(of)h(the)f(c)n(haracter)f(in)i(device)f(units,)i(and)e(are)149
661 y(used)i(to)g(compute)f(the)h(b)r(ounding)f(rectangle)g(for)i(the)f(text)
g(record.)37 b Fs(b)m(aseline)25 b Fr(is)f(the)e(new)h(baseline)f(for)149
727 y(c)n(haracters)15 b(in)k(the)e(output)g(record.)49 860
y Fj(\))45 b Ft(add-string-output-to-text-record)31 b Fs(text-r)m(e)m(c)m(or)
m(d)26 b(string)e(start)g(end)g(text-style)g(width)g(height)g(b)m(ase-)149
926 y(line)1764 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
1126 y(Adds)16 b(the)g(string)g Fs(string)i Fr(to)f(the)f Fm(text)g(displa)n
(y)n(ed)h(output)f(record)f Fs(text-r)m(e)m(c)m(or)m(d)21 b
Fr(in)c(the)f(text)g(st)n(yle)i Fs(text-style)p Fr(.)149 1192
y Fs(start)25 b Fr(and)e Fs(end)i Fr(are)d(in)n(tegers)h(that)f(sp)r(ecify)h
(the)g(substring)f(within)h Fs(string)i Fr(to)e(add)h(to)f(the)f(text)h
(output)149 1258 y(record.)f Fs(width)d Fr(and)e Fs(height)i
Fr(are)e(the)g(width)g(and)g(heigh)n(t)g(of)g(the)f(c)n(haracter)f(in)j
(device)f(units,)h(and)f(are)f(used)149 1325 y(to)e(compute)d(the)j(b)r
(ounding)e(rectangle)g(for)i(the)g(text)f(record.)22 b Fs(b)m(aseline)16
b Fr(is)f(the)f(new)g(baseline)f(for)h(c)n(haracters)149 1391
y(in)k(the)g(output)e(record.)49 1524 y Fj(\))45 b Ft
(text-displayed-output-record-string)31 b Fs(text-r)m(e)m(c)m(or)m(d)539
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1643 y(Returns)h(the)i
(string)f(con)n(tained)g(b)n(y)i(the)f Fm(text)f(displa)n(y)n(ed)i(output)e
(record)f Fs(text-r)m(e)m(c)m(or)m(d)p Fr(.)50 b(This)26 b(function)149
1710 y(returns)16 b(ob)s(jects)g(that)h(rev)n(eal)h(CLIM's)g(in)n(ternal)g
(state;)f(do)h(not)f(mo)r(dify)g(those)g(ob)s(jects.)149 1931
y Fp(16.3.4)75 b(T)-6 b(op-Lev)n(el)26 b(Output)e(Records)149
2099 y Fr(T)-5 b(op-lev)n(el)17 b(output)e(records)f(are)i(similar)g(to)f
(ordinary)h(output)e(records,)i(except)e(that)i(they)f(m)n(ust)g(main)n(tain)
149 2166 y(additional)i(state,)g(suc)n(h)h(as)g(the)f(information)f(required)
h(to)h(displa)n(y)h(scroll)f(bars.)49 2299 y Fj(\))45 b Ft
(stream-output-history-mixin)1345 b Fr([)p Fs(Class)5 b Fr(])149
2418 y(This)20 b(class)f(is)h(mixed)f(in)n(to)h(some)e(other)g(output)g
(record)g(class)h(to)g(pro)r(duce)f(a)h(new)g(class)h(that)e(is)i(suitable)
149 2484 y(for)d(use)h(as)g(a)g(a)g(top-lev)n(el)h(output)d(history)-5
b(.)149 2617 y(When)12 b(the)g(b)r(ounding)g(rectangle)f(of)i(an)g(mem)n(b)r
(er)d(of)j(this)g(class)g(is)h(up)r(dated,)e(CLIM)h(implemen)n(tations)d(m)n
(ust)149 2683 y(up)r(date)15 b(an)n(y)k(windo)n(w)f(decorations)d(\(suc)n(h)i
(as)h(scroll)f(bars\))g(asso)r(ciated)e(with)j(the)f(stream)f(with)h(whic)n
(h)h(the)149 2750 y Fm(output)e(record)h Fs(history)i Fr(is)f(asso)r(ciated.)
49 2883 y Fj(\))45 b Ft(standard-tree-output-history)1316 b
Fr([)p Fs(Class)5 b Fr(])149 3002 y(The)17 b(standard)e(class)j(pro)n(vided)f
(b)n(y)h(CLIM)f(to)g(use)h(as)f(the)g(top-lev)n(el)h(output)e(history)-5
b(.)24 b(This)18 b(will)h(t)n(ypically)149 3068 y(b)r(e)e(a)h(sub)r(class)f
(of)h(b)r(oth)e Ft(standard-tree-output-record)k Fr(and)e Ft
(stream-output-history-mixin)p Fr(.)p eop
%%Page: 152 167
bop 149 16 a Fm(CHAPTER)16 b(16.)43 b(OUTPUT)17 b(RECORDING)1203
b Fr(152)149 210 y Fk(16.4)91 b(Output)30 b(Recording)e(Streams)149
397 y Fr(CLIM)18 b(de\014nes)g(an)g(extension)g(to)g(the)g(stream)f(proto)r
(col)f(that)i(supp)r(orts)e(output)h(recording.)25 b(The)19
b(stream)149 464 y(has)25 b(an)h(asso)r(ciated)e(output)g(history)h(record)g
(and)g(pro)n(vides)h(con)n(trols)f(to)h(enable)f(and)g(disable)h(output)149
530 y(recording.)149 663 y Fo(Minor)19 b(issue:)51 b Fm(Do)16
b(w)n(e)f(w)n(an)n(t)h(to)f(supp)r(ort)e(only)j(output)d(recording)h
(streams,)g(or)h(do)g(w)n(e)g(w)n(an)n(t)h(to)f(supp)r(ort)149
729 y(output)i(recording)g(sheets)h(as)h(w)n(ell?)29 b(If)19
b(the)f(latter,)h(w)n(e)g(need)f(to)h(split)g(apart)f(graphics)g(output)f
(recording)149 796 y(and)g(textual)g(output)g(recording,)f(and)i(rename)e
(lots)i(of)g(things.)24 b(|)18 b(SWM)49 929 y Fj(\))45 b Ft
(output-recording-stream)1246 b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23
b(Class)5 b Fr(])149 1048 y(The)24 b(proto)r(col)f(class)h(that)g(indicates)f
(that)h(a)h(stream)d(is)j(an)g(output)e(recording)g(stream.)42
b(If)25 b(y)n(ou)g(w)n(an)n(t)149 1114 y(to)20 b(create)f(a)i(new)g(class)g
(that)f(b)r(eha)n(v)n(es)g(lik)n(e)i(an)f(output)f(recording)f(stream,)h(it)h
(should)g(b)r(e)f(a)h(sub)r(class)f(of)149 1180 y Ft(output-recording-stream)
p Fr(.)44 b(Sub)r(classes)22 b(of)i Ft(output-recording-stream)i
Fr(m)n(ust)d(ob)r(ey)g(the)g(output)149 1247 y(recording)16
b(stream)g(proto)r(col.)49 1380 y Fj(\))45 b Ft(output-recording-stream-p)30
b Fs(obje)m(ct)1153 b Fr([)p Fs(F)l(unction)t Fr(])149 1499
y(Returns)16 b Fm(true)h Fr(if)i Fs(obje)m(ct)h Fr(is)f(an)f
Fm(output)e(recording)h(stream)p Fr(,)f(otherwise)g(returns)h
Fm(false)p Fr(.)49 1631 y Fj(\))45 b Ft(standard-output-recording-stream)1200
b Fr([)p Fs(Class)5 b Fr(])149 1750 y(The)22 b(class)g(used)g(b)n(y)h(CLIM)f
(to)g(implemen)n(t)e(output)h(record)g(streams.)35 b(This)23
b(is)g(a)f(sub)r(class)f(of)i Ft(output-)149 1817 y(recording-stream)p
Fr(.)j(Mem)n(b)r(ers)15 b(of)j(this)g(class)g(are)f(m)n(utable.)149
2038 y Fp(16.4.1)75 b(The)25 b(Output)f(Recording)g(Stream)h(Proto)r(col)149
2207 y Fr(The)20 b(follo)n(wing)h(generic)e(functions)g(comprise)f(the)i
(output)f(recording)g(stream)f(proto)r(col.)29 b(All)22 b(sub)r(classes)149
2273 y(of)c Ft(output-recording-stream)h Fr(m)n(ust)f(implemen)n(t)e(metho)r
(ds)f(for)j(these)e(generic)h(functions.)49 2406 y Fj(\))45
b Ft(stream-recording-p)30 b Fs(str)m(e)m(am)1124 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 2525 y(Returns)17 b
Fm(true)i Fr(when)f(the)h Fm(output)f(recording)f(stream)g
Fs(str)m(e)m(am)22 b Fr(is)e(recording)d(all)j(output)e(p)r(erformed)e(to)j
(it,)149 2591 y(otherwise)d(returns)g Fm(false)p Fr(.)49 2724
y Fj(\))45 b Ft(\(setf)29 b(stream-recording-p\))h Fs(r)m(e)m(c)m(or)m
(ding-p)23 b(str)m(e)m(am)637 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 2843 y(Changes)16 b(the)i(state)e(of)i Ft(stream-recording-p)i
Fr(to)d(b)r(e)h Fs(r)m(e)m(c)m(or)m(ding-p)p Fr(,)k(whic)n(h)c(m)n(ust)g(b)r
(e)f(either)g Ft(t)h Fr(or)g Ft(nil)p Fr(.)49 2976 y Fj(\))45
b Ft(stream-drawing-p)30 b Fs(str)m(e)m(am)1182 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 3095 y(Returns)14 b Fm(true)i Fr(when)g(the)g
Fm(output)f(recording)f(stream)h Fs(str)m(e)m(am)j Fr(will)g(actually)e(dra)n
(w)h(on)f(the)g(viewp)r(ort)f(when)149 3162 y(output)h(is)j(b)r(eing)e(p)r
(erformed)e(to)i(it,)i(otherwise)d(returns)h Fm(false)p Fr(.)49
3294 y Fj(\))45 b Ft(\(setf)29 b(stream-drawing-p\))h Fs(dr)m(awing-p)21
b(str)m(e)m(am)724 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
3413 y(Changes)16 b(the)i(state)e(of)i Ft(stream-recording-p)i
Fr(to)d(b)r(e)h Fs(dr)m(awing-p)p Fr(,)i(whic)n(h)f(m)n(ust)e(b)r(e)g(either)
g Ft(t)h Fr(or)g Ft(nil)p Fr(.)p eop
%%Page: 153 168
bop 149 16 a Fm(CHAPTER)16 b(16.)43 b(OUTPUT)17 b(RECORDING)1203
b Fr(153)49 210 y Fj(\))45 b Ft(stream-output-history)30 b
Fs(str)m(e)m(am)1037 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 329 y(Returns)16 b(the)h(history)h(\(or)f(top-lev)n(el)i(output)d
(record\))g(for)i(the)f Fm(output)f(recording)h(stream)f Fs(str)m(e)m(am)p
Fr(.)49 461 y Fj(\))45 b Ft(stream-current-output-record)30
b Fs(str)m(e)m(am)834 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 580 y(The)h(curren)n(t)f(\\op)r(en")g(output)g(record)g(for)i(the)f
Fm(output)f(recording)g(stream)f Fs(str)m(e)m(am)p Fr(,)28
b(the)23 b(one)g(to)g(whic)n(h)149 647 y Ft(stream-add-output-record)d
Fr(will)g(add)e(a)h(new)f(c)n(hild)i(record.)k(Initially)-5
b(,)21 b(this)d(is)h(the)f(same)f(as)i Ft(stream-)149 713 y(output-history)p
Fr(.)25 b(As)18 b(nested)f(output)f(records)g(are)i(created,)e(this)i(acts)f
(as)h(a)g(\\stac)n(k".)49 846 y Fj(\))45 b Ft(\(setf)29 b
(stream-current-output-record\))i Fs(r)m(e)m(c)m(or)m(d)22
b(str)m(e)m(am)468 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
965 y(Sets)g(the)h(curren)n(t)f(\\op)r(en")f(output)h(record)g(for)h(the)g
Fm(output)f(recording)g(stream)f Fs(str)m(e)m(am)k Fr(to)e(the)g
Fm(output)149 1031 y(record)16 b Fs(r)m(e)m(c)m(or)m(d)p Fr(.)49
1164 y Fj(\))45 b Ft(stream-add-output-record)30 b Fs(str)m(e)m(am)22
b(r)m(e)m(c)m(or)m(d)788 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1283 y(Adds)i(the)f Fm(output)g(record)g Fs(r)m(e)m(c)m(or)m(d)28
b Fr(to)d(the)f(curren)n(t)f(output)g(record)g(on)h(the)g Fm(output)f
(recording)g(stream)149 1350 y Fs(str)m(e)m(am)d Fr(\(that)c(is,)j
Ft(stream-current-output-record)p Fr(\).)49 1483 y Fj(\))45
b Ft(stream-replay)29 b Fs(str)m(e)m(am)22 b Ft(&optional)30
b Fs(r)m(e)m(gion)814 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1602 y(Directs)c(the)f Fm(output)g(recording)g(stream)f
Fs(str)m(e)m(am)21 b Fr(to)d(in)n(v)n(ok)n(e)i Ft(replay)g
Fr(on)e(its)h(output)e(history)-5 b(.)25 b(Only)20 b(those)149
1668 y(records)11 b(that)h(o)n(v)n(erlap)i(the)e Fm(region)h
Fs(r)m(e)m(gion)j Fr(\(whic)n(h)d(defaults)f(to)h(the)f(viewp)r(ort)g(of)h
(the)g(stream\))e(are)h(repla)n(y)n(ed.)149 1889 y Fp(16.4.2)75
b(Graphics)25 b(Output)f(Recording)149 2058 y Fr(Using)17 b
Ft(draw-line*)i Fr(as)f(an)g(example,)f(calling)i(an)n(y)f(of)g(the)g(dra)n
(wing)g(functions)e(sp)r(eci\014ed)g(in)j(Section)e(12.5)149
2124 y(and)g(Section)g(12.7)h(results)f(in)h(the)g(follo)n(wing)h(series)e
(of)h(function)f(calls)h(on)g(an)g(output)e(recording)g(stream:)232
2313 y Fj(\017)27 b Fr(A)22 b(program)e(calls)i Ft(draw-line*)h
Fr(on)f(argumen)n(ts)e Fs(she)m(et)p Fr(,)25 b Fs(x1)p Fr(,)f
Fs(y1)p Fr(,)g Fs(x2)p Fr(,)g(and)e Fs(y2)p Fr(,)i(and)e(p)r(erhaps)e(some)
287 2379 y(dra)n(wing)e(options.)232 2490 y Fj(\017)27 b Ft(draw-line*)20
b Fr(merges)c(the)i(supplied)g(dra)n(wing)g(options)g(in)n(to)g(the)g
(sheet's)g(medium,)f(and)h(then)f(calls)287 2556 y Ft(medium-draw-line*)e
Fr(on)e(the)g(sheet.)22 b(\(Note)11 b(that)i(a)g(compiler)f(macro)g(could)h
(detect)e(the)i(case)g(where)287 2622 y(there)k(are)g(no)h(dra)n(wing)g
(options)f(or)h(constan)n(t)e(dra)n(wing)i(options,)f(and)h(do)f(this)h(at)g
(compile)f(time.\))232 2733 y Fj(\017)27 b Fr(The)22 b Ft(:around)i
Fr(metho)r(d)19 b(for)k Ft(medium-draw-line*)g Fr(on)g(the)f(output)e
(recording)h(stream)f(is)j(called.)287 2800 y(This)e(creates)d(an)i(output)f
(record)g(with)i(all)g(of)f(the)g(information)e(necessary)h(to)h(repla)n(y)h
(the)e(output)287 2866 y(record,)24 b(if)h Ft(stream-recording-p)h
Fr(is)e Fm(true)p Fr(.)42 b(If)24 b Ft(stream-drawing-p)h Fr(is)g
Fm(true)p Fr(,)g(this)f(then)f(do)r(es)g(a)287 2932 y Ft(call-next-method)p
Fr(.)j(\(Note)17 b(that)g(the)g Ft(call-next-method)j Fr(could)e(b)r(e)f
(replaced)g(b)n(y)i(a)f(call)h(to)e(the)287 2999 y Ft(medium-draw-line*)i
Fr(metho)r(d)14 b(on)j(the)g(sheet's)f(medium,)g(a)n(v)n(oiding)i(the)e(need)
h(for)g(a)g(tramp)r(olining)287 3065 y(function)g(call.\))232
3176 y Fj(\017)27 b Ft(medium-draw-line*)17 b Fr(p)r(erforms)c(the)i
(necessary)f(user)h(transformations)c(b)n(y)17 b(applying)f(the)e(medium)287
3242 y(transformation)d(to)j Fs(x1)p Fr(,)i Fs(y1)p Fr(,)g
Fs(x2)p Fr(,)g(and)e Fs(y2)p Fr(,)i(and)e(to)g(the)g(clipping)h(region.)22
b(Then)14 b Ft(medium-draw-line*)287 3309 y Fr(calls)k Ft(port-draw-line*)i
Fr(to)d(do)h(the)g(actual)f(dra)n(wing.)p eop
%%Page: 154 169
bop 149 16 a Fm(CHAPTER)16 b(16.)43 b(OUTPUT)17 b(RECORDING)1203
b Fr(154)149 210 y Ft(replay-output-record)16 b Fr(for)f(a)g(graphics)f
(displa)n(y)n(ed)i(output)d(record)h(simply)h(calls)g(the)g(medium)e(dra)n
(wing)149 276 y(function)h(\(suc)n(h)i(as)g Ft(medium-draw-line*)p
Fr(\))h(directly)e(on)h(the)f(sheet)g(\()p Fm(not)g Fr(on)h(the)f(medium\))f
(with)i Ft(stream-)149 342 y(recording-p)j Fr(set)e(to)h Fm(false)g
Fr(and)f Ft(stream-drawing-p)j Fr(set)d(to)h Fm(true)p Fr(.)149
564 y Fp(16.4.3)75 b(T)-6 b(ext)26 b(Output)d(Recording)149
732 y Fo(Ma)t(jor)28 b(issue:)78 b Fm(This)24 b(is)g(the)f(place)g(where)f
Ft(write-string)j Fm(and)e(friends)g(get)g(captured)e(in)k(order)d(to)149
799 y(create)e(output)g(record.)35 b(The)22 b(generic)f(functions)g(include)g
(things)h(lik)n(e)h Ft(stream-write-string)p Fm(,)i(whic)n(h)149
865 y(are)18 b(sp)r(ecialized)f(b)n(y)j(output)e(recording)f(streams)f(to)j
(do)g(the)f(output)f(recording.)26 b(Describ)r(e)18 b(exactly)g(what)149
932 y(happ)r(ens.)k(|)d(SWM)49 1064 y Fj(\))45 b Ft
(stream-text-output-record)30 b Fs(str)m(e)m(am)22 b(text-style)685
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1183 y(Returns)17
b(a)i(text)g(output)e(record)h(for)g(the)h Fm(output)e(recording)g(stream)g
Fs(str)m(e)m(am)22 b Fr(suitable)c(for)h(holding)g(c)n(har-)149
1250 y(acters)14 b(in)j(the)f(text)f(st)n(yle)i Fs(text-style)p
Fr(.)26 b(If)16 b(there)f(is)i(a)g(curren)n(tly)e(\\op)r(en")g(text)g(output)
g(record)g(that)g(can)h(hold)149 1316 y(c)n(haracters)f(in)k(the)e(sp)r
(eci\014ed)f(text)h(st)n(yle,)i(it)f(is)h(simply)f(returned.)k(Otherwise)17
b(a)h(new)g(text)f(output)f(record)149 1383 y(is)j(created)d(that)h(can)h
(hold)h(c)n(haracters)d(in)j(that)e(text)h(st)n(yle,)h(and)f(its)h(starting)e
(cursor)g(p)r(osition)g(set)h(to)g(the)149 1449 y(cursor)e(p)r(osition)h(of)h
Fs(str)m(e)m(am)p Fr(.)49 1582 y Fj(\))45 b Ft
(stream-close-text-output-record)31 b Fs(str)m(e)m(am)746 b
Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1701 y(Closes)e(the)g
Fm(output)f(recording)g(stream)f Fs(str)m(e)m(am)p Fr('s)23
b(curren)n(tly)d(\\op)r(en")e(text)i(output)f(record)g(b)n(y)i(recording)149
1767 y(the)d(stream's)f(curren)n(t)g(cursor)g(p)r(osition)h(as)h(the)f
(ending)g(cursor)g(p)r(osition)f(of)i(the)f(record)g(and)g(adding)g(the)149
1834 y(text)f(output)f(record)h(to)g Fs(str)m(e)m(am)p Fr('s)k(curren)n(t)16
b(output)h(record)f(b)n(y)j(calling)f Ft(stream-add-output-record)p
Fr(.)149 1967 y(If)g(there)f(is)h(no)g(\\op)r(en")e(text)i(output)e(record,)h
Ft(stream-close-text-output-record)j Fr(do)r(es)d(nothing.)149
2099 y(Calling)k Ft(stream-finish-output)h Fr(or)e Ft(stream-force-output)p
Fr(,)j(calling)e Ft(redisplay)p Fr(,)h(setting)e(the)f(text)149
2166 y(cursor)j(p)r(osition)h(\(via)g Ft(stream-set-cursor-position)p
Fr(,)28 b Ft(terpri)p Fr(,)e(or)d Ft(fresh-line)p Fr(\),)j(creating)c(a)i
(new)149 2232 y(output)19 b(record)h(\(for)h(example,)g(via)h
Ft(with-new-output-record)p Fr(\),)i(or)d(c)n(hanging)f(the)h(state)e(of)j
Ft(stream-)149 2299 y(recording-p)17 b Fr(m)n(ust)f(close)h(the)f(curren)n(t)
f(text)h(output)f(record.)23 b(Some)15 b(CLIM)h(implemen)n(tations)e(ma)n(y)j
(also)149 2365 y(c)n(ho)r(ose)h(to)h(close)g(the)g(curren)n(t)f(text)g
(output)g(record)g(when)h(the)g(stream's)e(dra)n(wing)j(options)e(or)h(text)g
(st)n(yle)149 2432 y(are)e(c)n(hanged,)g(dep)r(ending)f(on)i(the)f(exact)g
(implemen)n(tation)f(of)i(text)f(output)f(records.)49 2564
y Fj(\))45 b Ft(stream-add-character-output)30 b Fs(str)m(e)m(am)16
b(char)m(acter)i(text-style)d(width)g(height)h(b)m(aseline)31
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2764 y(Adds)i(the)g(c)n
(haracter)f Fs(char)m(acter)29 b Fr(to)c(the)f Fm(output)g(recording)f
(stream)g Fs(str)m(e)m(am)p Fr('s)28 b(text)c(output)g(record)f(in)149
2830 y(the)e Fm(text)g(st)n(yle)h Fs(text-style)p Fr(.)37 b
Fs(width)22 b Fr(and)f Fs(height)j Fr(are)d(the)g(width)h(and)f(heigh)n(t)g
(of)h(the)f(c)n(haracter)e(in)j(device)149 2896 y(units.)42
b Fs(b)m(aseline)26 b Fr(is)f(the)e(new)h(baseline)f(for)h(the)f(stream.)40
b Ft(stream-add-character-output)26 b Fr(m)n(ust)d(b)r(e)149
2963 y(implemen)n(ted)15 b(b)n(y)k(calling)f Ft
(add-character-output-to-text-record)p Fr(.)149 3096 y Ft(stream-write-char)
25 b Fr(on)f(an)f(output)f(recording)g(stream)g(will)j(call)g
Ft(stream-add-character-output)149 3162 y Fr(when)17 b Ft(stream-recording-p)
j Fr(is)e Fm(true)p Fr(.)49 3295 y Fj(\))45 b Ft(stream-add-string-output)30
b Fs(str)m(e)m(am)16 b(string)f(start)g(end)g(text-style)h(width)e(height)i
(b)m(aseline)31 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])p
eop
%%Page: 155 170
bop 149 16 a Fm(CHAPTER)16 b(16.)43 b(OUTPUT)17 b(RECORDING)1203
b Fr(155)149 210 y(Adds)20 b(the)h(string)g Fs(string)i Fr(to)e(the)g
Fm(output)e(recording)h(stream)f Fs(str)m(e)m(am)p Fr('s)24
b(text)d(output)f(record)g(in)i(the)e Fm(text)149 276 y(st)n(yle)k
Fs(text-style)p Fr(.)43 b Fs(start)25 b Fr(and)e Fs(end)i Fr(are)e(in)n
(tegers)f(that)h(sp)r(ecify)g(the)g(substring)f(within)i Fs(string)h
Fr(to)e(add)g(to)149 342 y(the)17 b(text)h(output)f(record.)24
b Fs(width)c Fr(and)e Fs(height)i Fr(are)e(the)g(width)g(and)g(heigh)n(t)g
(of)g(the)g(string)g(in)h(device)f(units.)149 409 y Fs(b)m(aseline)j
Fr(is)e(the)f(new)g(baseline)h(for)f(the)g(stream.)25 b Ft
(stream-add-string-output)20 b Fr(m)n(ust)e(b)r(e)g(implemen)n(ted)149
475 y(b)n(y)h(calling)f Ft(add-string-output-to-text-record)p
Fr(.)149 608 y Ft(stream-write-string)29 b Fr(on)e(an)g(output)f(recording)g
(stream)f(will)k(call)f Ft(stream-add-string-output)149 674
y Fr(when)17 b Ft(stream-recording-p)j Fr(is)e Fm(true)p Fr(.)149
896 y Fp(16.4.4)75 b(Output)24 b(Recording)h(Utilities)149
1064 y Fr(CLIM)17 b(pro)n(vides)h(sev)n(eral)g(help)r(er)f(macros)f(to)i(con)
n(trol)f(the)g(output)f(recording)h(facilit)n(y)-5 b(.)49 1197
y Fj(\))45 b Ft(with-output-recording-options)30 b Fs(\(str)m(e)m(am)22
b Ft(&key)29 b Fs(r)m(e)m(c)m(or)m(d)23 b(dr)m(aw\))d Ft(&body)29
b Fs(b)m(o)m(dy)292 b Fr([)p Fs(Macr)m(o)s Fr(])149 1316 y(Enables)15
b(or)g(disables)h(output)e(recording)g(and/or)g(dra)n(wing)i(on)g(the)f
Fm(output)f(recording)g(stream)g Fr(designated)149 1383 y(b)n(y)19
b Fs(str)m(e)m(am)p Fr(,)h(within)e(the)g(exten)n(t)f(of)h
Fs(b)m(o)m(dy)p Fr(.)149 1516 y(The)12 b Fs(str)m(e)m(am)i
Fr(argumen)n(t)c(is)j(not)e(ev)m(aluated,)i(and)e(m)n(ust)h(b)r(e)f(a)i(sym)n
(b)r(ol)e(that)g(is)i(b)r(ound)e(to)h(an)g(output)e(recording)149
1582 y(stream.)22 b(If)17 b Fs(str)m(e)m(am)j Fr(is)e Ft(t)p
Fr(,)g Ft(*standard-output*)h Fr(is)f(used.)23 b Fs(b)m(o)m(dy)c
Fr(ma)n(y)e(ha)n(v)n(e)h(zero)f(or)g(more)e(declarations)h(as)149
1648 y(its)i(\014rst)f(forms.)149 1781 y Ft(with-output-recording-options)23
b Fr(m)n(ust)e(b)r(e)g(implemen)n(ted)e(b)n(y)j(expanding)e(in)n(to)i(a)g
(call)g(to)f Ft(invoke-)149 1848 y(with-output-recording-options)p
Fr(,)f(supplying)d(a)g(function)f(that)g(executes)f Fs(b)m(o)m(dy)k
Fr(as)e(the)g Fs(c)m(ontinuation)149 1914 y Fr(argumen)n(t)j(to)i
Ft(invoke-with-output-recording-options)p Fr(.)40 b(The)22
b(exact)f(b)r(eha)n(vior)h(of)g(this)g(macro)f(is)149 1980
y(describ)r(ed)16 b(under)h Ft(invoke-with-output-recording-options)p
Fr(.)49 2113 y Fj(\))45 b Ft(invoke-with-output-recording-options)31
b Fs(str)m(e)m(am)16 b(c)m(ontinuation)g(r)m(e)m(c)m(or)m(d)h(dr)m(aw)30
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2313 y(Enables)13
b(or)h(disables)f(output)g(recording)f(and/or)g(dra)n(wing)i(on)g(the)f
Fm(output)g(recording)f(stream)g Fs(str)m(e)m(am)p Fr(,)17
b(and)149 2379 y(calls)i(the)f(function)f Fs(c)m(ontinuation)22
b Fr(with)d(the)f(new)g(output)g(recording)f(options)g(in)j(e\013ect.)26
b Fs(c)m(ontinuation)21 b Fr(is)149 2445 y(a)d(function)f(of)h(one)f(argumen)
n(t,)f(the)h(stream;)g(it)h(has)g(dynamic)f(exten)n(t.)149
2578 y(If)25 b Fs(dr)m(aw)g Fr(is)g Fm(false)p Fr(,)i(output)c(to)h(the)g
(stream)e(is)j(not)f(dra)n(wn)g(on)g(the)g(viewp)r(ort,)i(but)d(recording)g
(pro)r(ceeds)149 2645 y(according)c(to)i Fs(r)m(e)m(c)m(or)m(d)p
Fr(;)27 b(if)22 b Fs(dr)m(aw)h Fr(is)f Fm(true)p Fr(,)g(the)e(output)g(is)i
(dra)n(wn.)35 b(If)22 b Fs(r)m(e)m(c)m(or)m(d)i Fr(is)e Ft(nil)p
Fr(,)i(output)19 b(recording)h(is)149 2711 y(disabled,)g(but)f(output)f
(otherwise)g(pro)r(ceeds)f(according)h(to)i Fs(dr)m(aw)p Fr(;)i(if)e
Fs(dr)m(aw)h Fr(is)f Fm(true)p Fr(,)g(output)e(recording)g(is)149
2777 y(enabled.)149 2910 y(All)h(output)e(recording)g(streams)g(m)n(ust)g
(implemen)n(t)g(a)i(metho)r(d)d(for)j Ft(invoke-with-output-recording-)149
2977 y(options)p Fr(.)49 3110 y Fj(\))45 b Ft(with-new-output-record)30
b Fs(\(str)m(e)m(am)25 b Ft(&optional)k Fs(r)m(e)m(c)m(or)m(d-typ)m(e)f(r)m
(e)m(c)m(or)m(d)e Ft(&rest)j Fs(init-ar)m(gs\))c Ft(&body)k
Fs(b)m(o)m(dy)149 3176 y Fr([)p Fs(Macr)m(o)s Fr(])149 3295
y(Creates)12 b(a)h(new)h(output)e(record)g(of)h(t)n(yp)r(e)h
Fs(r)m(e)m(c)m(or)m(d-typ)m(e)k Fr(\(whic)n(h)13 b(defaults)g(to)g
Ft(standard-sequence-output-)149 3361 y(record)p Fr(\))27 b(and)f(then)f
(captures)g(the)h(output)e(of)j Fs(b)m(o)m(dy)h Fr(in)n(to)f(the)f(new)g
(output)f(record,)j(and)e(inserts)f(the)149 3428 y(new)18 b(record)g(in)n(to)
h(the)g(curren)n(t)e(\\op)r(en")g(output)h(record)f(asso)r(ciated)g(with)i
(the)f Fm(output)g(recording)f(stream)p eop
%%Page: 156 171
bop 149 16 a Fm(CHAPTER)16 b(16.)43 b(OUTPUT)17 b(RECORDING)1203
b Fr(156)149 210 y(designated)17 b(b)n(y)k Fs(str)m(e)m(am)p
Fr(.)31 b(While)20 b Fs(b)m(o)m(dy)h Fr(is)f(b)r(eing)f(ev)m(aluated,)g(the)f
(curren)n(t)g(output)g(record)g(for)h Fs(str)m(e)m(am)j Fr(will)149
276 y(b)r(e)17 b(b)r(ound)g(to)g(the)h(new)f(output)g(record.)149
409 y(If)h Fs(r)m(e)m(c)m(or)m(d)k Fr(is)d(supplied,)g(it)f(is)h(the)f(name)f
(of)h(a)h(v)m(ariable)f(that)f(will)j(b)r(e)e(lexically)h(b)r(ound)e(to)h
(the)g(new)g(output)149 475 y(record)k(inside)i(of)h(b)r(o)r(dy)-5
b(.)42 b Fs(init-ar)m(gs)26 b Fr(are)d(CLOS)h(initialization)g(argumen)n(ts)e
(that)h(are)g(passed)g(to)h Ft(make-)149 542 y(instance)19
b Fr(when)e(the)g(new)h(output)f(record)f(is)j(created.)149
674 y Ft(with-new-output-record)g Fr(returns)e(the)g(output)f(record)h(it)h
(creates.)149 807 y(The)12 b Fs(str)m(e)m(am)i Fr(argumen)n(t)c(is)j(not)e
(ev)m(aluated,)i(and)e(m)n(ust)h(b)r(e)f(a)i(sym)n(b)r(ol)e(that)g(is)i(b)r
(ound)e(to)h(an)g(output)e(recording)149 874 y(stream.)22 b(If)17
b Fs(str)m(e)m(am)j Fr(is)e Ft(t)p Fr(,)g Ft(*standard-output*)h
Fr(is)f(used.)23 b Fs(b)m(o)m(dy)c Fr(ma)n(y)e(ha)n(v)n(e)h(zero)f(or)g(more)
e(declarations)h(as)149 940 y(its)i(\014rst)f(forms.)149 1073
y Ft(with-new-output-record)g Fr(m)n(ust)e(b)r(e)g(implemen)n(ted)e(b)n(y)k
(expanding)d(in)n(to)i(a)g(call)g(to)f Ft(invoke-with-new-)149
1139 y(output-record)f Fr(supplying)e(a)h(function)e(that)h(executes)f
Fs(b)m(o)m(dy)j Fr(as)f(the)f Fs(c)m(ontinuation)j Fr(argumen)n(t)10
b(to)j Ft(invoke-)149 1206 y(with-new-output-record)p Fr(.)26
b(The)18 b(exact)f(b)r(eha)n(vior)g(of)h(this)g(macro)f(is)h(describ)r(ed)e
(under)i Ft(invoke-with-)149 1272 y(new-output-record)p Fr(.)49
1405 y Fj(\))45 b Ft(invoke-with-new-output-record)30 b Fs(str)m(e)m(am)16
b(c)m(ontinuation)h(r)m(e)m(c)m(or)m(d-typ)m(e)h Ft(&rest)29
b Fs(init-ar)m(gs)15 b Ft(&key)59 b Fr([)p Fs(Generic)21 b(F)l(unction)t
Fr(])149 1604 y(Creates)c(a)i(new)g(output)f(record)g(of)h(t)n(yp)r(e)f
Fs(r)m(e)m(c)m(or)m(d-typ)m(e)p Fr(.)33 b(The)19 b(function)e
Fs(c)m(ontinuation)22 b Fr(is)e(then)e(called,)i(and)149 1671
y(an)n(y)e(output)d(it)j(do)r(es)e(to)h(the)g Fm(output)f(recording)f(stream)
h Fs(str)m(e)m(am)j Fr(is)f(captured)d(in)j(the)f(new)g(output)f(record.)149
1737 y(The)k(new)g(record)f(is)i(then)f(inserted)e(in)n(to)j(the)f(curren)n
(t)f(\\op)r(en")f(output)h(record)g(asso)r(ciated)f(with)i
Fs(str)m(e)m(am)149 1804 y Fr(\(or)c(the)g(top-lev)n(el)i(output)d(record)h
(if)i(there)d(is)j(no)f(curren)n(tly)f(\\op)r(en")f(one\).)24
b(While)17 b Fs(c)m(ontinuation)j Fr(is)e(b)r(eing)149 1870
y(executed,)e(the)h(curren)n(t)g(output)f(record)h(for)h Fs(str)m(e)m(am)i
Fr(will)f(b)r(e)f(b)r(ound)e(to)i(the)f(new)h(output)e(record.)149
2003 y Fs(c)m(ontinuation)21 b Fr(is)f(a)f(function)e(of)i(t)n(w)n(o)h
(argumen)n(ts,)d(the)h(stream)f(and)h(the)g(output)g(record;)g(it)h(has)g
(dynamic)149 2069 y(exten)n(t.)k Fs(init-ar)m(gs)17 b Fr(are)e(CLOS)h
(initialization)g(argumen)n(ts)d(that)i(are)g(passed)g(to)g
Ft(make-instance)i Fr(when)e(the)149 2136 y(new)i(output)g(record)f(is)j
(created.)149 2269 y Ft(invoke-with-new-output-record)h Fr(returns)c(the)h
(output)g(record)f(it)j(creates.)149 2401 y(All)e(output)f(recording)f
(streams)g(m)n(ust)h(implemen)n(t)f(a)i(metho)r(d)d(for)j Ft
(invoke-with-new-output-record)p Fr(.)49 2534 y Fj(\))45 b
Ft(with-output-to-output-record)30 b Fs(\(str)m(e)m(am)16 b
Ft(&optional)29 b Fs(r)m(e)m(c)m(or)m(d-typ)m(e)18 b(r)m(e)m(c)m(or)m(d)f
Ft(&rest)30 b Fs(init-ar)m(gs\)\))14 b Ft(&body)149 2601 y
Fs(b)m(o)m(dy)2002 b Fr([)p Fs(Macr)m(o)s Fr(])149 2720 y(This)17
b(is)g(iden)n(tical)f(to)g Ft(with-new-output-record)i Fr(except)e(that)f
(the)h(new)g(output)f(record)g(is)i(not)f(inserted)149 2786
y(in)n(to)23 b(the)g(output)f(record)g(hierarc)n(h)n(y)-5 b(,)25
b(and)e(the)g(text)g(cursor)f(p)r(osition)h(of)g Fs(str)m(e)m(am)j
Fr(is)e(initially)h(b)r(ound)d(to)149 2852 y(\(0)p Fn(;)9 b
Fr(0\).)149 2985 y Fs(r)m(e)m(c)m(or)m(d-typ)m(e)17 b Fr(is)c(the)f(t)n(yp)r
(e)g(of)h(output)e(record)g(to)h(create,)g(whic)n(h)h(defaults)f(to)g
Ft(standard-sequence-output-)149 3052 y(record)p Fr(.)36 b
Fs(init-ar)m(gs)23 b Fr(are)e(CLOS)g(initialization)h(argumen)n(ts)d(that)i
(are)g(passed)f(to)h Ft(make-instance)i Fr(when)149 3118 y(the)17
b(new)h(output)e(record)h(is)h(created.)149 3251 y(If)h Fs(r)m(e)m(c)m(or)m
(d)j Fr(is)e(supplied,)f(it)g(is)h(a)f(v)m(ariable)g(that)f(will)i(b)r(e)f(b)
r(ound)e(to)i(the)f(new)h(output)e(record)h(while)h(b)r(o)r(dy)f(is)149
3317 y(ev)m(aluated.)149 3450 y Ft(with-output-to-output-record)i
Fr(returns)c(the)h(output)g(record)f(it)j(creates.)p eop
%%Page: 157 172
bop 149 16 a Fm(CHAPTER)16 b(16.)43 b(OUTPUT)17 b(RECORDING)1203
b Fr(157)149 210 y(The)12 b Fs(str)m(e)m(am)i Fr(argumen)n(t)c(is)j(not)e(ev)
m(aluated,)i(and)e(m)n(ust)h(b)r(e)f(a)i(sym)n(b)r(ol)e(that)g(is)i(b)r(ound)
e(to)h(an)g(output)e(recording)149 276 y(stream.)26 b(If)20
b Fs(str)m(e)m(am)h Fr(is)f Ft(t)p Fr(,)g Ft(*standard-output*)h
Fr(is)f(used.)28 b(Unlik)n(e)20 b(facilities)f(suc)n(h)g(as)g
Ft(with-output-to-)149 342 y(string)p Fr(,)f Fs(str)m(e)m(am)i
Fr(m)n(ust)c(b)r(e)h(an)g(actual)f(stream,)g(but)h(no)g(output)f(will)j(b)r
(e)d(done)h(to)g(it.)24 b Fs(b)m(o)m(dy)19 b Fr(ma)n(y)f(ha)n(v)n(e)g(zero)
149 409 y(or)f(more)g(declarations)f(as)i(its)g(\014rst)f(forms.)149
542 y Ft(with-output-to-output-record)26 b Fr(m)n(ust)e(b)r(e)f(implemen)n
(ted)f(b)n(y)j(expanding)f(in)n(to)g(a)h(call)g(to)f Ft(invoke-)149
608 y(with-output-to-output-record)g Fr(supplying)e(a)g(function)f(that)g
(executes)g Fs(b)m(o)m(dy)i Fr(as)f(the)g Fs(c)m(ontinuation)149
674 y Fr(argumen)n(t)g(to)j Ft(invoke-with-output-to-output-record)p
Fr(.)48 b(The)25 b(exact)f(b)r(eha)n(vior)g(of)h(this)g(macro)e(is)149
741 y(describ)r(ed)16 b(under)h Ft(invoke-with-output-to-output-record)p
Fr(.)49 874 y Fj(\))45 b Ft(invoke-with-output-to-output-record)31
b Fs(str)m(e)m(am)16 b(c)m(ontinuation)g(r)m(e)m(c)m(or)m(d-typ)m(e)i
Ft(&rest)29 b Fs(init-ar)m(gs)16 b Ft(&key)149 940 y Fr([)p
Fs(Generic)21 b(F)l(unction)t Fr(])149 1059 y(This)f(is)h(similar)g(to)e
Ft(invoke-with-new-output-record)k Fr(except)c(that)g(the)h(new)g(output)f
(record)f(is)j(not)149 1126 y(inserted)j(in)n(to)i(the)f(output)g(record)f
(hierarc)n(h)n(y)-5 b(,)28 b(and)e(the)f(text)g(cursor)g(p)r(osition)g(of)h
Fs(str)m(e)m(am)i Fr(is)e(initially)149 1192 y(b)r(ound)21
b(to)g(\(0)p Fn(;)9 b Fr(0\).)37 b(That)21 b(is,)k(when)c Ft
(invoke-with-output-to-output-record)k Fr(is)e(used,)g(no)f(dra)n(wing)149
1258 y(on)c(the)g(stream)e(o)r(ccurs)g(and)i(nothing)f(is)i(put)f(in)n(to)h
(the)e(stream's)g(normal)g(output)f(history)-5 b(.)26 b(The)18
b(function)149 1325 y Fs(c)m(ontinuation)i Fr(is)f(called,)f(and)g(an)n(y)g
(output)f(it)h(do)r(es)f(to)h Fs(str)m(e)m(am)i Fr(is)f(captured)c(in)k(the)e
(output)g(record.)149 1458 y Fs(c)m(ontinuation)k Fr(is)f(a)f(function)e(of)i
(t)n(w)n(o)h(argumen)n(ts,)d(the)h(stream)f(and)h(the)g(output)g(record;)g
(it)h(has)g(dynamic)149 1524 y(exten)n(t.)44 b Fs(r)m(e)m(c)m(or)m(d-typ)m(e)
29 b Fr(is)d(the)e(t)n(yp)r(e)h(of)g(output)e(record)g(to)i(create.)43
b Fs(init-ar)m(gs)27 b Fr(are)d(CLOS)h(initialization)149 1591
y(argumen)n(ts)15 b(that)i(are)h(passed)e(to)i Ft(make-instance)h
Fr(when)f(the)f(new)h(output)e(record)h(is)h(created.)149 1723
y Ft(invoke-with-output-to-output-record)i Fr(returns)c(the)i(output)e
(record)h(it)h(creates.)149 1856 y(All)h(output)e(recording)g(streams)g(m)n
(ust)g(implemen)n(t)g(a)i(metho)r(d)d(for)j Ft(invoke-with-output-to-output-)
149 1923 y(record)p Fr(.)49 2055 y Fj(\))45 b Ft
(make-design-from-output-record)30 b Fs(r)m(e)m(c)m(or)m(d)792
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2174 y(Mak)n(es)17
b(a)h(design)e(that)h(repla)n(ys)g(the)g Fm(output)f(record)f
Fs(r)m(e)m(c)m(or)m(d)21 b Fr(when)c(dra)n(wn)g(via)h Ft(draw-design)p
Fr(.)26 b(If)17 b Fs(r)m(e)m(c)m(or)m(d)k Fr(is)149 2241 y(c)n(hanged)c
(after)g(the)h(design)g(is)i(made,)d(the)h(consequences)e(are)i(unsp)r
(eci\014ed.)24 b(Applying)19 b(a)f(transformation)149 2307
y(to)f(the)g(design)g(and)h(calling)g Ft(draw-design)h Fr(on)f(the)f(new)g
(design)g(is)i(equiv)m(alen)n(t)f(to)f(establishing)g(the)g(same)149
2374 y(transformation)d(b)r(efore)i(creating)h(the)g(output)f(record.)149
2507 y(It)c(is)g(p)r(ermissible)f(for)g(implemen)n(tations)e(to)j(supp)r(ort)
e(this)i(only)g(for)g(those)f(output)f(records)h(that)g(corresp)r(ond)149
2573 y(to)23 b(the)g(geometric)e(ob)s(ject)h(classes)h(\(for)g(example,)h
(the)f(output)f(records)g(created)g(b)n(y)i Ft(draw-line*)h
Fr(and)149 2639 y Ft(draw-ellipse*)p Fr(\).)p eop
%%Page: 158 173
bop 149 691 a Fl(Chapter)46 b(17)149 1034 y Fq(T)-13 b(able)52
b(F)-13 b(ormatting)149 1388 y Fr(CLIM)17 b(pro)n(vides)h(a)g(mec)n(hanism)e
(for)i(tabular)f(formatting)e(of)j(arbitrary)f(output.)149
1521 y(T)-5 b(o)15 b(emplo)n(y)g(these)f(facilities)h(the)g(programmer)c
(annotates)i(some)g(output-generating)f(co)r(de)i(with)h(advisory)149
1588 y(macros)24 b(that)h(describ)r(e)f(the)h(high-lev)n(el)j(formatting)23
b(constrain)n(ts,)k(for)e(example,)j(what)d(parts)g(of)h(co)r(de)149
1654 y(pro)r(duce)15 b(a)k(ro)n(w)f(of)g(the)f(table,)h(what)f(parts)g(of)h
(that)f(pro)r(duce)f(the)h(cells)i(in)f(the)f(ro)n(w.)149 1787
y(F)-5 b(or)21 b(example,)g(the)g(follo)n(wing)h(pro)r(duces)d(a)i(table)f
(consisting)g(of)i(three)d(columns)h(con)n(taining)g(a)i(n)n(um)n(b)r(er,)149
1853 y(its)c(square,)f(and)h(its)g(cub)r(e.)23 b(The)18 b(output)f(can)g(b)r
(e)g(seen)h(in)g(Figure)g(17.1.)149 2042 y Ft(\(defun)29 b(table-test)h
(\(count)f(stream\))207 2108 y(\(fresh-line)g(stream\))207
2174 y(\(formatting-table)h(\(stream)f(:x-spacing)h('\(3)f(:character\)\))265
2241 y(\(dotimes)g(\(i)h(count\))323 2307 y(\(formatting-row)g(\(stream\))381
2374 y(\(formatting-cell)g(\(stream)g(:align-x)f(:right\))439
2440 y(\(prin1)h(i)f(stream\)\))381 2507 y(\(formatting-cell)h(\(stream)g
(:align-x)f(:right\))439 2573 y(\(prin1)h(\(*)f(i)g(i\))g(stream\)\))381
2639 y(\(formatting-cell)h(\(stream)g(:align-x)f(:right\))439
2706 y(\(prin1)h(\(*)f(i)g(i)g(i\))g(stream\)\)\)\)\)\))149
2894 y Fr(The)17 b(general)g(con)n(tract)f(of)i(these)f(facilities)h(is)h
(describ)r(ed)d(in)i(the)g(next)f(section.)149 3143 y Fk(17.1)91
b(Ov)m(erview)31 b(of)g(T)-8 b(able)29 b(F)-8 b(ormatting)29
b(F)-8 b(acilities)149 3331 y Fr(In)17 b(general,)g(table)g(formatting)d(in)n
(v)n(olv)n(es)20 b(a)d(sharing)g(of)g(resp)r(onsibilities)f(b)r(et)n(w)n(een)
g(user-written)g(co)r(de)g(and)149 3397 y(CLIM)f(co)r(de.)22
b(Co)r(de)15 b(that)f(emplo)n(ys)i(only)g(the)f(lo)n(w)n(er)h(lev)n(el)h
(output)d(facilities)h(has)h(full)g(con)n(trol)f(o)n(v)n(er)h(\\where)149
3464 y(ev)n(ery)i(piece)f(of)h(ink)h(go)r(es")e(in)h(the)g(output.)23
b(In)18 b(con)n(trast,)f(co)r(de)f(that)h(emplo)n(ys)h(CLIM's)g(table)f
(formatting)1262 3632 y(158)p eop
%%Page: 159 174
bop 149 16 a Fm(CHAPTER)16 b(17.)43 b(T)-5 b(ABLE)18 b(F)n(ORMA)-5
b(TTING)1217 b Fr(159)814 1148 y(Figure)18 b(17.1:)24 b(Example)17
b(of)h(tabular)f(output.)149 1325 y(facilities)k(passes)f(con)n(trol)g(to)h
(CLIM)g(at)g(a)g(higher)f(lev)n(el.)35 b(The)21 b(programmer)c(b)r(ene\014ts)
i(b)n(y)j(b)r(eing)e(able)h(to)149 1391 y(sp)r(ecify)e(the)h(app)r(earance)d
(of)j(output)f(in)h(more)f(compact)f(abstract)g(terms,)h(and)h(b)n(y)h(not)f
(ha)n(ving)g(to)g(write)149 1458 y(the)d(co)r(de)g(that)g(constrains)f(the)h
(output)f(to)i(app)r(ear)e(in)j(prop)r(er)d(tabular)h(form.)149
1590 y(T)-5 b(abular)14 b(output)g(consists)g(of)h(a)g(rectangular)d(arra)n
(y)j(of)g(pieces)f(of)h(output)f(corresp)r(onding)d(to)k(the)f(b)r(ounding)
149 1657 y(rectangles)k(of)j(the)f(output.)32 b(Eac)n(h)21
b(piece)f(of)h(output)e(forms)h(the)g(con)n(ten)n(ts)f(of)i(a)g
Fm(table)g(cell)p Fr(.)33 b(There)20 b(is)i(no)149 1723 y(restriction)e(on)i
(the)f(con)n(ten)n(ts)g(of)h(a)g(table)f(cell;)k(cells)d(ma)n(y)g(con)n(tain)
f(text,)i(graphics,)f(ev)n(en)g(other)f(tables.)149 1790 y(F)-5
b(or)18 b(purp)r(oses)e(of)j(this)f(discussion,)g(w)n(e)g(dra)n(w)h(a)f
(strong)f(distinction)g(b)r(et)n(w)n(een)g(sp)r(ecifying)g(what)h(go)r(es)f
(in)i(a)149 1856 y(cell,)f(and)g(sp)r(ecifying)f(ho)n(w)h(the)g(cells)g(are)f
(arranged)f(to)i(form)f(a)h(table.)149 1989 y(Sp)r(ecifying)h(the)h(con)n
(ten)n(ts)e(of)j(a)f(cell)h(is)g(the)e(resp)r(onsibilit)n(y)h(of)g(the)g
(programmer.)27 b(A)20 b(programmer)d(using)149 2055 y(the)d(table)g
(formatting)e(facilities)i(can)h(predict)e(the)h(app)r(earance)d(of)k(an)n(y)
g(individual)h(cell)f(b)n(y)g(simply)g(lo)r(oking)149 2122
y(at)g(the)g(co)r(de)g(for)h(that)e(cell.)25 b(A)15 b(cell's)i(app)r(earance)
c(do)r(es)h(not)i(dep)r(end)e(up)r(on)g(where)h(in)i(the)e(table)g(it)i
(lies,)g(for)149 2188 y(instance.)22 b(The)15 b(only)i(thing)e(ab)r(out)f(a)i
(cell's)g(app)r(earance)c(that)j(cannot)f(b)r(e)h(predicted)f(from)g(that)h
(cell)h(alone)149 2255 y(is)23 b(the)f(amoun)n(t)f(of)h(space)g(the)g(table)g
(formatting)e(has)i(to)g(in)n(tro)r(duce)f(in)i(order)f(to)g(p)r(erform)e
(the)i(desired)149 2321 y(alignmen)n(t.)149 2454 y(Sp)r(ecifying)16
b(the)g(relativ)n(e)h(arrangemen)n(ts)d(of)j(cells)h(to)f(form)f(a)h(table)f
(is)i(the)f(resp)r(onsibilit)n(y)f(of)i(CLIM)f(based)149 2520
y(on)23 b(the)g(advice)h(of)f(the)g(programmer.)38 b(The)24
b(programmer)19 b(advises)24 b(CLIM)f(ab)r(out)f(extra)h(space)g(to)g(put)149
2587 y(b)r(et)n(w)n(een)16 b(ro)n(ws)i(or)g(columns,)f(for)g(instance,)g(but)
g(do)r(es)g(not)g(directly)g(con)n(trol)g(the)h(absolute)e(p)r(ositioning)h
(of)149 2653 y(a)h(cell's)g(con)n(ten)n(ts.)149 2786 y(F)-5
b(or)18 b(purp)r(oses)e(of)i(understanding)d(table)j(formatting,)d(the)j
(follo)n(wing)g(mo)r(del)f(ma)n(y)h(b)r(e)f(used.)232 2963
y Fj(\017)27 b Fr(The)c(co)r(de)f(for)h(a)g(cell)g(dra)n(ws)g(to)g(a)h
(stream)d(that)h(has)h(a)g(\\priv)m(ate")f(\(lo)r(cal)g(to)h(that)f(cell\))h
(dra)n(wing)287 3030 y(plane.)232 3140 y Fj(\017)k Fr(After)17
b(output)g(for)h(a)g(cell)h(has)f(\014nished,)g(the)g(b)r(ounding)f
(rectangle)f(of)i(all)h(output)e(on)h(the)g(\\priv)m(ate")287
3207 y(dra)n(wing)h(plane)g(is)g(found.)27 b(The)19 b(region)f(within)h(that)
f(b)r(ounding)g(rectangle)f(forms)h(the)g(con)n(ten)n(ts)g(of)287
3273 y(a)g(cell.)232 3384 y Fj(\017)27 b Fr(Additional)16 b(rectangular)f
(regions,)i(con)n(taining)f(only)i(bac)n(kground)d(ink,)k(are)d(attac)n(hed)f
(to)i(the)g(edges)287 3450 y(of)f(the)f(cell)i(con)n(ten)n(ts.)22
b(These)15 b(regions)g(ensure)g(that)g(the)g(cells)h(satisfy)g(the)f(tabular)
g(constrain)n(ts)f(that)p eop
%%Page: 160 175
bop 149 16 a Fm(CHAPTER)16 b(17.)43 b(T)-5 b(ABLE)18 b(F)n(ORMA)-5
b(TTING)1217 b Fr(160)287 210 y(within)21 b(a)g(ro)n(w)f(all)i(cells)f(ha)n
(v)n(e)g(the)f(same)f(heigh)n(t,)i(and)g(within)f(a)h(column)f(all)h(cells)g
(ha)n(v)n(e)g(the)f(same)287 276 y(width.)33 b(CLIM)21 b(ma)n(y)g(also)g(in)n
(tro)r(duce)e(additional)h(bac)n(kground)g(for)g(other)g(purp)r(oses)f(as)i
(describ)r(ed)287 342 y(b)r(elo)n(w.)232 453 y Fj(\017)27 b
Fr(The)18 b(cells)g(are)f(assem)n(bled)g(in)n(to)h(ro)n(ws)g(and)g(columns.)
149 630 y(Some)13 b(tables)i(are)f(\\m)n(ultiple)h(column")e(tables,)j(in)g
(whic)n(h)f(t)n(w)n(o)h(or)f(more)e(ro)n(ws)j(of)f(the)f(table)h(are)f
(placed)h(side)149 697 y(b)n(y)i(side)f(\(usually)f(with)i(in)n(terv)n(ening)
e(spacing\))g(rather)f(than)h(all)i(ro)n(ws)f(b)r(eing)f(aligned)h(v)n
(ertically)-5 b(.)25 b(Multiple)149 763 y(column)13 b(tables)h(are)f
(generally)h(used)g(to)g(pro)r(duce)e(a)j(table)f(that)f(is)i(more)e
(esthetically)h(pleasing,)h(or)f(to)g(mak)n(e)149 829 y(more)j(e\016cien)n(t)
i(use)g(of)g(space)f(on)h(the)g(output)e(device.)28 b(When)18
b(a)i(table)e(is)i(a)f(m)n(ultiple)g(column)f(table,)h(one)149
896 y(additional)f(step)h(tak)n(es)g(place)g(in)h(the)e(formatting)f(of)j
(the)e(table:)27 b(the)18 b(ro)n(ws)i(of)f(the)g(table)g(are)f(rearranged)149
962 y(in)n(to)g(m)n(ultiple)g(columns)e(in)j(whic)n(h)f(some)f(ro)n(ws)h(are)
f(placed)h(side)g(b)n(y)g(side.)149 1095 y(The)j(advice)h(that)f(the)g
(programmer)d(giv)n(es)k(to)g(CLIM)f(on)h(ho)n(w)g(to)g(assem)n(ble)e(the)h
(table)h(consists)e(of)i(the)149 1162 y(follo)n(wing:)232 1339
y Fj(\017)27 b Fr(Ho)n(w)17 b(to)g(place)f(the)h(con)n(ten)n(ts)f(of)h(the)f
(cell)i(within)f(the)f(cell)i(\(suc)n(h)e(as)h(cen)n(tered)e(v)n(ertically)-5
b(,)19 b(\015ush-left,)287 1405 y(and)f(so)g(forth\))e(The)i(p)r
(ossibilities)g(for)f(this)h(advice)g(are)f(describ)r(ed)f(b)r(elo)n(w.)232
1516 y Fj(\017)27 b Fr(Optionally)-5 b(,)17 b(ho)n(w)f(m)n(uc)n(h)g
(additional)f(space)g(to)g(insert)g(b)r(et)n(w)n(een)g(columns)f(and)i(b)r
(et)n(w)n(een)f(ro)n(ws)g(of)h(the)287 1582 y(table.)232 1693
y Fj(\017)27 b Fr(Optionally)-5 b(,)19 b(whether)d(to)i(mak)n(e)g(all)g
(columns)f(the)g(same)g(size.)149 1870 y(The)d(advice)f(describing)g(ho)n(w)i
(to)e(place)h(the)f(con)n(ten)n(ts)g(of)h(the)g(cell)g(within)g(the)g(cell)g
(consists)f(of)h(t)n(w)n(o)h(pieces|)149 1936 y(ho)n(w)j(to)f(constrain)f
(the)h(cell)h(con)n(ten)n(ts)e(in)i(the)f(horizon)n(tal)g(direction,)g(and)g
(ho)n(w)h(to)f(constrain)f(them)g(in)i(the)149 2003 y(v)n(ertical)g
(direction.)149 2252 y Fk(17.2)91 b(T)-8 b(able)30 b(F)-8 b(ormatting)28
b(F)-8 b(unctions)49 2440 y Fj(\))45 b Ft(formatting-table)30
b Fs(\()p Ft(&optional)f Fs(str)m(e)m(am)16 b Ft(&key)29 b
Fs(x-sp)m(acing)15 b(y-sp)m(acing)g(multiple-c)m(olumns)h(multiple-c)m
(olumns-)149 2506 y(x-sp)m(acing)k(e)m(qualize-c)m(olumn-widths)j
(\(move-cursor)e Ft(t)p Fs(\))f(r)m(e)m(c)m(or)m(d-typ)m(e\))j
Ft(&body)29 b Fs(b)m(o)m(dy)327 b Fr([)p Fs(Macr)m(o)s Fr(])149
2706 y(Binds)24 b(the)e(lo)r(cal)h(en)n(vironmen)n(t)f(in)i(suc)n(h)g(a)f(w)n
(a)n(y)i(the)e(output)e(of)j Fs(b)m(o)m(dy)h Fr(will)g(b)r(e)e(done)g(in)h(a)
f(tabular)f(for-)149 2772 y(mat.)48 b(This)26 b(m)n(ust)f(b)r(e)h(used)g(in)g
(conjunction)e(with)j Ft(formatting-row)g Fr(or)f Ft(formatting-column)p
Fr(,)k(and)149 2838 y Ft(formatting-cell)p Fr(.)25 b(The)17
b(table)g(is)h(placed)e(so)i(that)e(its)h(upp)r(er)f(left)h(corner)f(is)i(at)
f(the)g(curren)n(t)e(text)i(cursor)149 2905 y(p)r(osition)f(of)h
Fs(str)m(e)m(am)p Fr(.)27 b(If)17 b(the)g(b)r(o)r(olean)e Fs(move-cursor)20
b Fr(is)e Fm(true)e Fr(\(the)g(default\),)g(then)h(the)f(text)h(cursor)f
(will)i(b)r(e)149 2971 y(mo)n(v)n(ed)f(so)h(that)f(it)i(immediately)d(follo)n
(ws)j(the)e(last)h(cell)g(of)g(the)f(table.)149 3104 y(The)g(returned)f(v)m
(alue)i(is)h(the)e(output)g(record)f(corresp)r(onding)f(to)i(the)h(table.)149
3237 y Fs(str)m(e)m(am)24 b Fr(is)g(an)e(output)f(recording)g(stream)g(to)h
(whic)n(h)h(output)e(will)j(b)r(e)e(done.)38 b(The)22 b Fs(str)m(e)m(am)j
Fr(argumen)n(t)20 b(is)149 3303 y(not)h(ev)m(aluated,)g(and)g(m)n(ust)g(b)r
(e)g(a)h(sym)n(b)r(ol)f(that)f(is)j(b)r(ound)d(to)h(a)h(stream.)33
b(If)22 b Fs(str)m(e)m(am)i Fr(is)e Ft(t)g Fr(\(the)f(default\),)149
3370 y Ft(*standard-output*)e Fr(is)g(used.)24 b Fs(b)m(o)m(dy)19
b Fr(ma)n(y)f(ha)n(v)n(e)h(zero)e(or)h(more)e(declarations)g(as)i(its)g
(\014rst)g(forms.)p eop
%%Page: 161 176
bop 149 16 a Fm(CHAPTER)16 b(17.)43 b(T)-5 b(ABLE)18 b(F)n(ORMA)-5
b(TTING)1217 b Fr(161)149 210 y Fs(x-sp)m(acing)20 b Fr(sp)r(eci\014es)e(the)
h(n)n(um)n(b)r(er)f(of)h(units)h(of)f(spacing)g(to)g(b)r(e)g(inserted)f(b)r
(et)n(w)n(een)g(columns)g(of)h(the)g(table;)149 276 y(the)i(default)g(is)i
(the)e(width)h(of)g(a)g(space)f(c)n(haracter)e(in)k(the)e(curren)n(t)f(text)i
(st)n(yle.)37 b Fs(y-sp)m(acing)23 b Fr(sp)r(eci\014es)d(the)149
342 y(n)n(um)n(b)r(er)e(of)j(units)f(of)g(spacing)f(to)h(b)r(e)f(inserted)g
(b)r(et)n(w)n(een)g(ro)n(ws)h(in)h(the)f(table;)h(the)e(default)g(is)i(the)f
(default)149 409 y(v)n(ertical)e(spacing)f(of)h(the)f(stream.)23
b(P)n(ossible)18 b(v)m(alues)f(for)h(these)f(t)n(w)n(o)h(options)f(option)h
(are:)232 572 y Fj(\017)27 b Fr(An)18 b(in)n(teger|a)f(size)h(in)g(the)g
(curren)n(t)e(units)i(to)f(b)r(e)h(used)f(for)h(spacing.)232
672 y Fj(\017)27 b Fr(A)18 b(string)g(or)g(c)n(haracter|the)d(spacing)j(is)h
(the)e(width)i(or)f(heigh)n(t)g(of)g(the)g(string)f(or)h(c)n(haracter)e(in)j
(the)287 738 y(curren)n(t)e(text)g(st)n(yle.)232 839 y Fj(\017)27
b Fr(A)20 b(function|the)d(spacing)i(is)i(the)e(amoun)n(t)f(of)h(horizon)n
(tal)g(or)h(v)n(ertical)f(space)g(the)g(function)f(w)n(ould)287
905 y(consume)e(when)h(called)h(on)g(the)f(stream.)232 1006
y Fj(\017)27 b Fr(A)21 b(list|the)f(list)h(is)g(of)g(the)f(form)f
Ft(\()p Fs(numb)m(er)31 b(unit)p Ft(\))p Fr(,)22 b(where)e
Fs(unit)h Fr(is)g(one)f(of)h Ft(:point)p Fr(,)h Ft(:pixel)p
Fr(,)h Ft(:mm)p Fr(,)287 1072 y Ft(:character)p Fr(,)18 b(or)e
Ft(:line)p Fr(.)24 b(When)16 b Fs(unit)g Fr(is)h Ft(:character)p
Fr(,)h(the)d(width)h(of)g(an)g(\\M")f(in)i(the)e(curren)n(t)f(text)287
1139 y(st)n(yle)19 b(is)f(used)g(as)g(the)f(width)h(of)g(one)f(c)n(haracter.)
149 1301 y Fs(multiple-c)m(olumns)27 b Fr(is)e(either)e Ft(nil)p
Fr(,)k Ft(t)p Fr(,)g(or)e(an)f(in)n(teger.)43 b(If)25 b(it)g(is)g
Ft(t)g Fr(or)f(an)g(in)n(teger,)i(the)e(table)g(ro)n(ws)g(will)149
1368 y(b)r(e)c(brok)n(en)h(up)g(in)n(to)g(a)h(m)n(ultiple)e(columns.)33
b(If)21 b(it)h(is)g Ft(t)p Fr(,)g(CLIM)f(will)i(determine)18
b(the)j(optimal)f(n)n(um)n(b)r(er)g(of)149 1434 y(columns.)30
b(If)20 b(it)h(is)g(an)f(in)n(teger,)g(it)h(will)g(b)r(e)f(in)n(terpreted)e
(as)i(the)g(desired)f(n)n(um)n(b)r(er)g(of)h(columns.)30 b
Fs(multiple-)149 1501 y(c)m(olumns-x-sp)m(acing)15 b Fr(has)f(the)f(same)f
(format)g(as)i Fs(x-sp)m(acing)p Fr(.)24 b(It)14 b(con)n(trols)f(the)g
(spacing)f(b)r(et)n(w)n(een)h(the)g(m)n(ultiple)149 1567 y(columns.)23
b(It)18 b(defaults)f(to)g(the)h(v)m(alue)g(of)g(the)f Fs(x-sp)m(acing)i
Fr(option.)149 1700 y(When)g(the)g(b)r(o)r(olean)f Fs(e)m(qualize-c)m
(olumn-widths)k Fr(is)f Fm(true)p Fr(,)e(CLIM)h(will)h(mak)n(e)e(all)i(of)f
(the)f(columns)f(ha)n(v)n(e)i(the)149 1766 y(same)c(width)i(\(the)f(width)h
(of)g(the)f(widest)h(cell)g(in)h(an)n(y)f(column)f(in)i(the)e(en)n(tire)g
(table\).)149 1899 y Fs(r)m(e)m(c)m(or)m(d-typ)m(e)f Fr(sp)r(eci\014es)10
b(the)i(class)f(of)h(output)f(record)f(to)i(create.)20 b(The)12
b(default)f(is)i Ft(standard-table-output-)149 1966 y(record)p
Fr(.)24 b(This)14 b(argumen)n(t)d(should)i(only)h(b)r(e)f(supplied)h(b)n(y)g
(a)g(programmer)c(if)k(there)e(is)j(a)f(new)f(class)h(of)f(output)149
2032 y(record)j(that)h(supp)r(orts)f(the)h(table)h(formatting)d(proto)r(col.)
49 2165 y Fj(\))45 b Ft(formatting-row)30 b Fs(\()p Ft(&optional)f
Fs(str)m(e)m(am)21 b Ft(&key)30 b Fs(r)m(e)m(c)m(or)m(d-typ)m(e\))23
b Ft(&body)29 b Fs(b)m(o)m(dy)455 b Fr([)p Fs(Macr)m(o)s Fr(])149
2284 y(Binds)18 b(the)g(lo)r(cal)g(en)n(vironmen)n(t)f(in)i(suc)n(h)f(a)g(w)n
(a)n(y)i(the)d(output)g(of)i Fs(b)m(o)m(dy)h Fr(will)f(b)r(e)f(group)r(ed)e
(in)n(to)j(a)f(table)g(ro)n(w.)149 2350 y(All)g(of)f(the)f(output)g(p)r
(erformed)d(b)n(y)18 b Fs(b)m(o)m(dy)h Fr(b)r(ecomes)c(the)h(con)n(ten)n(ts)g
(of)h(one)f(ro)n(w.)25 b(This)17 b(m)n(ust)g(b)r(e)f(used)h(inside)149
2417 y(of)h Ft(formatting-table)p Fr(,)h(and)f(in)h(conjunction)c(with)k
Ft(formatting-cell)p Fr(.)149 2550 y Fs(str)m(e)m(am)24 b Fr(is)g(an)e
(output)f(recording)g(stream)g(to)h(whic)n(h)h(output)e(will)j(b)r(e)e(done.)
38 b(The)22 b Fs(str)m(e)m(am)j Fr(argumen)n(t)20 b(is)149
2616 y(not)h(ev)m(aluated,)g(and)g(m)n(ust)g(b)r(e)g(a)h(sym)n(b)r(ol)f(that)
f(is)j(b)r(ound)d(to)h(a)h(stream.)33 b(If)22 b Fs(str)m(e)m(am)i
Fr(is)e Ft(t)g Fr(\(the)f(default\),)149 2682 y Ft(*standard-output*)e
Fr(is)g(used.)24 b Fs(b)m(o)m(dy)19 b Fr(ma)n(y)f(ha)n(v)n(e)h(zero)e(or)h
(more)e(declarations)g(as)i(its)g(\014rst)g(forms.)149 2815
y(Once)f(a)h(table)g(has)f(had)h(a)g(ro)n(w)g(added)f(to)h(it)g(via)h
Ft(formatting-row)p Fr(,)h(no)d(columns)g(ma)n(y)h(b)r(e)f(added)g(to)h(it.)
149 2948 y Fs(r)m(e)m(c)m(or)m(d-typ)m(e)j Fr(sp)r(eci\014es)16
b(the)g(class)h(of)g(output)f(record)f(to)i(create.)22 b(The)17
b(default)f(is)i Ft(standard-row-output-)149 3014 y(record)p
Fr(.)43 b(This)25 b(argumen)n(t)d(should)i(only)g(b)r(e)g(supplied)f(b)n(y)i
(a)g(programmer)20 b(if)25 b(there)e(is)h(a)h(new)f(class)g(of)149
3081 y(output)16 b(record)h(that)f(supp)r(orts)g(the)i(ro)n(w)g(formatting)d
(proto)r(col.)49 3214 y Fj(\))45 b Ft(formatting-column)30
b Fs(\()p Ft(&optional)f Fs(str)m(e)m(am)21 b Ft(&key)30 b
Fs(r)m(e)m(c)m(or)m(d-typ)m(e\))23 b Ft(&body)29 b Fs(b)m(o)m(dy)368
b Fr([)p Fs(Macr)m(o)s Fr(])149 3333 y(Binds)14 b(the)e(lo)r(cal)h(en)n
(vironmen)n(t)f(in)i(suc)n(h)g(a)f(w)n(a)n(y)i(the)e(output)f(of)h
Fs(b)m(o)m(dy)i Fr(will)g(b)r(e)e(group)r(ed)e(in)n(to)j(a)g(table)f(column.)
149 3399 y(All)21 b(of)h(the)e(output)f(p)r(erformed)f(b)n(y)k
Fs(b)m(o)m(dy)h Fr(b)r(ecomes)18 b(the)j(con)n(ten)n(ts)e(of)i(one)g(column.)
32 b(This)22 b(m)n(ust)e(b)r(e)g(used)149 3466 y(inside)e(of)g
Ft(formatting-table)p Fr(,)i(and)d(in)i(conjunction)d(with)i
Ft(formatting-cell)p Fr(.)p eop
%%Page: 162 177
bop 149 16 a Fm(CHAPTER)16 b(17.)43 b(T)-5 b(ABLE)18 b(F)n(ORMA)-5
b(TTING)1217 b Fr(162)149 210 y Fs(str)m(e)m(am)24 b Fr(is)g(an)e(output)f
(recording)g(stream)g(to)h(whic)n(h)h(output)e(will)j(b)r(e)e(done.)38
b(The)22 b Fs(str)m(e)m(am)j Fr(argumen)n(t)20 b(is)149 276
y(not)h(ev)m(aluated,)g(and)g(m)n(ust)g(b)r(e)g(a)h(sym)n(b)r(ol)f(that)f(is)
j(b)r(ound)d(to)h(a)h(stream.)33 b(If)22 b Fs(str)m(e)m(am)i
Fr(is)e Ft(t)g Fr(\(the)f(default\),)149 342 y Ft(*standard-output*)e
Fr(is)g(used.)24 b Fs(b)m(o)m(dy)19 b Fr(ma)n(y)f(ha)n(v)n(e)h(zero)e(or)h
(more)e(declarations)g(as)i(its)g(\014rst)g(forms.)149 475
y(Once)g(a)i(table)e(has)h(had)g(a)g(column)f(added)g(to)h(it)h(via)g
Ft(formatting-column)p Fr(,)h(no)e(ro)n(ws)g(ma)n(y)g(b)r(e)g(added)f(to)149
542 y(it.)149 674 y Fs(r)m(e)m(c)m(or)m(d-typ)m(e)30 b Fr(sp)r(eci\014es)23
b(the)i(class)h(of)f(output)f(record)g(to)i(create.)45 b(The)25
b(default)g(is)h Ft(standard-column-)149 741 y(output-record)p
Fr(.)f(This)16 b(argumen)n(t)e(should)h(only)i(b)r(e)e(supplied)g(b)n(y)i(a)f
(programmer)c(if)17 b(there)e(is)h(a)g(new)g(class)149 807
y(of)i(output)e(record)h(that)f(supp)r(orts)g(the)i(column)e(formatting)g
(proto)r(col.)49 940 y Fj(\))45 b Ft(formatting-cell)30 b Fs(\()p
Ft(&optional)f Fs(str)m(e)m(am)23 b Ft(&key)29 b Fs(\(align-x)22
b Ft(':left)p Fs(\))f(\(align-y)h Ft(':baseline)p Fs(\))f(min-width)149
1007 y(min-height)h(r)m(e)m(c)m(or)m(d-typ)m(e\))h Ft(&body)29
b Fs(b)m(o)m(dy)1251 b Fr([)p Fs(Macr)m(o)s Fr(])149 1126 y(Con)n(trols)24
b(the)g(output)g(of)h(a)g(single)g(cell)g(inside)g(a)g(table)g(ro)n(w)g(or)g
(column,)h(or)e(of)h(a)g(single)g(item)g(inside)149 1192 y
Ft(formatting-item-list)p Fr(.)h(All)19 b(of)f(the)f(output)f(p)r(erformed)f
(b)n(y)k Fs(b)m(o)m(dy)h Fr(b)r(ecomes)15 b(the)i(con)n(ten)n(ts)g(of)h(the)f
(cell.)149 1325 y Fs(str)m(e)m(am)24 b Fr(is)g(an)e(output)f(recording)g
(stream)g(to)h(whic)n(h)h(output)e(will)j(b)r(e)e(done.)38
b(The)22 b Fs(str)m(e)m(am)j Fr(argumen)n(t)20 b(is)149 1391
y(not)h(ev)m(aluated,)g(and)g(m)n(ust)g(b)r(e)g(a)h(sym)n(b)r(ol)f(that)f(is)
j(b)r(ound)d(to)h(a)h(stream.)33 b(If)22 b Fs(str)m(e)m(am)i
Fr(is)e Ft(t)g Fr(\(the)f(default\),)149 1458 y Ft(*standard-output*)e
Fr(is)g(used.)24 b Fs(b)m(o)m(dy)19 b Fr(ma)n(y)f(ha)n(v)n(e)h(zero)e(or)h
(more)e(declarations)g(as)i(its)g(\014rst)g(forms.)149 1591
y Fs(align-x)g Fr(sp)r(eci\014es)e(ho)n(w)j(the)e(output)f(in)i(a)g(cell)g
(will)h(b)r(e)f(aligned)f(relativ)n(e)h(to)f(other)f(cells)i(in)h(the)e(same)
f(table)149 1657 y(column.)26 b(The)19 b(default,)f Ft(:left)p
Fr(,)j(causes)c(the)i(cells)g(to)f(b)r(e)h(\015ush-left)f(in)i(the)e(column.)
26 b(The)19 b(other)e(p)r(ossible)149 1723 y(v)m(alues)k(are)f
Ft(:right)i Fr(\(meaning)d(\015ush-righ)n(t)i(in)h(the)e(column\))g(and)g
Ft(:center)i Fr(\(meaning)d(cen)n(tered)h(in)h(the)149 1790
y(column\).)42 b(Eac)n(h)25 b(cell)g(within)f(a)h(column)f(ma)n(y)g(ha)n(v)n
(e)h(a)g(di\013eren)n(t)f(alignmen)n(t;)j(th)n(us)e(it)g(is)g(p)r(ossible,)h
(for)149 1856 y(example,)17 b(to)g(ha)n(v)n(e)i(cen)n(tered)d(legends)h(o)n
(v)n(er)i(\015ush-righ)n(t)e(n)n(umeric)g(data.)149 1989 y
Fs(align-y)24 b Fr(sp)r(eci\014es)e(ho)n(w)i(the)f(output)f(in)j(a)e(cell)i
(will)g(b)r(e)e(aligned)g(v)n(ertically)-5 b(.)42 b(The)24
b(default,)g Ft(:baseline)p Fr(,)149 2055 y(causes)19 b(textual)g(cells)i(to)
f(b)r(e)g(aligned)g(along)g(their)g(baselines)g(and)g(graphical)f(cells)i(to)
f(b)r(e)g(aligned)g(at)g(the)149 2122 y(b)r(ottom.)h(The)c(other)e(p)r
(ossible)h(v)m(alues)g(are)h Ft(:bottom)g Fr(\(align)g(at)f(the)g(b)r(ottom)e
(of)j(the)f(output\),)f Ft(:top)j Fr(\(align)149 2188 y(at)f(the)h(top)f(of)h
(the)f(output\),)g(and)g Ft(:center)i Fr(\(cen)n(ter)d(the)i(output)e(in)j
(the)e(cell\).)149 2321 y Fs(min-width)h Fr(and)e Fs(min-height)j
Fr(are)e(used)f(to)g(sp)r(ecify)g(minim)n(um)g(width)g(or)h(heigh)n(t)f(of)h
(the)f(cell.)25 b(The)16 b(default,)149 2388 y Ft(nil)p Fr(,)25
b(causes)d(the)h(cell)g(to)g(b)r(e)f(only)i(as)f(wide)h(or)f(high)g(as)g(is)h
(necessary)d(to)i(con)n(tain)f(the)h(cell's)h(con)n(ten)n(ts.)149
2454 y(Otherwise,)17 b Fs(min-width)i Fr(and)e Fs(min-height)j
Fr(are)d(sp)r(eci\014ed)f(in)j(the)e(same)f(w)n(a)n(y)j(as)f(the)f
Ft(:x-spacing)i Fr(and)e Ft(:y-)149 2520 y(spacing)i Fr(argumen)n(ts)c(to)j
Ft(formatting-table)p Fr(.)149 2653 y Fs(r)m(e)m(c)m(or)m(d-typ)m(e)h
Fr(sp)r(eci\014es)12 b(the)i(class)h(of)f(output)f(record)g(to)h(create.)22
b(The)14 b(default)g(is)h Ft(standard-cell-output-)149 2720
y(record)p Fr(.)24 b(This)14 b(argumen)n(t)d(should)i(only)h(b)r(e)f
(supplied)h(b)n(y)g(a)g(programmer)c(if)k(there)e(is)j(a)f(new)f(class)h(of)f
(output)149 2786 y(record)j(that)h(supp)r(orts)f(the)h(cell)i(formatting)c
(proto)r(col.)49 2919 y Fj(\))45 b Ft(formatting-item-list)30
b Fs(\()p Ft(&optional)f Fs(str)m(e)m(am)16 b Ft(&key)29 b
Fs(x-sp)m(acing)15 b(y-sp)m(acing)g(n-c)m(olumns)g(n-r)m(ows)g(str)m(e)m(am-)
149 2985 y(width)27 b(str)m(e)m(am-height)j(max-width)e(max-height)h
(initial-sp)m(acing)g(\(move-cursor)f Ft(t)p Fs(\))f(r)m(e)m(c)m(or)m(d-typ)m
(e\))j Ft(&body)149 3052 y Fs(b)m(o)m(dy)2002 b Fr([)p Fs(Macr)m(o)s
Fr(])149 3171 y(Binds)25 b(the)f(lo)r(cal)g(en)n(vironmen)n(t)f(in)i(suc)n(h)
f(a)h(w)n(a)n(y)h(that)d(the)h(output)f(of)i Fs(b)m(o)m(dy)h
Fr(will)g(b)r(e)e(done)g(in)h(an)g(item)149 3237 y(list)e(\(that)d(is,)25
b(men)n(u\))c(format.)35 b(This)23 b(m)n(ust)e(b)r(e)h(used)g(in)h
(conjunction)d(with)i Ft(formatting-cell)p Fr(,)j(whic)n(h)149
3304 y(delimits)c(eac)n(h)g(item.)34 b(The)21 b(item)g(list)h(is)g(placed)e
(so)i(that)e(its)i(upp)r(er)e(left)h(corner)f(is)i(at)g(the)e(curren)n(t)g
(text)149 3370 y(cursor)c(p)r(osition)h(of)i Fs(str)m(e)m(am)p
Fr(.)27 b(If)18 b(the)f(b)r(o)r(olean)g Fs(move-cursor)j Fr(is)f
Fm(true)e Fr(\(the)g(default\),)g(then)g(the)h(text)f(cursor)149
3436 y(will)i(b)r(e)f(mo)n(v)n(ed)f(so)h(that)f(it)i(immediately)d(follo)n
(ws)i(the)g(last)g(cell)g(of)g(the)f(item)g(list.)p eop
%%Page: 163 178
bop 149 16 a Fm(CHAPTER)16 b(17.)43 b(T)-5 b(ABLE)18 b(F)n(ORMA)-5
b(TTING)1217 b Fr(163)149 210 y(\\Item)17 b(list)i(output")e(is)j(more)d
(strictly)h(de\014ned)g(as:)26 b(eac)n(h)18 b(ro)n(w)h(of)g(the)f(item)g
(list)i(consists)d(of)i(a)g(single)g(cell.)149 276 y(Ro)n(ws)j(are)h(placed)e
(with)i(the)f(\014rst)g(ro)n(w)h(on)f(top,)i(and)e(eac)n(h)g(succeeding)f(ro)
n(w)i(has)f(its)h(top)f(aligned)h(with)149 342 y(the)d(b)r(ottom)e(of)j(the)f
(previous)g(ro)n(w)h(\(plus)g(the)f(sp)r(eci\014ed)f Fs(y-sp)m(acing)p
Fr(\).)34 b(Multiple)21 b(ro)n(ws)f(and)h(columns)e(are)149
409 y(constructed)e(after)i(la)n(ying)i(the)f(item)f(list)i(out)f(in)h(a)f
(single)h(column.)30 b(Item)19 b(list)i(output)e(tak)n(es)h(place)g(in)h(a)
149 475 y(normalized)16 b(+)p Fn(y)r Fr(-do)n(wn)n(w)n(ard)i(co)r(ordinate)e
(system.)149 608 y(The)h(returned)f(v)m(alue)i(is)h(the)e(output)g(record)f
(corresp)r(onding)f(to)i(the)h(table.)149 741 y Fs(str)m(e)m(am)24
b Fr(is)g(an)e(output)f(recording)g(stream)g(to)h(whic)n(h)h(output)e(will)j
(b)r(e)e(done.)38 b(The)22 b Fs(str)m(e)m(am)j Fr(argumen)n(t)20
b(is)149 807 y(not)h(ev)m(aluated,)g(and)g(m)n(ust)g(b)r(e)g(a)h(sym)n(b)r
(ol)f(that)f(is)j(b)r(ound)d(to)h(a)h(stream.)33 b(If)22 b
Fs(str)m(e)m(am)i Fr(is)e Ft(t)g Fr(\(the)f(default\),)149
874 y Ft(*standard-output*)e Fr(is)g(used.)24 b Fs(b)m(o)m(dy)19
b Fr(ma)n(y)f(ha)n(v)n(e)h(zero)e(or)h(more)e(declarations)g(as)i(its)g
(\014rst)g(forms.)149 1007 y Fs(x-sp)m(acing)k Fr(sp)r(eci\014es)e(the)h(n)n
(um)n(b)r(er)e(of)j(units)f(of)g(spacing)f(to)h(b)r(e)g(inserted)f(b)r(et)n
(w)n(een)g(columns)g(of)h(the)g(item)149 1073 y(list;)d(the)e(default)g(is)i
(the)e(width)h(of)g(a)g Ft(#\\Space)h Fr(c)n(haracter)d(in)i(the)f(curren)n
(t)g(text)g(st)n(yle.)25 b Fs(y-sp)m(acing)18 b Fr(sp)r(eci\014es)149
1139 y(the)d(n)n(um)n(b)r(er)f(of)h(units)h(of)f(spacing)g(to)g(b)r(e)g
(inserted)g(b)r(et)n(w)n(een)f(ro)n(ws)i(in)g(the)f(item)f(list;)k(the)d
(default)f(is)j(default)149 1206 y(v)n(ertical)h(spacing)f(of)h(the)f
(stream.)23 b(The)17 b(format)f(of)i(these)f(argumen)n(ts)f(is)i(as)g(for)g
Ft(formatting-table)p Fr(.)149 1339 y(When)h(the)g(b)r(o)r(olean)f
Fs(e)m(qualize-c)m(olumn-widths)k Fr(is)f Fm(true)p Fr(,)e(CLIM)h(will)h(mak)
n(e)e(all)i(of)f(the)f(columns)f(ha)n(v)n(e)i(the)149 1405
y(same)c(width)i(\(the)f(width)h(of)g(the)f(widest)h(cell)g(in)h(an)n(y)f
(column)f(in)i(the)e(en)n(tire)g(item)g(list\).)149 1538 y
Fs(n-c)m(olumns)k Fr(and)f Fs(n-r)m(ows)h Fr(sp)r(ecify)e(the)h(n)n(um)n(b)r
(er)f(of)h(columns)f(or)h(ro)n(ws)g(in)h(the)e(item)h(list.)32
b(The)20 b(default)f(for)149 1604 y(b)r(oth)h(is)i Ft(nil)p
Fr(,)h(whic)n(h)f(causes)e(CLIM)h(to)g(pic)n(k)h(an)f(aesthetically)f
(pleasing)h(la)n(y)n(out,)i(p)r(ossibly)e(constrained)149 1671
y(b)n(y)c(the)e(other)g(options.)23 b(If)17 b(b)r(oth)e Fs(n-c)m(olumns)i
Fr(and)f Fs(n-r)m(ows)h Fr(are)e(supplied)h(and)g(the)g(item)f(list)i(con)n
(tains)e(more)149 1737 y(elemen)n(ts)h(than)h(will)i(\014t)e(according)f(to)i
(the)f(sp)r(eci\014cation,)e(CLIM)j(will)h(format)d(the)h(item)g(list)h(as)g
(if)g Fs(n-r)m(ows)149 1804 y Fr(w)n(ere)f(supplied)h(as)g
Ft(nil)p Fr(.)149 1936 y Fs(max-width)j Fr(and)f Fs(max-height)j
Fr(constrain)18 b(the)i(la)n(y)n(out)h(of)f(the)g(item)f(list.)32
b(CLIM)20 b(will)i(not)e(mak)n(e)g(the)g(item)149 2003 y(list)g(an)n(y)f
(wider)h(than)e Fs(max-width)p Fr(,)j(unless)e(it)h(is)g(o)n(v)n(erridden)e
(b)n(y)j Fs(n-r)m(ows)p Fr(.)28 b(It)20 b(will)h(not)d(mak)n(e)h(the)g(item)f
(list)149 2069 y(an)n(y)g(taller)g(than)f Fs(max-height)p Fr(,)k(unless)c(it)
i(is)f(o)n(v)n(erridden)g(b)n(y)h Fs(n-c)m(olumns)p Fr(.)149
2202 y Ft(formatting-item-list)26 b Fr(normally)e(spaces)f(items)g(across)g
(the)h(en)n(tire)g(width)g(of)h(the)e(stream.)42 b(When)149
2269 y Fs(initial-sp)m(acing)21 b Fr(is)f Fm(true)p Fr(,)f(it)h(inserts)e
(some)g(whitespace)f(\(ab)r(out)h(half)h(as)g(m)n(uc)n(h)g(space)f(as)h(is)h
(b)r(et)n(w)n(een)e(eac)n(h)149 2335 y(item\))f(b)r(efore)h(the)g(\014rst)h
(item)f(on)h(eac)n(h)g(line.)29 b(When)18 b(it)i(is)g Fm(false)f
Fr(\(the)f(default\),)g(the)h(initial)h(whitespace)d(is)149
2401 y(not)g(inserted.)149 2534 y Fs(r)m(e)m(c)m(or)m(d-typ)m(e)23
b Fr(sp)r(eci\014es)18 b(the)h(class)g(of)g(output)f(record)g(to)h(create.)27
b(The)19 b(default)f(is)i Ft(standard-item-list-)149 2601 y(output-record)p
Fr(.)25 b(This)16 b(argumen)n(t)e(should)h(only)i(b)r(e)e(supplied)g(b)n(y)i
(a)f(programmer)c(if)17 b(there)e(is)h(a)g(new)g(class)149
2667 y(of)i(output)e(record)h(that)f(supp)r(orts)g(the)i(item)f(list)h
(formatting)e(proto)r(col.)49 2800 y Fj(\))45 b Ft(format-items)29
b Fs(items)e Ft(&key)j Fs(str)m(e)m(am)e(printer)g(pr)m(esentation-typ)m(e)i
(x-sp)m(acing)d(y-sp)m(acing)g(n-c)m(olumns)g(n-)149 2866 y(r)m(ows)e
(max-width)h(max-height)h(c)m(el)s(l-align-x)g(c)m(el)s(l-align-y)f
(initial-sp)m(acing)i(\(move-cursor)f Ft(t)p Fs(\))d(r)m(e)m(c)m(or)m(d-typ)m
(e)149 2933 y Fr([)p Fs(F)l(unction)t Fr(])149 3052 y(This)c(is)h(a)g
(function)e(in)n(terface)f(to)i(the)g(item)f(list)i(formatter.)28
b(The)20 b(elemen)n(ts)e(of)j(the)e(sequence)g Fs(items)i Fr(are)149
3118 y(formatted)15 b(as)j(separate)d(cells)k(within)f(the)f(item)g(list.)149
3251 y Fs(str)m(e)m(am)k Fr(is)g(an)e(output)f(recording)g(stream)g(to)h
(whic)n(h)h(output)e(will)j(b)r(e)e(done.)28 b(It)20 b(defaults)e(to)i
Ft(*standard-)149 3317 y(output*)p Fr(.)149 3450 y Fs(printer)j
Fr(m)n(ust)e(b)r(e)g(a)g(function)f(that)h(tak)n(es)g(t)n(w)n(o)h(argumen)n
(ts,)e(an)h(item)g(and)g(a)g(stream,)g(and)g(outputs)e(the)p
eop
%%Page: 164 179
bop 149 16 a Fm(CHAPTER)16 b(17.)43 b(T)-5 b(ABLE)18 b(F)n(ORMA)-5
b(TTING)1217 b Fr(164)149 210 y(item)17 b(on)h(the)f(stream.)22
b Fs(printer)f Fr(has)c(dynamic)g(exten)n(t.)24 b(The)18 b(default)f(for)h
Fs(printer)i Fr(is)f Ft(prin1)p Fr(.)149 342 y Fs(pr)m(esentation-typ)m(e)i
Fr(is)c(a)g(presen)n(tation-t)n(yp)r(e.)k(When)c Fs(printer)i
Fr(is)e(not)f(supplied,)h(the)f(items)g(will)i(b)r(e)e(prin)n(ted)149
409 y(as)i(if)g Fs(printer)j Fr(w)n(ere)149 586 y Ft(#'\(lambda)29
b(\(item)h(stream\))265 652 y(\(present)f(item)h(presentation-type)g(:stream)
f(stream\)\))149 829 y Fr(When)13 b Fs(printer)j Fr(is)f(supplied,)g(eac)n(h)
e(item)g(will)i(b)r(e)f(enclosed)e(in)j(a)f(presen)n(tation)d(whose)i(t)n(yp)
r(e)h(is)g Fs(pr)m(esentation-)149 896 y(typ)m(e)p Fr(.)149
1029 y Fs(x-sp)m(acing)p Fr(,)i Fs(y-sp)m(acing)p Fr(,)h Fs(n-c)m(olumns)p
Fr(,)f Fs(n-r)m(ows)p Fr(,)g Fs(max-width)p Fr(,)g Fs(max-height)p
Fr(,)i Fs(initial-sp)m(acing)p Fr(,)g(and)13 b Fs(move-cursor)149
1095 y Fr(are)k(as)h(for)g Ft(formatting-item-list)p Fr(.)149
1228 y Fs(c)m(el)s(l-align-x)25 b Fr(and)e Fs(c)m(el)s(l-align-y)i
Fr(are)e(used)g(to)g(supply)h Ft(:align-x)g Fr(and)f Ft(:align-y)h
Fr(to)f(an)g(implicitly)h(used)149 1294 y Ft(formatting-cell)p
Fr(.)149 1427 y Fs(r)m(e)m(c)m(or)m(d-typ)m(e)e Fr(is)d(as)f(for)f
Ft(formatting-item-list)p Fr(.)149 1677 y Fk(17.3)91 b(The)31
b(T)-8 b(able)29 b(and)h(Item)g(List)g(F)-8 b(ormatting)29
b(Proto)s(cols)149 1864 y Fr(Both)13 b(table)g(and)h(item)f(list)h
(formatting)d(is)k(implemen)n(ted)c(on)j(top)f(of)h(the)f(basic)h(output)e
(recording)g(proto)r(col,)149 1931 y(using)k Ft(with-new-output-record)j
Fr(to)e(sp)r(ecify)f(the)g(appropriate)f(t)n(yp)r(e)h(of)h(output)f(record.)
22 b(F)-5 b(or)17 b(example,)149 1997 y Ft(formatting-table)26
b Fr(\014rst)e(collects)g(all)i(the)f(output)e(that)h(b)r(elongs)g(in)h(the)g
(table)f(in)n(to)h(a)h(collection)e(of)149 2064 y(ro)n(w,)d(column,)e(and)h
(cell)h(output)d(records,)h(all)i(of)f(whic)n(h)g(are)g(c)n(hildren)g(of)g(a)
g(single)g(table)f(output)g(record.)149 2130 y(During)i(this)g(phase,)g
Ft(stream-drawing-p)h Fr(is)g(b)r(ound)e(to)h Ft(nil)g Fr(and)g
Ft(stream-recording-p)i Fr(is)e(b)r(ound)f(to)149 2196 y Ft(t)p
Fr(.)27 b(When)18 b(all)h(the)f(output)f(has)i(b)r(een)e(generated,)g(the)h
(table)g(la)n(y)n(out)h(constrain)n(t)e(solv)n(er)i(\()p Ft(adjust-table-)149
2263 y(cells)g Fr(or)g Ft(adjust-item-list-cells)p Fr(\))h(is)f(called)f(to)h
(compute)d(the)i(table)g(la)n(y)n(out,)i(taking)e(in)n(to)h(accoun)n(t)149
2329 y(suc)n(h)c(factors)e(as)i(the)g(widest)f(cell)i(in)f(a)h(giv)n(en)f
(column.)23 b(If)15 b(the)g(table)f(is)i(to)f(b)r(e)f(split)h(in)n(to)h(m)n
(ultiple)f(columns,)149 2396 y Ft(adjust-multiple-columns)20
b Fr(is)g(no)n(w)f(called.)28 b(Finally)-5 b(,)21 b(the)d(table)h(output)e
(record)h(is)h(p)r(ositioned)e(on)i(the)149 2462 y(stream)14
b(at)i(the)g(curren)n(t)f(text)h(cursor)g(p)r(osition)f(and)h(then)g(displa)n
(y)n(ed)h(b)n(y)h(calling)f Ft(replay)g Fr(on)f(the)g(table)g(\(or)149
2529 y(item)h(list\))h(output)e(record.)149 2750 y Fp(17.3.1)75
b(T)-6 b(able)26 b(F)-6 b(ormatting)26 b(Proto)r(col)149 2918
y Fr(An)n(y)20 b(output)e(record)g(class)h(that)f(implemen)n(ts)g(the)h
(follo)n(wing)h(generic)f(functions)f(is)i(said)g(to)f(supp)r(ort)e(the)149
2985 y(table)g(formatting)e(proto)r(col.)149 3118 y(In)25 b(the)f(follo)n
(wing)h(subsections,)g(the)f(term)f(\\non-table)h(output)f(records")g(will)j
(b)r(e)e(used)g(to)h(mean)e(an)n(y)149 3184 y(output)d(record)g(that)h(is)i
(not)e(a)h(table,)h(ro)n(w,)g(column,)f(cell,)i(or)e(item)f(list)h(output)f
(record.)35 b(When)21 b(CLIM)149 3251 y(\\skips)d(o)n(v)n(er)h(in)n(terv)n
(ening)f(non-table)f(output)g(records",)g(this)h(means)f(that)g(it)i(will)h
(b)n(ypass)e(all)i(the)d(output)149 3317 y(records)23 b(b)r(et)n(w)n(een)h(t)
n(w)n(o)i(suc)n(h)g(table)e(output)g(records)g(\(suc)n(h)g(as)i(a)f(table)g
(and)g(a)g(ro)n(w,)j(or)d(a)h(ro)n(w)g(and)f(a)149 3383 y(cell\))c(that)g
(are)g(not)g(records)f(of)i(those)f(classes)g(\(most)f(notably)-5
b(,)23 b(presen)n(tation)c(output)h(records\).)34 b(CLIM)149
3450 y(implemen)n(tations)14 b(are)j(encouraged)d(to)k(detect)d(in)n(v)m
(alid)k(nesting)d(of)i(table)e(output)g(records,)g(suc)n(h)i(as)f(a)g(ro)n(w)
p eop
%%Page: 165 180
bop 149 16 a Fm(CHAPTER)16 b(17.)43 b(T)-5 b(ABLE)18 b(F)n(ORMA)-5
b(TTING)1217 b Fr(165)149 210 y(within)21 b(a)f(ro)n(w,)i(a)f(cell)g(within)g
(a)g(cell,)h(or)f(a)f(ro)n(w)h(within)g(a)g(cell.)33 b(Note)19
b(that)h(this)h(do)r(es)e(not)h(prohibit)g(the)149 276 y(nesting)i(of)h
(calls)g(to)f Ft(formatting-table)p Fr(,)k(it)d(simply)g(requires)g(that)e
(programmers)e(include)k(the)f(inner)149 342 y(table)17 b(within)h(one)g(of)g
(the)f(cells)h(of)g(the)g(outer)e(table.)49 475 y Fj(\))45
b Ft(table-output-record)1362 b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23
b(Class)5 b Fr(])149 594 y(The)18 b(proto)r(col)e(class)i(that)f(represen)n
(ts)f(tabular)h(output)g(records;)g(a)h(sub)r(class)f(of)h
Ft(output-record)p Fr(.)27 b(If)18 b(y)n(ou)149 661 y(w)n(an)n(t)j(to)h
(create)d(a)j(new)f(class)g(that)g(b)r(eha)n(v)n(es)g(lik)n(e)i(a)e(table)g
(output)f(record,)h(it)h(should)f(b)r(e)g(a)g(sub)r(class)g(of)149
727 y Ft(table-output-record)p Fr(.)k(Sub)r(classes)13 b(of)j
Ft(table-output-record)h Fr(m)n(ust)d(ob)r(ey)h(the)g(table)f(output)g
(record)149 793 y(proto)r(col.)49 926 y Fj(\))45 b Ft(table-output-record-p)
30 b Fs(obje)m(ct)1269 b Fr([)p Fs(F)l(unction)t Fr(])149 1045
y(Returns)16 b Fm(true)h Fr(if)i Fs(obje)m(ct)h Fr(is)f(a)f
Fm(table)g(output)e(record)p Fr(,)h(otherwise)f(returns)g Fm(false)p
Fr(.)49 1178 y Fj(\))45 b Ft(:x-spacing)1772 b Fr([)p Fs(Init)21
b(A)o(r)m(g)5 b Fr(])49 1245 y Fj(\))45 b Ft(:y-spacing)1772
b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])49 1311 y Fj(\))45
b Ft(:multiple-columns-x-spacing)1279 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5
b Fr(])49 1377 y Fj(\))45 b Ft(:equalize-column-widths)1395
b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])149 1496 y(All)21
b(sub)r(classes)d(of)j Ft(table-output-record)h Fr(m)n(ust)e(handle)g(these)f
(initargs,)i(whic)n(h)g(are)f(used)f(to)i(sp)r(ecify)-5 b(,)149
1563 y(resp)r(ectiv)n(ely)g(,)27 b(the)e Fn(x)h Fr(and)g Fn(y)i
Fr(spacing,)f(the)f(m)n(ultiple)f(column)g Fn(x)h Fr(spacing,)h(and)e
(equal-width)h(columns)149 1629 y(attributes)15 b(of)j(the)g(table.)49
1762 y Fj(\))45 b Ft(standard-table-output-record)1316 b Fr([)p
Fs(Class)5 b Fr(])149 1881 y(The)22 b(instan)n(tiable)g(class)g(of)h(output)e
(record)g(that)h(represen)n(ts)e(tabular)i(output.)36 b(Its)23
b(c)n(hildren)f(will)j(b)r(e)d(a)149 1948 y(sequence)15 b(of)i(either)f(ro)n
(ws)h(or)g(columns,)f(with)h(presen)n(tation)e(output)g(records)h(p)r
(ossibly)g(in)n(terv)n(ening.)24 b(This)149 2014 y(is)18 b(a)g(sub)r(class)f
(of)h Ft(table-output-record)p Fr(.)49 2147 y Fj(\))45 b Ft
(map-over-table-elements)30 b Fs(function)21 b(table-r)m(e)m(c)m(or)m(d)j
(typ)m(e)528 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
2266 y(Applies)e Fs(function)h Fr(to)f(all)h(the)f(ro)n(ws)g(or)g(columns)f
(of)h Fs(table-r)m(e)m(c)m(or)m(d)25 b Fr(that)19 b(are)h(of)g(t)n(yp)r(e)g
Fs(typ)m(e)p Fr(.)33 b Fs(typ)m(e)22 b Fr(is)f(either)149 2332
y Ft(:row)p Fr(,)16 b Ft(:column)p Fr(,)h(or)e Ft(:row-or-column)p
Fr(.)25 b Fs(function)17 b Fr(is)f(a)f(function)f(of)h(one)g(argumen)n(t,)f
(an)h(output)e(record;)i(it)149 2399 y(has)h(dynamic)g(exten)n(t.)23
b Ft(map-over-table-elements)18 b Fr(is)f(resp)r(onsible)e(for)h(ensuring)g
(that)f(ro)n(ws,)j(columns,)149 2465 y(and)h(cells)h(are)f(prop)r(erly)f
(nested.)28 b(It)19 b(m)n(ust)g(skip)h(o)n(v)n(er)g(in)n(terv)n(ening)f
(non-table)g(output)f(record)g(structure,)149 2531 y(suc)n(h)g(as)f(presen)n
(tations.)49 2664 y Fj(\))45 b Ft(adjust-table-cells)30 b Fs(table-r)m(e)m(c)
m(or)m(d)24 b(str)m(e)m(am)830 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 2783 y(This)12 b(function)g(is)h(called)f(after)f(the)h(tabular)f
(output)g(has)h(b)r(een)f(collected,)h(but)g(b)r(efore)e(it)j(has)f(b)r(een)f
(repla)n(y)n(ed.)149 2850 y(The)18 b(metho)r(d)e(on)i Ft
(standard-table-output-record)i Fr(implemen)n(ts)d(the)g(usual)i(table)e(la)n
(y)n(out)i(constrain)n(t)149 2916 y(solv)n(er)g(\(describ)r(ed)d(ab)r(o)n(v)n
(e\))h(b)n(y)j(mo)n(ving)e(the)g(ro)n(ws)h(or)f(columns)f(of)i(the)f(table)g
(output)f(record)g Fs(table-r)m(e)m(c)m(or)m(d)149 2983 y Fr(and)g(the)h
(cells)g(within)g(the)f(ro)n(ws)h(or)g(columns.)23 b Fs(str)m(e)m(am)d
Fr(is)f(the)e(stream)f(on)i(whic)n(h)h(the)e(table)g(is)i(displa)n(y)n(ed.)49
3115 y Fj(\))45 b Ft(adjust-multiple-columns)30 b Fs(table-r)m(e)m(c)m(or)m
(d)24 b(str)m(e)m(am)685 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 3234 y(This)e(is)g(called)f(after)g Ft(adjust-table-cells)i
Fr(to)e(accoun)n(t)f(for)i(the)e(case)h(where)g(the)g(programmer)d(w)n(an)n
(ts)149 3301 y(the)h(table)g(to)h(ha)n(v)n(e)h(m)n(ultiple)e(columns.)23
b Fs(table-r)m(e)m(c)m(or)n(d)f Fr(and)c Fs(str)m(e)m(am)i
Fr(are)e(as)f(for)h Ft(adjust-table-cells)p Fr(.)p eop
%%Page: 166 181
bop 149 16 a Fm(CHAPTER)16 b(17.)43 b(T)-5 b(ABLE)18 b(F)n(ORMA)-5
b(TTING)1217 b Fr(166)149 210 y Fp(17.3.2)75 b(Ro)n(w)25 b(and)g(Column)g(F)
-6 b(ormatting)26 b(Proto)r(col)149 378 y Fr(An)n(y)20 b(output)e(record)g
(class)h(that)f(implemen)n(ts)g(the)h(follo)n(wing)h(generic)f(functions)f
(is)i(said)g(to)f(supp)r(ort)e(the)149 445 y(ro)n(w)h(\(or)f(column\))f
(formatting)g(proto)r(col.)49 577 y Fj(\))45 b Ft(row-output-record)1420
b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23 b(Class)5 b Fr(])149 696 y(The)24
b(proto)r(col)e(class)j(that)e(represen)n(ts)f(one)i(ro)n(w)h(in)g(a)f
(table;)k(a)d(sub)r(class)e(of)h Ft(output-record)p Fr(.)45
b(If)25 b(y)n(ou)149 763 y(w)n(an)n(t)i(to)g(create)e(a)j(new)f(class)g(that)
f(b)r(eha)n(v)n(es)g(lik)n(e)j(a)e(ro)n(w)h(output)d(record,)k(it)e(should)g
(b)r(e)g(a)g(sub)r(class)149 829 y(of)c Ft(row-output-record)p
Fr(.)42 b(Sub)r(classes)21 b(of)j Ft(row-output-record)g Fr(m)n(ust)f(ob)r
(ey)f(the)h(ro)n(w)g(output)f(record)149 896 y(proto)r(col.)49
1028 y Fj(\))45 b Ft(row-output-record-p)30 b Fs(obje)m(ct)1327
b Fr([)p Fs(F)l(unction)t Fr(])149 1147 y(Returns)16 b Fm(true)h
Fr(if)i Fs(obje)m(ct)h Fr(is)f(a)f Fm(ro)n(w)g(output)f(record)p
Fr(,)g(otherwise)f(returns)g Fm(false)p Fr(.)49 1280 y Fj(\))45
b Ft(standard-row-output-record)1374 b Fr([)p Fs(Class)5 b
Fr(])149 1399 y(The)25 b(instan)n(tiable)g(class)h(of)g(output)e(record)g
(that)h(represen)n(ts)e(a)j(ro)n(w)g(of)g(output)f(within)h(a)g(table.)47
b(Its)149 1466 y(c)n(hildren)14 b(will)j(b)r(e)d(a)h(sequence)e(of)i(cells,)i
(and)d(its)h(paren)n(t)f(\(skipping)h(in)n(terv)n(ening)f(non-tabular)g
(records)f(suc)n(h)149 1532 y(as)18 b(presen)n(tations\))d(will)k(b)r(e)f(a)g
(table)f(output)f(record.)23 b(This)c(is)f(a)h(sub)r(class)d(of)i
Ft(row-output-record)p Fr(.)49 1665 y Fj(\))45 b Ft(map-over-row-cells)30
b Fs(function)21 b(r)m(ow-r)m(e)m(c)m(or)m(d)817 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 1784 y(Applies)h Fs(function)h Fr(to)f(all)h(the)f
(cells)g(in)h(the)f(ro)n(w)g Fs(r)m(ow-r)m(e)m(c)m(or)m(d)p
Fr(,)29 b(skipping)23 b(in)n(terv)n(ening)g(non-table)f(output)149
1850 y(record)d(structure.)29 b Fs(function)22 b Fr(is)f(a)f(function)g(of)g
(one)g(argumen)n(t,)f(an)h(output)f(record)g(corresp)r(onding)e(to)k(a)149
1917 y(table)c(cell)h(within)h(the)e(ro)n(w;)i(it)f(has)g(dynamic)f(exten)n
(t.)49 2050 y Fj(\))45 b Ft(column-output-record)1333 b Fr([)p
Fs(Pr)m(oto)m(c)m(ol)23 b(Class)5 b Fr(])149 2169 y(The)19
b(proto)r(col)e(class)j(that)e(represen)n(ts)f(one)i(column)f(in)i(a)g
(table;)g(a)g(sub)r(class)e(of)h Ft(output-record)p Fr(.)30
b(If)20 b(y)n(ou)149 2235 y(w)n(an)n(t)e(to)h(create)d(a)j(new)f(class)g
(that)g(b)r(eha)n(v)n(es)f(lik)n(e)j(a)f(column)e(output)g(record,)g(it)i
(should)f(b)r(e)g(a)h(sub)r(class)e(of)149 2301 y Ft(column-output-record)p
Fr(.)36 b(Sub)r(classes)20 b(of)h Ft(column-output-record)i
Fr(m)n(ust)e(ob)r(ey)f(the)h(column)f(output)149 2368 y(record)c(proto)r
(col.)49 2501 y Fj(\))45 b Ft(column-output-record-p)30 b Fs(obje)m(ct)1240
b Fr([)p Fs(F)l(unction)t Fr(])149 2620 y(Returns)16 b Fm(true)h
Fr(if)i Fs(obje)m(ct)h Fr(is)f(a)f Fm(column)f(output)f(record)p
Fr(,)h(otherwise)g(returns)f Fm(false)p Fr(.)49 2753 y Fj(\))45
b Ft(standard-column-output-record)1287 b Fr([)p Fs(Class)5
b Fr(])149 2872 y(The)21 b(instan)n(tiable)g(class)h(of)g(output)f(record)f
(that)h(represen)n(t)f(a)i(column)e(of)i(output)f(within)h(a)g(table.)36
b(Its)149 2938 y(c)n(hildren)14 b(will)j(b)r(e)d(a)h(sequence)e(of)i(cells,)i
(and)d(its)h(paren)n(t)f(\(skipping)h(in)n(terv)n(ening)f(non-tabular)g
(records)f(suc)n(h)149 3004 y(as)j(presen)n(tations\))d(will)k(b)r(e)e(a)i
(table)e(output)f(record;)i(presen)n(tation)d(output)i(records)f(ma)n(y)i(in)
n(terv)n(ene.)23 b(This)149 3071 y(is)18 b(a)g(sub)r(class)f(of)h
Ft(column-output-record)p Fr(.)49 3204 y Fj(\))45 b Ft(map-over-row-cells)30
b Fs(function)21 b(c)m(olumn-r)m(e)m(c)m(or)m(d)732 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 3323 y(Applies)i Fs(function)h
Fr(to)f(all)i(the)d(cells)i(in)g(the)f(column)f Fs(c)m(olumn-r)m(e)m(c)m(or)m
(d)p Fr(,)30 b(skipping)25 b(in)n(terv)n(ening)f(non-table)149
3389 y(output)14 b(record)g(structure.)21 b Fs(function)c Fr(is)g(a)e
(function)g(of)h(one)f(argumen)n(t,)f(an)i(output)e(record)g(corresp)r
(onding)149 3456 y(to)j(a)h(table)g(cell)g(within)g(the)g(column;)f(it)h(has)
g(dynamic)f(exten)n(t.)p eop
%%Page: 167 182
bop 149 16 a Fm(CHAPTER)16 b(17.)43 b(T)-5 b(ABLE)18 b(F)n(ORMA)-5
b(TTING)1217 b Fr(167)149 210 y Fp(17.3.3)75 b(Cell)27 b(F)-6
b(ormatting)26 b(Proto)r(col)149 378 y Fr(An)n(y)20 b(output)e(record)g
(class)h(that)f(implemen)n(ts)g(the)h(follo)n(wing)h(generic)f(functions)f
(is)i(said)g(to)f(supp)r(ort)e(the)149 445 y(cell)h(formatting)d(proto)r
(col.)49 577 y Fj(\))45 b Ft(cell-output-record)1391 b Fr([)p
Fs(Pr)m(oto)m(c)m(ol)23 b(Class)5 b Fr(])149 696 y(The)13 b(proto)r(col)e
(class)i(that)g(represen)n(ts)e(one)i(cell)h(in)g(a)f(table)g(or)g(an)h(item)
e(list;)k(a)e(sub)r(class)e(of)h Ft(output-record)p Fr(.)149
763 y(If)18 b(y)n(ou)h(w)n(an)n(t)g(to)f(create)e(a)j(new)f(class)g(that)f(b)
r(eha)n(v)n(es)h(lik)n(e)i(a)e(cell)h(output)e(record,)g(it)i(should)f(b)r(e)
g(a)g(sub)r(class)149 829 y(of)h Ft(cell-output-record)p Fr(.)29
b(Sub)r(classes)17 b(of)i Ft(cell-output-record)i Fr(m)n(ust)d(ob)r(ey)h(the)
f(cell)i(output)d(record)149 896 y(proto)r(col.)49 1028 y Fj(\))45
b Ft(cell-output-record-p)30 b Fs(obje)m(ct)1298 b Fr([)p Fs(F)l(unction)t
Fr(])149 1147 y(Returns)16 b Fm(true)h Fr(if)i Fs(obje)m(ct)h
Fr(is)f(a)f Fm(cell)h(output)d(record)p Fr(,)h(otherwise)f(returns)h
Fm(false)p Fr(.)49 1280 y Fj(\))45 b Ft(:align-x)1830 b Fr([)p
Fs(Init)21 b(A)o(r)m(g)5 b Fr(])49 1347 y Fj(\))45 b Ft(:align-y)1830
b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])49 1413 y Fj(\))45
b Ft(:min-width)1772 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])49
1480 y Fj(\))45 b Ft(:min-height)1743 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5
b Fr(])149 1599 y(All)23 b(sub)r(classes)e(of)i Ft(cell-output-record)i
Fr(m)n(ust)d(handle)g(these)f(initargs,)j(whic)n(h)g(are)e(used)g(to)h(sp)r
(ecify)-5 b(,)149 1665 y(resp)r(ectiv)n(ely)g(,)17 b(the)h
Fn(x)g Fr(and)f Fn(y)k Fr(alignmen)n(t,)c(and)h(the)f(minim)n(um)f(width)i
(and)g(heigh)n(t)f(attributes)f(of)i(the)g(cell.)49 1798 y
Fj(\))45 b Ft(standard-cell-output-record)1345 b Fr([)p Fs(Class)5
b Fr(])149 1917 y(The)22 b(instan)n(tiable)g(class)h(of)g(output)e(record)g
(that)h(represen)n(t)e(a)j(single)g(piece)f(of)h(output)e(within)i(a)g(table)
149 1983 y(ro)n(w)c(or)g(column,)f(or)h(an)f(item)g(list.)28
b(Its)19 b(c)n(hildren)g(will)h(either)e(b)r(e)g(presen)n(tations,)f(or)i
(output)f(records)f(that)149 2050 y(represen)n(t)f(displa)n(y)n(ed)i(output.)
23 b(This)c(is)f(a)g(sub)r(class)f(of)h Ft(cell-output-record)p
Fr(.)49 2183 y Fj(\))45 b Ft(cell-align-x)29 b Fs(c)m(el)s(l)1377
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49 2249 y Fj(\))45
b Ft(cell-align-y)29 b Fs(c)m(el)s(l)1377 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])49 2315 y Fj(\))45 b Ft(cell-min-width)30
b Fs(c)m(el)s(l)1318 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])49 2382 y Fj(\))45 b Ft(cell-min-height)30 b Fs(c)m(el)s(l)1289
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2501 y(These)d(functions)f
(return,)h(resp)r(ectiv)n(ely)-5 b(,)19 b(the)g Fn(x)h Fr(and)f
Fn(y)k Fr(alignmen)n(t)18 b(and)h(minim)n(um)g(width)g(and)g(heigh)n(t)h(of)
149 2567 y(the)d Fm(cell)h(output)f(record)f Fs(c)m(el)s(l)p
Fr(.)149 2789 y Fp(17.3.4)75 b(Item)26 b(List)g(F)-6 b(ormatting)25
b(Proto)r(col)49 2957 y Fj(\))45 b Ft(item-list-output-record)1246
b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23 b(Class)5 b Fr(])149 3076
y(The)26 b(proto)r(col)e(class)i(that)g(represen)n(ts)e(an)i(item)g(list;)31
b(a)c(sub)r(class)e(of)i Ft(output-record)p Fr(.)51 b(If)26
b(y)n(ou)h(w)n(an)n(t)149 3143 y(to)22 b(create)f(a)i(new)g(class)f(that)g(b)
r(eha)n(v)n(es)g(lik)n(e)i(an)f(item)f(list)h(output)f(record,)g(it)i(should)
e(b)r(e)g(a)h(sub)r(class)f(of)149 3209 y Ft(item-list-output-record)p
Fr(.)31 b(Sub)r(classes)18 b(of)h Ft(item-list-output-record)j
Fr(m)n(ust)d(ob)r(ey)f(the)h(item)g(list)149 3275 y(output)d(record)h(proto)r
(col.)49 3408 y Fj(\))45 b Ft(item-list-output-record-p)30
b Fs(obje)m(ct)1153 b Fr([)p Fs(F)l(unction)t Fr(])p eop
%%Page: 168 183
bop 149 16 a Fm(CHAPTER)16 b(17.)43 b(T)-5 b(ABLE)18 b(F)n(ORMA)-5
b(TTING)1217 b Fr(168)149 210 y(Returns)16 b Fm(true)h Fr(if)i
Fs(obje)m(ct)h Fr(is)f(an)f Fm(item)f(list)i(output)d(record)p
Fr(,)h(otherwise)f(returns)g Fm(false)p Fr(.)49 342 y Fj(\))45
b Ft(:x-spacing)1772 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])49
409 y Fj(\))45 b Ft(:y-spacing)1772 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5
b Fr(])49 475 y Fj(\))45 b Ft(:initial-spacing)1598 b Fr([)p
Fs(Init)21 b(A)o(r)m(g)5 b Fr(])49 542 y Fj(\))45 b Ft(:n-rows)1859
b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])49 608 y Fj(\))45
b Ft(:n-columns)1772 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])49
674 y Fj(\))45 b Ft(:max-width)1772 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5
b Fr(])49 741 y Fj(\))45 b Ft(:max-height)1743 b Fr([)p Fs(Init)21
b(A)o(r)m(g)5 b Fr(])149 860 y(All)16 b(sub)r(classes)d(of)i
Ft(item-list-output-record)j Fr(m)n(ust)c(handle)h(these)f(initargs,)h(whic)n
(h)h(are)f(used)f(to)h(sp)r(ec-)149 926 y(ify)-5 b(,)16 b(resp)r(ectiv)n(ely)
-5 b(,)14 b(the)e Fn(x)i Fr(and)f Fn(y)j Fr(spacing,)d(the)g(initial)h
(spacing,)g(the)f(desired)f(n)n(um)n(b)r(er)g(of)h(ro)n(ws)h(and)f(columns,)
149 993 y(and)k(maxim)n(um)g(width)g(and)h(heigh)n(t)g(attributes)d(of)j(the)
g(item)f(list.)49 1126 y Fj(\))45 b Ft(standard-item-list-output-record)1200
b Fr([)p Fs(Class)5 b Fr(])149 1245 y(The)17 b(output)e(record)h(that)g
(represen)n(ts)f(item)h(list)i(output.)23 b(Its)17 b(c)n(hildren)g(will)i(b)r
(e)d(a)i(sequence)d(of)j(cells,)g(with)149 1311 y(presen)n(tations)d(p)r
(ossibly)j(in)n(terv)n(ening.)24 b(This)19 b(is)f(a)g(sub)r(class)f(of)h
Ft(item-list-output-record)p Fr(.)49 1444 y Fj(\))45 b Ft
(map-over-item-list-cells)30 b Fs(function)21 b(item-list-r)m(e)m(c)m(or)m(d)
531 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1563 y(Applies)g
Fs(function)h Fr(to)f(all)i(of)e(the)f(cells)i(in)g Fs(item-list-r)m(e)m(c)m
(or)m(d)p Fr(.)41 b Ft(map-over-item-list-cells)25 b Fr(m)n(ust)c(skip)149
1629 y(o)n(v)n(er)c(in)n(terv)n(ening)f(non-table)g(output)f(record)g
(structure,)g(suc)n(h)h(as)h(presen)n(tations.)22 b Fs(function)c
Fr(is)f(a)g(function)149 1696 y(of)e(one)f(argumen)n(t,)g(an)g(output)g
(record)f(corresp)r(onding)f(to)i(a)h(cell)h(in)f(the)g(item)f(list;)i(it)g
(has)e(dynamic)g(exten)n(t.)49 1829 y Fj(\))45 b Ft(adjust-item-list-cells)30
b Fs(item-list-r)m(e)m(c)m(or)m(d)23 b(str)m(e)m(am)628 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 1948 y(This)13 b(function)e(is)j
(called)e(after)g(the)g(item)g(list)h(output)e(has)i(b)r(een)e(collected,)i
(but)f(b)r(efore)f(the)h(record)f(has)i(b)r(een)149 2014 y(repla)n(y)n(ed.)24
b(The)17 b(metho)r(d)e(on)i Ft(standard-item-list-output-record)i
Fr(implemen)n(ts)c(the)i(usual)g(item)f(list)149 2080 y(la)n(y)n(out)h
(constrain)n(t)f(solv)n(er.)25 b Fs(item-list-r)m(e)m(c)m(or)m(d)c
Fr(is)d(the)e(item)h(list)g(output)f(record,)g(and)h Fs(str)m(e)m(am)i
Fr(is)f(the)f(stream)149 2147 y(on)h(whic)n(h)g(the)f(item)g(list)i(is)g
(displa)n(y)n(ed.)p eop
%%Page: 169 184
bop 149 691 a Fl(Chapter)46 b(18)149 1034 y Fq(Graph)52 b(F)-13
b(ormatting)149 1388 y Fr(CLIM)24 b(pro)n(vides)g(a)h(mec)n(hanism)d(for)j
(arranging)e(arbitrary)g(output)g(in)i(a)g(graph.)43 b(The)25
b(follo)n(wing)g(co)r(de)149 1455 y(pro)r(duces)15 b(the)j(graph)f(sho)n(wn)g
(in)i(Figure)f(18.1.)149 1643 y Ft(\(defun)29 b(graph-test)h(\(stream)f
(&optional)h(\(orientation)g(:horizontal\)\))207 1710 y(\(fresh-line)f
(stream\))207 1776 y(\(macrolet)g(\(\(make-node)h(\(&key)f(name)h(children\))
585 1842 y(`\(list*)f(,name)g(,children\)\)\))265 1909 y(\(flet)g
(\(\(node-name)h(\(node\))526 1975 y(\(car)g(node\)\))468 2042
y(\(node-children)g(\(node\))526 2108 y(\(cdr)g(node\)\)\))323
2174 y(\(let*)f(\(\(2a)h(\(make-node)f(:name)h("2A"\)\))526
2241 y(\(2b)g(\(make-node)f(:name)h("2B"\)\))526 2307 y(\(2c)g(\(make-node)f
(:name)h("2C"\)\))526 2374 y(\(1a)g(\(make-node)f(:name)h("1A")f(:children)h
(\(list)f(2a)g(2b\)\)\))526 2440 y(\(1b)h(\(make-node)f(:name)h("1B")f
(:children)h(\(list)f(2b)g(2c\)\)\))526 2507 y(\(root)h(\(make-node)f(:name)h
("0")f(:children)h(\(list)f(1a)g(1b\)\)\)\))381 2573 y
(\(format-graph-from-roots)439 2639 y(\(list)h(root\))439 2706
y(#'\(lambda)g(\(node)f(s\))555 2772 y(\(write-string)h(\(node-name)g(node\))
f(s\)\))439 2839 y(#'node-children)439 2905 y(:orientation)h(orientation)439
2971 y(:stream)g(stream\)\)\)\)\))1262 3632 y Fr(169)p eop
%%Page: 170 185
bop 149 16 a Fm(CHAPTER)16 b(18.)43 b(GRAPH)17 b(F)n(ORMA)-5
b(TTING)1201 b Fr(170)786 948 y(Figure)18 b(18.1:)24 b(Example)17
b(of)h(graph)f(formatting.)149 1125 y Fk(18.1)91 b(Graph)30
b(F)-8 b(ormatting)29 b(F)-8 b(unctions)49 1312 y Fj(\))45
b Ft(format-graph-from-roots)30 b Fs(r)m(o)m(ot-obje)m(cts)i(obje)m
(ct-printer)h(inferior-pr)m(o)m(duc)m(er)g Ft(&key)c Fs(str)m(e)m(am)i
(orienta-)149 1379 y(tion)15 b(cuto\013-depth)h(mer)m(ge-duplic)m(ates)i
(duplic)m(ate-key)f(duplic)m(ate-test)g(gener)m(ation-sep)m(ar)m(at)q(ion)h
(within-gener)m(ation-)149 1445 y(sep)m(ar)m(ation)k(c)m(enter-no)m(des)h(ar)
m(c-dr)m(awer)f(ar)m(c-dr)m(awing-options)h(gr)m(aph-typ)m(e)g(\(move-cursor)
f Ft(t)p Fs(\))47 b Fr([)p Fs(F)l(unction)t Fr(])149 1645 y(Dra)n(ws)20
b(a)g(graph)g(whose)f(ro)r(ots)g(are)g(sp)r(eci\014ed)g(b)n(y)i(the)e
(sequence)g Fs(r)m(o)m(ot-obje)m(cts)p Fr(.)34 b(The)20 b(no)r(des)f(of)h
(the)g(graph)149 1711 y(are)j(displa)n(y)n(ed)i(b)n(y)h(calling)e(the)g
(function)f Fs(obje)m(ct-printer)p Fr(,)31 b(whic)n(h)24 b(tak)n(es)h(t)n(w)n
(o)f(argumen)n(ts,)g(the)g(no)r(de)f(to)149 1777 y(displa)n(y)h(and)f(a)h
(stream.)39 b Fs(inferior-pr)m(o)m(duc)m(er)28 b Fr(is)c(a)g(function)e(of)i
(one)f(argumen)n(t)e(that)h(is)i(called)g(on)f(eac)n(h)149
1844 y(no)r(de)h(to)g(pro)r(duce)f(a)i(sequence)f(of)h(inferiors)f(\(or)h
Ft(nil)g Fr(if)h(there)e(are)g(none\).)45 b(Both)25 b Fs(obje)m(ct-printer)k
Fr(and)149 1910 y Fs(inferior-pr)m(o)m(duc)m(er)22 b Fr(ha)n(v)n(e)d(dynamic)
e(exten)n(t.)149 2043 y(The)e(output)f(from)g(graph)g(formatting)f(tak)n(es)i
(place)f(in)i(a)g(normalized)d(+)p Fn(y)r Fr(-do)n(wn)n(w)n(ard)j(co)r
(ordinate)d(system.)149 2109 y(The)j(graph)f(is)j(placed)d(so)i(that)e(the)h
(upp)r(er)f(left)i(corner)d(of)j(its)g(b)r(ounding)e(rectangle)f(is)j(at)f
(the)g(curren)n(t)f(text)149 2176 y(cursor)h(p)r(osition)h(of)i
Fs(str)m(e)m(am)p Fr(.)27 b(If)18 b(the)f(b)r(o)r(olean)g Fs(move-cursor)j
Fr(is)f Fm(true)e Fr(\(the)g(default\),)g(then)g(the)h(text)f(cursor)149
2242 y(will)i(b)r(e)f(mo)n(v)n(ed)f(so)h(that)f(it)i(immediately)d(follo)n
(ws)i(the)g(lo)n(w)n(er)g(righ)n(t)g(corner)f(of)h(the)f(graph.)149
2375 y(The)g(returned)f(v)m(alue)i(is)h(the)e(output)g(record)f(corresp)r
(onding)f(to)i(the)h(graph.)149 2508 y Fs(str)m(e)m(am)j Fr(is)g(an)e(output)
f(recording)g(stream)g(to)h(whic)n(h)h(output)e(will)j(b)r(e)e(done.)28
b(It)20 b(defaults)e(to)i Ft(*standard-)149 2574 y(output*)p
Fr(.)149 2707 y Fs(orientation)i Fr(ma)n(y)d(b)r(e)g(either)f
Ft(:horizontal)i Fr(\(the)e(default\))g(or)h Ft(:vertical)p
Fr(.)29 b(It)20 b(sp)r(eci\014es)d(whic)n(h)j(w)n(a)n(y)g(the)149
2774 y(graph)c(is)i(orien)n(ted.)24 b(CLIM)17 b(implemen)n(tations)d(are)j(p)
r(ermitted)e(to)i(extend)f(the)h(v)m(alues)g(of)h Fs(orientation)p
Fr(,)j(for)149 2840 y(example,)c(adding)g Ft(:right)i Fr(or)f
Ft(:left)h Fr(to)e(distinguish)h(b)r(et)n(w)n(een)e(left-to-righ)n(t)i(or)g
(righ)n(t-to-left)f(la)n(y)n(outs.)149 2973 y Fs(cuto\013-depth)h
Fr(sp)r(eci\014es)c(the)h(maxim)n(um)f(depth)h(of)h(the)f(graph.)23
b(It)15 b(defaults)g(to)h Ft(nil)p Fr(,)h(meaning)d(that)h(there)f(is)149
3039 y(no)f(cuto\013)f(depth.)22 b(Otherwise)11 b(it)j(m)n(ust)e(b)r(e)g(an)h
(in)n(teger,)h(meaning)d(that)h(no)h(no)r(des)f(deep)r(er)f(than)h
Fs(cuto\013-depth)149 3106 y Fr(will)19 b(b)r(e)f(formatted)c(or)k(displa)n
(y)n(ed.)149 3239 y(If)h(the)f(b)r(o)r(olean)f Fs(mer)m(ge-duplic)m(ates)23
b Fr(is)c Fm(true)p Fr(,)g(then)f(duplicate)f(ob)s(jects)g(in)j(the)e(graph)g
(will)i(share)e(the)g(same)149 3305 y(no)r(de)j(in)h(the)g(displa)n(y)h(of)f
(the)f(graph.)36 b(That)22 b(is,)i(when)d Fs(mer)m(ge-duplic)m(ate)q(s)26
b Fr(is)d Fm(true)p Fr(,)f(the)g(resulting)f(graph)149 3371
y(will)e(b)r(e)f(a)g(tree.)24 b(If)18 b Fs(mer)m(ge-duplic)m(ates)k
Fr(is)d Fm(false)f Fr(\(the)f(default\),)g(then)g(duplicate)g(ob)s(jects)g
(will)j(b)r(e)d(displa)n(y)n(ed)149 3438 y(in)i(separate)e(no)r(des.)27
b Fs(duplic)m(ate-key)22 b Fr(is)e(a)f(function)f(of)h(one)g(argumen)n(t)e
(that)h(is)i(used)e(to)h(extract)e(the)i(no)r(de)p eop
%%Page: 171 186
bop 149 16 a Fm(CHAPTER)16 b(18.)43 b(GRAPH)17 b(F)n(ORMA)-5
b(TTING)1201 b Fr(171)149 210 y(ob)s(ject)21 b(comp)r(onen)n(t)f(used)i(for)h
(duplicate)f(comparison;)h(the)g(default)f(is)h Ft(identity)p
Fr(.)41 b Fs(duplic)m(ate-test)26 b Fr(is)e(a)149 276 y(function)16
b(of)i(t)n(w)n(o)g(argumen)n(ts)d(that)h(is)i(used)f(to)g(compare)e(t)n(w)n
(o)j(ob)s(jects)e(to)h(see)g(if)i(they)e(are)g(duplicates;)f(the)149
342 y(default)h(is)h Ft(eql)p Fr(.)26 b Fs(duplic)m(ate-key)21
b Fr(and)c Fs(duplic)m(ate-test)22 b Fr(ha)n(v)n(e)c(dynamic)f(exten)n(t.)149
475 y Fs(gener)m(ation-sep)m(ar)m(at)q(ion)g Fr(is)d(the)e(amoun)n(t)f(of)i
(space)e(to)i(lea)n(v)n(e)h(b)r(et)n(w)n(een)d(successiv)n(e)h(generations)e
(of)j(the)f(graph;)149 542 y(the)k(default)h(is)h(20.)24 b
Fs(within-gener)m(ation-sep)m(ar)m(a)q(tion)e Fr(is)c(the)f(amoun)n(t)e(of)j
(space)e(to)h(lea)n(v)n(e)h(b)r(et)n(w)n(een)e(no)r(des)g(in)149
608 y(the)d(same)g(generation)g(of)h(the)g(graph;)h(the)e(default)h(is)h(10.)
23 b Fs(gener)m(ation-sep)m(ar)m(at)q(ion)c Fr(and)14 b Fs(within-gener)m
(ation-)149 674 y(sep)m(ar)m(ation)28 b Fr(are)c(sp)r(eci\014ed)g(in)i(the)e
(same)g(w)n(a)n(y)j(as)e(the)f Fs(inter-r)m(ow-sp)m(acing)29
b Fr(argumen)n(t)23 b(to)i Ft(formatting-)149 741 y(table)p
Fr(.)149 874 y(When)19 b Fs(c)m(enter-no)m(des)k Fr(is)d Fm(true)p
Fr(,)g(eac)n(h)f(no)r(de)f(of)i(the)f(graph)g(is)h(cen)n(tered)e(with)h(resp)
r(ect)e(to)j(the)f(widest)g(no)r(de)149 940 y(in)f(the)g(same)e(generation.)
23 b(The)17 b(default)g(is)i Fm(false)p Fr(.)149 1073 y Fs(ar)m(c-dr)m(awer)
27 b Fr(is)d(a)g(function)e(of)i(sev)n(en)g(p)r(ositional)f(and)g(some)f
(unsp)r(eci\014ed)g(k)n(eyw)n(ord)i(argumen)n(ts)d(that)i(is)149
1139 y(resp)r(onsible)12 b(for)i(dra)n(wing)h(the)e(arcs)h(from)f(one)h(no)r
(de)g(to)g(another;)g(it)g(has)h(dynamic)e(exten)n(t.)22 b(The)15
b(p)r(ositional)149 1206 y(argumen)n(ts)e(are)i(the)f(stream,)h(the)f
(\\from")g(no)r(de,)h(the)g(\\to")g(no)r(de,)g(the)f(\\from")g
Fn(x)i Fr(and)f Fn(y)j Fr(p)r(osition,)d(and)g(the)149 1272
y(\\to")20 b Fn(x)i Fr(and)f Fn(y)j Fr(p)r(osition.)35 b(The)21
b(k)n(eyw)n(ord)h(argumen)n(ts)d(gotten)h(from)g Fs(ar)m(c-dr)m
(awing-options)26 b Fr(are)21 b(t)n(ypically)149 1339 y(line)e(dra)n(wing)f
(options,)g(suc)n(h)g(as)g(for)g Ft(draw-line*)p Fr(.)27 b(If)19
b Fs(ar)m(c-dr)m(awer)i Fr(is)e(unsupplied,)f(the)g(default)f(b)r(eha)n(vior)
149 1405 y(is)h(to)g(dra)n(w)g(a)g(thin)g(line)g(from)f(the)h(\\from")e(no)r
(de)h(to)g(the)h(\\to")f(no)r(de)f(using)i Ft(draw-line*)p
Fr(.)149 1538 y Fs(gr)m(aph-typ)m(e)e Fr(is)e(a)g(k)n(eyw)n(ord)g(that)e(sp)r
(eci\014es)g(the)g(t)n(yp)r(e)h(of)h(graph)e(to)h(dra)n(w.)23
b(All)14 b(CLIM)f(implemen)n(tations)e(m)n(ust)149 1604 y(supp)r(ort)j
(graphs)h(of)h(t)n(yp)r(e)f Ft(:tree)p Fr(,)j Ft(:directed-graph)f
Fr(\(and)f(its)g(synon)n(ym)g Ft(:digraph)p Fr(\),)h(and)f
Ft(:directed-)149 1671 y(acyclic-graph)f Fr(\(and)e(its)i(synon)n(ym)e
Ft(:dag)p Fr(\).)24 b Fs(gr)m(aph-typ)m(e)17 b Fr(defaults)c(to)h
Ft(:digraph)h Fr(when)e Fs(mer)m(ge-duplic)m(ate)q(s)149 1737
y Fr(is)18 b Fm(true)p Fr(,)g(otherwise)e(it)j(defaults)d(to)i
Ft(:tree)p Fr(.)25 b(T)n(ypically)-5 b(,)21 b(di\013eren)n(t)c(graph)g(t)n
(yp)r(es)h(will)h(use)f(di\013eren)n(t)f(output)149 1804 y(record)g(classes)i
(and)g(la)n(y)n(out)h(engines)e(to)h(la)n(y)i(out)e(the)f(graph.)28
b(Ho)n(w)n(ev)n(er,)20 b(it)g(is)g(p)r(ermissible)e(for)h(all)h(of)f(the)149
1870 y(required)e(graph)g(t)n(yp)r(es)g(to)h(use)f(exactly)h(the)f(same)g
(graph)g(la)n(y)n(out)i(engine.)149 2119 y Fk(18.2)91 b(The)31
b(Graph)e(F)-8 b(ormatting)29 b(Proto)s(cols)149 2307 y Fr(Graph)13
b(formatting)e(is)j(implemen)n(ted)d(on)i(top)g(of)h(the)f(basic)g(output)f
(recording)g(proto)r(col,)g(using)i Ft(with-new-)149 2374 y(output-record)19
b Fr(to)e(sp)r(ecify)h(the)f(appropriate)e(t)n(yp)r(e)j(of)g(output)e
(record.)23 b(F)-5 b(or)18 b(example,)f Ft(format-graph-)149
2440 y(from-roots)f Fr(\014rst)f(collects)g(all)i(the)e(output)f(that)h(b)r
(elongs)f(in)i(the)f(graph)g(in)n(to)h(a)g(collection)e(of)i(graph)f(no)r(de)
149 2506 y(output)22 b(records)f(b)n(y)k(calling)f Ft(generate-graph-nodes)p
Fr(.)42 b(All)24 b(of)g(the)f(graph)f(no)r(de)h(output)e(records)h(are)149
2573 y(descenden)n(ts)d(of)j(a)h(single)f(graph)f(output)f(record.)35
b(During)22 b(this)g(phase,)h Ft(stream-drawing-p)g Fr(is)g(b)r(ound)149
2639 y(to)c Ft(nil)i Fr(and)f Ft(stream-recording-p)h Fr(is)g(b)r(ound)e(to)g
Ft(t)p Fr(.)31 b(When)20 b(all)h(the)e(output)g(has)g(b)r(een)g(generated,)f
(the)149 2706 y(graph)j(la)n(y)n(out)i(co)r(de)e(\()p Ft(layout-graph-nodes)i
Fr(and)f Ft(layout-graph-edges)p Fr(\))h(is)g(called)f(to)g(compute)d(the)149
2772 y(graph)g(la)n(y)n(out.)30 b(Finally)-5 b(,)23 b(the)c(graph)g(output)f
(record)h(is)h(p)r(ositioned)e(on)i(the)f(stream)f(at)i(the)f(curren)n(t)f
(text)149 2838 y(cursor)e(p)r(osition)h(and)h(then)f(displa)n(y)n(ed)i(b)n(y)
g(calling)f Ft(replay)h Fr(on)e(the)h(graph)f(output)f(record.)49
2971 y Fj(\))45 b Ft(graph-output-record)1362 b Fr([)p Fs(Pr)m(oto)m(c)m(ol)
23 b(Class)5 b Fr(])149 3090 y(The)14 b(proto)r(col)f(class)i(that)f
(represen)n(ts)f(a)i(graph;)g(a)g(sub)r(class)f(of)h Ft(output-record)p
Fr(.)25 b(If)15 b(y)n(ou)h(w)n(an)n(t)f(to)f(create)g(a)149
3157 y(new)d(class)h(that)f(b)r(eha)n(v)n(es)g(lik)n(e)i(a)f(graph)f(output)f
(record,)i(it)g(should)g(b)r(e)f(a)h(sub)r(class)e(of)i Ft
(graph-output-record)p Fr(.)149 3223 y(Sub)r(classes)k(of)i
Ft(graph-output-record)h Fr(m)n(ust)e(ob)r(ey)h(the)f(graph)g(output)f
(record)h(proto)r(col.)49 3356 y Fj(\))45 b Ft(graph-output-record-p)30
b Fs(obje)m(ct)1269 b Fr([)p Fs(F)l(unction)t Fr(])p eop
%%Page: 172 187
bop 149 16 a Fm(CHAPTER)16 b(18.)43 b(GRAPH)17 b(F)n(ORMA)-5
b(TTING)1201 b Fr(172)149 210 y(Returns)16 b Fm(true)h Fr(if)i
Fs(obje)m(ct)h Fr(is)f(a)f Fm(graph)f(output)g(record)p Fr(,)f(otherwise)h
(returns)f Fm(false)p Fr(.)49 342 y Fj(\))45 b Ft
(standard-graph-output-record)1316 b Fr([)p Fs(Class)5 b Fr(])149
461 y(The)18 b(instan)n(tiable)h(class)f(of)h(output)f(record)f(that)h
(represen)n(ts)f(a)i(graph.)27 b(Its)18 b(c)n(hildren)h(will)i(b)r(e)d(a)h
(sequence)149 528 y(graph)e(no)r(des.)23 b(This)18 b(is)h(a)f(sub)r(class)f
(of)h Ft(graph-output-record)p Fr(.)49 661 y Fj(\))45 b Ft(:orientation)1714
b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])49 727 y Fj(\))45
b Ft(:center-nodes)1685 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b
Fr(])49 793 y Fj(\))45 b Ft(:cutoff-depth)1685 b Fr([)p Fs(Init)21
b(A)o(r)m(g)5 b Fr(])49 860 y Fj(\))45 b Ft(:merge-duplicates)1569
b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])49 926 y Fj(\))45
b Ft(:generation-separation)1424 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5
b Fr(])49 993 y Fj(\))45 b Ft(:within-generation-separation)1221
b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])49 1059 y Fj(\))45
b Ft(:hash-table)1743 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])149
1178 y(All)18 b(the)e(graph)g(output)g(record)f(m)n(ust)i(handle)f(these)g
(sev)n(en)h(initargs,)g(whic)n(h)h(are)e(used)h(to)g(sp)r(ecify)-5
b(,)17 b(resp)r(ec-)149 1245 y(tiv)n(ely)-5 b(,)25 b(the)c(orien)n(tation,)h
(no)r(de)e(cen)n(tering,)i(cuto\013)f(depth,)i(merge)d(duplicates,)i
(generation)d(and)j(within-)149 1311 y(generation)15 b(spacing,)j(and)g(the)f
(no)r(de)g(hash)g(table)g(of)h(a)h(graph)e(output)f(record.)49
1444 y Fj(\))45 b Ft(define-graph-type)30 b Fs(gr)m(aph-typ)m(e)22
b(class)1202 b Fr([)p Fs(Macr)m(o)s Fr(])149 1563 y(De\014nes)22
b(a)i(new)f(graph)g(t)n(yp)r(e)g(named)f(b)n(y)i(the)f(sym)n(b)r(ol)g
Fs(gr)m(aph-typ)m(e)k Fr(that)22 b(is)j(implemen)n(ted)c(b)n(y)j(the)f(class)
149 1629 y Fs(class)p Fr(.)h Fs(class)16 b Fr(m)n(ust)f(b)r(e)f(a)i(sub)r
(class)e(of)h Ft(graph-output-record)p Fr(.)26 b(Neither)14
b(of)h(the)g(argumen)n(ts)e(is)j(ev)m(aluated.)149 1762 y(All)i(CLIM)e
(implemen)n(tations)e(m)n(ust)j(supp)r(ort)e(graphs)h(of)h(t)n(yp)r(e)g
Ft(:tree)p Fr(,)h Ft(:directed-graph)g Fr(\(and)f(its)g(syn-)149
1829 y(on)n(ym)g Ft(:digraph)p Fr(\),)i(and)f Ft(:directed-acyclic-graph)i
Fr(\(and)d(its)h(synon)n(ym)f Ft(:dag)p Fr(\).)49 1961 y Fj(\))45
b Ft(graph-root-nodes)30 b Fs(gr)m(aph-r)m(e)m(c)m(or)m(d)1049
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2080 y(Returns)17
b(a)i(sequence)e(of)i(the)f(graph)g(no)r(de)g(output)f(records)g(corresp)r
(onding)f(to)j(the)f(ro)r(ot)f(ob)s(jects)h(for)g(the)149 2147
y(graph)f(output)f(record)h Fs(gr)m(aph-r)m(e)m(c)m(or)m(d)p
Fr(.)49 2280 y Fj(\))45 b Ft(\(setf)29 b(graph-root-nodes\))h
Fs(r)m(o)m(ots)21 b(gr)m(aph-r)m(e)m(c)m(or)m(d)711 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 2399 y(Sets)17 b(the)g(ro)r(ot)g(no)r
(des)f(of)i Fs(gr)m(aph-r)m(e)m(c)m(or)n(d)k Fr(to)c Fs(r)m(o)m(ots)p
Fr(.)49 2531 y Fj(\))45 b Ft(generate-graph-nodes)30 b Fs(gr)m(aph-r)m(e)m(c)
m(or)m(d)g(str)m(e)m(am)e(r)m(o)m(ot-obje)m(cts)h(obje)m(ct-printer)h
(inferior-pr)m(o)m(duc)m(er)g Ft(&key)149 2598 y Fs(duplic)m(ate-key)22
b(duplic)m(ate-test)1189 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 2717 y(This)g(function)f(is)h(resp)r(onsible)e(for)i(generating)e
(all)j(of)f(the)f(graph)g(no)r(de)f(output)h(records)f(of)i(the)f(graph.)149
2783 y Fs(gr)m(aph-r)m(e)m(c)m(or)m(d)d Fr(is)c(the)f(graph)g(output)e
(record,)j(and)f Fs(str)m(e)m(am)i Fr(is)g(the)d(output)g(stream.)21
b(The)14 b(graph)e(no)r(de)g(output)149 2850 y(records)h(are)h(generating)f
(b)n(y)j(calling)g(the)e(ob)s(ject)g(prin)n(ter)g(on)h(the)f(ro)r(ot)g(ob)s
(jects,)g(then)g(\(recursiv)n(ely\))g(calling)149 2916 y(the)21
b(inferior)g(pro)r(ducer)e(on)j(the)f(ro)r(ot)f(ob)s(jects)h(and)g(calling)h
(the)f(ob)s(ject)f(prin)n(ter)h(on)h(all)h(inferiors.)35 b(After)149
2983 y(all)22 b(of)g(the)g(graph)f(no)r(de)f(output)g(records)h(ha)n(v)n(e)h
(b)r(een)f(generated,)f(the)i(v)m(alue)f(of)h Ft(graph-root-nodes)i
Fr(of)149 3049 y Fs(gr)m(aph-r)m(e)m(c)m(or)m(d)18 b Fr(m)n(ust)13
b(b)r(e)g(set)g(to)g(b)r(e)g(a)h(sequence)e(of)i(the)f(those)f(graph)h(no)r
(de)f(output)g(records)g(that)h(corresp)r(ond)149 3115 y(to)k(the)h(ro)r(ot)e
(ob)s(jects.)149 3248 y Fs(r)m(o)m(ot-obje)m(cts)p Fr(,)j Fs(obje)m
(ct-printer)p Fr(,)h Fs(inferior-pr)m(o)m(duc)m(er)p Fr(,)g
Fs(duplic)m(ate-key)p Fr(,)f(and)14 b Fs(duplic)m(ate-test)j
Fr(are)d(as)h(for)f Ft(format-)149 3315 y(graph-from-roots)p
Fr(.)49 3447 y Fj(\))45 b Ft(layout-graph-nodes)30 b Fs(gr)m(aph-r)m(e)m(c)m
(or)m(d)24 b(str)m(e)m(am)811 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])p eop
%%Page: 173 188
bop 149 16 a Fm(CHAPTER)16 b(18.)43 b(GRAPH)17 b(F)n(ORMA)-5
b(TTING)1201 b Fr(173)149 210 y(This)16 b(function)f(is)i(resp)r(onsible)d
(for)i(la)n(ying)h(out)e(the)g(no)r(des)g(in)i(the)e(graph)g(con)n(tained)g
(in)h(the)g(output)e(record)149 276 y Fs(gr)m(aph-r)m(e)m(c)m(or)m(d)p
Fr(.)29 b(It)18 b(is)g(called)g(after)e(the)h(graph)g(output)f(has)h(b)r(een)
g(collected,)f(but)i(b)r(efore)e(the)h(graph)f(record)149 342
y(has)24 b(b)r(een)g(displa)n(y)n(ed.)46 b(The)25 b(metho)r(d)e(on)h
Ft(standard-graph-output-record)k Fr(implemen)n(ts)22 b(the)j(usual)149
409 y(graph)17 b(la)n(y)n(out)h(constrain)n(t)f(solv)n(er.)24
b Fs(str)m(e)m(am)d Fr(is)d(the)f(stream)f(on)i(whic)n(h)h(the)e(graph)g(is)i
(displa)n(y)n(ed.)49 542 y Fj(\))45 b Ft(layout-graph-edges)30
b Fs(gr)m(aph-r)m(e)m(c)m(or)m(d)24 b(str)m(e)m(am)e(ar)m(c-dr)m(awer)g(ar)m
(c-dr)m(awing-options)41 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 661 y(This)f(function)f(is)i(resp)r(onsible)d(for)i(la)n(ying)i(out)
d(the)h(edges)f(in)i(the)e(graph.)33 b(It)21 b(is)h(called)f(after)f(the)h
(graph)149 727 y(no)r(des)g(ha)n(v)n(e)j(b)r(een)d(la)n(y)n(ed)j(out,)g(but)e
(b)r(efore)f(the)h(graph)g(record)f(has)i(b)r(een)e(displa)n(y)n(ed.)40
b(The)23 b(metho)r(d)d(on)149 793 y Ft(standard-graph-output-record)g
Fr(simply)e(causes)e(thin)i(lines)g(to)g(b)r(e)f(dra)n(wn)h(from)e(eac)n(h)i
(no)r(de)e(to)i(all)h(of)149 860 y(its)f(c)n(hildren.)24 b
Fs(gr)m(aph-r)m(e)m(c)m(or)m(d)f Fr(and)18 b Fs(str)m(e)m(am)i
Fr(are)d(as)h(for)g Ft(layout-graph-nodes)p Fr(.)49 993 y Fj(\))45
b Ft(graph-node-output-record)1217 b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23
b(Class)5 b Fr(])149 1112 y(The)19 b(proto)r(col)f(class)i(that)f(represen)n
(ts)e(a)j(no)r(de)f(in)i(graph;)f(a)g(sub)r(class)e(of)i Ft(output-record)p
Fr(.)32 b(If)20 b(y)n(ou)g(w)n(an)n(t)149 1178 y(to)g(create)f(a)h(new)h
(class)f(that)f(b)r(eha)n(v)n(es)h(lik)n(e)i(a)f(graph)f(no)r(de)f(output)g
(record,)h(it)h(should)f(b)r(e)g(a)g(sub)r(class)g(of)149 1245
y Ft(graph-node-output-record)p Fr(.)33 b(Sub)r(classes)18
b(of)i Ft(graph-node-output-record)i Fr(m)n(ust)e(ob)r(ey)f(the)h(graph)149
1311 y(no)r(de)c(output)h(record)f(proto)r(col.)49 1444 y Fj(\))45
b Ft(graph-node-output-record-p)30 b Fs(obje)m(ct)1124 b Fr([)p
Fs(F)l(unction)t Fr(])149 1563 y(Returns)16 b Fm(true)h Fr(if)i
Fs(obje)m(ct)h Fr(is)f(a)f Fm(graph)f(no)r(de)g(output)f(record)p
Fr(,)h(otherwise)g(returns)f Fm(false)p Fr(.)49 1696 y Fj(\))45
b Ft(standard-graph-node-output-record)1171 b Fr([)p Fs(Class)5
b Fr(])149 1815 y(The)17 b(instan)n(tiable)g(class)g(of)g(output)f(record)g
(that)h(represen)n(ts)e(a)j(graph)e(no)r(de.)23 b(Its)18 b(paren)n(t)e(will)j
(b)r(e)e(a)h(graph)149 1881 y(output)e(record.)23 b(This)18
b(is)h(a)f(sub)r(class)f(of)h Ft(graph-node-output-record)p
Fr(.)49 2014 y Fj(\))45 b Ft(graph-node-parents)30 b Fs(gr)m(aph-no)m(de-r)m
(e)m(c)m(o)q(r)m(d)861 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 2133 y(Returns)16 b(a)i(sequence)e(of)i(the)f(graph)g(no)r(de)g
(output)f(records)g(whose)h(ob)s(jects)g(are)g(\\paren)n(ts")f(of)i(the)f(ob)
s(ject)149 2199 y(corresp)r(onding)11 b(to)j(the)g(graph)g(no)r(de)f(output)g
(record)g Fs(gr)m(aph-no)m(de-r)m(e)m(c)n(or)m(d)q Fr(.)28
b(Note)13 b(that)g(this)i(is)g(not)f(the)g(same)149 2266 y(as)19
b Ft(output-record-parent)p Fr(,)j(since)d Ft(graph-node-parents)h
Fr(can)f(return)f(output)g(records)f(that)i(are)f(not)149 2332
y(the)f(paren)n(t)g(records)f(of)i Fs(gr)m(aph-no)m(de-r)m(e)m(c)n(or)n(d)p
Fr(.)49 2465 y Fj(\))45 b Ft(\(setf)29 b(graph-node-parents\))h
Fs(p)m(ar)m(ents)22 b(gr)m(aph-no)m(de-r)m(e)m(c)m(o)q(r)m(d)466
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2584 y(Sets)14
b(the)h(paren)n(ts)f(of)h Fs(gr)m(aph-no)m(de-r)m(e)m(c)m(o)q(r)m(d)20
b Fr(to)15 b(b)r(e)g Fs(p)m(ar)m(ents)p Fr(.)26 b Fs(p)m(ar)m(ents)17
b Fr(m)n(ust)e(b)r(e)f(a)i(list)f(of)h(graph)e(no)r(de)g(records.)49
2717 y Fj(\))45 b Ft(graph-node-children)30 b Fs(gr)m(aph-no)m(de-r)m(e)m(c)m
(o)q(r)m(d)832 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
2836 y(Returns)15 b(a)i(sequence)e(of)i(the)f(graph)g(no)r(de)g(output)f
(records)g(whose)h(ob)s(jects)g(are)g(\\c)n(hildren")g(of)h(the)f(ob)s(ject)
149 2902 y(corresp)r(onding)11 b(to)j(the)g(graph)g(no)r(de)f(output)g
(record)g Fs(gr)m(aph-no)m(de-r)m(e)m(c)n(or)m(d)q Fr(.)28
b(Note)13 b(that)g(this)i(is)g(not)f(the)g(same)149 2969 y(as)20
b Ft(output-record-children)p Fr(,)k(since)c Ft(graph-node-children)i
Fr(can)e(return)g(output)f(records)g(that)g(are)149 3035 y(not)e(c)n(hild)i
(records)d(of)i Fs(gr)m(aph-no)m(de-r)m(e)m(c)n(or)m(d)q Fr(.)49
3168 y Fj(\))45 b Ft(\(setf)29 b(graph-node-children\))h Fs(childr)m(en)22
b(gr)m(aph-no)m(de-r)m(e)m(c)n(or)n(d)418 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 3287 y(Sets)h(the)h(c)n(hildren)h(of)g
Fs(gr)m(aph-no)m(de-r)m(e)m(c)m(or)n(d)k Fr(to)c(b)r(e)e Fs(childr)m(en)p
Fr(.)48 b Fs(childr)m(en)27 b Fr(m)n(ust)d(b)r(e)g(a)g(list)i(of)e(graph)g
(no)r(de)149 3353 y(records.)p eop
%%Page: 174 189
bop 149 16 a Fm(CHAPTER)16 b(18.)43 b(GRAPH)17 b(F)n(ORMA)-5
b(TTING)1201 b Fr(174)49 210 y Fj(\))45 b Ft(graph-node-object)30
b Fs(gr)m(aph-no)m(de-r)m(e)m(c)m(o)q(r)m(d)890 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 329 y(Returns)d(the)i(ob)s(ject)e(that)h(corresp)r
(onds)e(to)j(the)g(graph)f(no)r(de)g(output)f(record)h Fs(gr)m(aph-no)m(de-r)
m(e)m(c)m(o)q(r)m(d)p Fr(.)39 b(It)21 b(is)149 395 y(p)r(ermissible)f(for)h
(this)h(function)e(to)h(w)n(ork)h(correctly)e(only)i(while)h(inside)e(of)h
(the)f(call)h(to)f Ft(format-graph-)149 461 y(from-roots)p
Fr(.)i(It)13 b(is)g(unsp)r(eci\014ed)d(what)i(result)g(will)i(b)r(e)e
(returned)e(outside)i(of)h Ft(format-graph-from-roots)p Fr(.)149
528 y(This)21 b(restriction)e(is)i(p)r(ermitted)d(so)i(that)g(CLIM)g(is)i
(not)e(required)g(to)g(capture)f(application)h(ob)s(jects)f(that)149
594 y(migh)n(t)e(ha)n(v)n(e)i(dynamic)e(exten)n(t.)p eop
%%Page: 175 190
bop 149 691 a Fl(Chapter)46 b(19)149 1034 y Fq(Bordered)52
b(Output)149 1388 y Fr(CLIM)17 b(pro)n(vides)g(a)h(mec)n(hanism)d(for)i
(surrounding)f(arbitrary)g(output)g(with)i(some)e(kind)i(of)g(a)f(b)r(order.)
23 b(The)149 1455 y(programmer)14 b(annotates)h(some)i(output-generating)d
(co)r(de)j(with)h(an)g(advisory)g(macro)e(that)h(describ)r(es)f(the)149
1521 y(t)n(yp)r(e)h(of)h(b)r(order)e(to)i(b)r(e)f(dra)n(wn.)25
b(The)17 b(follo)n(wing)i(co)r(de)e(pro)r(duces)e(the)j(output)e(sho)n(wn)i
(in)h(Figure)e(19.1.)149 1654 y(F)-5 b(or)19 b(example,)f(the)g(follo)n(wing)
i(pro)r(duces)c(three)i(pieces)g(of)g(output,)g(surrounded)f(b)n(y)i(a)g
(rectangular,)e(high-)149 1721 y(ligh)n(ted)h(with)g(a)g(dropshado)n(w,)f
(and)g(underlined,)g(resp)r(ectiv)n(ely)-5 b(.)149 1909 y Ft(\(defun)29
b(border-test)h(\(stream\))207 1975 y(\(fresh-line)f(stream\))207
2042 y(\(surrounding-output-with-border)i(\(stream)e(:shape)h(:rectangle\))
265 2108 y(\(format)f(stream)h("This)f(is)g(some)h(output)f(with)g(a)g
(rectangular)h(border"\)\))207 2174 y(\(terpri)f(stream\))h(\(terpri)f
(stream\))207 2241 y(\(surrounding-output-with-border)i(\(stream)e(:shape)h
(:drop-shadow\))265 2307 y(\(format)f(stream)h("This)f(has)g(a)g(drop-shadow)
h(under)g(it"\)\))207 2374 y(\(terpri)f(stream\))h(\(terpri)f(stream\))207
2440 y(\(surrounding-output-with-border)i(\(stream)e(:shape)h(:underline\))
265 2507 y(\(format)f(stream)h("And)f(this)g(output)h(is)f(underlined"\)\)\))
784 3379 y Fr(Figure)18 b(19.1:)24 b(Examples)17 b(of)h(b)r(ordered)d
(output.)1262 3632 y(175)p eop
%%Page: 176 191
bop 149 16 a Fm(CHAPTER)16 b(19.)43 b(BORDERED)18 b(OUTPUT)1228
b Fr(176)49 210 y Fj(\))45 b Ft(surrounding-output-with-border)30
b Fs(\()p Ft(&optional)g Fs(str)m(e)m(am)16 b Ft(&key)29 b
Fs(shap)m(e)15 b(\(move-cursor)h Ft(t)p Fs(\)\))d Ft(&body)30
b Fs(b)m(o)m(dy)149 276 y Fr([)p Fs(Macr)m(o)s Fr(])149 395
y(Binds)17 b(the)g(lo)r(cal)g(en)n(vironmen)n(t)e(in)j(suc)n(h)f(a)g(w)n(a)n
(y)i(the)d(output)g(of)h Fs(b)m(o)m(dy)i Fr(will)g(b)r(e)d(surrounded)f(b)n
(y)j(a)f(b)r(order)f(of)149 461 y(the)i(sp)r(eci\014ed)f(shap)r(e.)27
b(Ev)n(ery)19 b(implemen)n(tation)d(m)n(ust)j(supp)r(ort)e(the)h(shap)r(es)g
Ft(:rectangle)i Fr(\(the)e(default\),)149 528 y Ft(:oval)p
Fr(,)24 b Ft(:drop-shadow)p Fr(,)g(and)e Ft(:underline)p Fr(.)37
b Ft(:rectangle)23 b Fr(dra)n(ws)f(a)g(rectangle)e(around)h(the)g(b)r
(ounding)149 594 y(rectangle)h(of)i(the)f(output.)41 b Ft(:oval)25
b Fr(dra)n(ws)f(an)g(o)n(v)m(al)h(around)d(the)i(b)r(ounding)e(rectangle)g
(of)i(the)g(output.)149 661 y Ft(:drop-shadow)18 b Fr(dra)n(ws)f(a)g(\\drop)f
(shado)n(w")g(around)f(the)i(lo)n(w)n(er)g(righ)n(t)g(edge)f(of)h(the)f(b)r
(ounding)g(rectangle)f(of)149 727 y(the)g(output.)23 b Ft(:underline)17
b Fr(dra)n(ws)f(a)g(thin)h(line)f(along)g(the)g(baseline)f(of)i(all)g(of)f
(the)g(text)f(in)i(the)f(output,)f(but)149 793 y(do)r(es)i(not)g(dra)n(w)h
(an)n(ything)g(underneath)d(non-textual)i(output.)149 926 y(If)k(the)e(b)r(o)
r(olean)g Fs(move-cursor)k Fr(is)e Fm(true)f Fr(\(the)f(default\),)h(then)g
(the)f(text)h(cursor)f(will)j(b)r(e)e(mo)n(v)n(ed)g(so)h(that)e(it)149
993 y(immediately)d(follo)n(ws)j(the)e(lo)n(w)n(er)i(righ)n(t)f(corner)e(of)i
(the)f(b)r(ordered)f(output.)149 1126 y Fs(str)m(e)m(am)24
b Fr(is)g(an)e(output)f(recording)g(stream)g(to)h(whic)n(h)h(output)e(will)j
(b)r(e)e(done.)38 b(The)22 b Fs(str)m(e)m(am)j Fr(argumen)n(t)20
b(is)149 1192 y(not)h(ev)m(aluated,)g(and)g(m)n(ust)g(b)r(e)g(a)h(sym)n(b)r
(ol)f(that)f(is)j(b)r(ound)d(to)h(a)h(stream.)33 b(If)22 b
Fs(str)m(e)m(am)i Fr(is)e Ft(t)g Fr(\(the)f(default\),)149
1258 y Ft(*standard-output*)e Fr(is)g(used.)24 b Fs(b)m(o)m(dy)19
b Fr(ma)n(y)f(ha)n(v)n(e)h(zero)e(or)h(more)e(declarations)g(as)i(its)g
(\014rst)g(forms.)149 1391 y(There)25 b(are)h(sev)n(eral)h(strategies)d(for)i
(implemen)n(ting)e(b)r(orders.)48 b(One)27 b(strategy)d(is)j(to)g(create)d(a)
j(\\b)r(order)149 1458 y(output)20 b(record")g(that)h(con)n(tains)h(the)f
(output)g(records)f(pro)r(duced)g(b)n(y)j(the)e(output)g(of)h
Fs(b)m(o)m(dy)p Fr(,)j(plus)d(one)g(or)149 1524 y(more)14 b(output)g(records)
g(that)h(represen)n(t)e(the)i(b)r(order.)22 b(Another)14 b(strategy)g(migh)n
(t)h(b)r(e)g(to)g(arrange)f(to)h(call)h(the)149 1591 y(b)r(order)g(dra)n(w)n
(er)i(at)f(the)h(approriate)d(times)i(without)g(explicitly)i(recording)d(it.)
49 1723 y Fj(\))45 b Ft(define-border-type)30 b Fs(shap)m(e)21
b(ar)m(glist)g Ft(&body)29 b Fs(b)m(o)m(dy)960 b Fr([)p Fs(Macr)m(o)s
Fr(])149 1842 y(De\014nes)19 b(a)i(new)f(kind)h(of)f(b)r(order)f(named)f
Fs(shap)m(e)p Fr(.)33 b Fs(ar)m(glist)23 b Fr(m)n(ust)c(b)r(e)h(a)g(subset)f
(of)i(the)e(\\canonical")g(arglist)149 1909 y(b)r(elo)n(w)f(\(using)f
Ft(string-equal)i Fr(to)f(do)g(the)f(comparison\):)149 1975
y Fs(\()p Ft(&key)29 b Fs(str)m(e)m(am)21 b(r)m(e)m(c)m(or)m(d)i(left)e(top)f
(right)i(b)m(ottom\))149 2174 y(b)m(o)m(dy)e Fr(is)g(the)e(co)r(de)g(that)g
(actually)g(dra)n(ws)h(the)f(b)r(order.)26 b(It)19 b(has)f(lexical)i(access)d
(to)i Ft(stream)p Fr(,)h Ft(record)p Fr(,)h Ft(left)p Fr(,)149
2241 y Ft(top)p Fr(,)f Ft(right)p Fr(,)g(and)f Ft(bottom)p
Fr(,)i(whic)n(h)e(are)g(resp)r(ectiv)n(ely)-5 b(,)18 b(the)h(stream)e(b)r
(eing)h(dra)n(wn)h(on,)g(the)g(output)e(record)149 2307 y(b)r(eing)f
(surrounded,)g(and)g(the)h(co)r(ordinates)d(of)k(the)e(left,)i(top,)f(righ)n
(t,)h(and)f(b)r(ottom)d(edges)i(of)i(the)e(b)r(ounding)149
2374 y(rectangle)g(of)i(the)f(record.)23 b Fs(b)m(o)m(dy)d
Fr(ma)n(y)e(ha)n(v)n(e)g(zero)f(or)h(more)e(declarations)g(as)i(its)h
(\014rst)e(forms.)p eop
%%Page: 177 192
bop 149 691 a Fl(Chapter)46 b(20)149 1034 y Fq(T)-13 b(ext)51
b(F)-13 b(ormatting)149 1422 y Fk(20.1)91 b(T)-8 b(extual)30
b(List)g(F)-8 b(ormatting)49 1609 y Fj(\))45 b Ft(format-textual-list)30
b Fs(se)m(quenc)m(e)22 b(printer)f Ft(&key)30 b Fs(str)m(e)m(am)21
b(sep)m(ar)m(ator)i(c)m(onjunction)209 b Fr([)p Fs(F)l(unction)t
Fr(])149 1728 y(Outputs)17 b(the)h(sequence)f(of)i(items)f(in)h
Fs(se)m(quenc)m(e)j Fr(as)c(a)h(\\textual)f(list".)27 b(F)-5
b(or)19 b(example,)f(the)g(list)i Ft(\(1)29 b(2)g(3)g(4\))149
1795 y Fr(migh)n(t)17 b(b)r(e)g(prin)n(ted)h(as)149 1972 y
Ft(1,)29 b(2,)g(3,)g(and)g(4)149 2149 y Fs(printer)18 b Fr(is)f(a)f(function)
f(of)h(t)n(w)n(o)g(argumen)n(ts:)21 b(an)16 b(elemen)n(t)f(of)h(the)f
(sequence)g(and)g(a)i(stream;)e(it)h(has)g(dynamic)149 2215
y(exten)n(t.)23 b(It)18 b(is)h(called)f(to)f(output)g(eac)n(h)g(elemen)n(t)g
(of)h(the)f(sequence.)149 2348 y Fs(str)m(e)m(am)j Fr(sp)r(eci\014es)c(the)h
(output)g(stream.)22 b(The)c(default)f(is)i Ft(*standard-output*)p
Fr(.)149 2481 y(The)g Fs(sep)m(ar)m(ator)k Fr(and)c Fs(c)m(onjunction)j
Fr(argumen)n(ts)17 b(pro)n(vide)j(con)n(trol)f(o)n(v)n(er)h(the)f(app)r
(earance)d(of)k(eac)n(h)f(elemen)n(t)149 2547 y(of)c(the)h(sequence)e(and)h
(o)n(v)n(er)h(the)g(separators)d(used)i(b)r(et)n(w)n(een)f(eac)n(h)i(pair)f
(of)h(elemen)n(ts.)22 b Fs(sep)m(ar)m(ator)d Fr(is)d(a)g(string)149
2614 y(that)k(is)i(output)e(after)h(ev)n(ery)h(elemen)n(t)e(but)h(the)g(last)
g(one;)i(the)e(default)g(for)g Fs(sep)m(ar)m(ator)k Fr(is)d
Ft(",)29 b(")23 b Fr(\(that)d(is,)149 2680 y(a)h(comma)e(follo)n(w)n(ed)k(b)n
(y)f(a)g(space\).)33 b Fs(c)m(onjunction)24 b Fr(is)e(a)g(string)f(that)f(is)
i(output)e(b)r(efore)g(the)g(last)i(elemen)n(t.)149 2747 y(The)16
b(default)g(is)h Ft(nil)p Fr(,)h(meaning)c(that)i(there)f(is)i(no)g
(conjunction.)k(T)n(ypical)d(v)m(alues)e(for)g Fs(c)m(onjunction)j
Fr(are)d(the)149 2813 y(strings)h Ft("and")i Fr(and)e Ft("or")p
Fr(.)149 3063 y Fk(20.2)91 b(Inden)m(ted)30 b(Output)49 3250
y Fj(\))45 b Ft(indenting-output)30 b Fs(\(str)m(e)m(am)21
b(indentation)h Ft(&key)29 b Fs(\(move-cursor)22 b Ft(t)p Fs(\)\))d
Ft(&body)29 b Fs(b)m(o)m(dy)261 b Fr([)p Fs(Macr)m(o)s Fr(])149
3369 y(Binds)14 b Fs(str)m(e)m(am)h Fr(to)f(a)f(stream)f(that)g(inserts)h
(whitespace)e(at)j(the)f(b)r(eginning)f(of)h(eac)n(h)g(line)i(of)e(output)f
(pro)r(duced)149 3436 y(b)n(y)19 b Fs(b)m(o)m(dy)p Fr(,)h(and)d(then)g
(writes)h(the)f(inden)n(ted)g(output)g(to)g(the)g(stream)f(that)h(is)i(the)e
(original)h(v)m(alue)g(of)g Fs(str)m(e)m(am)p Fr(.)1262 3632
y(177)p eop
%%Page: 178 193
bop 149 16 a Fm(CHAPTER)16 b(20.)43 b(TEXT)18 b(F)n(ORMA)-5
b(TTING)1246 b Fr(178)149 210 y(The)12 b Fs(str)m(e)m(am)i
Fr(argumen)n(t)c(is)j(not)e(ev)m(aluated,)i(and)e(m)n(ust)h(b)r(e)f(a)i(sym)n
(b)r(ol)e(that)g(is)i(b)r(ound)e(to)h(an)g(output)e(recording)149
276 y(stream.)22 b(If)17 b Fs(str)m(e)m(am)j Fr(is)e Ft(t)p
Fr(,)g Ft(*standard-output*)h Fr(is)f(used.)23 b Fs(b)m(o)m(dy)c
Fr(ma)n(y)e(ha)n(v)n(e)h(zero)f(or)g(more)e(declarations)h(as)149
342 y(its)i(\014rst)f(forms.)149 475 y Fs(indentation)22 b
Fr(sp)r(eci\014es)c(ho)n(w)i(m)n(uc)n(h)g(whitespace)d(should)j(b)r(e)f
(inserted)f(at)h(the)g(b)r(eginning)g(of)g(eac)n(h)h(line.)30
b(It)149 542 y(is)18 b(sp)r(eci\014ed)f(in)h(the)f(same)g(w)n(a)n(y)i(as)f
(the)g Ft(:x-spacing)h Fr(option)e(to)h Ft(formatting-table)p
Fr(.)149 674 y(If)e(the)g(b)r(o)r(olean)f Fs(move-cursor)j
Fr(is)g Fm(true)d Fr(\(the)g(default\),)h(CLIM)g(mo)n(v)n(es)g(the)g(cursor)f
(to)h(the)g(end)g(of)g(the)g(table.)149 807 y(Programmer)o(s)e(using)j
Ft(indenting-output)h Fr(should)f(b)r(egin)f(the)g(b)r(o)r(dy)g(with)h(a)g
(call)h(to)f Fs(fr)m(esh-line)i Fr(\(or)d(some)149 874 y(equiv)m(alen)n(t\))h
(to)h(p)r(osition)g(the)f(stream)f(to)i(the)g(inden)n(tation)f(initially)-5
b(.)27 b(There)17 b(is)i(a)g(restriction)d(on)i(in)n(terac-)149
940 y(tions)h(b)r(et)n(w)n(een)g Ft(indenting-output)i Fr(and)f
Ft(filling-output)h Fr(suc)n(h)f(that)e(a)i(call)h(to)e Ft(indenting-output)
149 1007 y Fr(should)c(app)r(ear)e(outside)i(of)h(a)f(call)h(to)f
Ft(filling-output)p Fr(.)25 b(Implemen)n(tations)13 b(are)i(p)r(ermitted)d
(to)j(relax)h(this)149 1073 y(restriction,)g(but)i(uses)f(of)h
Ft(indenting-output)h Fr(inside)g(of)f Ft(filling-output)h
Fr(ma)n(y)f(not)f(b)r(e)h(p)r(ortable.)149 1322 y Fk(20.3)91
b(Filled)29 b(Output)49 1510 y Fj(\))45 b Ft(filling-output)30
b Fs(\(str)m(e)m(am)15 b Ft(&key)29 b Fs(\014l)s(l-width)15
b(br)m(e)m(ak-char)m(ac)q(te)q(rs)j(after-line-br)m(e)m(ak)g(after-line-br)m
(e)m(ak-initial)t(ly\))149 1577 y Ft(&body)29 b Fs(b)m(o)m(dy)1828
b Fr([)p Fs(Macr)m(o)s Fr(])149 1696 y(Binds)26 b Fs(str)m(e)m(am)j
Fr(to)d(a)g(stream)e(that)h(inserts)g(line)i(breaks)f(in)n(to)g(the)g
(textual)f(output)g(written)g(to)h(it)g(\(b)n(y)149 1762 y(suc)n(h)20
b(functions)e(as)i Ft(write-char)h Fr(and)f Ft(write-string)p
Fr(\))g(so)g(that)f(the)g(output)g(is)i(usually)f(no)g(wider)g(then)149
1828 y Fs(\014l)s(l-width)p Fr(.)25 b(The)18 b(\014lled)g(output)f(is)i(then)
e(written)g(on)g(the)h(original)g(stream.)149 1961 y(The)23
b Fs(str)m(e)m(am)i Fr(argumen)n(t)c(is)j(not)e(ev)m(aluated,)h(and)g(m)n
(ust)f(b)r(e)h(a)g(sym)n(b)r(ol)g(that)f(is)i(b)r(ound)d(to)i(a)g(stream.)38
b(If)149 2028 y Fs(str)m(e)m(am)23 b Fr(is)f Ft(t)p Fr(,)h
Ft(*standard-output*)g Fr(is)f(used.)34 b Fs(b)m(o)m(dy)23
b Fr(ma)n(y)e(ha)n(v)n(e)h(zero)e(or)h(more)f(declarations)g(as)h(its)g
(\014rst)149 2094 y(forms.)149 2227 y Fs(\014l)s(l-width)c
Fr(sp)r(eci\014es)e(the)h(width)g(of)h(\014lled)g(lines,)g(and)f(defaults)g
(to)g(80)g(c)n(haracters.)22 b(It)16 b(is)h(sp)r(eci\014ed)e(the)h(same)149
2293 y(w)n(a)n(y)j(as)f(the)f Ft(:x-spacing)i Fr(option)e(for)h
Ft(formatting-table)p Fr(.)149 2426 y(\\W)-5 b(ords")24 b(are)g(separated)f
(b)n(y)j(the)e(c)n(haracters)f(sp)r(eci\014ed)g(in)j(the)e(list)i
Fs(br)m(e)m(ak-char)m(act)q(er)q(s)p Fr(.)49 b(When)25 b(a)g(line)149
2493 y(is)f(brok)n(en)f(to)g(prev)n(en)n(t)f(wrapping)h(past)f(the)h(end)g
(of)g(a)h(line,)h(the)e(line)h(break)f(is)h(made)e(at)h(one)g(of)g(these)149
2559 y(separators.)31 b(That)20 b(is,)j Ft(filling-output)f
Fr(do)r(es)e(not)h(split)g(\\w)n(ords")g(across)e(lines,)k(so)e(it)g(migh)n
(t)g(pro)r(duce)149 2625 y(output)16 b(wider)i(than)f Fs(\014l)s(l-width)p
Fr(.)149 2758 y Fs(after-line-br)m(e)m(ak)k Fr(sp)r(eci\014es)15
b(a)i(string)f(to)h(b)r(e)f(sen)n(t)g(to)h Fs(str)m(e)m(am)i
Fr(after)d(line)h(breaks;)g(the)f(string)g(app)r(ears)f(at)h(the)149
2825 y(b)r(eginning)g(of)i(eac)n(h)g(new)g(line.)25 b(The)18
b(string)f(m)n(ust)g(not)g(b)r(e)h(wider)g(than)f Fs(\014l)s(l-width)p
Fr(.)149 2957 y(If)i(the)g(b)r(o)r(olean)e Fs(after-line-br)m(e)m(ak-init)q
(ial)s(ly)24 b Fr(is)c Fm(true)p Fr(,)f(then)f(the)h Fs(after-line-br)m(e)m
(ak)24 b Fr(text)18 b(is)i(to)f(b)r(e)g(written)f(to)149 3024
y Fs(str)m(e)m(am)i Fr(b)r(efore)c(executing)h Fs(b)m(o)m(dy)p
Fr(,)j(that)d(is,)i(at)e(the)h(b)r(eginning)e(of)i(the)g(\014rst)f(line.)25
b(The)18 b(default)f(is)h Fm(false)p Fr(.)p eop
%%Page: 179 194
bop 149 691 a Fl(Chapter)46 b(21)149 1034 y Fq(Incremen)l(tal)k(Redispla)l(y)
149 1422 y Fk(21.1)91 b(Ov)m(erview)31 b(of)g(Incremen)m(tal)e(Redispla)m(y)
149 1609 y Fr(CLIM's)c(incremen)n(tal)f(redispla)n(y)i(facilit)n(y)g(to)g
(allo)n(ws)g(the)f(programmer)d(to)j(c)n(hange)g(the)g(output)f(in)i(an)149
1676 y(output)18 b(history)h(\(and)g(hence,)g(on)g(the)g(screen)f(or)i(other)
e(output)g(device\))h(in)h(an)f(incremen)n(tal)f(fashion.)29
b(It)149 1742 y(allo)n(ws)23 b(the)f(programmer)d(to)j(redispla)n(y)h
(individual)g(pieces)f(of)h(the)f(existing)g(output)f(di\013eren)n(tly)-5
b(,)25 b(under)149 1809 y(program)15 b(con)n(trol.)149 1941
y(It)24 b(is)h(\\incremen)n(tal")d(in)j(the)f(sense)f(that)h(CLIM)g(will)i
(try)e(to)h(minimize)e(the)h(c)n(hanges)f(to)h(the)g(existing)149
2008 y(output)16 b(on)i(a)g(displa)n(y)h(device)f(when)f(displa)n(ying)i(new)
f(output.)149 2141 y(There)f(are)g(t)n(w)n(o)i(di\013eren)n(t)e(w)n(a)n(ys)i
(to)f(do)g(incremen)n(tal)e(redispla)n(y)-5 b(.)149 2274 y(The)14
b(\014rst)f(is)i(to)f(call)h Ft(redisplay)g Fr(on)f(an)h(output)d(record.)22
b(This)15 b(essen)n(tially)f(tells)g(the)g(system)f(to)h(recompute)149
2340 y(the)f(output)g(of)h(that)f(output)g(record)g(o)n(v)n(er)h(from)g
(scratc)n(h.)21 b(It)15 b(compares)c(the)j(new)g(results)f(with)h(the)g
(existing)149 2406 y(output)k(and)i(tries)g(to)g(do)g(minimal)f(redispla)n(y)
-5 b(.)32 b(The)20 b Ft(updating-output)i Fr(form)d(allo)n(ws)i(the)f
(programmer)149 2473 y(to)c(assist)g(CLIM)g(b)n(y)h(informing)e(it)i(that)e
(en)n(tire)h(branc)n(hes)f(of)h(the)g(output)f(history)h(are)g(kno)n(wn)g
(not)g(to)g(ha)n(v)n(e)149 2539 y(c)n(hanged.)22 b Ft(updating-output)c
Fr(also)e(allo)n(ws)h(the)e(programmer)d(to)k(comm)n(unicate)d(the)j(fact)f
(that)g(a)h(piece)g(of)149 2606 y(the)h(output)f(record)g(hierarc)n(h)n(y)h
(has)h(mo)n(v)n(ed,)f(either)g(b)n(y)i(ha)n(ving)f(an)f(output)f(record)g(c)n
(hange)h(its)h(paren)n(t,)f(or)149 2672 y(b)n(y)i(ha)n(ving)f(an)g(output)e
(record)h(c)n(hange)g(its)h(p)r(osition.)149 2805 y(The)d(second)f(w)n(a)n(y)
j(to)e(do)g(incremen)n(tal)f(redispla)n(y)h(is)i(to)e(man)n(ually)g(do)g(the)
g(up)r(dates)f(to)h(the)f(output)g(history)-5 b(,)149 2871
y(and)16 b(then)h(call)g Ft(note-output-record-child-changed)j
Fr(on)d(an)g(output)e(record.)23 b(This)17 b(causes)f(CLIM)h(to)149
2938 y(propagate)g(the)j(c)n(hanges)f(up)h(the)g(output)e(record)h(tree)g
(and)h(allo)n(ws)h(paren)n(t)e(output)g(records)g(to)g(readjust)149
3004 y(themselv)n(es)d(to)i(accoun)n(t)e(for)i(the)f(c)n(hanges.)149
3137 y(Eac)n(h)k(st)n(yle)i(is)g(appropriate)d(under)h(di\013eren)n(t)g
(circumstances.)34 b Ft(redisplay)23 b Fr(is)g(often)e(easier)g(to)h(use,)h
(es-)149 3203 y(p)r(ecially)d(when)g(there)f(migh)n(t)h(are)f(large)h(n)n(um)
n(b)r(ers)f(of)h(c)n(hanges)g(b)r(et)n(w)n(een)f(t)n(w)n(o)i(passes,)f(or)g
(when)g(the)g(pro-)149 3270 y(grammer)15 b(has)j(only)h(a)g(p)r(o)r(or)e
(idea)h(as)h(to)f(what)g(the)f(c)n(hanges)h(migh)n(t)f(b)r(e.)26
b Ft(note-output-record-child-)149 3336 y(changed)21 b Fr(can)e(b)r(e)h(more)
e(e\016cien)n(t)i(for)g(small)g(c)n(hanges)f(at)h(the)f(b)r(ottom)e(of)k(the)
e(output)g(record)f(hierarc)n(h)n(y)-5 b(,)149 3403 y(or)18
b(in)h(cases)e(where)g(the)h(programmer)c(is)19 b(w)n(ell)h(informed)c(as)i
(to)g(the)g(sp)r(eci\014c)f(c)n(hanges)g(necessary)f(and)i(can)1262
3632 y(179)p eop
%%Page: 180 195
bop 149 16 a Fm(CHAPTER)16 b(21.)43 b(INCREMENT)-5 b(AL)16
b(REDISPLA)-5 b(Y)1051 b Fr(180)149 210 y(help)18 b(CLIM)f(out.)149
431 y Fp(21.1.1)75 b(Examples)27 b(of)e(Incremen)n(tal)g(Redispla)n(y)149
600 y Fr(The)18 b(usual)g(tec)n(hnique)f(of)h(incremen)n(tal)f(redispla)n(y)h
(is)h(to)f(use)g Ft(updating-output)h Fr(to)f(inform)f(CLIM)h(what)149
666 y(output)e(has)i(c)n(hanged,)f(and)h(use)f Ft(redisplay)i
Fr(to)f(recompute)d(and)i(redispla)n(y)h(that)f(output.)149
799 y(The)f(outermost)e(call)j(to)g Ft(updating-output)h Fr(iden)n(ti\014es)e
(a)h(program)d(fragmen)n(t)h(that)h(pro)r(duces)e(incremen-)149
865 y(tally)25 b(redispla)n(y)n(able)g(output.)43 b(A)25 b(nested)e(call)i
(to)g Ft(updating-output)h Fr(\(that)d(is,)k(a)e(call)g(to)g
Ft(updating-)149 932 y(output)d Fr(that)e(o)r(ccurs)g(during)h(the)g
(execution)f(of)h(the)g(b)r(o)r(dy)g(of)g(the)g(outermost)d
Ft(updating-output)23 b Fr(and)149 998 y(sp)r(eci\014es)17
b(the)i(same)f(stream\))f(iden)n(ti\014es)i(an)g(individually)h(redispla)n(y)
n(able)g(piece)e(of)i(output,)e(the)h(program)149 1064 y(fragmen)n(t)f(that)h
(pro)r(duces)f(that)i(output,)g(and)g(the)f(circumstances)e(under)j(whic)n(h)
g(that)g(output)f(needs)g(to)149 1131 y(b)r(e)f(redra)n(wn.)26
b(This)19 b(nested)e(calls)i(to)g Ft(updating-output)h Fr(are)e(just)h(hin)n
(ts)g(to)f(incremen)n(tal)f(redispla)n(y)i(that)149 1197 y(can)e(reduce)g
(the)g(amoun)n(t)f(of)i(w)n(ork)h(done)e(b)n(y)i(CLIM.)149
1330 y(The)g(outermost)d(call)k(to)f Ft(updating-output)i Fr(executes)d(its)h
(b)r(o)r(dy)-5 b(,)20 b(pro)r(ducing)d(the)i(initial)h(v)n(ersion)g(of)f(the)
149 1397 y(output,)f(and)h(returns)e(an)i(incremen)n(tal)f(redispla)n(y)h
(record)f(that)g(captures)f(the)i(b)r(o)r(dy)f(in)h(a)h(closure.)27
b(Eac)n(h)149 1463 y(nested)20 b(call)i(to)f Ft(updating-output)j
Fr(stores)c(its)i Ft(:unique-id)h Fr(and)e Ft(:cache-value)i
Fr(argumen)n(ts)c(and)i(the)149 1529 y(p)r(ortion)16 b(of)i(the)f(output)g
(pro)r(duced)e(b)n(y)k(its)f(b)r(o)r(dy)-5 b(.)149 1662 y Ft(redisplay)18
b Fr(tak)n(es)f(an)g(incremen)n(tal)e(redispla)n(y)i(record)e(and)i(executes)
e(the)i(captured)e(b)r(o)r(dy)h(of)h Ft(updating-)149 1729
y(output)28 b Fr(o)n(v)n(er)h(again.)54 b(When)27 b(a)h(nested)f(call)h(to)g
Ft(updating-output)h Fr(is)f(executed)e(during)i(redispla)n(y)-5
b(,)149 1795 y Ft(updating-output)27 b Fr(decides)e(whether)f(the)h(cac)n
(hed)f(output)h(can)g(b)r(e)g(reused)f(or)i(the)f(output)f(needs)h(to)149
1861 y(b)r(e)15 b(redra)n(wn.)22 b(This)16 b(is)h(con)n(trolled)d(b)n(y)j
(the)e Ft(:cache-value)h Fr(argumen)n(t)e(to)h Ft(updating-output)p
Fr(.)25 b(If)16 b(its)g(v)m(alue)149 1928 y(matc)n(hes)e(its)i(previous)g(v)m
(alue,)g(the)g(b)r(o)r(dy)f(w)n(ould)h(pro)r(duce)e(output)h(iden)n(tical)h
(to)g(the)f(previous)g(output)g(and)149 1994 y(th)n(us)g(is)i(unnecessary)-5
b(.)22 b(In)16 b(this)g(case)g(the)f(cac)n(hed)g(output)f(is)j(reused)e(and)g
Ft(updating-output)j Fr(do)r(es)d(not)g(ex-)149 2061 y(ecute)e(its)i(b)r(o)r
(dy)-5 b(.)23 b(If)16 b(the)e(cac)n(he)g(v)m(alue)h(do)r(es)f(not)g(matc)n
(h,)h(the)f(output)g(needs)g(to)g(b)r(e)h(redra)n(wn,)g(so)g
Ft(updating-)149 2127 y(output)h Fr(executes)d(its)i(b)r(o)r(dy)f(and)h(the)f
(new)h(output)e(dra)n(wn)i(on)g(the)g(stream)d(replaces)i(the)g(previous)h
(output.)149 2194 y(The)i Ft(:cache-value)j Fr(argumen)n(t)15
b(is)k(only)f(meaningful)f(for)h(nested)e(calls)i(to)g Ft(updating-output)p
Fr(.)149 2326 y(In)g(order)f(to)g(compare)f(the)h(cac)n(he)g(to)h(the)f
(output)g(record,)g(t)n(w)n(o)h(pieces)f(of)h(information)e(are)i(necessary:)
232 2515 y Fj(\017)27 b Fr(An)d(asso)r(ciation)e(b)r(et)n(w)n(een)g(the)i
(output)e(b)r(eing)h(done)g(b)n(y)i(the)e(program)f(and)i(a)g(particular)e
(cac)n(he.)287 2581 y(This)c(is)h(supplied)f(in)g(the)g Ft(:unique-id)h
Fr(option)e(to)g Ft(updating-output)p Fr(.)232 2692 y Fj(\017)27
b Fr(A)19 b(means)e(of)h(determining)f(whether)g(this)h(particular)f(cac)n
(he)h(is)h(v)m(alid.)27 b(This)19 b(is)h(the)e Ft(:cache-value)287
2758 y Fr(option)f(to)h Ft(updating-output)p Fr(.)149 2946
y(Normally)-5 b(,)28 b(the)e(programmer)c(w)n(ould)27 b(supply)g(b)r(oth)e
(options.)49 b(The)26 b(unique-id)h(w)n(ould)g(b)r(e)e(some)h(data)149
3013 y(structure)12 b(asso)r(ciated)g(with)i(the)g(corresp)r(onding)d(part)j
(of)g(output.)22 b(The)14 b(cac)n(he)g(v)m(alue)g(w)n(ould)h(b)r(e)f
(something)149 3079 y(in)k(that)f(data)g(structure)f(that)h(c)n(hanges)f
(whenev)n(er)h(the)h(output)e(c)n(hanges.)149 3212 y(It)i(is)g(v)m(alid)h(to)
f(giv)n(e)g(the)g Ft(:unique-id)h Fr(and)e(not)h(the)f Ft(:cache-value)p
Fr(.)26 b(This)18 b(is)g(done)g(to)f(iden)n(tify)i(a)f(paren)n(t)149
3278 y(in)23 b(the)e(hierarc)n(h)n(y)-5 b(.)38 b(By)24 b(this)e(means,)g(the)
g(c)n(hildren)g(essen)n(tially)h(get)e(a)i(more)e(complex)g(unique)h(id)h
(when)149 3345 y(they)16 b(are)h(matc)n(hed)e(for)h(output.)23
b(\(In)17 b(other)e(w)n(ords,)j(it)f(is)h(lik)n(e)g(using)f(a)g(telephone)e
(area)h(co)r(de.\))23 b(The)17 b(cac)n(he)149 3411 y(without)g(a)h(cac)n(he)f
(v)m(alue)h(is)h(nev)n(er)e(v)m(alid.)26 b(Its)17 b(c)n(hildren)h(alw)n(a)n
(ys)h(ha)n(v)n(e)g(to)f(b)r(e)f(c)n(hec)n(k)n(ed.)p eop
%%Page: 181 196
bop 149 16 a Fm(CHAPTER)16 b(21.)37 b(INCREMENT)-5 b(AL)16
b(REDISPLA)-5 b(Y)1057 b Fr(181)149 210 y(It)19 b(is)h(also)f(v)m(alid)h(to)f
(giv)n(e)h(the)e Ft(:cache-value)j Fr(and)e(not)f(the)h Ft(:unique-id)p
Fr(.)29 b(In)19 b(this)g(case,)h(unique)f(ids)g(are)149 276
y(just)14 b(assigned)g(sequen)n(tially)-5 b(.)24 b(So,)16 b(if)g(output)e
(asso)r(ciated)e(with)j(the)g(same)e(thing)i(is)h(done)e(in)i(the)e(same)g
(order)149 342 y(eac)n(h)19 b(time,)i(it)f(isn't)h(necessary)d(to)i(in)n(v)n
(en)n(t)h(new)f(unique)g(ids)h(for)f(eac)n(h)f(piece.)31 b(This)20
b(is)h(esp)r(ecially)f(true)f(in)149 409 y(the)e(case)h(of)g(c)n(hildren)g
(of)h(a)f(cac)n(he)g(with)g(a)h(unique)f(id)h(and)f(no)g(cac)n(he)f(v)m(alue)
i(of)f(its)h(o)n(wn.)26 b(In)18 b(this)g(case,)g(the)149 475
y(paren)n(t)e(marks)g(the)g(particular)g(data)g(structure,)f(whose)h(comp)r
(onen)n(ts)e(can)i(c)n(hange)g(individually)-5 b(,)20 b(and)c(the)149
542 y(c)n(hildren)k(are)g(alw)n(a)n(ys)h(in)g(the)f(same)f(order)g(and)h
(prop)r(erly)f(iden)n(ti\014ed)h(b)n(y)h(their)f(paren)n(t)f(and)h(the)g
(order)f(in)149 608 y(whic)n(h)f(they)g(are)f(output.)149 741
y(A)i(unique)g(id)h(need)e(not)h(b)r(e)g(unique)g(across)f(the)g(en)n(tire)h
(redispla)n(y)-5 b(,)20 b(only)g(among)e(the)g(c)n(hildren)h(of)h(a)f(giv)n
(en)149 807 y(output)11 b(cac)n(he;)k(that)d(is,)j(among)d(all)i(p)r(ossible)
e(\(curren)n(t)f(and)i(additional\))g(uses)f(made)g(of)h Ft(updating-output)
149 874 y Fr(that)k(are)g(dynamically)h(\(not)e(lexically\))j(within)f
(another.)149 1007 y(T)-5 b(o)21 b(mak)n(e)f(incremen)n(tal)e(redispla)n(y)j
(maximally)f(e\016cien)n(t,)h(the)f(programmer)c(should)21
b(attempt)c(to)j(giv)n(e)i(as)149 1073 y(man)n(y)f(cac)n(hes)f(with)i
Ft(:cache-value)g Fr(as)g(p)r(ossible.)34 b(F)-5 b(or)21 b(instance,)h(if)g
(the)f(thing)f(b)r(eing)h(redispla)n(y)n(ed)g(is)i(a)149 1139
y(deeply)18 b(nested)f(tree,)h(it)g(is)i(b)r(etter)c(to)i(b)r(e)g(able)g(to)g
(kno)n(w)h(when)f(whole)g(branc)n(hes)f(ha)n(v)n(e)i(not)f(c)n(hanged)g(than)
149 1206 y(to)k(ha)n(v)n(e)h(to)g(recurse)e(to)h(ev)n(ery)h(single)g(leaf)f
(and)h(c)n(hec)n(k)g(it.)39 b(So,)24 b(if)f(there)f(is)h(a)g(mo)r
(di\014cation)d(tic)n(k)j(in)g(the)149 1272 y(lea)n(v)n(es,)c(it)f(is)h(b)r
(etter)d(to)i(also)g(ha)n(v)n(e)h(one)f(in)g(their)g(paren)n(t)f(of)h(the)g
(lea)n(v)n(es)g(and)g(propagate)e(the)h(mo)r(di\014cation)149
1339 y(up)i(when)g(things)g(c)n(hange.)28 b(While)20 b(the)e(simpler)h
(approac)n(h)f(w)n(orks,)i(it)g(requires)f(CLIM)g(to)g(do)g(more)f(w)n(ork)
149 1405 y(than)f(is)h(necessary)-5 b(.)149 1538 y(The)17 b(follo)n(wing)i
(function)e(illustrates)g(the)g(standard)f(use)i(of)g(incremen)n(tal)e
(redispla)n(y:)149 1721 y Ft(\(defun)29 b(test)g(\(stream\))207
1787 y(\(let*)g(\(\(list)h(\(list)f(1)g(2)g(3)g(4)g(5\)\))410
1854 y(\(record)468 1920 y(\(updating-output)h(\(stream\))526
1987 y(\(do*)g(\(\(elements)f(list)h(\(cdr)f(elements\)\))701
2053 y(\(count)g(0)g(\(1+)h(count\)\)\))672 2119 y(\(\(null)f(elements\)\))
585 2186 y(\(let)g(\(\(element)g(\(first)h(elements\)\)\))643
2252 y(\(updating-output)g(\(stream)f(:unique-id)h(count)1369
2319 y(:cache-value)g(element\))701 2385 y(\(format)f(stream)h("Element)f
(~D")g(element\))701 2452 y(\(terpri)g(stream\)\)\)\)\)\)\))265
2518 y(\(sleep)g(10\))265 2584 y(\(setf)g(\(nth)h(2)f(list\))g(17\))265
2651 y(\(redisplay)h(record)f(stream\)\)\))149 2834 y Fr(When)17
b(this)h(function)f(is)h(run)g(on)g(a)g(windo)n(w,)h(the)e(initial)i(displa)n
(y)g(will)h(lo)r(ok)d(lik)n(e:)207 3017 y Ft(Element)29 b(1)207
3083 y(Element)g(2)207 3150 y(Element)g(3)207 3216 y(Element)g(4)207
3283 y(Element)g(5)149 3466 y Fr(After)16 b(the)i(sleep)f(has)h(terminated,)d
(the)j(displa)n(y)h(will)g(lo)r(ok)f(lik)n(e:)p eop
%%Page: 182 197
bop 149 16 a Fm(CHAPTER)16 b(21.)43 b(INCREMENT)-5 b(AL)16
b(REDISPLA)-5 b(Y)1051 b Fr(182)207 210 y Ft(Element)29 b(1)207
276 y(Element)g(2)207 342 y(Element)g(17)207 409 y(Element)g(4)207
475 y(Element)g(5)149 646 y Fr(CLIM)21 b(tak)n(es)g(care)f(of)h(ensuring)f
(that)g(only)i(the)f(third)f(line)i(gets)f(erased)e(and)i(redispla)n(y)n(ed.)
35 b(In)21 b(the)f(case)149 712 y(where)d(items)g(mo)n(v)n(ed)g(around)g
(\(try)g(the)h(example)f(substituting)149 882 y Ft(\(setf)29
b(list)g(\(sort)h(list)f(#'\(lambda)h(\(x)f(y\))904 949 y(\(declare)h
(\(ignore)f(x)g(y\)\))904 1015 y(\(zerop)h(\(random)f(2\)\)\)\)\))149
1186 y Fr(for)11 b(the)h(form)f(after)f(the)i(call)g(to)g Ft(sleep)p
Fr(\),)i(CLIM)d(w)n(ould)i(ensure)e(that)f(the)i(minim)n(um)e(amoun)n(t)h(of)
h(w)n(ork)g(w)n(ould)149 1252 y(b)r(e)i(done)g(in)i(up)r(dating)d(the)i
(displa)n(y)-5 b(,)17 b(thereb)n(y)d(minimizing)g(\\\015ashiness")g(while)h
(pro)n(viding)g(a)h(p)r(o)n(w)n(erful)e(user)149 1318 y(in)n(terface.)149
1451 y(See)21 b(Chapter)g(28)h(for)g(a)g(discussion)f(of)h(ho)n(w)h(to)f(use)
f(incremen)n(tal)g(redispla)n(y)h(automatically)e(within)i(the)149
1518 y(panes)17 b(of)h(an)g(application)f(frame.)149 1764 y
Fk(21.2)91 b(Standard)29 b(Programmer)g(In)m(terface)49 1952
y Fj(\))45 b Ft(updating-output)30 b Fs(\(str)m(e)m(am)c Ft(&rest)j
Fs(ar)m(gs)d Ft(&key)j Fs(unique-id)d(\(id-test)f(#')p Ft(eql)p
Fs(\))g(c)m(ache-value)j(\(c)m(ache-test)149 2018 y(#')p Ft(eql)p
Fs(\))20 b(c)m(opy-c)m(ache-value)j(\014xe)m(d-p)m(osition)f(al)s(l-new)e(p)m
(ar)m(ent-c)m(ache)k(r)m(e)m(c)m(or)m(d-typ)m(e\))f Ft(&body)30
b Fs(b)m(o)m(dy)69 b Fr([)p Fs(Macr)m(o)s Fr(])149 2137 y(In)n(tro)r(duces)15
b(a)j(cac)n(hing)g(p)r(oin)n(t)f(for)h(incremen)n(tal)e(redispla)n(y)-5
b(.)149 2270 y(The)12 b Fs(str)m(e)m(am)i Fr(argumen)n(t)c(is)j(not)e(ev)m
(aluated,)i(and)e(m)n(ust)h(b)r(e)f(a)i(sym)n(b)r(ol)e(that)g(is)i(b)r(ound)e
(to)h(an)g(output)e(recording)149 2336 y(stream.)22 b(If)17
b Fs(str)m(e)m(am)j Fr(is)e Ft(t)p Fr(,)g Ft(*standard-output*)h
Fr(is)f(used.)23 b Fs(b)m(o)m(dy)c Fr(ma)n(y)e(ha)n(v)n(e)h(zero)f(or)g(more)
e(declarations)h(as)149 2403 y(its)i(\014rst)f(forms.)149 2536
y Fs(r)m(e)m(c)m(or)m(d-typ)m(e)25 b Fr(sp)r(eci\014es)20 b(the)h(class)g(of)
h(output)d(record)h(to)h(create.)33 b(The)22 b(default)e(is)i
Ft(standard-updating-)149 2602 y(output-record)p Fr(.)j(This)16
b(argumen)n(t)e(should)h(only)i(b)r(e)e(supplied)g(b)n(y)i(a)f(programmer)c
(if)17 b(there)e(is)h(a)g(new)g(class)149 2669 y(of)i(output)e(record)h(that)
f(supp)r(orts)g(the)i(up)r(dating)e(output)g(record)h(proto)r(col.)149
2801 y Ft(updating-output)h Fr(m)n(ust)e(b)r(e)h(implemen)n(ted)d(b)n(y)k
(expanding)e(in)n(to)h(a)g(call)h(to)f Ft(invoke-updating-output)p
Fr(,)149 2868 y(supplying)24 b(a)h(function)e(that)g(executes)g
Fs(b)m(o)m(dy)j Fr(as)e(the)g Fs(c)m(ontinuation)j Fr(argumen)n(t)22
b(to)i Ft(invoke-updating-)149 2934 y(output)p Fr(.)h(The)18
b(exact)f(b)r(eha)n(vior)g(of)h(this)g(macro)e(is)j(describ)r(ed)d(under)h
Ft(invoke-updating-output)p Fr(.)49 3067 y Fj(\))45 b Ft
(invoke-updating-output)30 b Fs(str)m(e)m(am)23 b(c)m(ontinuation)g(r)m(e)m
(c)m(or)m(d-typ)m(e)i(unique-id)d(id-test)g(c)m(ache-value)i(c)m(ache-)149
3133 y(test)c(c)m(opy-c)m(ache-value)k Ft(&key)29 b Fs(al)s(l-new)21
b(p)m(ar)m(ent-c)m(ache)695 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 3333 y(In)n(tro)r(duces)g(a)i(cac)n(hing)g(p)r(oin)n(t)g(for)h
(incremen)n(tal)d(redispla)n(y)-5 b(.)45 b(Calls)25 b(the)f(function)f
Fs(c)m(ontinuation)p Fr(,)29 b(whic)n(h)149 3399 y(generates)15
b(the)j(output)e(records)h(to)h(b)r(e)f(redispla)n(y)n(ed.)25
b Fs(c)m(ontinuation)c Fr(is)e(a)f(function)f(of)h(one)g(argumen)n(t,)e(the)
149 3466 y(stream;)g(it)i(has)g(dynamic)f(exten)n(t.)p eop
%%Page: 183 198
bop 149 16 a Fm(CHAPTER)16 b(21.)43 b(INCREMENT)-5 b(AL)16
b(REDISPLA)-5 b(Y)1051 b Fr(183)149 210 y(If)17 b(this)h(is)g(used)f(outside)
f(the)h(dynamic)f(scop)r(e)g(of)i(an)f(incremen)n(tal)e(redispla)n(y)-5
b(,)19 b(it)f(has)f(no)g(particular)f(e\013ect.)149 276 y(Ho)n(w)n(ev)n(er,)
24 b(when)f(incremen)n(tal)d(redispla)n(y)j(is)h(o)r(ccurring,)e(the)g
(supplied)h Fs(c)m(ache-value)j Fr(is)d(compared)e(with)149
342 y(the)c(v)m(alue)h(stored)e(in)j(the)e(cac)n(he)g(iden)n(ti\014ed)g(b)n
(y)i Fs(unique-id)p Fr(.)25 b(If)19 b(the)e(v)m(alues)g(di\013er)h(or)g(the)f
(co)r(de)g(in)h Fs(b)m(o)m(dy)i Fr(has)149 409 y(not)d(b)r(een)g(run)h(b)r
(efore,)f(the)h(co)r(de)f(in)i Fs(b)m(o)m(dy)h Fr(runs,)e(and)g
Fs(c)m(ache-value)k Fr(is)d(sa)n(v)n(ed)g(for)f(next)g(time.)24
b(If)19 b(the)f(cac)n(he)149 475 y(v)m(alues)g(are)f(the)g(same,)g(the)h(co)r
(de)e(in)j Fs(b)m(o)m(dy)g Fr(is)g(not)f(run,)g(b)r(ecause)d(the)j(curren)n
(t)e(output)h(is)h(still)h(v)m(alid.)149 608 y Fs(unique-id)k
Fr(pro)n(vides)g(a)f(means)f(to)h(uniquely)i(iden)n(tify)f(the)e(output)g
(done)h(b)n(y)i Fs(b)m(o)m(dy)p Fr(.)40 b(If)23 b Fs(unique-id)g
Fr(is)g(not)149 674 y(supplied,)17 b(CLIM)g(will)i(generate)c(one)h(that)g
(is)i(guaran)n(teed)d(to)i(b)r(e)f(unique.)25 b Fs(unique-id)18
b Fr(ma)n(y)f(b)r(e)f(an)n(y)i(ob)s(ject)149 741 y(as)23 b(long)f(as)h(it)g
(is)h(unique)f(with)g(resp)r(ect)d(to)j(the)f Fs(id-test)i
Fr(predicate)d(among)g(all)j(suc)n(h)f(unique)g(ids)g(in)g(the)149
807 y(curren)n(t)16 b(incremen)n(tal)h(redispla)n(y)-5 b(.)25
b Fs(id-test)20 b Fr(is)f(a)f(function)f(of)h(t)n(w)n(o)h(argumen)n(ts)c
(that)j(is)g(used)g(for)g(comparing)149 874 y(unique)g(ids;)g(it)h(has)e
(inde\014nite)g(exten)n(t.)149 1007 y Fs(c)m(ache-value)24
b Fr(is)e(a)g(v)m(alue)f(that)f(remains)g(constan)n(t)f(if)j(and)f(only)h(if)
g(the)e(output)g(pro)r(duced)f(b)n(y)j(b)r(o)r(dy)e(do)r(es)149
1073 y(not)g(need)g(to)h(b)r(e)f(recomputed.)30 b(If)22 b(the)e(cac)n(he)g(v)
m(alue)h(is)h(not)e(supplied,)i(CLIM)f(will)i(not)d(use)h(a)g(cac)n(he)f(for)
149 1139 y(this)e(piece)f(of)h(output.)23 b Fs(c)m(ache-test)e
Fr(is)e(a)f(function)f(of)h(t)n(w)n(o)h(argumen)n(ts)c(that)i(is)i(used)e
(for)h(comparing)e(cac)n(he)149 1206 y(v)m(alues;)h(it)h(has)f(inde\014nite)f
(exten)n(t.)23 b(If)17 b Fs(c)m(opy-c)m(ache-value)22 b Fr(is)17
b Fm(true)p Fr(,)g(then)f(the)h(supplied)f(cac)n(he)h(v)m(alue)g(will)h(b)r
(e)149 1272 y(copied)e(using)g Ft(copy-seq)i Fr(b)r(efore)c(it)k(is)f(stored)
e(in)i(the)f(output)f(record.)23 b(The)16 b(default)g(for)g
Fs(c)m(opy-c)m(ache-value)149 1339 y Fr(is)i Fm(false)p Fr(.)149
1472 y(If)23 b Fs(\014xe)m(d-p)m(osition)i Fr(is)e Fm(true)p
Fr(,)h(then)e(the)g(lo)r(cation)g(of)h(this)f(output)g(is)h(\014xed)g
(relativ)n(e)g(to)f(its)h(paren)n(t)f(output)149 1538 y(record.)j(When)18
b(CLIM)g(redispla)n(ys)h(an)g(output)e(record)g(that)h(has)g(a)h(\014xed)f(p)
r(osition,)h(then)f(if)h(the)f(con)n(ten)n(ts)149 1604 y(ha)n(v)n(e)13
b(not)g(c)n(hanged,)g(the)f(p)r(osition)g(of)h(the)f(output)g(record)f(will)k
(not)d(c)n(hange.)22 b(If)13 b(the)f(con)n(ten)n(ts)g(ha)n(v)n(e)i(c)n
(hanged,)149 1671 y(CLIM)g(assumes)f(that)h(the)g(co)r(de)g(will)i(tak)n(e)f
(care)f(to)g(preserv)n(e)g(its)h(p)r(osition.)22 b(The)15 b(default)f(for)h
Fs(\014xe)m(d-p)m(osition)149 1737 y Fr(is)j Fm(false)p Fr(.)149
1870 y(If)e Fs(al)s(l-new)h Fr(is)g Fm(true)p Fr(,)f(that)e(indicates)h(that)
g(all)i(of)f(the)g(output)e(done)h(b)n(y)i Fs(b)m(o)m(dy)h
Fr(is)f(new,)f(and)g(will)h(nev)n(er)f(matc)n(h)149 1936 y(output)f
(previously)i(recorded.)22 b(In)17 b(this)f(case,)h(CLIM)f(will)j(discard)d
(the)g(old)h(output)e(and)i(do)f(the)g(redispla)n(y)149 2003
y(from)h(scratc)n(h.)23 b(The)17 b(default)g(for)h Fs(al)s(l-new)h
Fr(is)g Fm(false)p Fr(.)149 2136 y(The)14 b(output)e(record)h(tree)g(created)
f(b)n(y)j Ft(updating-output)h Fr(de\014nes)d(a)h(cac)n(hing)f(structure)f
(where)h(mappings)149 2202 y(from)21 b(a)i(unique-id)g(to)f(an)g(output)f
(record)g(are)h(main)n(tained.)37 b(If)23 b(the)e(programmer)e(sp)r
(eci\014es)i(an)h(output)149 2269 y(record)j(some)g(output)g(record)g
Fn(P)34 b Fr(via)28 b(the)d Fs(p)m(ar)m(ent-c)m(ache)32 b Fr(argumen)n(t,)26
b(then)g(CLIM)g(will)j(try)d(to)g(\014nd)h(a)149 2335 y(corresp)r(onding)12
b(output)h(record)g(with)j(the)e(matc)n(hing)f(unique-id)j(in)f(the)g(cac)n
(he)f(b)r(elonging)g(to)g Fn(P)8 b Fr(.)24 b(If)15 b(neither)149
2401 y Fs(p)m(ar)m(ent-c)m(ache)21 b Fr(is)c(not)e(pro)n(vided,)i(then)f
(CLIM)g(lo)r(oks)g(for)g(the)g(unique-id)g(in)h(the)f(output)f(record)g
(created)f(b)n(y)149 2468 y(immediate)e(dynamically)i(enclosing)f(call)i(to)f
Ft(updating-output)p Fr(.)24 b(If)15 b(that)e(fails,)j(CLIM)f(use)f(the)f
(unique-id)149 2534 y(to)18 b(\014nd)h(an)g(output)e(record)h(that)g(is)h(a)h
(c)n(hild)f(of)g(the)g(output)e(history)i(of)g Fs(str)m(e)m(am)p
Fr(.)29 b(Once)19 b(CLIM)g(has)f(found)149 2601 y(an)d(output)f(record)g
(that)g(matc)n(hes)g(the)h(unique-id,)h(it)g(uses)f(the)g(cac)n(he)g(v)m
(alue)g(and)g(cac)n(he)g(test)f(to)h(determine)149 2667 y(whether)22
b(the)i(output)e(record)h(has)g(c)n(hanged.)42 b(If)24 b(the)g(output)e
(record)h(has)g(not)h(c)n(hanged,)h(it)f(ma)n(y)g(ha)n(v)n(e)149
2733 y(mo)n(v)n(ed,)e(in)g(whic)n(h)g(case)f(CLIM)g(will)i(simply)f(mo)n(v)n
(e)g(the)f(displa)n(y)h(of)g(the)e(output)g(record)g(on)i(the)f(displa)n(y)
149 2800 y(device.)49 2933 y Fj(\))45 b Ft(redisplay)29 b Fs(r)m(e)m(c)m(or)m
(d)23 b(str)m(e)m(am)e Ft(&key)30 b Fs(\(che)m(ck-overlapping)24
b Ft(t)p Fs(\))751 b Fr([)p Fs(F)l(unction)t Fr(])149 3052
y(This)18 b(function)f(simply)h(calls)g Ft(redisplay-output-record)i
Fr(on)e(the)f(argumen)n(ts)f Fs(r)m(e)m(c)m(or)m(d)21 b Fr(and)d
Fs(str)m(e)m(am)p Fr(.)49 3185 y Fj(\))45 b Ft(redisplay-output-record)30
b Fs(r)m(e)m(c)m(or)m(d)18 b(str)m(e)m(am)g Ft(&optional)29
b Fs(\(che)m(ck-overlappin)q(g)19 b Ft(t)p Fs(\))d(x)f(y)g(p)m(ar)m(ent-x)i
(p)m(ar)m(ent-)149 3251 y(y)1824 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 3450 y Fo(Minor)k(issue:)65 b Fm(The)21 b(co)r(ordinate)d(system)h
(stu\013)i(a\013ected)e(b)n(y)j(the)e(x/y)h(and)g(paren)n(t-x/y)f(argumen)n
(ts)e(is)p eop
%%Page: 184 199
bop 149 16 a Fm(CHAPTER)16 b(21.)43 b(INCREMENT)-5 b(AL)16
b(REDISPLA)-5 b(Y)1051 b Fr(184)149 210 y Fm(en)n(tirely)19
b(b)r(ogus.)28 b(The)19 b(prop)r(osal)f(to)i(mak)n(e)f(\\stream)e(relativ)n
(e")i(co)r(ordinates)e(for)i(output)f(records)g(instead)149
276 y(of)g(\\paren)n(t)e(relativ)n(e")i(co)r(ordinates)d(will)20
b(eliminate)c(this)i(completely)-5 b(.)24 b(|)18 b(SWM)149
409 y Ft(\(redisplay-output-record)30 b Fs(r)m(e)m(c)m(or)m(d)i(str)m(e)m(am)
p Ft(\))14 b Fr(causes)d(the)g(output)f(of)i Fs(r)m(e)m(c)m(or)m(d)j
Fr(to)d(b)r(e)f(recomputed.)19 b(CLIM)149 475 y(redispla)n(ys)26
b(the)g(c)n(hanges)f(\\incremen)n(tally",)i(that)e(is,)30 b(it)d(only)g
(displa)n(ys)g(those)e(parts)h(that)f(ha)n(v)n(e)i(b)r(een)149
542 y(c)n(hanged.)44 b Fs(r)m(e)m(c)m(or)m(d)28 b Fr(m)n(ust)c(already)h(b)r
(e)f(part)g(of)h(the)g(output)e(history)i(of)g(the)f Fm(output)g(recording)f
(stream)149 608 y Fs(str)m(e)m(am)p Fr(,)d(although)d(it)h(can)g(b)r(e)f(an)n
(ywhere)g(inside)h(the)g(hierarc)n(h)n(y)-5 b(.)149 741 y(When)26
b Fs(che)m(ck-overlap)q(ping)32 b Fr(is)c Fm(false)p Fr(,)i(this)d(means)f
(that)g(CLIM)h(can)g(assume)e(that)h(no)h(sibling)h(output)149
807 y(records)18 b(o)n(v)n(erlap)i(eac)n(h)f(other)f(at)i(an)n(y)g(lev)n(el.)
31 b(Supplying)19 b(a)h Fm(false)g Fr(v)m(alue)f(for)h(this)f(argumen)n(t)f
(can)h(impro)n(v)n(e)149 874 y(p)r(erformance)14 b(of)k(redispla)n(y)-5
b(.)149 1007 y Fo(Implemen)n(tation)26 b(note:)j Ft(redisplay-output-record)
22 b Fr(is)f(implemen)n(ted)c(b)n(y)k(\014rst)f(binding)g Ft(stream-)149
1073 y(redisplaying-p)30 b Fr(of)f(the)f(stream)f(to)h Fm(true)p
Fr(,)j(then)d(creating)f(the)h(new)h(output)e(records)h(b)n(y)h(in)n(v)n
(oking)149 1139 y Ft(compute-new-output-records)p Fr(.)34 b(Once)20
b(the)g(new)g(output)f(records)g(ha)n(v)n(e)j(b)r(een)d(computed,)g
Ft(compute-)149 1206 y(difference-set)i Fr(is)g(called)g(to)f(compute)d(the)j
(di\013erence)f(set,)i(whic)n(h)g(is)g(then)e(passed)h(to)g
Ft(note-child-)149 1272 y(output-record-changed)p Fr(.)149
1405 y(The)j(other)e(optional)i(argumen)n(ts)d(can)j(b)r(e)f(used)h(to)f(sp)r
(ecify)h(where)f(on)h(the)f Fs(str)m(e)m(am)j Fr(the)e(output)e(record)149
1472 y(should)12 b(b)r(e)g(redispla)n(y)n(ed.)23 b Fs(x)13
b Fr(and)f Fs(y)h Fr(represen)n(t)e(where)h(the)g(cursor)g(should)g(b)r(e,)i
(relativ)n(e)e(to)h(\()p Ft(output-record-)149 1538 y(parent)22
b Fr(record\),)g(b)r(efore)e(w)n(e)i(start)f(redispla)n(ying)h
Fs(r)m(e)m(c)m(or)m(d)p Fr(.)39 b Fs(p)m(ar)m(ent-x)24 b Fr(and)e
Fs(p)m(ar)m(ent-y)i Fr(can)d(b)r(e)g(supplied)h(to)149 1604
y(sa)n(y:)38 b(do)24 b(the)g(output)e(as)j(if)g(the)f(paren)n(t)f(started)f
(at)i(p)r(ositions)g Fs(p)m(ar)m(ent-x)i Fr(and)e Fs(p)m(ar)m(ent-y)j
Fr(\(whic)n(h)d(are)g(in)149 1671 y(absolute)e(co)r(ordinates\).)40
b(The)23 b(default)g(v)m(alues)h(for)g Fs(x)g Fr(and)g Fs(y)g
Fr(are)g Ft(\(output-record-start-position)149 1737 y Fs(r)m(e)m(c)m(or)m(d)p
Ft(\))p Fr(.)k(The)17 b(default)g(v)m(alues)h(for)g Fs(p)m(ar)m(ent-x)i
Fr(and)e Fs(p)m(ar)m(ent-y)i Fr(are)149 1901 y Ft
(\(convert-from-relative-to-absolute-coordinates)207 1967 y(stream)29
b(\(output-record-parent)h(record\)\))149 2131 y Fs(r)m(e)m(c)m(or)m(d)15
b Fr(will)e(usually)g(b)r(e)e(an)g(output)g(record)f(created)g(b)n(y)i
Ft(updating-output)p Fr(.)24 b(If)12 b(it)h(is)f(not,)h(then)e
Ft(redisplay-)149 2197 y(output-record)19 b Fr(will)g(b)r(e)f(equiv)m(alen)n
(t)g(to)f Ft(replay-output-record)p Fr(.)149 2442 y Fk(21.3)91
b(Incremen)m(tal)29 b(Redispla)m(y)h(Proto)s(col)149 2630 y
Fo(Ma)t(jor)17 b(issue:)51 b Fm(While)15 b(the)f(description)f(of)h(the)g
(API)g(here)g(is)h(accurate,)e(the)h(description)f(of)i(the)f(proto)r(col)149
2696 y(is)21 b(a)f(disaster.)30 b(This)21 b(is)g(no)f(surprise,)g(since)g
(the)f(proto)r(col)f(for)i(incremen)n(t)f(redispla)n(y)h(is)h(itself)f(a)h
(disaster.)149 2763 y(|)d(SWM)49 2895 y Fj(\))45 b Ft(updating-output-record)
1275 b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23 b(Class)5 b Fr(])149
3014 y(The)22 b(proto)r(col)e(class)i(corresp)r(onding)d(to)j(records)f(that)
g(supp)r(ort)g(incremen)n(tal)f(redispla)n(y;)25 b(a)e(sub)r(class)e(of)149
3081 y Ft(output-record)p Fr(.)k(If)18 b(y)n(ou)f(w)n(an)n(t)h(to)f(create)e
(a)i(new)g(class)g(that)g(b)r(eha)n(v)n(es)f(lik)n(e)j(an)e(up)r(dating)e
(output)h(record,)149 3147 y(it)21 b(should)f(b)r(e)g(a)g(sub)r(class)f(of)i
Ft(updating-output-record)p Fr(.)34 b(Sub)r(classes)18 b(of)j
Ft(updating-output-record)149 3214 y Fr(m)n(ust)c(ob)r(ey)g(the)g(up)r
(dating)g(output)f(record)g(proto)r(col.)49 3347 y Fj(\))45
b Ft(updating-output-record-p)30 b Fs(obje)m(ct)1182 b Fr([)p
Fs(F)l(unction)t Fr(])149 3466 y(Returns)16 b Fm(true)h Fr(if)i
Fs(obje)m(ct)h Fr(is)f(an)f Fm(up)r(dating)e(output)h(record)p
Fr(,)f(otherwise)h(returns)f Fm(false)p Fr(.)p eop
%%Page: 185 200
bop 149 16 a Fm(CHAPTER)16 b(21.)43 b(INCREMENT)-5 b(AL)16
b(REDISPLA)-5 b(Y)1051 b Fr(185)49 210 y Fj(\))45 b Ft(:unique-id)1772
b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])49 276 y Fj(\))45
b Ft(:id-test)1830 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])49
342 y Fj(\))45 b Ft(:cache-value)1714 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5
b Fr(])49 409 y Fj(\))45 b Ft(:cache-test)1743 b Fr([)p Fs(Init)21
b(A)o(r)m(g)5 b Fr(])49 475 y Fj(\))45 b Ft(:fixed-position)1627
b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])149 594 y(All)26 b(sub)r(classes)e
(of)i Ft(updating-output-record)i Fr(m)n(ust)d(handle)h(these)e(four)i
(initargs,)i(whic)n(h)e(are)f(used)149 661 y(to)d(sp)r(ecify)-5
b(,)24 b(resp)r(ectiv)n(ely)-5 b(,)24 b(the)e(unique)h(id)g(and)f(id)i(test,)
f(cac)n(he)f(v)m(alue)h(and)f(cac)n(he)g(test,)i(and)e(the)g(\\\014xed)149
727 y(p)r(osition")16 b(comp)r(onen)n(t)f(of)j(the)g(output)e(record.)49
860 y Fj(\))45 b Ft(standard-updating-output-record)1229 b
Fr([)p Fs(Class)5 b Fr(])149 979 y(The)19 b(instan)n(tiable)h(class)f(of)h
(output)f(record)f(that)h(supp)r(orts)f(incremen)n(tal)g(redispla)n(y)-5
b(.)31 b(This)20 b(is)h(a)f(sub)r(class)149 1045 y(of)e Ft
(updating-output-record)p Fr(.)49 1178 y Fj(\))45 b Ft
(output-record-unique-id)30 b Fs(r)m(e)m(c)m(or)m(d)995 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 1297 y(Returns)16 b(the)h(unique)h(id)
h(asso)r(ciated)c(with)j(the)g(up)r(dating)e(output)g(record)h
Fs(r)m(e)m(c)m(or)m(d)p Fr(.)49 1430 y Fj(\))45 b Ft
(output-record-cache-value)30 b Fs(r)m(e)m(c)m(or)m(d)937 b
Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1549 y(Returns)16
b(the)h(cac)n(he)g(v)m(alue)h(asso)r(ciated)e(with)i(the)f(up)r(dating)g
(output)f(record)g Fs(r)m(e)m(c)m(or)m(d)p Fr(.)49 1682 y Fj(\))45
b Ft(output-record-fixed-position)30 b Fs(r)m(e)m(c)m(or)m(d)850
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1801 y(Returns)d
Fm(true)g Fr(if)j(the)e(up)r(dating)f(output)g(record)g Fs(r)m(e)m(c)m(or)m
(d)24 b Fr(is)d(at)f(a)h(\014xed)g(lo)r(cation)e(on)h(the)g(output)f(stream,)
149 1867 y(otherwise)d(returns)f Fm(false)p Fr(.)25 b(Output)16
b(records)g(that)g(are)h(not)g(at)g(\014xed)g(lo)r(cation)g(on)g(the)g
(output)f(stream)f(will)149 1934 y(b)r(e)i(mo)n(v)n(ed)h(b)n(y)h(incremen)n
(tal)d(redispla)n(y)i(when)f(an)n(y)i(of)f(their)f(siblings)i(adjust)e(their)
g(size)h(or)g(p)r(osition.)49 2067 y Fj(\))45 b Ft(output-record-displayer)30
b Fs(r)m(e)m(c)m(or)m(d)995 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 2185 y(Returns)16 b(the)h(function)g(that)f(pro)r(duces)g(the)h
(output)f(for)i(this)f(output)f(record.)23 b(This)c(is)f(the)f(function)g
(that)149 2252 y(is)h(called)g(during)g(redispla)n(y)g(to)f(pro)r(duce)f(new)
i(output)e(if)j(the)e(cac)n(he)h(v)m(alue)g(mismatc)n(hes.)49
2385 y Fj(\))45 b Ft(compute-new-output-records)30 b Fs(r)m(e)m(c)m(or)m(d)23
b(str)m(e)m(am)729 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
2504 y Ft(compute-new-output-records)j Fr(mo)r(di\014es)d(an)h(output)f
(record)g(tree)g(to)h(re\015ect)f(new)h(output)f(done)h(b)n(y)149
2570 y(the)18 b(application.)27 b(In)20 b(addition)e(to)h(inserting)f(the)h
(new)f(output)g(records)g(in)n(to)h(the)f(output)g(record)g(tree,)g(it)149
2637 y(m)n(ust)c(sa)n(v)n(e)i(enough)f(information)e(to)i(b)r(e)g(able)g(to)g
(compute)e(the)i(di\013erence)f(set,)i(suc)n(h)f(as)h(the)e(old)i(b)r
(ounding)149 2703 y(rectangle,)g(old)i(cursor)f(p)r(ositions,)g(old)h(c)n
(hildren,)g(and)g(so)g(forth.)149 2836 y Ft(compute-new-output-records)i
Fr(recursiv)n(ely)d(in)n(v)n(ok)n(es)j(itself)e(on)g(eac)n(h)f(c)n(hild)i(of)
f Fs(r)m(e)m(c)m(or)m(d)p Fr(.)149 2969 y Ft(compute-new-output-records)i
Fr(of)d(an)h(output)f(record)f(of)i(t)n(yp)r(e)f Ft(updating-output-record)j
Fr(runs)d(the)149 3035 y(displa)n(y)n(er)f(\()p Ft(output-record-displayer)p
Fr(\),)i(whic)n(h)e(giv)n(es)g(the)f(b)r(eha)n(vior)g(of)h(incremen)n(tal)e
(redispla)n(y)-5 b(.)24 b(That)149 3102 y(is,)f(it)e(reruns)f(the)g(co)r(de)g
(\(getting)f(hin)n(ts)i(from)f Ft(updating-output)p Fr(\))i(and)e(\014gures)g
(out)h(the)f(c)n(hanges)g(from)149 3168 y(there)c(b)n(y)j(comparing)d(it)i
(to)g(the)f(old)h(output)f(history)-5 b(.)49 3301 y Fj(\))45
b Ft(compute-difference-set)30 b Fs(r)m(e)m(c)m(or)m(d)17 b
Ft(&optional)30 b Fs(\(che)m(ck-overlapping)19 b Ft(t)p Fs(\))14
b(\(o\013set-x)g Ft(0)p Fs(\))g(\(o\013set-y)g Ft(0)p Fs(\))g(\(old-)149
3367 y(o\013set-x)20 b Ft(0)p Fs(\))f(\(old-o\013set-y)i Ft(0)p
Fs(\))1225 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])p eop
%%Page: 186 201
bop 149 16 a Fm(CHAPTER)16 b(21.)43 b(INCREMENT)-5 b(AL)16
b(REDISPLA)-5 b(Y)1051 b Fr(186)149 210 y Ft(compute-difference-set)21
b Fr(compares)16 b(the)j(curren)n(t)f(state)g(of)h(the)g Fm(output)e(record)h
Fs(r)m(e)m(c)m(or)m(d)23 b Fr(with)c(its)h(pre-)149 276 y(vious)e(state,)f
(and)g(returns)f(a)i(\\di\013erence)f(set")g(as)g(\014v)n(e)i(v)m(alues.)24
b(The)18 b(di\013erence)e(set)i(con)n(trols)e(what)i(needs)149
342 y(to)f(b)r(e)h(done)f(to)h(the)f(displa)n(y)i(device)e(in)i(order)e(to)g
(accomplish)g(the)g(incremen)n(tal)f(redispla)n(y)-5 b(.)149
475 y(The)14 b(v)m(alues)h(returned)d(are)j Fs(er)m(ases)h
Fr(\(what)d(areas)h(of)h(the)f(displa)n(y)i(device)e(need)g(to)g(b)r(e)h
(erased\),)e Fs(moves)k Fr(\(what)149 542 y(output)22 b(records)f(need)i(to)g
(b)r(e)g(mo)n(v)n(ed\),)h Fs(dr)m(aws)g Fr(\(what)f(output)e(records)h(need)h
(to)g(b)r(e)g(freshly)g(repla)n(y)n(ed\),)149 608 y Fs(er)m(ase-overlapping)p
Fr(,)g(and)17 b Fs(move-overlapping)q Fr(.)29 b(Eac)n(h)17
b(is)i(a)f(list)h(whose)e(elemen)n(ts)f(are)i(lists)g(of)g(the)f(form:)149
741 y(When)26 b Fs(che)m(ck-overlap)q(ping)32 b Fr(is)c Fm(false)p
Fr(,)i(this)d(means)f(that)g(CLIM)h(can)g(assume)e(that)h(no)h(sibling)h
(output)149 807 y(records)18 b(o)n(v)n(erlap)i(eac)n(h)f(other)f(at)i(an)n(y)
g(lev)n(el.)31 b(Supplying)19 b(a)h Fm(false)g Fr(v)m(alue)f(for)h(this)f
(argumen)n(t)f(can)h(impro)n(v)n(e)149 874 y(p)r(erformance)14
b(of)k(redispla)n(y)-5 b(.)232 1056 y Fj(\017)27 b Fs(er)m(ases)19
b Fr(are)f(lists)g(of)g Ft(\()p Fs(r)m(e)m(c)m(or)m(d)32 b(old)p
Ft(-)p Fs(b)m(ox)p Ft(\))232 1165 y Fj(\017)27 b Fs(moves)20
b Fr(are)d(lists)h(of)g Ft(\()p Fs(r)m(e)m(c)m(or)m(d)32 b(old)p
Ft(-)p Fs(b)m(ox)f(new)p Ft(-)p Fs(p)m(osition)p Ft(\))232
1273 y Fj(\017)c Fs(dr)m(aws)19 b Fr(are)e(lists)i(of)f Ft(\()p
Fs(r)m(e)m(c)m(or)m(d)32 b(old)p Ft(-)p Fs(b)m(ox)p Ft(\))232
1381 y Fj(\017)27 b Fs(er)m(ase-overlapping)c Fr(is)18 b(a)h(list)f(of)g
Ft(\()p Fs(r)m(e)m(c)m(or)m(d)32 b(old)p Ft(-)p Fs(b)m(ox)p
Ft(\))232 1490 y Fj(\017)27 b Fs(move-overlapping)c Fr(is)c(a)f(list)g(of)g
Ft(\()p Fs(r)m(e)m(c)m(or)m(d)32 b(old)p Ft(-)p Fs(b)m(ox)f(new)p
Ft(-)p Fs(p)m(osition)p Ft(\))49 1672 y Fj(\))45 b Ft(augment-draw-set)30
b Fs(r)m(e)m(c)m(or)m(d)17 b(er)m(ases)e(moves)g(dr)m(aws)g(er)m
(ase-overlapping)j(move-overlapping)34 b Fr([)p Fs(Generic)21
b(F)l(unction)t Fr(])149 1872 y Fo(Minor)h(issue:)54 b Fm(T)-5
b(o)19 b(b)r(e)e(supplied.)24 b(|)19 b(SWM)49 2004 y Fj(\))45
b Ft(note-output-record-child-changed)31 b Fs(r)m(e)m(c)m(or)m(d)17
b(child)e(mo)m(de)h(old-p)m(osition)f(old-b)m(ounding-r)m(e)m(ctan)q(gle)k
(str)m(e)m(am)149 2071 y Ft(&optional)29 b Fs(er)m(ases)15
b(moves)h(dr)m(aws)e(er)m(ase-overlapping)19 b(move-overlapping)f
Ft(&key)29 b Fs(che)m(ck-overla)q(pping)34 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 2270 y Ft(note-output-record-child-changed)h
Fr(is)f(called)f(after)f(an)i(output)d(history)i(has)g(had)g(c)n(hanges)f
(made)149 2336 y(to)j(it,)i(but)e(b)r(efore)f(an)n(y)i(of)f(the)g(new)g
(output)f(has)h(b)r(een)f(displa)n(y)n(ed.)41 b(It)23 b(will)i(call)f
Ft(propagate-output-)149 2403 y(record-changes-p)d Fr(to)g(determine)c(if)22
b(the)d(paren)n(t)h(output)f(record)f(should)i(b)r(e)g(noti\014ed,)g(and)h
(if)g(so,)g(will)149 2469 y(call)14 b Ft(propagate-output-record-changes)j
Fr(to)d(create)e(an)i(up)r(dated)e(di\013erence)h(set.)23 b(If)14
b(no)g(c)n(hanges)g(need)149 2536 y(to)19 b(b)r(e)f(propagated)f(to)i(the)g
(paren)n(t)f(output)g(record,)g(then)g Ft(note-output-record-child-changed)k
Fr(will)149 2602 y(call)c Ft(incremental-redisplay)i Fr(in)e(order)f(displa)n
(y)i(the)e(di\013erence)g(set.)149 2735 y Fs(mo)m(de)j Fr(is)e(one)g(of)g
Ft(:delete)p Fr(,)h Ft(:add)p Fr(,)g Ft(:change)p Fr(,)g Ft(:move)p
Fr(,)g(or)f Ft(:none)149 2868 y Fs(old-p)m(osition)i Fr(and)d
Fs(old-b)m(ounding-r)m(e)m(cta)q(ngle)23 b Fr(describ)r(e)16
b(where)h Fs(child)j Fr(w)n(as)e(b)r(efore)f(it)h(w)n(as)g(mo)n(v)n(ed.)149
3001 y Fs(che)m(ck-overlapping)23 b Fr(is)c(as)f(for)g Ft
(compute-difference-set)p Fr(.)49 3133 y Fj(\))45 b Ft
(propagate-output-record-changes-p)31 b Fs(r)m(e)m(c)m(or)m(d)17
b(child)e(mo)m(de)h(old-p)m(osition)f(old-b)m(ounding-r)m(e)m(cta)q(ngle)34
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 3333 y Ft
(propagate-output-record-changes-p)h Fr(is)f(a)g(predicate)d(that)h(returns)g
Fm(true)g Fr(if)i(the)f(c)n(hange)f(made)g(to)149 3399 y(the)c(c)n(hild)i
(will)h(cause)d Fs(r)m(e)m(c)m(or)m(d)k Fr(to)d(b)r(e)f(redispla)n(y)n(ed)h
(in)h(an)n(y)f(w)n(a)n(y)-5 b(.)26 b(Otherwise,)17 b(it)g(returns)e
Fm(false)p Fr(.)24 b Fs(mo)m(de)19 b Fr(is)f(one)149 3466 y(of)g
Ft(:delete)p Fr(,)h Ft(:add)p Fr(,)g Ft(:change)p Fr(,)g Ft(:move)p
Fr(,)g(or)f Ft(:none)p Fr(.)p eop
%%Page: 187 202
bop 149 16 a Fm(CHAPTER)16 b(21.)43 b(INCREMENT)-5 b(AL)16
b(REDISPLA)-5 b(Y)1051 b Fr(187)49 210 y Fj(\))45 b Ft
(propagate-output-record-changes)31 b Fs(r)m(e)m(c)m(or)m(d)e(child)f(mo)m
(de)g Ft(&optional)h Fs(old-p)m(osition)f(old-b)m(ounding-)149
276 y(r)m(e)m(ctangle)17 b(er)m(ases)e(moves)h(dr)m(aws)e(er)m
(ase-overlapping)19 b(move-overlapping)f(che)m(ck-overlap)q(ping)34
b Fr([)p Fs(Generic)21 b(F)l(unction)t Fr(])149 475 y(Called)e(when)g(the)f
(c)n(hanged)g Fs(child)j Fr(output)d(record)f(requires)i(that)f(its)h(paren)n
(t,)g Fs(r)m(e)m(c)m(or)m(d)p Fr(,)k(b)r(e)c(redispla)n(y)n(ed)g(as)149
542 y(w)n(ell.)24 b Ft(propagate-output-record-changes)17 b
Fr(will)e(up)r(date)e(the)g(di\013erence)g(set)h(to)f(re\015ect)g(the)g
(additional)149 608 y(c)n(hanges.)149 741 y Fs(che)m(ck-overlapping)23
b Fr(is)c(as)f(for)g Ft(compute-difference-set)p Fr(.)49 874
y Fj(\))45 b Ft(match-output-records)30 b Fs(r)m(e)m(c)m(or)m(d)23
b Ft(&rest)29 b Fs(initar)m(gs)706 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 993 y(Returns)16 b Fm(true)h Fr(if)i(record)d(matc)n(hes)g(the)i
(supplied)f(class)h(initargs)f Fs(initar)m(gs)p Fr(,)j(otherwise)d(returns)f
Fm(false)p Fr(.)49 1126 y Fj(\))45 b Ft(find-child-output-record)30
b Fs(r)m(e)m(c)m(or)m(d)18 b(use-old-elements)g(r)m(e)m(c)m(or)m(d-typ)m(e)h
Ft(&rest)30 b Fs(initar)m(gs)16 b Ft(&key)30 b Fs(unique-id)149
1192 y(unique-id-test)1505 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1311 y(Finds)15 b(a)h(c)n(hild)g(of)f Fs(r)m(e)m(c)m(or)m(d)k
Fr(matc)n(hing)14 b(the)g Fs(r)m(e)m(c)m(or)m(d-typ)m(e)20
b Fr(and)15 b(the)g(supplied)g(initargs)f Fs(initar)m(gs)p
Fr(.)26 b Fs(unique-id)16 b Fr(and)149 1377 y Fs(unique-id-test)j
Fr(are)e(used)f(to)i(matc)n(h)e(against)g(the)h(c)n(hildren)g(as)g(w)n(ell.)
26 b Fs(use-old-elements)20 b Fr(con)n(trols)c(whether)149
1444 y(the)h(desired)g(record)f(is)j(to)f(b)r(e)f(found)g(in)i(the)e
(previous)h(\(b)r(efore)d(redispla)n(y\))j(con)n(ten)n(ts)f(of)h(the)f
(record.)49 1577 y Fj(\))45 b Ft(output-record-contents-ok)30
b Fs(r)m(e)m(c)m(or)m(d)937 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1696 y(Returns)16 b Fm(true)h Fr(if)i(the)e(curren)n(t)g(state)f(of)
i Fs(r)m(e)m(c)m(or)m(d)k Fr(are)17 b(up)h(to)g(date,)f(otherwise)f(returns)h
Fm(false)p Fr(.)49 1829 y Fj(\))45 b Ft(recompute-contents-ok)30
b Fs(r)m(e)m(c)m(or)m(d)1053 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1948 y(Compares)13 b(the)i(old)g(\(b)r(efore)e(redispla)n(y\))j(and)
f(new)g(con)n(ten)n(ts)f(of)h Fs(r)m(e)m(c)m(or)m(d)k Fr(to)c(determine)e
(whether)h(or)h(not)g(this)149 2014 y(record)h(c)n(hanged)h(in)h(suc)n(h)g(a)
g(w)n(a)n(y)i(so)e(that)e(the)i(displa)n(y)h(needs)e(up)r(dating.)49
2147 y Fj(\))45 b Ft(cache-output-record)30 b Fs(r)m(e)m(c)m(or)m(d)23
b(child)d(unique-id)733 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 2266 y Fs(r)m(e)m(c)m(or)m(d)f Fr(stores)c Fs(child)i
Fr(suc)n(h)f(that)f(it)h(can)g(b)r(e)f(lo)r(cated)f(later)i(using)f
Fs(unique-id)p Fr(.)49 2399 y Fj(\))45 b Ft(decache-child-output-record)30
b Fs(r)m(e)m(c)m(or)m(d)23 b(child)e(use-old-elements)329 b
Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2518 y(In)n(v)m(alidates)17
b(the)h(redispla)n(y)g(state)e(of)i Fs(r)m(e)m(c)m(or)m(d)p
Fr(.)49 2650 y Fj(\))45 b Ft(find-cached-output-record)30 b
Fs(r)m(e)m(c)m(or)m(d)23 b(use-old-elements)e(r)m(e)m(c)m(or)m(d-typ)m(e)i
Ft(&rest)30 b Fs(initar)m(gs)21 b Ft(&key)29 b Fs(unique-)149
2717 y(id)20 b(unique-id-test)h Ft(&allow-other-keys)945 b
Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2916 y(Finds)13
b(a)g(previously)g(cac)n(hed)f(c)n(hild)i(matc)n(hing)e Fs(r)m(e)m(c)m(or)m
(d-typ)m(e)p Fr(,)19 b Fs(initar)m(gs)p Fr(,)d Fs(unique-id)p
Fr(,)f(and)e Fs(unique-id-test)p Fr(.)25 b Fs(use-)149 2983
y(old-elements)18 b Fr(con)n(trols)c(whether)f(the)i(desired)f(record)g(is)i
(to)e(b)r(e)h(found)f(in)i(the)f(previous)f(\(b)r(efore)f(redispla)n(y\))149
3049 y(con)n(ten)n(ts)j(of)i(the)g(record.)p eop
%%Page: 188 203
bop 149 16 a Fm(CHAPTER)16 b(21.)43 b(INCREMENT)-5 b(AL)16
b(REDISPLA)-5 b(Y)1051 b Fr(188)149 210 y Fk(21.4)91 b(Incremen)m(tal)29
b(Redispla)m(y)h(Stream)g(Proto)s(col)49 397 y Fj(\))45 b Ft
(stream-redisplayable-p)30 b Fs(str)m(e)m(am)1008 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 516 y(Returns)g Fm(true)h
Fr(for)h(an)n(y)h(stream)d(that)i(main)n(tains)f(an)h(output)f(history)g(and)
h(supp)r(orts)e(the)i(incremen)n(tal)149 583 y(redispla)n(y)18
b(proto)r(col,)e(otherwise)h(returns)f Fm(false)p Fr(.)49 715
y Fj(\))45 b Ft(stream-redisplaying-p)30 b Fs(str)m(e)m(am)1037
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 834 y(Returns)15
b Fm(true)h Fr(if)h(the)f Fs(str)m(e)m(am)j Fr(is)f(curren)n(tly)e(doing)g
(redispla)n(y)h(\(that)f(is,)i(is)f(inside)g(of)g(a)g(call)g(to)g
Ft(redisplay)p Fr(\),)149 901 y(otherwise)f(returns)g Fm(false)p
Fr(.)49 1034 y Fj(\))45 b Ft(incremental-redisplay)30 b Fs(str)m(e)m(am)16
b(p)m(osition)f(er)m(ases)g(moves)g(dr)m(aws)g(er)m(ase-overlapping)j
(move-overlapping)149 1100 y Fr([)p Fs(Generic)j(F)l(unction)t
Fr(])149 1219 y(P)n(erforms)15 b(the)i(incremen)n(tal)f(up)r(date)f(on)j
Fs(str)m(e)m(am)i Fr(according)c(to)h(the)g(di\013erence)f(set)h(comprised)e
(b)n(y)k Fs(er)m(ases)p Fr(,)149 1286 y Fs(moves)p Fr(,)g Fs(dr)m(aws)p
Fr(,)g Fs(er)m(ase-overlapping)q Fr(,)j(and)17 b Fs(move-overlapping)q
Fr(,)22 b(whic)n(h)c(are)f(v)m(alues)h(returned)d(b)n(y)k Ft(compute-)149
1352 y(difference-set)p Fr(.)39 b Fs(p)m(osition)24 b Fr(is)f(a)g(p)r(oin)n
(t)f(ob)s(ject)f(that)g(represen)n(ts)f(the)i(start)f(p)r(osition)h(of)g(the)
g(topmost)149 1418 y(output)16 b(record)h(that)f(will)k(b)r(e)d(redispla)n(y)
n(ed.)149 1551 y Ft(incremental-redisplay)i Fr(can)f(b)r(e)f(called)h(on)g
(an)n(y)g(extended)f(output)f(stream.)p eop
%%Page: 189 204
bop 1078 1308 a Fl(P)l(art)46 b(VI)151 1651 y Fq(Extended)51
b(Stream)g(Input)i(F)-13 b(acilities)1262 3632 y Fr(189)p eop
%%Page: 190 205
bop 149 691 a Fl(Chapter)46 b(22)149 1034 y Fq(Extended)51
b(Stream)g(Input)149 1388 y Fr(CLIM)24 b(pro)n(vides)h(a)g(stream-orien)n
(ted)d(input)i(la)n(y)n(er)i(that)e(is)h(implemen)n(ted)d(on)j(top)f(of)h
(the)f(sheet)g(input)149 1455 y(arc)n(hitecture.)38 b(The)24
b(basic)f(CLIM)g(input)h(stream)d(proto)r(col)h(is)i(based)f(on)g(the)g(c)n
(haracter)f(input)h(stream)149 1521 y(proto)r(col)11 b(prop)r(osal)g
(submitted)g(to)h(the)g(ANSI)h(Common)d(Lisp)j(committee)d(b)n(y)k(Da)n(vid)g
(Gra)n(y)-5 b(.)24 b(This)13 b(prop)r(osal)149 1588 y(w)n(as)18
b(not)f(appro)n(v)n(ed)h(b)n(y)h(the)e(committee,)e(but)j(has)f(b)r(een)g
(implemen)n(ted)e(b)n(y)k(most)e(Lisp)h(v)n(endors.)149 1837
y Fk(22.1)91 b(Basic)30 b(Input)g(Streams)149 2025 y Fr(CLIM)13
b(pro)n(vides)h(an)g(implemen)n(tation)d(of)j(the)f(basic)g(input)h(stream)d
(facilities)j(\(describ)r(ed)e(in)i(more)e(detail)i(in)149
2091 y(App)r(endix)j(C\),)i(either)e(b)n(y)j(directly)e(using)g(the)g
(underlying)g(Lisp)g(implemen)n(tation,)e(or)i(b)n(y)i(implemen)n(ting)149
2158 y(the)d(facilities)h(itself.)49 2291 y Fj(\))45 b Ft
(standard-input-stream)1519 b Fr([)p Fs(Class)5 b Fr(])149
2410 y(This)26 b(class)g(pro)n(vides)g(an)g(implemen)n(tation)d(of)j(the)g
(CLIM's)g(basic)g(input)g(stream)e(proto)r(col)g(based)h(on)149
2476 y(CLIM's)c(input)h(k)n(ernel.)36 b(It)22 b(de\014nes)f(a)g
Ft(handle-event)i Fr(metho)r(d)d(for)h(k)n(eystrok)n(e)h(ev)n(en)n(ts)g(and)f
(queues)g(the)149 2542 y(resulting)c(c)n(haracters)e(in)k(a)f(p)r(er-stream)d
(input)i(bu\013er.)24 b(Mem)n(b)r(ers)16 b(of)i(this)g(class)g(are)f(m)n
(utable.)49 2675 y Fj(\))45 b Ft(stream-read-char)30 b Fs(str)m(e)m(am)1182
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2794 y(Returns)g(the)h(next)g
(c)n(haracter)f(a)n(v)m(ailable)i(in)g(the)f Fm(input)h(stream)d
Fs(str)m(e)m(am)p Fr(,)28 b(or)c Ft(:eof)g Fr(if)h(the)e(stream)f(is)i(at)149
2861 y(end-of-\014le.)g(If)18 b(no)g(c)n(haracter)e(is)j(a)n(v)m(ailable)f
(this)g(function)f(will)i(w)n(ait)g(un)n(til)f(one)g(b)r(ecomes)d(a)n(v)m
(ailable.)49 2993 y Fj(\))45 b Ft(stream-unread-char)30 b Fs(str)m(e)m(am)21
b(char)m(acter)883 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
3112 y(Places)d(the)g(c)n(haracter)f Fs(char)m(acter)24 b Fr(bac)n(k)c(in)n
(to)g(the)f Fm(input)h(stream)e Fs(str)m(e)m(am)p Fr('s)k(input)e(bu\013er.)
30 b(The)20 b(next)f(call)149 3179 y(to)g Ft(read-char)i Fr(on)e
Fs(str)m(e)m(am)j Fr(will)g(return)c(the)h(unread)f(c)n(haracter.)28
b(The)19 b(c)n(haracter)f(supplied)h(m)n(ust)g(b)r(e)g(the)149
3245 y(most)d(recen)n(t)h(c)n(haracter)f(read)h(from)g(the)g(stream.)49
3378 y Fj(\))45 b Ft(stream-read-char-no-hang)30 b Fs(str)m(e)m(am)950
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])1262 3632 y(190)p
eop
%%Page: 191 206
bop 149 16 a Fm(CHAPTER)16 b(22.)43 b(EXTENDED)17 b(STREAM)g(INPUT)1034
b Fr(191)149 210 y(Lik)n(e)18 b Ft(stream-read-char)p Fr(,)i(except)d(that)g
(if)i(no)e(c)n(haracter)f(is)j(a)n(v)m(ailable)f(the)g(function)e(returns)h
Fm(false)p Fr(.)49 342 y Fj(\))45 b Ft(stream-peek-char)30
b Fs(str)m(e)m(am)1182 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 461 y(Returns)17 b(the)h(next)g(c)n(haracter)f(a)n(v)m(ailable)i(in)
g(the)f Fm(input)h(stream)d Fs(str)m(e)m(am)p Fr(.)29 b(The)19
b(c)n(haracter)d(is)j(not)g(remo)n(v)n(ed)149 528 y(from)13
b(the)g(input)h(bu\013er.)22 b(Th)n(us,)16 b(the)d(same)g(c)n(haracter)f
(will)j(b)r(e)f(returned)e(b)n(y)j(a)f(subsequen)n(t)f(call)h(to)g
Ft(stream-)149 594 y(read-char)p Fr(.)49 727 y Fj(\))45 b Ft(stream-listen)29
b Fs(str)m(e)m(am)1270 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 846 y(Returns)16 b Fm(true)h Fr(if)i(there)d(is)j(input)f(a)n(v)m
(ailable)g(on)g(the)f Fm(input)h(stream)e Fs(str)m(e)m(am)p
Fr(,)k Fm(false)e Fr(if)h(not.)49 979 y Fj(\))45 b Ft(stream-read-line)30
b Fs(str)m(e)m(am)1182 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1098 y(Reads)17 b(and)g(returns)f(a)i(string)f(con)n(taining)g(a)h
(line)g(of)g(text)f(from)g(the)g Fm(input)g(stream)f Fs(str)m(e)m(am)p
Fr(,)k(delimited)d(b)n(y)149 1164 y(the)g Ft(#\\Newline)i Fr(c)n(haracter.)49
1297 y Fj(\))45 b Ft(stream-clear-input)30 b Fs(str)m(e)m(am)1124
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1416 y(Clears)17
b(an)n(y)i(bu\013ered)e(input)g(asso)r(ciated)f(with)i(the)f
Fm(input)h(stream)e Fs(str)m(e)m(am)p Fr(,)k(and)e(returns)e
Fm(false)p Fr(.)149 1666 y Fk(22.2)91 b(Extended)31 b(Input)f(Streams)149
1853 y Fr(In)15 b(addition)f(to)h(the)f(basic)h(input)f(stream)f(proto)r
(col,)h(CLIM)g(de\014nes)g(an)h(extended)e(input)i(stream)d(proto)r(col.)149
1920 y(This)21 b(proto)r(col)e(extends)g(the)i(stream)d(mo)r(del)i(to)g(allo)
n(w)i(manipulation)d(of)i(non-c)n(haracter)d(user)i(gestures,)149
1986 y(suc)n(h)k(as)g(p)r(oin)n(ter)f(button)g(presses.)42
b(The)24 b(extended)e(input)i(proto)r(col)f(pro)n(vides)h(the)f(programmer)e
(with)149 2053 y(more)16 b(con)n(trol)i(o)n(v)n(er)g(input)g(pro)r(cessing,)e
(including)i(the)f(options)h(of)g(sp)r(ecifying)f(input)h(w)n(ait)g(timeouts)
e(and)149 2119 y(auxiliary)i(input)g(test)f(functions.)49 2252
y Fj(\))45 b Ft(extended-input-stream)1304 b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23
b(Class)5 b Fr(])149 2371 y(The)14 b(proto)r(col)f(class)i(for)f(CLIM)h
(extended)e(input)h(streams.)21 b(This)16 b(is)f(a)g(sub)r(class)e(of)i
Ft(input-stream)p Fr(.)25 b(If)15 b(y)n(ou)149 2437 y(w)n(an)n(t)k(to)g
(create)e(a)j(new)f(class)g(that)f(b)r(eha)n(v)n(es)g(lik)n(e)j(an)e
(extended)e(input)i(stream,)f(it)h(should)g(b)r(e)g(a)g(sub)r(class)149
2504 y(of)k Ft(extended-input-stream)p Fr(.)42 b(Sub)r(classes)21
b(of)j Ft(extended-input-stream)h Fr(m)n(ust)d(ob)r(ey)h(the)f(extended)149
2570 y(input)17 b(stream)f(proto)r(col.)49 2703 y Fj(\))45
b Ft(extended-input-stream-p)30 b Fs(obje)m(ct)1211 b Fr([)p
Fs(F)l(unction)t Fr(])149 2822 y(Returns)16 b Fm(true)h Fr(if)i
Fs(obje)m(ct)h Fr(is)f(a)f(CLIM)g Fm(extended)e(input)i(stream)p
Fr(,)e(otherwise)g(returns)h Fm(false)p Fr(.)49 2955 y Fj(\))45
b Ft(:input-buffer)1685 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b
Fr(])49 3021 y Fj(\))45 b Ft(:pointer)1830 b Fr([)p Fs(Init)21
b(A)o(r)m(g)5 b Fr(])49 3088 y Fj(\))45 b Ft(:text-cursor)1714
b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])149 3207 y(All)16
b(sub)r(classes)e(of)i Ft(extended-input-stream)h Fr(m)n(ust)e(handle)g
(these)f(initargs,)i(whic)n(h)g(are)f(used)g(to)h(sp)r(ecify)-5
b(,)149 3273 y(resp)r(ectiv)n(ely)g(,)17 b(the)h(input)f(bu\013er,)h(p)r(oin)
n(ter,)f(and)h(text)f(cursor)g(for)h(the)f(extended)f(input)i(stream.)49
3406 y Fj(\))45 b Ft(standard-extended-input-stream)1258 b
Fr([)p Fs(Class)5 b Fr(])p eop
%%Page: 192 207
bop 149 16 a Fm(CHAPTER)16 b(22.)43 b(EXTENDED)17 b(STREAM)g(INPUT)1034
b Fr(192)149 210 y(This)22 b(class)f(pro)n(vides)g(an)h(implemen)n(tation)c
(of)k(the)f(CLIM)g(extended)f(input)h(stream)f(proto)r(col)f(based)i(on)149
276 y(CLIM's)f(input)f(k)n(ernel.)31 b(The)20 b(extended)e(input)h(stream)f
(main)n(tains)h(the)g(state)g(of)h(the)f(displa)n(y's)i(p)r(oin)n(ting)149
342 y(devices)f(\(suc)n(h)g(as)g(a)h(mouse\))e(in)i(p)r(oin)n(ter)e(ob)s
(jects)g(asso)r(ciated)f(with)j(the)f(stream.)30 b(It)21 b(de\014nes)e(a)i
Ft(handle-)149 409 y(event)13 b Fr(metho)r(ds)d(for)j(k)n(eystrok)n(e)g(and)f
(p)r(oin)n(ter)g(motion)f(and)i(button)e(press)h(ev)n(en)n(ts)h(and)f(up)r
(dates)f(the)h(p)r(oin)n(ter)149 475 y(ob)s(ject)k(state)h(and)g(queues)h
(the)f(resulting)g(ev)n(en)n(ts)h(in)g(a)h(p)r(er-stream)14
b(input)k(bu\013er.)149 608 y(Mem)n(b)r(ers)d(of)j(this)g(class)g(are)g(m)n
(utable.)149 829 y Fp(22.2.1)75 b(The)25 b(Extended)f(Input)f(Stream)i(Proto)
r(col)149 998 y Fr(The)13 b(follo)n(wing)i(generic)d(functions)g(comprise)g
(the)h(extended)f(input)h(stream)f(proto)r(col.)21 b(All)14
b(extended)e(input)149 1064 y(streams)j(m)n(ust)j(implemen)n(t)e(metho)r(ds)f
(for)j(these)e(generic)h(functions.)49 1197 y Fj(\))45 b Ft
(stream-input-buffer)30 b Fs(str)m(e)m(am)1095 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])49 1316 y Fj(\))45 b Ft(\(setf)29 b
(stream-input-buffer\))h Fs(bu\013er)21 b(str)m(e)m(am)734
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1435 y(The)e(functions)g(pro)
n(vide)h(access)e(to)i(the)f(stream's)f(input)i(bu\013er.)32
b(Normally)20 b(programs)f(do)i(not)f(need)g(to)149 1502 y(manipulate)13
b(the)j(input)f(bu\013er)g(directly)-5 b(.)24 b(It)16 b(is)g(sometimes)d
(useful)i(to)h(cause)e(sev)n(eral)i(streams)d(to)j(share)e(the)149
1568 y(same)g(input)i(bu\013er)f(so)h(that)f(input)h(that)e(comes)h(in)h(on)g
(one)f(of)h(them)f(is)h(a)n(v)m(ailable)h(to)f(an)f(input)h(call)g(on)g(an)n
(y)149 1635 y(of)21 b(the)f(streams.)31 b(The)21 b(input)f(bu\013er)g(m)n
(ust)g(b)r(e)h(v)n(ector)f(with)h(a)g(\014ll)h(p)r(oin)n(ter)d(capable)h(of)h
(holding)g(general)149 1701 y(input)c(gesture)f(ob)s(jects)h(\(suc)n(h)g(as)h
(c)n(haracters)e(and)h(ev)n(en)n(t)h(ob)s(jects\).)49 1834
y Fj(\))45 b Ft(stream-pointers)30 b Fs(str)m(e)m(am)1211 b
Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1953 y(Returns)17
b(the)i(list)g(of)h(p)r(oin)n(ter)e(ob)s(jects)f(corresp)r(onding)f(to)j(the)
g(p)r(oin)n(ting)f(devices)h(of)g(the)f(p)r(ort)g(asso)r(ciated)149
2019 y(with)23 b Fs(str)m(e)m(am)p Fr(.)43 b(This)23 b(function)g(returns)e
(ob)s(jects)h(that)g(rev)n(eal)i(CLIM's)f(in)n(ternal)g(state;)i(do)e(not)g
(mo)r(dify)149 2086 y(those)17 b(ob)s(jects.)49 2218 y Fj(\))45
b Ft(stream-primary-pointer)30 b Fs(str)m(e)m(am)1008 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])49 2337 y Fj(\))45 b Ft(\(setf)29
b(stream-primary-pointer\))h Fs(p)m(ointer)22 b(str)m(e)m(am)616
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2456 y(Returns)13
b(\(or)i(sets\))g(the)f(p)r(oin)n(ter)h(ob)s(ject)f(corresp)r(onding)e(to)j
(the)g(primary)f(p)r(oin)n(ting)h(device)g(of)h(the)e(console.)149
2589 y Fo(Note:)33 b Fr(CLIM)23 b(curren)n(tly)f(supp)r(orts)e(only)k(a)f
(single)g(p)r(oin)n(ter)e(for)i(an)n(y)g(p)r(ort.)38 b(Therefore,)22
b(the)h(length)f(of)149 2656 y(the)f(list)h(returned)d(b)n(y)k
Ft(stream-pointers)f Fr(will)i(alw)n(a)n(ys)e(b)r(e)f(one,)i(and)e
Ft(stream-primary-pointer)i Fr(will)149 2722 y(alw)n(a)n(ys)c(return)d(an)i
(ob)s(ject)f(that)g(is)h(the)g(only)g(elemen)n(t)f(of)h(that)e(list.)49
2855 y Fj(\))45 b Ft(stream-pointer-position)30 b Fs(str)m(e)m(am)22
b Ft(&key)29 b Fs(p)m(ointer)645 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 2974 y(Returns)14 b(the)h(curren)n(t)f(p)r(osition)g(of)i(the)f(p)r
(oin)n(ting)g(device)g Fs(p)m(ointer)j Fr(for)d(the)g Fm(extended)f(input)h
(stream)e Fs(str)m(e)m(am)149 3040 y Fr(as)h(t)n(w)n(o)h(v)m(alues,)g(the)f
Fn(x)g Fr(and)g Fn(y)j Fr(p)r(ositions)d(in)h(the)e(stream's)g(dra)n(wing)h
(surface)f(co)r(ordinate)f(system.)21 b(If)15 b Fs(p)m(ointer)149
3107 y Fr(is)j(not)g(supplied,)g(it)g(defaults)f(to)h(the)f
Ft(stream-primary-pointer)j Fr(of)e(the)f(stream.)49 3240 y
Fj(\))45 b Ft(\(setf*)29 b(stream-pointer-position\))i Fs(x)19
b(y)h(str)m(e)m(am)h Ft(&key)29 b Fs(p)m(ointer)321 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 3359 y(Sets)17 b(the)g(p)r(osition)g
(of)h(the)g(p)r(oin)n(ting)f(device)h(for)g(the)f Fm(extended)f(input)i
(stream)e Fs(str)m(e)m(am)k Fr(to)e Fs(x)g Fr(and)g Fs(y)p
Fr(,)g(whic)n(h)149 3425 y(are)f(in)n(tegers.)24 b Fs(p)m(ointer)c
Fr(is)f(as)f(for)f Ft(stream-pointer-position)p Fr(.)p eop
%%Page: 193 208
bop 149 16 a Fm(CHAPTER)16 b(22.)43 b(EXTENDED)17 b(STREAM)g(INPUT)1034
b Fr(193)49 210 y Fj(\))45 b Ft(stream-set-input-focus)30 b
Fs(str)m(e)m(am)1008 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 329 y(Sets)c(the)h(\\input)g(fo)r(cus")f(to)h(the)g
Fm(extended)e(input)i(stream)f Fs(str)m(e)m(am)j Fr(and)e(returns)f(the)h
(old)g(input)g(fo)r(cus)g(as)149 395 y(its)f(v)m(alue.)49 528
y Fj(\))45 b Ft(stream-restore-input-focus)30 b Fs(str)m(e)m(am)22
b(old-fo)m(cus)660 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
647 y(Restores)16 b(the)h(\\input)g(fo)r(cus")g(of)h(the)f
Fm(extended)f(input)i(stream)e Fs(str)m(e)m(am)k Fr(to)e Fs(old-fo)m(cus)p
Fr(.)49 780 y Fj(\))45 b Ft(with-input-focus)30 b Fs(\(str)m(e)m(am\))20
b Ft(&body)30 b Fs(b)m(o)m(dy)1111 b Fr([)p Fs(Macr)m(o)s Fr(])149
899 y(T)-5 b(emp)r(orarily)19 b(giv)n(es)i(the)f(k)n(eyb)r(oard)f(input)i(fo)
r(cus)e(to)h(the)g Fm(extended)f(input)h(stream)e Fs(str)m(e)m(am)p
Fr(.)35 b(By)21 b(default,)149 965 y(an)d(application)f(frame)f(giv)n(es)j
(the)e(input)g(fo)r(cus)g(to)h(the)f(windo)n(w)i(asso)r(ciated)c(with)j
Ft(frame-query-io)p Fr(.)149 1098 y(The)23 b Fs(str)m(e)m(am)i
Fr(argumen)n(t)c(is)j(not)e(ev)m(aluated,)h(and)g(m)n(ust)f(b)r(e)h(a)g(sym)n
(b)r(ol)g(that)f(is)i(b)r(ound)d(to)i(a)g(stream.)38 b(If)149
1164 y Fs(str)m(e)m(am)25 b Fr(is)f Ft(t)p Fr(,)h Ft(*standard-input*)f
Fr(is)g(used.)39 b Fs(b)m(o)m(dy)24 b Fr(ma)n(y)f(ha)n(v)n(e)h(zero)e(or)h
(more)e(declarations)g(as)i(its)g(\014rst)149 1231 y(forms.)49
1364 y Fj(\))45 b Ft(*input-wait-test*)1564 b Fr([)p Fs(V)l(ariable)t
Fr(])49 1430 y Fj(\))45 b Ft(*input-wait-handler*)1477 b Fr([)p
Fs(V)l(ariable)t Fr(])49 1496 y Fj(\))45 b Ft(*pointer-button-press-handler*)
1187 b Fr([)p Fs(V)l(ariable)t Fr(])149 1615 y(These)20 b(three)g(v)m
(ariables)h(are)g(used)g(to)g(hold)g(the)g(default)f(v)m(alues)h(for)g(the)g
(curren)n(t)f(input)h(w)n(ait)h(test,)f(w)n(ait)149 1682 y(handler,)c(and)h
(p)r(oin)n(ter)f(button)f(press)h(handler.)24 b(These)17 b(v)m(ariables)g
(are)h(globally)g(b)r(ound)f(to)h Ft(nil)p Fr(.)49 1815 y Fj(\))45
b Ft(read-gesture)29 b(&key)h Fs(\(str)m(e)m(am)15 b Ft(*standard-input*)p
Fs(\))g(time)m(out)h(p)m(e)m(ek-p)g(\(input-wait-test)f Ft(*input-wait-test*)
p Fs(\))149 1881 y(\(input-wait-hand)s(ler)h Ft(*input-wait-handler*)p
Fs(\))f(\(p)m(ointer-button-pr)m(ess-hand)s(ler)j Ft
(*pointer-button-press-handler*)p Fs(\))149 1948 y Fr([)p Fs(F)l(unction)t
Fr(])149 2067 y(Calls)g Ft(stream-read-gesture)i Fr(on)e(the)f
Fm(extended)f(input)i(stream)e Fs(str)m(e)m(am)k Fr(and)d(all)i(of)f(the)g
(other)e(k)n(eyw)n(ord)149 2133 y(argumen)n(ts.)22 b(These)17
b(argumen)n(ts)e(are)j(the)f(same)g(as)h(for)g Ft(stream-read-gesture)p
Fr(.)49 2266 y Fj(\))45 b Ft(stream-read-gesture)30 b Fs(str)m(e)m(am)16
b Ft(&key)29 b Fs(time)m(out)16 b(p)m(e)m(ek-p)g(\(input-wait-test)f
Ft(*input-wait-test*)p Fs(\))g(\(input-)149 2332 y(wait-hand)s(ler)h
Ft(*input-wait-handler*)p Fs(\))f(\(p)m(ointer-button-pr)m(ess-hand)s(ler)k
Ft(*pointer-button-press-handler*)p Fs(\))149 2399 y Fr([)p
Fs(Generic)i(F)l(unction)t Fr(])149 2518 y(Returns)12 b(the)h(next)h(gesture)
e(a)n(v)m(ailable)i(in)g(the)g Fm(extended)e(input)h(stream)f
Fs(str)m(e)m(am)p Fr(;)18 b(the)13 b(gesture)f(will)j(b)r(e)f(either)149
2584 y(a)k(c)n(haracter)e(or)h(an)h(ev)n(en)n(t)g(\(suc)n(h)g(as)g(a)g(p)r
(oin)n(ter)e(button)h(ev)n(en)n(t\).)24 b(The)18 b(input)f(is)i(not)e(ec)n
(ho)r(ed.)149 2717 y(If)i(the)g(user)g(t)n(yp)r(es)f(an)i(ab)r(ort)d(gesture)
h(\(that)g(is,)i(a)g(gesture)d(that)i(matc)n(hes)e(an)n(y)j(of)f(the)g
(gesture)e(names)h(in)149 2783 y Ft(*abort-gestures*)p Fr(\),)h(then)e(the)g
Ft(abort-gesture)j Fr(condition)c(will)k(b)r(e)d(signalled.)149
2916 y(If)f(the)e(user)h(t)n(yp)r(es)g(an)h(accelerator)c(gesture)i(\(that)g
(is,)j(a)e(gesture)f(that)h(matc)n(hes)e(an)n(y)j(of)g(the)f(gesture)e(names)
149 2983 y(in)18 b Ft(*accelerator-gestures*)p Fr(\),)i(then)d(the)g
Ft(accelerator-gesture)j Fr(condition)d(will)i(b)r(e)f(signalled.)149
3115 y Ft(stream-read-gesture)23 b Fr(w)n(orks)f(b)n(y)g(in)n(v)n(oking)h
Ft(stream-input-wait)g Fr(on)e Fs(str)m(e)m(am)p Fr(,)k Fs(input-wait-test)p
Fr(,)g(and)149 3182 y Fs(time)m(out)p Fr(,)17 b(and)e(then)e(pro)r(cessing)f
(the)i(input,)i(if)f(there)e(is)i(an)n(y)-5 b(.)25 b Ft(:around)15
b Fr(metho)r(ds)d(on)i(this)h(generic)e(function)149 3248 y(in)n(v)n(ok)n(e)
19 b(a)f(gesture)e(prepro)r(cessing)e(mec)n(hanism)i(on)i(ev)n(ery)g
(gesture.)k(F)-5 b(or)18 b(a)g(discussion)f(of)h(this)g(facilit)n(y)-5
b(,)19 b(see)149 3315 y(the)e(Section)g(22.6.)149 3447 y Fs(time)m(out)27
b Fr(is)f(either)e Ft(nil)i Fr(or)f(an)g(in)n(teger)g(that)f(sp)r(eci\014es)g
(the)g(n)n(um)n(b)r(er)g(of)i(seconds)d(that)i Ft(stream-read-)p
eop
%%Page: 194 209
bop 149 16 a Fm(CHAPTER)16 b(22.)43 b(EXTENDED)17 b(STREAM)g(INPUT)1034
b Fr(194)149 210 y Ft(gesture)17 b Fr(will)h(w)n(ait)g(for)e(input)g(to)h(b)r
(ecome)c(a)n(v)m(ailable.)25 b(If)17 b(no)g(input)f(is)h(a)n(v)m(ailable,)h
Ft(stream-read-gesture)149 276 y Fr(will)h(return)e(t)n(w)n(o)h(v)m(alues,)g
Ft(nil)h Fr(and)f Ft(:timeout)p Fr(.)149 409 y(If)g(the)f(b)r(o)r(olean)f
Fs(p)m(e)m(ek-p)21 b Fr(is)e Fm(true)p Fr(,)e(then)g(the)g(returned)f
(gesture)g(will)k(b)r(e)d(left)h(in)h(the)e(stream's)f(input)i(bu\013er.)149
542 y Fs(input-wait-test)g Fr(is)f(a)f(function)f(of)i(one)f(argumen)n(t,)e
(the)i(stream.)22 b(The)16 b(function)f(should)h(return)f Fm(true)g
Fr(when)149 608 y(there)j(is)j(input)f(to)g(pro)r(cess,)f(otherwise)g(it)h
(should)g(return)e Fm(false)p Fr(.)31 b(This)21 b(argumen)n(t)d(will)j(b)r(e)
f(passed)f(on)h(to)149 674 y Ft(stream-input-wait)p Fr(.)26
b Ft(stream-read-gesture)19 b Fr(will)h(bind)e Ft(*input-wait-test*)h
Fr(to)f Fs(input-wait-test)p Fr(.)149 807 y Fs(input-wait-hand)s(ler)j
Fr(is)e(a)f(function)f(of)i(one)f(argumen)n(t,)e(the)i(stream.)23
b(It)18 b(is)h(called)g(when)e Ft(stream-input-)149 874 y(wait)j
Fr(returns)d Fm(false)i Fr(\(that)f(is,)i(no)f(input)g(is)h(a)n(v)m
(ailable\).)28 b(This)20 b(option)e(can)h(b)r(e)f(used)h(in)h(conjunction)d
(with)149 940 y Fs(input-wait-test)24 b Fr(to)f(handle)f(conditions)f(other)g
(than)h(k)n(eyb)r(oard)g(gestures,)g(or)g(to)h(pro)n(vide)f(some)g(sort)g(of)
149 1007 y(in)n(teractiv)n(e)16 b(b)r(eha)n(vior)g(\(suc)n(h)g(as)h(highligh)
n(ting)g(applicable)f(presen)n(tations\).)22 b Ft(stream-read-gesture)c
Fr(will)149 1073 y(bind)g Ft(*input-wait-handler*)h Fr(to)f
Fs(input-wait-hand)s(ler)p Fr(.)149 1206 y Fs(p)m(ointer-button-pr)m
(ess-hand)s(ler)28 b Fr(is)23 b(a)f(function)f(of)i(t)n(w)n(o)g(argumen)n
(ts,)e(the)h(stream)e(and)i(a)h(p)r(oin)n(ter)e(button)149
1272 y(press)c(ev)n(en)n(t.)25 b(It)18 b(is)h(called)f(when)g(the)f(user)h
(clic)n(ks)h(a)f(p)r(oin)n(ter)f(button.)23 b Ft(stream-read-gesture)d
Fr(will)g(bind)149 1339 y Ft(*pointer-button-press-handler*)g
Fr(to)e Fs(p)m(ointer-button-pr)m(ess-hand)s(ler)q Fr(.)149
1472 y Fs(input-wait-test)p Fr(,)i Fs(input-wait-hand)s(ler)p
Fr(,)h(and)d Fs(p)m(ointer-button-pr)m(ess-hand)s(ler)23 b
Fr(ha)n(v)n(e)c(dynamic)e(exten)n(t.)49 1604 y Fj(\))45 b Ft
(stream-input-wait)30 b Fs(str)m(e)m(am)21 b Ft(&key)30 b Fs(time)m(out)21
b(input-wait-test)439 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1723 y(W)-5 b(aits)20 b(for)h(input)f(to)g(b)r(ecome)e(a)n(v)m
(ailable)j(on)g(the)f Fm(extended)f(input)h(stream)e Fs(str)m(e)m(am)p
Fr(.)35 b Fs(time)m(out)23 b Fr(and)d Fs(input-)149 1790 y(wait-test)f
Fr(are)f(as)g(for)f Ft(stream-read-gesture)p Fr(.)49 1923 y
Fj(\))45 b Ft(unread-gesture)30 b Fs(gestur)m(e)21 b Ft(&key)29
b Fs(\(str)m(e)m(am)21 b Ft(*standard-input*)p Fs(\))588 b
Fr([)p Fs(F)l(unction)t Fr(])149 2042 y(Calls)24 b Ft(stream-unread-gesture)i
Fr(on)e Fs(gestur)m(e)i Fr(and)d Fs(str)m(e)m(am)p Fr(.)45
b(These)23 b(argumen)n(ts)f(are)h(the)g(same)g(as)h(for)149
2108 y Ft(stream-unread-gesture)p Fr(.)49 2241 y Fj(\))45 b
Ft(stream-unread-gesture)30 b Fs(str)m(e)m(am)21 b(gestur)m(e)850
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2360 y(Places)j
Fs(gestur)m(e)i Fr(bac)n(k)f(in)n(to)g(the)f Fm(extended)f(input)h(stream)e
Fs(str)m(e)m(am)p Fr('s)28 b(input)d(bu\013er.)47 b(The)26
b(next)f(call)h(to)149 2426 y Ft(stream-read-gesture)16 b Fr(request)e(will)j
(return)c(the)i(unread)e(gesture.)22 b(The)15 b(gesture)e(supplied)i(m)n(ust)
f(b)r(e)g(the)149 2493 y(most)i(recen)n(t)h(gesture)f(read)h(from)g(the)g
(stream)f(via)j Ft(read-gesture)p Fr(.)149 2714 y Fp(22.2.2)75
b(Extended)25 b(Input)e(Stream)i(Conditions)49 2883 y Fj(\))45
b Ft(*abort-gestures*)1593 b Fr([)p Fs(V)l(ariable)t Fr(])149
3002 y(A)22 b(list)i(of)f(all)g(of)g(the)f(gesture)f(names)g(that)h(corresp)r
(ond)e(to)i(ab)r(ort)f(gestures.)37 b(The)23 b(exact)f(global)g(set)h(of)149
3068 y(standard)16 b(ab)r(ort)g(gestures)g(is)j(unsp)r(eci\014ed,)d(but)h(m)n
(ust)g(include)h(the)f Ft(:abort)i Fr(gesture)d(name.)49 3201
y Fj(\))45 b Ft(abort-gesture)1640 b Fr([)p Fs(Condition)t
Fr(])149 3320 y(This)19 b(condition)f(is)h(signalled)g(b)n(y)h
Ft(read-gesture)g Fr(whenev)n(er)e(an)g(ab)r(ort)f(gesture)g(\(one)h(of)h
(the)f(gestures)f(in)149 3386 y Ft(*abort-gestures*)i Fr(is)g(read)e(from)g
(the)g(user.)p eop
%%Page: 195 210
bop 149 16 a Fm(CHAPTER)16 b(22.)43 b(EXTENDED)17 b(STREAM)g(INPUT)1034
b Fr(195)49 210 y Fj(\))45 b Ft(abort-gesture-event)30 b Fs(c)m(ondition)1031
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 329 y(Returns)13
b(the)h(ev)n(en)n(t)h(that)f(cause)g(the)h(ab)r(ort)e(gesture)g(condition)h
(to)h(b)r(e)f(signalled.)23 b Ft(condition)16 b Fr(is)g(an)f(ob)s(ject)149
395 y(of)j(t)n(yp)r(e)f Ft(abort-gesture)p Fr(.)49 528 y Fj(\))45
b Ft(*accelerator-gestures*)1419 b Fr([)p Fs(V)l(ariable)t
Fr(])149 647 y(A)16 b(list)h(of)f(all)h(of)g(the)e(gesture)g(names)g(that)g
(corresp)r(ond)e(to)j(k)n(eystrok)n(e)g(accelerators.)21 b(The)16
b(global)h(v)m(alue)f(for)149 713 y(this)i(is)g Ft(nil)p Fr(.)49
846 y Fj(\))45 b Ft(accelerator-gesture)1466 b Fr([)p Fs(Condition)t
Fr(])149 965 y(This)19 b(condition)e(is)j(signalled)f(b)n(y)g
Ft(read-gesture)h Fr(whenev)n(er)e(an)g(k)n(eystrok)n(e)h(accelerator)d
(gesture)h(\(one)h(of)149 1031 y(the)f(gestures)f(in)j Ft
(*accelerator-gestures*)g Fr(is)g(read)e(from)g(the)g(user.)49
1164 y Fj(\))45 b Ft(accelerator-gesture-event)30 b Fs(c)m(ondition)857
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1283 y(Returns)16
b(the)g(ev)n(en)n(t)i(that)f(cause)f(the)h(accelerator)e(gesture)g(condition)
i(to)g(b)r(e)g(signalled.)24 b Ft(condition)19 b Fr(is)f(an)149
1350 y(ob)s(ject)e(of)i(t)n(yp)r(e)g Ft(accelerator-gesture)p
Fr(.)49 1483 y Fj(\))45 b Ft(accelerator-gesture-numeric-argument)31
b Fs(c)m(ondition)537 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1602 y(Returns)15 b(the)i(accumlated)d(n)n(umeric)i(argumen)n(t)f
(\(main)n(tained)g(b)n(y)j(the)e(input)h(editor\))f(at)g(the)h(time)f(the)g
(ac-)149 1668 y(celerator)11 b(gesture)h(condition)h(w)n(as)h(signalled.)23
b Ft(condition)15 b Fr(is)f(an)g(ob)s(ject)f(of)g(t)n(yp)r(e)h
Ft(accelerator-gesture)p Fr(.)149 1917 y Fk(22.3)91 b(Gestures)31
b(and)e(Gesture)i(Names)149 2105 y Fr(A)14 b Fm(gesture)f Fr(is)i(some)e
(sort)g(of)i(input)f(action)f(b)n(y)i(the)f(user,)h(suc)n(h)f(as)h(t)n(yping)
f(a)h(c)n(haracter)d(or)i(clic)n(king)h(a)g(p)r(oin)n(ter)149
2172 y(button.)25 b(A)19 b Fm(k)n(eyb)r(oard)e(gesture)g Fr(refers)h(to)g
(those)g(gestures)e(that)i(are)g(input)h(b)n(y)g(t)n(yping)g(something)e(on)h
(the)149 2238 y(k)n(eyb)r(oard.)23 b(A)16 b Fm(p)r(oin)n(ter)f(gesture)f
Fr(refers)i(to)f(those)h(gestures)e(that)h(are)h(input)g(b)n(y)h(doing)f
(something)e(with)i(the)149 2304 y(p)r(oin)n(ter,)h(suc)n(h)h(as)g(clic)n
(king)h(a)f(button.)149 2437 y(A)25 b Fm(gesture)e(name)g Fr(is)j(a)f(sym)n
(b)r(ol)g(that)e(giv)n(es)j(a)f(name)f(to)g(a)i(set)e(of)h(similar)g
(gestures.)43 b(Gesture)24 b(names)149 2504 y(are)19 b(used)h(in)g(order)f
(to)h(pro)n(vide)g(a)h(lev)n(el)g(of)f(abstraction)e(ab)r(o)n(v)n(e)i(ra)n(w)
g(device)g(ev)n(en)n(ts;)h(greater)d(p)r(ortabilit)n(y)149
2570 y(can)j(th)n(us)h(b)r(e)g(ac)n(hiev)n(ed)g(b)n(y)h(a)n(v)n(oiding)f
(referring)f(directly)h(to)f(platform-dep)r(enden)n(t)d(constructs,)j(suc)n
(h)h(as)149 2636 y(c)n(haracter)c(ob)s(jects)h(that)g(refer)g(to)h(a)h
(particular)e(k)n(ey)i(on)g(the)e(k)n(eyb)r(oard.)31 b(F)-5
b(or)21 b(example,)f(the)g Ft(:complete)149 2703 y Fr(gesture)14
b(is)j(used)e(to)h(name)f(the)g(gesture)f(that)h(causes)g(the)h
Ft(complete-input)h Fr(complete)d(the)h(curren)n(t)g(input)149
2769 y(string;)k(on)g(Genera,)f(this)h(ma)n(y)g(corresp)r(ond)d(to)j(the)f
(Complete)f(k)n(ey)j(on)f(the)f(k)n(eyb)r(oard)g(\(whic)n(h)h(generates)149
2836 y(a)25 b Ft(#\\Complete)g Fr(c)n(haracter\),)f(but)h(on)f(a)h(Unix)g(w)n
(orkstation,)h(it)f(ma)n(y)g(corresp)r(ond)d(to)i(some)f(other)h(k)n(ey)-5
b(.)149 2902 y(Another)22 b(example)h(is)i Ft(:select)p Fr(,)i(whic)n(h)e(is)
f(commonly)f(used)g(to)h(indicate)g(a)g(left)g(button)f(clic)n(k)i(on)f(the)
149 2969 y(p)r(oin)n(ter.)149 3101 y(Note)19 b(that)g(gesture)f(names)g
(participate)g(in)j(a)f(one-to-man)n(y)f(mapping,)h(that)f(is,)i(a)g(single)f
(gesture)e(name)149 3168 y(can)k(name)f(a)h(group)g(of)g(ph)n(ysical)h
(gestures.)36 b(F)-5 b(or)23 b(example,)g(an)f Ft(:edit)h Fr(migh)n(t)f
(include)g(b)r(oth)f(a)i(p)r(oin)n(ter)149 3234 y(button)16
b(clic)n(k)j(and)f(a)g(k)n(ey)h(press.)149 3367 y(CLIM)d(uses)g
Fm(ev)n(en)n(t)h Fr(ob)s(jects)e(to)i(represen)n(t)d(user)i(gestures.)22
b(Some)16 b(of)h(the)f(more)f(common)f(ev)n(en)n(ts)j(are)f(those)149
3433 y(of)i(the)g(class)g Ft(pointer-button-event)p Fr(.)27
b(Ev)n(en)n(t)18 b(ob)s(jects)f(store)g(the)h(sheet)f(asso)r(ciated)f(with)i
(the)g(ev)n(en)n(t,)h(a)p eop
%%Page: 196 211
bop 149 16 a Fm(CHAPTER)16 b(22.)43 b(EXTENDED)17 b(STREAM)g(INPUT)1034
b Fr(196)149 210 y(timestamp,)15 b(and)i(the)h(mo)r(di\014er)e(k)n(ey)i
(state)f(\(a)g(quan)n(tit)n(y)i(that)e(indicates)f(whic)n(h)j(mo)r(di\014er)c
(k)n(eys)k(w)n(ere)f(held)149 276 y(do)n(wn)g(on)h(the)f(k)n(eyb)r(oard)g(at)
g(the)g(time)g(the)g(ev)n(en)n(t)h(o)r(ccurred\).)k(P)n(oin)n(ter)18
b(button)f(ev)n(en)n(t)i(ob)s(jects)e(also)i(store)149 342
y(the)d(p)r(oin)n(ter)h(ob)s(ject,)f(the)h(button)e(that)i(w)n(as)g(clic)n(k)
n(ed)i(on)e(the)f(p)r(oin)n(ter,)h(the)g(windo)n(w)h(the)e(p)r(oin)n(ter)g(w)
n(as)i(o)n(v)n(er)149 409 y(and)f(the)h Fn(x)g Fr(and)f Fn(y)k
Fr(p)r(osition)c(within)h(that)f(windo)n(w.)25 b(Keyb)r(oard)16
b(gestures)g(store)h(the)g(k)n(ey)i(name.)149 542 y(In)e(some)f(con)n(texts,)
h(the)f(ob)s(ject)g(used)h(to)g(represen)n(t)e(a)j(user)e(gesture)g(is)i
(referred)d(to)i(as)g(an)g Fm(gesture)f(ob)s(ject)p Fr(.)149
608 y(An)c(gesture)e(ob)s(ject)h(migh)n(t)g(b)r(e)h(exactly)f(the)h(same)f
(as)h(an)g(ev)n(en)n(t)g(ob)s(ject,)g(or)g(migh)n(t)g(con)n(tain)f(less)h
(information.)149 674 y(F)-5 b(or)20 b(example,)f(for)g(a)h(k)n(eyb)r(oard)e
(gesture)g(that)g(corresp)r(onds)f(to)i(a)h(standard)d(prin)n(ting)j(c)n
(haracter,)e(it)i(ma)n(y)149 741 y(b)r(e)d(enough)g(to)g(represen)n(t)f(the)i
(gesture)e(ob)s(ject)g(as)i(a)g(c)n(haracter.)49 874 y Fj(\))45
b Ft(define-gesture-name)30 b Fs(name)21 b(typ)m(e)g(gestur)m(e-sp)m(e)m(c)
976 b Fr([)p Fs(Macr)m(o)s Fr(])149 993 y(De\014nes)21 b(a)h(new)g(gesture)e
(named)g(b)n(y)j(the)e(sym)n(b)r(ol)g Fs(name)p Fr(.)38 b Fs(typ)m(e)24
b Fr(is)f(the)e(t)n(yp)r(e)g(of)h(gesture)e(b)r(eing)h(created,)149
1059 y(and)16 b(m)n(ust)f(b)r(e)h(one)g(of)g(the)g(sym)n(b)r(ols)f(describ)r
(ed)g(b)r(elo)n(w.)24 b Fs(gestur)m(e-sp)m(e)m(c)19 b Fr(sp)r(eci\014es)c
(the)g(ph)n(ysical)i(gesture)e(that)149 1126 y(corresp)r(onds)i(to)j(the)g
(named)f(gesture;)h(its)h(syn)n(tax)g(dep)r(ends)d(on)j(the)e(v)m(alue)i(of)g
Fs(typ)m(e)p Fr(.)33 b Ft(define-gesture-)149 1192 y(name)18
b Fr(m)n(ust)g(expand)f(in)n(to)h(a)g(call)h(to)e Ft(add-gesture-name)p
Fr(.)149 1325 y(None)g(of)h(the)f(argumen)n(ts)f(to)h Ft(define-gesture-name)
j Fr(is)e(ev)m(aluated.)49 1458 y Fj(\))45 b Ft(add-gesture-name)30
b Fs(name)21 b(typ)m(e)g(gestur)m(e-sp)m(e)m(c)h Ft(&key)29
b Fs(unique)677 b Fr([)p Fs(F)l(unction)t Fr(])149 1577 y(Adds)23
b(a)g(gesture)f(named)g(b)n(y)i(the)f(sym)n(b)r(ol)g Fs(name)i
Fr(to)e(the)g(set)g(of)h(gesture)e(names.)39 b Fs(typ)m(e)25
b Fr(is)g(the)e(t)n(yp)r(e)g(of)149 1643 y(gesture)c(b)r(eing)h(created,)g
(and)h(m)n(ust)f(b)r(e)h(one)f(of)i(the)e(sym)n(b)r(ols)g(describ)r(ed)f(b)r
(elo)n(w.)34 b Fs(gestur)m(e-sp)m(e)m(c)24 b Fr(sp)r(eci\014es)149
1710 y(the)18 b(ph)n(ysical)h(gesture)e(that)g(corresp)r(onds)f(to)i(the)g
(named)f(gesture;)h(its)h(syn)n(tax)g(dep)r(ends)d(on)j(the)f(v)m(alue)h(of)
149 1776 y Fs(typ)m(e)p Fr(.)149 1909 y(If)f Fs(unique)h Fr(is)g
Fm(true)p Fr(,)e(all)i(old)f(gestures)e(named)g(b)n(y)j Fs(name)h
Fr(are)d(\014rst)g(remo)n(v)n(ed.)24 b Fs(unique)19 b Fr(defaults)e(to)g
Ft(nil)p Fr(.)149 2042 y(When)22 b Fs(typ)m(e)k Fr(is)e Ft(:keyboard)p
Fr(,)i Fs(gestur)m(e-sp)m(e)m(c)g Fr(is)e(a)g(list)f(of)h(the)f(form)f
Fs(\(key-name)k(.)40 b(mo)m(di\014er-key-names\))p Fr(.)149
2108 y Fs(key-name)19 b Fr(is)e(the)g(name)e(of)i(a)g(non-mo)r(di\014er)e(k)n
(ey)j(on)f(the)f(k)n(eyb)r(oard)g(\(see)g(b)r(elo)n(w\).)24
b Fs(mo)m(di\014er-key-names)c Fr(is)149 2174 y(a)d(\(p)r(ossibly)g(empt)n
(y\))f(list)i(of)g(mo)r(di\014er)e(k)n(ey)i(names)e(\()p Ft(:shift)p
Fr(,)i Ft(:control)p Fr(,)h Ft(:meta)p Fr(,)g Ft(:super)p Fr(,)g(and)e
Ft(:hyper)p Fr(\).)149 2307 y(F)-5 b(or)13 b(the)g(standard)f(Common)f(Lisp)i
(c)n(haracters)e(\(the)i(95)g(ASCI)r(I)f(prin)n(ting)i(c)n(haracters)d
(including)i Ft(#\\Space)p Fr(\),)149 2374 y Fs(key-name)22
b Fr(is)f(the)f(c)n(haracter)e(ob)s(ject)h(itself.)31 b(F)-5
b(or)21 b(the)f(other)f(\\semi-standard")e(c)n(haracters,)h
Fs(key-name)23 b Fr(is)149 2440 y(a)f(k)n(eyw)n(ord)h(sym)n(b)r(ol)e(naming)g
(the)g(c)n(haracter)f(\()p Ft(:newline)p Fr(,)k Ft(:linefeed)p
Fr(,)h Ft(:return)p Fr(,)f Ft(:tab)p Fr(,)g Ft(:backspace)p
Fr(,)149 2507 y Ft(:page)p Fr(,)e(and)e Ft(:rubout)p Fr(\).)32
b(CLIM)20 b(implemen)n(tations)e(ma)n(y)i(extend)g(the)f(set)h(of)h(k)n(ey)g
(names)e(on)h(a)h(p)r(er-p)r(ort)149 2573 y(basic,)27 b(but)d(should)h(c)n
(ho)r(ose)f(a)h(p)r(ort-sp)r(eci\014c)d(pac)n(k)m(age.)45 b(F)-5
b(or)26 b(example,)g(the)e(Genera)h(p)r(ort)e(migh)n(t)i(suc)n(h)149
2639 y(gestures)16 b(as)i(include)f Ft(clim-genera:help)j Fr(and)d
Ft(clim-genera:complete)p Fr(.)149 2772 y(The)d(names)f(of)h(the)g(mo)r
(di\014er)e(k)n(eys)k(ha)n(v)n(e)f(b)r(een)e(c)n(hosen)g(to)i(b)r(e)e
(uniform)h(across)f(all)i(platforms,)f(ev)n(en)g(though)149
2839 y(not)g(all)i(platforms)e(will)i(ha)n(v)n(e)g(k)n(eys)g(on)f(the)g(k)n
(eyb)r(oard)f(with)h(these)f(names.)22 b(The)15 b(p)r(er-p)r(ort)e(part)h(of)
i(a)f(CLIM)149 2905 y(implemen)n(tation)22 b(m)n(ust)i(simply)h(c)n(ho)r(ose)
e(a)j(sensible)e(mapping)g(from)f(the)i(mo)r(di\014er)d(k)n(ey)k(names)e(to)g
(the)149 2971 y(names)c(of)j(the)e(k)n(eys)i(on)f(the)g(k)n(eyb)r(oard.)36
b(F)-5 b(or)22 b(example,)h(a)f(CLIM)g(implemen)n(tation)d(on)j(the)g(Macin)n
(tosh)149 3038 y(migh)n(t)17 b(map)g Ft(:meta)i Fr(to)e(the)h(Command)d
(shift)j(k)n(ey)-5 b(,)20 b(and)d Ft(:super)i Fr(to)f(the)f(Option)h(shift)g
(k)n(ey)-5 b(.)149 3171 y(When)11 b Fs(typ)m(e)i Fr(is)g Ft(:pointer-button)p
Fr(,)i Ft(:pointer-button-press)p Fr(,)g(or)c Ft(:pointer-button-release)p
Fr(,)16 b Fs(gestur)m(e-)149 3237 y(sp)m(e)m(c)22 b Fr(is)f(a)f(list)h(of)g
(the)e(form)g Fs(\(button-name)24 b(.)32 b(mo)m(di\014er-key-names\))p
Fr(.)j Fs(button)22 b Fr(is)f(the)f(name)f(of)h(a)h(p)r(oin)n(ter)149
3304 y(button)16 b(\()p Ft(:left)p Fr(,)j Ft(:middle)p Fr(,)g(or)f
Ft(:right)p Fr(\),)g(and)g Fs(mo)m(di\014er-key-names)k Fr(is)c(as)g(ab)r(o)n
(v)n(e.)149 3436 y(CLIM)26 b(implemen)n(tations)d(are)j(p)r(ermitted)d(to)j
(ha)n(v)n(e)h(other)d(v)m(alues)j(of)f Fs(typ)m(e)i Fr(as)e(an)g(extension,)i
(suc)n(h)e(as)p eop
%%Page: 197 212
bop 149 16 a Fm(CHAPTER)16 b(22.)43 b(EXTENDED)17 b(STREAM)g(INPUT)1034
b Fr(197)149 210 y Ft(:pointer-motion)19 b Fr(or)f Ft(:timer)p
Fr(.)149 342 y(As)12 b(an)g(example,)g(the)g Ft(:edit)h Fr(gesture)d(name)h
(ab)r(o)n(v)n(e)h(could)g(b)r(e)f(de\014ned)g(as)h(follo)n(ws)h(using)f
Ft(define-gesture-)149 409 y(name)p Fr(:)149 582 y Ft(\(define-gesture-name)
30 b(:edit)f(:pointer-button)h(\(:left)g(:meta\)\))149 648
y(\(define-gesture-name)g(:edit)f(:keyboard)h(\(#\\E)f(:control\)\))49
821 y Fj(\))45 b Ft(delete-gesture-name)30 b Fs(name)1333 b
Fr([)p Fs(F)l(unction)t Fr(])149 940 y(Remo)n(v)n(es)17 b(the)g(gesture)f
(named)h(b)n(y)h(the)g(sym)n(b)r(ol)f Fs(name)p Fr(.)49 1073
y Fj(\))45 b Ft(event-matches-gesture-name-p)30 b Fs(event)22
b(gestur)m(e-name)740 b Fr([)p Fs(F)l(unction)t Fr(])149 1192
y(Returns)16 b Fm(true)h Fr(if)i(the)e(device)h(ev)n(en)n(t)g
Fs(event)i Fr(\\matc)n(hes")15 b(the)j(gesture)e(named)g(b)n(y)j
Fs(gestur)m(e-name)p Fr(.)149 1325 y(F)-5 b(or)21 b(p)r(oin)n(ter)f(button)f
(ev)n(en)n(ts,)j(the)e(ev)n(en)n(t)h(matc)n(hes)e(the)h(gesture)f(name)g
(when)i(the)f(p)r(oin)n(ter)g(button)f(from)149 1391 y(the)i(ev)n(en)n(t)g
(matc)n(hes)f(the)h(name)g(of)g(the)g(p)r(oin)n(ter)g(button)f(one)h(of)h
(the)f(gesture)f(sp)r(eci\014cations)f(named)h(b)n(y)149 1458
y Fs(gestur)m(e-name)p Fr(,)g(and)15 b(the)h(mo)r(di\014er)e(k)n(ey)j(state)e
(from)g(the)g(ev)n(en)n(t)i(matc)n(hes)d(the)h(names)g(of)h(the)g(mo)r
(di\014er)e(k)n(eys)149 1524 y(in)k(that)f(same)g(gesture)f(sp)r
(eci\014cation.)149 1657 y(F)-5 b(or)22 b(k)n(eyb)r(oard)e(ev)n(en)n(ts,)j
(the)e(ev)n(en)n(t)h(matc)n(hes)e(the)h(gesture)f(name)g(when)h(the)g(k)n(ey)
i(name)d(from)h(the)g(ev)n(en)n(t)149 1723 y(matc)n(hes)i(the)j(k)n(ey)g
(name)f(of)g(one)g(of)h(the)f(gesture)f(sp)r(eci\014cations)f(named)h(b)n(y)j
Fs(gestur)m(e-name)p Fr(,)k(and)25 b(the)149 1790 y(mo)r(di\014er)16
b(k)n(ey)k(state)e(from)f(the)h(ev)n(en)n(t)h(matc)n(hes)e(the)h(names)g(of)g
(the)h(mo)r(di\014er)d(k)n(eys)k(in)f(that)f(same)g(gesture)149
1856 y(sp)r(eci\014cation.)49 1989 y Fj(\))45 b Ft
(modifier-state-matches-gesture-name-p)31 b Fs(mo)m(di\014er-state)23
b(gestur)m(e-name)275 b Fr([)p Fs(F)l(unction)t Fr(])149 2108
y(Returns)21 b Fm(true)h Fr(if)i(the)e(mo)r(di\014er)f(k)n(ey)j(state)e(from)
g(the)g(device)h(ev)n(en)n(t)g Fs(event)i Fr(matc)n(hes)c(the)i(names)e(of)i
(the)149 2175 y(mo)r(di\014er)16 b(k)n(eys)i(in)h(one)e(of)h(the)g(gesture)e
(sp)r(eci\014cations)f(named)i(b)n(y)h Fs(gestur)m(e-name)p
Fr(.)149 2307 y Fo(Minor)25 b(issue:)64 b Fm(Note)20 b(that)f(none)g(of)i
(the)f(functions)f(ab)r(o)n(v)n(e)h(tak)n(e)g(a)h(p)r(ort)e(argumen)n(t.)29
b(This)21 b(is)g(b)r(ecause)149 2374 y(CLIM)16 b(implicitly)h(assumes)e(that)
g(the)h(canonical)g(set)g(of)h(gesture)d(names)h(is)j(the)e(same)f(on)h(ev)n
(ery)h(p)r(ort,)f(and)149 2440 y(only)21 b(the)f(mappings)g(di\013er)h(from)f
(p)r(ort)f(to)i(p)r(ort.)32 b(Some)19 b(p)r(orts)h(ma)n(y)h(de\014ne)e
(additional)i(gesture)e(names,)149 2507 y(but)e(they)h(will)h(simply)f(not)g
(b)r(e)f(mapp)r(ed)f(on)i(other)e(p)r(orts.)23 b(Is)c(this)e(a)i(reasonable)d
(assumption?)22 b(|)c(SWM)149 2725 y Fp(22.3.1)75 b(Standard)24
b(Gesture)g(Names)149 2894 y Fr(Ev)n(ery)19 b(CLIM)h(implemen)n(tation)c(m)n
(ust)j(pro)n(vide)g(a)h(standard)d(set)i(of)h(gesture)d(names)h(that)h
(corresp)r(ond)d(to)149 2960 y(a)g(common)e(set)j(of)f(gestures.)22
b(These)16 b(gesture)f(names)g(m)n(ust)h(ha)n(v)n(e)h(a)g(meaningful)e
(mapping)g(for)h(ev)n(ery)h(p)r(ort)149 3027 y(t)n(yp)r(e.)149
3160 y(Here)g(are)g(the)g(required,)h(standard)e(k)n(eyb)r(oard)h(gesture)f
(names:)232 3333 y Fj(\017)27 b Ft(:abort)p Fr(|corresp)r(onds)10
b(to)h(gestures)g(that)g(cause)g(the)g(curren)n(tly)g(running)h(application)f
(to)h(b)r(e)f(ab)r(orted)287 3399 y(bac)n(k)20 b(to)f(top-lev)n(el.)31
b(On)19 b(Genera,)h(this)g(will)h(matc)n(h)d(the)i Ft(#\\Abort)g
Fr(c)n(haracter.)27 b(On)20 b(other)f(systems,)287 3466 y(this)f(ma)n(y)g
(matc)n(h)e(the)i(ev)n(en)n(t)g(corresp)r(onding)d(to)i(t)n(yping)h
Ft(Control-C)p Fr(.)p eop
%%Page: 198 213
bop 149 16 a Fm(CHAPTER)16 b(22.)43 b(EXTENDED)17 b(STREAM)g(INPUT)1034
b Fr(198)232 210 y Fj(\017)27 b Ft(:clear-input)p Fr(|corresp)r(onds)15
b(to)i(gestures)f(that)g(cause)g(the)h(curren)n(t)f(input)h(bu\013er)g(to)g
(b)r(e)g(cleared.)287 276 y(On)23 b(Genera,)h(this)f(will)h(matc)n(h)d(the)i
Ft(#\\Clear-Input)h Fr(c)n(haracter.)36 b(On)24 b(other)d(systems,)i(this)g
(ma)n(y)287 342 y(matc)n(h)17 b(the)g(ev)n(en)n(t)h(corresp)r(onding)d(to)i
(t)n(yping)i Ft(Control-U)p Fr(.)232 453 y Fj(\017)27 b Ft(:complete)p
Fr(|corresp)r(onds)18 b(to)h(the)g(gestures)f(that)h(tell)h(the)f(completion)
f(facilit)n(y)i(to)g(complete)d(the)287 520 y(curren)n(t)11
b(input.)23 b(On)13 b(most)f(systems,)g(this)h(will)i(t)n(ypically)f(matc)n
(h)d(the)h Ft(#\\Tab)i Fr(or)f Ft(#\\Escape)h Fr(c)n(haracter.)287
586 y(On)k(Genera,)g(this)g(will)h(matc)n(h)e(the)g Ft(#\\Complete)i
Fr(c)n(haracter)d(as)i(w)n(ell.)232 697 y Fj(\017)27 b Ft(:help)p
Fr(|corresp)r(onds)14 b(to)h(the)h(gestures)e(that)h(tell)h
Ft(accept)h Fr(and)f(the)f(completion)f(facilit)n(y)j(to)f(displa)n(y)287
763 y(a)23 b(help)f(message.)36 b(On)23 b(most)e(systems,)i(this)f(will)i(t)n
(ypically)g(matc)n(h)d(the)h(ev)n(en)n(t)h(corresp)r(onding)c(to)287
829 y(t)n(yping)f Ft(Control-/)p Fr(.)26 b(On)18 b(Genera,)g(this)f(will)j
(matc)n(h)d(the)g Ft(#\\Help)i Fr(c)n(haracter)c(as)j(w)n(ell.)232
940 y Fj(\017)27 b Ft(:possibilities)p Fr(|corresp)r(onds)18
b(to)h(the)g(gestures)e(that)i(tell)h(the)f(completion)e(facilit)n(y)k(to)e
(displa)n(y)287 1007 y(the)j(curren)n(t)f(set)h(of)g(p)r(ossible)g
(completions.)35 b(On)23 b(most)e(systems,)h(this)h(will)h(t)n(ypically)f
(matc)n(h)e(the)287 1073 y(ev)n(en)n(t)d(corresp)r(onding)d(to)j(t)n(yping)g
Ft(Control-?)p Fr(.)149 1261 y(Here)f(are)g(the)g(required,)h(standard)e(p)r
(oin)n(ter)h(gesture)f(names:)232 1449 y Fj(\017)27 b Ft(:select)p
Fr(|corresp)r(onds)17 b(to)i(the)g(gesture)e(that)h(is)i(used)f(to)g
(\\select")f(the)g(ob)s(ject)g(b)r(eing)h(p)r(oin)n(ted)f(to)287
1516 y(with)g(the)f(p)r(oin)n(ter.)24 b(T)n(ypically)-5 b(,)20
b(this)e(will)h(corresp)r(ond)c(to)j(the)f(left)h(button)f(on)h(the)f(p)r
(oin)n(ter.)232 1626 y Fj(\017)27 b Ft(:describe)p Fr(|corresp)r(onds)22
b(to)h(the)g(gesture)f(that)h(is)h(used)g(to)f(\\describ)r(e")f(or)h(displa)n
(y)i(some)d(sort)287 1693 y(of)i(do)r(cumen)n(tation)c(on)k(the)f(ob)s(ject)g
(b)r(eing)g(p)r(oin)n(ted)g(to)g(with)h(the)f(p)r(oin)n(ter.)42
b(T)n(ypically)-5 b(,)27 b(this)d(will)287 1759 y(corresp)r(ond)15
b(to)j(the)f(middle)g(button)g(on)h(the)f(p)r(oin)n(ter.)232
1870 y Fj(\017)27 b Ft(:menu)p Fr(|corresp)r(onds)14 b(to)j(the)f(gesture)f
(that)g(is)j(used)e(to)g(displa)n(y)i(a)f(men)n(u)f(of)g(all)i(p)r(ossible)e
(op)r(eration)287 1936 y(on)f(the)f(ob)s(ject)f(b)r(eing)h(p)r(oin)n(ted)f
(to)h(with)h(the)f(p)r(oin)n(ter.)22 b(T)n(ypically)-5 b(,)18
b(this)d(will)h(corresp)r(ond)11 b(to)k(the)f(righ)n(t)287
2003 y(button)i(on)i(the)g(p)r(oin)n(ter.)232 2114 y Fj(\017)27
b Ft(:edit)p Fr(|corresp)r(onds)15 b(to)i(the)f(gesture)g(that)g(is)i(used)e
(to)h(\\edit")g(the)f(ob)s(ject)g(b)r(eing)h(p)r(oin)n(ted)f(to)h(with)287
2180 y(the)k(p)r(oin)n(ter.)35 b(T)n(ypically)-5 b(,)25 b(this)d(will)i
(corresp)r(ond)18 b(to)k(the)f(left)h(button)e(on)i(the)f(p)r(oin)n(ter)g
(with)h(some)287 2246 y(mo)r(di\014er)16 b(k)n(ey)j(held)f(do)n(wn)g(\(suc)n
(h)f(as)h(the)g Ft(:meta)g Fr(k)n(ey\).)232 2357 y Fj(\017)27
b Ft(:delete)p Fr(|corresp)r(onds)16 b(to)j(the)f(gesture)e(that)i(is)h(used)
f(to)h(\\delete")d(the)i(ob)s(ject)g(b)r(eing)f(p)r(oin)n(ted)h(to)287
2423 y(with)f(the)g(p)r(oin)n(ter.)23 b(T)n(ypically)-5 b(,)20
b(this)d(will)i(corresp)r(ond)14 b(to)j(the)g(middle)g(button)f(on)h(the)f(p)
r(oin)n(ter)h(with)287 2490 y(some)g(mo)r(di\014er)f(k)n(ey)j(held)f(do)n(wn)
g(\(suc)n(h)f(as)h(the)f Ft(:shift)i Fr(k)n(ey\).)149 2739
y Fk(22.4)91 b(The)31 b(P)m(oin)m(ter)e(Proto)s(col)49 2927
y Fj(\))45 b Ft(pointer)1710 b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23
b(Class)5 b Fr(])149 3046 y(The)17 b(proto)r(col)e(class)i(that)f(corresp)r
(onds)e(to)j(a)g(p)r(oin)n(ting)g(device.)23 b(If)18 b(y)n(ou)g(w)n(an)n(t)f
(to)g(create)e(a)j(new)f(class)g(that)149 3112 y(b)r(eha)n(v)n(es)e(lik)n(e)j
(a)f(p)r(oin)n(ter,)e(it)i(should)f(b)r(e)g(a)g(sub)r(class)f(of)i
Ft(pointer)p Fr(.)24 b(Sub)r(classes)15 b(of)h Ft(pointer)h
Fr(m)n(ust)f(ob)r(ey)f(the)149 3179 y(p)r(oin)n(ter)h(proto)r(col.)h(Mem)n(b)
r(ers)f(of)i(this)g(class)f(are)h(m)n(utable.)49 3312 y Fj(\))45
b Ft(pointerp)29 b Fs(obje)m(ct)1647 b Fr([)p Fs(F)l(unction)t
Fr(])149 3431 y(Returns)16 b Fm(true)h Fr(if)i Fs(obje)m(ct)h
Fr(is)f(a)f Fm(p)r(oin)n(ter)p Fr(,)f(otherwise)g(returns)f
Fm(false)p Fr(.)p eop
%%Page: 199 214
bop 149 16 a Fm(CHAPTER)16 b(22.)43 b(EXTENDED)17 b(STREAM)g(INPUT)1034
b Fr(199)49 210 y Fj(\))45 b Ft(:port)1917 b Fr([)p Fs(Init)21
b(A)o(r)m(g)5 b Fr(])149 329 y(The)17 b Ft(:port)i Fr(initarg)f(is)g(used)g
(to)f(sp)r(ecify)h(the)f(p)r(ort)g(with)h(whic)n(h)g(the)f(p)r(oin)n(ter)g
(is)i(asso)r(ciated.)49 461 y Fj(\))45 b Ft(standard-pointer)1664
b Fr([)p Fs(Class)5 b Fr(])149 580 y(The)17 b(instan)n(tiable)h(class)f(that)
g(implemen)n(ts)f(a)i(p)r(oin)n(ter.)49 713 y Fj(\))45 b Ft(pointer-port)29
b Fs(p)m(ointer)1288 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 832 y(Returns)16 b(the)h(p)r(ort)g(with)h(whic)n(h)g(the)g
Fm(p)r(oin)n(ter)e Fs(p)m(ointer)21 b Fr(is)e(asso)r(ciated.)49
965 y Fj(\))45 b Ft(pointer-sheet)29 b Fs(p)m(ointer)1259 b
Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49 1031 y Fj(\))45
b Ft(\(setf)29 b(pointer-sheet\))h Fs(she)m(et)21 b(p)m(ointer)918
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1150 y(Returns)16
b(\(or)h(sets\))g(the)g(sheet)g(o)n(v)n(er)i(whic)n(h)f(the)f
Fm(p)r(oin)n(ter)g Fs(p)m(ointer)k Fr(is)d(lo)r(cated.)49 1283
y Fj(\))45 b Ft(pointer-buttons)30 b Fs(p)m(ointer)1200 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 1402 y(Returns)h(the)h(state)g(of)h
(the)f(buttons)f(of)i(the)f Fm(p)r(oin)n(ter)g Fs(p)m(ointer)p
Fr(.)47 b(This)26 b(is)f(represen)n(ted)d(in)k(the)e(same)g(as)149
1469 y Ft(pointer-event-button)p Fr(.)49 1602 y Fj(\))45 b
Ft(pointer-position)30 b Fs(p)m(ointer)1171 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 1721 y(Returns)16 b(the)h Fn(x)h Fr(and)g
Fn(y)j Fr(p)r(osition)c(of)h(the)f Fm(p)r(oin)n(ter)g Fs(p)m(ointer)j
Fr(as)e(t)n(w)n(o)h(v)m(alues.)49 1853 y Fj(\))45 b Ft(\(setf*)29
b(pointer-position\))h Fs(x)20 b(y)f(p)m(ointer)847 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 1972 y(Sets)17 b(the)g
Fn(x)h Fr(and)g Fn(y)i Fr(p)r(osition)d(of)h(the)g Fm(p)r(oin)n(ter)f
Fs(p)m(ointer)j Fr(to)e(the)f(sp)r(eci\014ed)f(p)r(osition.)49
2105 y Fj(\))45 b Ft(pointer-cursor)30 b Fs(p)m(ointer)1229
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49 2172 y Fj(\))45
b Ft(\(setf)29 b(pointer-cursor\))h Fs(cursor)21 b(p)m(ointer)853
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2291 y(A)c(p)r(oin)n(ter)f
(ob)s(ject)g(usually)i(has)f(a)g(visible)i(cursor)d(asso)r(ciated)e(with)k
(it.)26 b(These)17 b(functions)g(return)g(\(or)h(set\))149
2357 y(the)f(cursor)g(asso)r(ciated)e(with)j(the)g Fm(p)r(oin)n(ter)e
Fs(p)m(ointer)p Fr(.)149 2607 y Fk(22.5)91 b(P)m(oin)m(ter)30
b(T)-8 b(rac)m(king)49 2794 y Fj(\))45 b Ft(tracking-pointer)30
b Fs(\(she)m(et)15 b Ft(&key)29 b Fs(p)m(ointer)16 b(multiple-windows)f(tr)m
(ansformp)i(c)m(ontext-typ)m(e)g(highlight\))f Ft(&body)149
2861 y Fs(b)m(o)m(dy)2002 b Fr([)p Fs(Macr)m(o)s Fr(])149 2980
y(The)21 b Ft(tracking-pointer)j Fr(macro)c(pro)n(vides)i(a)g(general)e
(means)h(for)h(running)f(co)r(de)f(while)j(follo)n(wing)f(the)149
3046 y(p)r(osition)17 b(of)i(a)g(p)r(oin)n(ting)f(device,)h(and)g(monitoring)
d(for)j(other)e(input)i(ev)n(en)n(ts.)27 b(The)18 b(programmer)d(supplies)149
3112 y(co)r(de)g(\(the)h(clauses)g(in)i Fs(b)m(o)m(dy)p Fr(\))g(to)f(b)r(e)f
(run)h(up)r(on)f(the)g(o)r(ccurrence)e(of)j(an)n(y)h(of)f(the)f(follo)n(wing)
i(t)n(yp)r(es)e(of)h(ev)n(en)n(ts:)232 3301 y Fj(\017)27 b
Fr(Motion)17 b(of)h(the)g(p)r(oin)n(ter)232 3411 y Fj(\017)27
b Fr(Motion)17 b(of)h(the)g(p)r(oin)n(ter)e(o)n(v)n(er)j(a)f(presen)n(tation)
p eop
%%Page: 200 215
bop 149 16 a Fm(CHAPTER)16 b(22.)43 b(EXTENDED)17 b(STREAM)g(INPUT)1034
b Fr(200)232 210 y Fj(\017)27 b Fr(Clic)n(king)19 b(or)f(releasing)f(a)h(p)r
(oin)n(ter)f(button)232 320 y Fj(\017)27 b Fr(Clic)n(king)19
b(or)f(releasing)f(a)h(p)r(oin)n(ter)f(button)f(while)j(the)e(p)r(oin)n(ter)g
(is)i(o)n(v)n(er)f(a)g(presen)n(tation)232 431 y Fj(\017)27
b Fr(Keyb)r(oard)16 b(ev)n(en)n(t)i(\(t)n(yping)g(a)g(c)n(haracter\))149
619 y(The)g Fs(she)m(et)i Fr(argumen)n(t)d(is)i(not)f(ev)m(aluated,)f(and)i
(m)n(ust)e(b)r(e)h(a)h(sym)n(b)r(ol)f(that)f(is)j(b)r(ound)d(to)h(an)g(input)
h(sheet)e(or)149 686 y(stream.)27 b(If)20 b Fs(she)m(et)h Fr(is)f
Ft(t)p Fr(,)h Ft(*standard-output*)g Fr(is)g(used.)28 b Fs(b)m(o)m(dy)21
b Fr(ma)n(y)f(ha)n(v)n(e)g(zero)f(or)g(more)f(declarations)g(as)149
752 y(its)g(\014rst)f(forms.)149 885 y(The)22 b Fs(p)m(ointer)k
Fr(argumen)n(t)21 b(sp)r(eci\014es)g(a)i(p)r(oin)n(ter)f(to)g(trac)n(k.)39
b(It)23 b(defaults)f(to)h(the)f(primary)g(p)r(oin)n(ter)g(for)g(the)149
951 y(sheet,)17 b Ft(\(stream-primary-pointer)30 b Fs(she)m(et)p
Ft(\))p Fr(.)149 1084 y(When)23 b(the)g(b)r(o)r(olean)f Fs(multiple-windows)j
Fr(is)g Fm(true)p Fr(,)g(then)e(the)g(p)r(oin)n(ter)f(will)k(b)r(e)d(trac)n
(k)n(ed)g(across)g(m)n(ultiple)149 1150 y(windo)n(ws,)18 b(otherwise)f(is)h
(will)i(b)r(e)d(trac)n(k)n(ed)h(only)g(in)h(the)e(windo)n(w)h(corresp)r
(onding)d(to)j Fs(she)m(et)p Fr(.)149 1283 y(When)j(the)g(b)r(o)r(olean)e
Fs(tr)m(ansformp)24 b Fr(is)f Fm(true)p Fr(,)f(then)e(the)h(co)r(ordinates)e
(supplied)i(to)g(the)g Ft(:pointer-motion)149 1350 y Fr(clause)g(will)i(b)r
(e)e(in)i(the)e(\\user")f(co)r(ordinate)f(system)i(rather)f(than)h(in)h
(stream)e(co)r(ordinates,)g(that)h(is,)i(the)149 1416 y(medium's)16
b(transformation)e(will)20 b(b)r(e)d(applied)h(to)g(the)f(co)r(ordinates.)149
1549 y Fs(c)m(ontext-typ)m(e)i Fr(is)d(used)f(to)h(sp)r(ecify)f(the)g(presen)
n(tation)e(t)n(yp)r(e)i(of)h(presen)n(tations)d(that)i(will)i(b)r(e)e
(\\visible")h(to)f(the)149 1615 y(trac)n(king)f(co)r(de)g(for)h(purp)r(oses)e
(of)j(highligh)n(ting)f(and)g(for)g(the)g Ft(:presentation)p
Fr(,)i Ft(:presentation-button-)149 1682 y(press)p Fr(,)e(and)d
Ft(:presentation-button-release)j Fr(clauses.)22 b(Supplying)13
b Fs(c)m(ontext-typ)m(e)j Fr(is)d(only)h(useful)e(when)149
1748 y Fs(she)m(et)22 b Fr(is)f(an)f(output)e(recording)h(stream.)28
b Fs(c)m(ontext-typ)m(e)c Fr(defaults)19 b(to)h Ft(t)p Fr(,)h(meaning)e(that)
g(all)i(presen)n(tations)149 1815 y(are)c(visible.)149 1948
y(When)11 b Fs(highlight)k Fr(is)d Fm(true)p Fr(,)h Ft(tracking-pointer)g
Fr(will)h(highligh)n(t)e(applicable)f(presen)n(tations)f(as)i(the)f(p)r(oin)n
(ter)g(is)149 2014 y(p)r(ositioned)f(o)n(v)n(er)i(them.)21
b(highligh)n(t)12 b(defaults)f(to)g Fm(true)g Fr(when)h(an)n(y)g(of)g(the)f
Ft(:presentation)p Fr(,)k Ft(:presentation-)149 2080 y(button-press)p
Fr(,)k(or)e Ft(:presentation-button-release)i Fr(clauses)d(is)i(supplied,)g
(otherwise)d(it)j(defaults)e(to)149 2147 y Fm(false)p Fr(.)149
2280 y(The)h(b)r(o)r(dy)g(of)h Ft(tracking-pointer)i Fr(consists)d(of)h(a)g
(list)g(of)g(clauses.)24 b(Eac)n(h)18 b(clause)f(is)i(of)f(the)f(form)149
2346 y Fs(\(clause-keywor)m(d)k(ar)m(glist)g(.)26 b(clause-b)m(o)m(dy\))149
2412 y Fr(and)15 b(de\014nes)f(a)h(lo)r(cal)g(function)f(to)h(b)r(e)g(run)f
(up)r(on)h(o)r(ccurrence)c(of)16 b(eac)n(h)f(t)n(yp)r(e)f(of)i(ev)n(en)n(t.)
23 b(The)15 b(p)r(ossible)g(v)m(alues)149 2479 y(for)i Fs(clause-keywor)m(d)k
Fr(and)d(the)f(asso)r(ciated)e Fs(ar)m(glist)20 b Fr(are:)232
2667 y Fj(\017)27 b Ft(:pointer-motion)19 b Fs(\()p Ft(&key)29
b Fs(window)20 b(x)g(y\))287 2733 y Fr(De\014nes)c(a)g(clause)f(to)h(run)g
(whenev)n(er)f(the)h(p)r(oin)n(ter)f(mo)n(v)n(es.)24 b(In)16
b(the)g(clause,)g Fs(window)h Fr(is)g(b)r(ound)d(to)i(the)287
2800 y(windo)n(w)i(in)f(whic)n(h)h(the)f(motion)e(o)r(ccurred,)g(and)i
Fs(x)h Fr(and)f Fs(y)g Fr(to)g(the)g(co)r(ordinates)d(of)j(the)g(p)r(oin)n
(ter.)23 b(\(See)287 2866 y(the)e(k)n(eyw)n(ord)h(argumen)n(t)d
Ft(:transformp)j Fr(b)r(elo)n(w)f(for)g(a)h(description)d(of)j(the)f(co)r
(ordinate)d(system)i(in)287 2933 y(whic)n(h)e Fs(x)h Fr(and)e
Fs(y)h Fr(are)g(expressed.\))232 3043 y Fj(\017)27 b Ft(:presentation)19
b Fs(\()p Ft(&key)29 b Fs(pr)m(esentation)23 b(window)d(x)f(y\))287
3110 y Fr(De\014nes)14 b(a)i(clause)e(to)h(run)g(whenev)n(er)f(the)g(p)r(oin)
n(ter)g(mo)n(v)n(es)h(o)n(v)n(er)h(a)f(presen)n(tation)e(of)i(the)g(desired)f
(t)n(yp)r(e.)287 3176 y(\(See)k(the)h(k)n(eyw)n(ord)h(argumen)n(t)d
Ft(:context-type)j Fr(ab)r(o)n(v)n(e)f(for)g(a)g(description)f(of)h(ho)n(w)h
(to)f(sp)r(ecify)f(the)287 3243 y(desired)23 b(t)n(yp)r(e.\))43
b(In)24 b(the)g(clause,)h Fs(pr)m(esentation)j Fr(is)d(b)r(ound)e(to)h(the)g
(presen)n(tation,)f Fs(window)i Fr(to)f(the)287 3309 y(windo)n(w)18
b(in)f(whic)n(h)h(the)f(motion)e(o)r(ccurred,)g(and)i Fs(x)h
Fr(and)f Fs(y)g Fr(to)g(the)g(co)r(ordinates)d(of)j(the)g(p)r(oin)n(ter.)23
b(\(See)287 3375 y(the)e(k)n(eyw)n(ord)h(argumen)n(t)d Ft(:transformp)j
Fr(ab)r(o)n(v)n(e)f(for)g(a)h(description)d(of)j(the)f(co)r(ordinate)d
(system)i(in)287 3442 y(whic)n(h)e Fs(x)h Fr(and)e Fs(y)h Fr(are)g
(expressed.\))p eop
%%Page: 201 216
bop 149 16 a Fm(CHAPTER)16 b(22.)43 b(EXTENDED)17 b(STREAM)g(INPUT)1034
b Fr(201)287 210 y(When)21 b(b)r(oth)f Ft(:presentation)i Fr(and)f
Ft(:pointer-motion)i Fr(clauses)d(are)h(pro)n(vided,)h(the)f(t)n(w)n(o)h
(clauses)287 276 y(are)d(m)n(utually)g(exclusiv)n(e.)29 b(The)19
b Ft(:presentation)h Fr(clause)f(will)i(run)e(only)g(if)h(the)f(p)r(oin)n
(ter)f(is)i(o)n(v)n(er)g(an)287 342 y(applicable)d(presen)n(tation,)f
(otherwise)h(the)g Ft(:pointer-motion)j Fr(clause)d(will)i(run.)232
450 y Fj(\017)27 b Ft(:pointer-button-press)20 b Fs(\()p Ft(&key)29
b Fs(event)21 b(x)f(y\))287 516 y Fr(De\014nes)15 b(a)i(clause)e(to)h(run)f
(whenev)n(er)g(a)i(p)r(oin)n(ter)e(button)f(is)j(pressed.)22
b(In)16 b(the)g(clause,)g Fs(event)i Fr(is)f(b)r(ound)287 583
y(to)22 b(the)g(p)r(oin)n(ter)f(button)g(press)h(ev)n(en)n(t.)38
b(\(The)22 b(windo)n(w)h(and)f(the)g(co)r(ordinates)e(of)i(the)g(p)r(oin)n
(ter)f(are)287 649 y(part)c(of)h Fs(event)p Fr(.\))287 736
y Fs(x)g Fr(and)f Fs(y)i Fr(are)e(the)g(transformed)d Fn(x)k
Fr(and)g Fn(y)i Fr(p)r(ositions)d(of)h(the)f(p)r(oin)n(ter.)23
b(These)17 b(will)i(b)r(e)f(di\013eren)n(t)f(from)287 802 y
Ft(pointer-event-x)27 b Fr(and)f Ft(pointer-event-y)h Fr(if)g(the)e(user)g
(transformation)d(is)27 b(not)e(the)g(iden)n(tit)n(y)287 869
y(transformation.)232 976 y Fj(\017)i Ft(:presentation-button-press)20
b Fs(\()p Ft(&key)29 b Fs(pr)m(esentation)23 b(event)e(x)f(y\))287
1043 y Fr(De\014nes)e(a)g(clause)g(to)g(run)g(whenev)n(er)f(the)h(p)r(oin)n
(ter)f(button)g(is)i(pressed)e(while)i(the)e(p)r(oin)n(ter)h(is)h(o)n(v)n(er)
g(a)287 1109 y(presen)n(tation)e(of)i(the)g(desired)f(t)n(yp)r(e.)27
b(\(See)18 b(the)h(k)n(eyw)n(ord)g(argumen)n(t)e Ft(:context-type)k
Fr(b)r(elo)n(w)e(for)g(a)287 1175 y(description)c(of)i(ho)n(w)g(to)f(sp)r
(ecify)g(the)g(desired)f(t)n(yp)r(e.\))23 b(In)17 b(the)f(clause,)h
Fs(pr)m(esentation)j Fr(is)d(b)r(ound)e(to)h(the)287 1242 y(presen)n(tation,)
k(and)g Fs(event)j Fr(to)e(the)f(p)r(oin)n(ter)f(button)h(press)g(ev)n(en)n
(t.)33 b(\(The)20 b(windo)n(w)h(and)g(the)f(stream)287 1308
y(co)r(ordinates)f(of)j(the)f(p)r(oin)n(ter)f(are)h(part)g(of)h
Fs(event)p Fr(.\))37 b Fs(x)22 b Fr(and)f Fs(y)h Fr(are)f(as)h(for)f(the)g
Ft(:pointer-button-)287 1375 y(press)e Fr(clause.)287 1461
y(When)d(b)r(oth)g Ft(:presentation-button-press)j Fr(and)e
Ft(:pointer-button-press)h Fr(clauses)e(are)h(pro-)287 1528
y(vided,)j(the)e(t)n(w)n(o)h(clauses)f(are)g(m)n(utually)h(exclusiv)n(e.)27
b(The)19 b Ft(:presentation-button-press)h Fr(clause)287 1594
y(will)k(run)e(only)h(if)h(the)d(p)r(oin)n(ter)h(is)h(o)n(v)n(er)g(an)f
(applicable)g(presen)n(tation,)g(otherwise)f(the)h Ft(:pointer-)287
1661 y(button-press)d Fr(clause)e(will)j(run.)232 1768 y Fj(\017)27
b Ft(:pointer-button-release)20 b Fs(\()p Ft(&key)29 b Fs(event)21
b(x)f(y\))287 1835 y Fr(De\014nes)14 b(a)i(clause)e(to)h(run)f(whenev)n(er)h
(a)g(p)r(oin)n(ter)f(button)f(is)j(released.)22 b(In)15 b(the)g(clause,)g
Fs(event)i Fr(is)f(b)r(ound)287 1901 y(to)k(the)f(p)r(oin)n(ter)g(button)f
(release)h(ev)n(en)n(t.)31 b(\(The)19 b(windo)n(w)i(and)e(the)h(co)r
(ordinates)d(of)j(the)f(p)r(oin)n(ter)g(are)287 1967 y(part)e(of)h
Fs(event)p Fr(.\))287 2054 y Fs(x)g Fr(and)f Fs(y)i Fr(are)e(the)g
(transformed)d Fn(x)k Fr(and)g Fn(y)i Fr(p)r(ositions)d(of)h(the)f(p)r(oin)n
(ter.)23 b(These)17 b(will)i(b)r(e)f(di\013eren)n(t)f(from)287
2121 y Ft(pointer-event-x)27 b Fr(and)f Ft(pointer-event-y)h
Fr(if)g(the)e(user)g(transformation)d(is)27 b(not)e(the)g(iden)n(tit)n(y)287
2187 y(transformation.)232 2294 y Fj(\017)i Ft(:presentation-button-release)
20 b Fs(\()p Ft(&key)29 b Fs(pr)m(esentation)23 b(event)e(x)f(y\))287
2361 y Fr(De\014nes)g(a)g(clause)g(to)g(run)h(whenev)n(er)e(a)i(p)r(oin)n
(ter)e(button)g(is)i(released)e(while)i(the)f(p)r(oin)n(ter)f(is)i(o)n(v)n
(er)h(a)287 2427 y(presen)n(tation)17 b(of)i(the)g(desired)f(t)n(yp)r(e.)27
b(\(See)18 b(the)h(k)n(eyw)n(ord)g(argumen)n(t)e Ft(:context-type)k
Fr(b)r(elo)n(w)e(for)g(a)287 2494 y(description)c(of)i(ho)n(w)g(to)f(sp)r
(ecify)g(the)g(desired)f(t)n(yp)r(e.\))23 b(In)17 b(the)f(clause,)h
Fs(pr)m(esentation)j Fr(is)d(b)r(ound)e(to)h(the)287 2560 y(presen)n(tation,)
g(and)i Fs(event)j Fr(to)d(the)f(p)r(oin)n(ter)g(button)g(release)g(ev)n(en)n
(t.)25 b(\(The)18 b(windo)n(w)g(and)g(the)g(stream)287 2627
y(co)r(ordinates)h(of)j(the)f(p)r(oin)n(ter)f(are)h(part)g(of)h
Fs(event)p Fr(.\))37 b Fs(x)22 b Fr(and)f Fs(y)h Fr(are)f(as)h(for)f(the)g
Ft(:pointer-button-)287 2693 y(release)e Fr(clause.)287 2780
y(When)d(b)r(oth)g Ft(:presentation-button-release)j Fr(and)e
Ft(:pointer-button-release)h Fr(clauses)e(are)287 2846 y(pro)n(vided,)22
b(the)f(t)n(w)n(o)h(clauses)f(are)g(m)n(utually)g(exclusiv)n(e.)35
b(The)22 b Ft(:presentation-button-release)287 2913 y Fr(clause)11
b(will)j(run)d(only)h(if)h(the)e(p)r(oin)n(ter)g(is)h(o)n(v)n(er)h(an)e
(applicable)h(presen)n(tation,)f(otherwise)f(the)h Ft(:pointer-)287
2979 y(button-release)19 b Fr(clause)f(will)h(run.)232 3086
y Fj(\017)27 b Ft(:keyboard)19 b Fs(\()p Ft(&key)29 b Fs(gestur)m(e\))287
3153 y Fr(De\014nes)23 b(a)h(clause)f(to)h(run)f(whenev)n(er)g(a)h(c)n
(haracter)d(is)k(t)n(yp)r(ed)e(on)h(the)f(k)n(eyb)r(oard.)41
b(In)24 b(the)f(clause,)287 3219 y Fs(gestur)m(e)d Fr(is)f(b)r(ound)d(to)i
(the)f(k)n(eyb)r(oard)g(gesture)g(corresp)r(onding)d(to)k(the)f(c)n(haracter)
f(t)n(yp)r(ed.)49 3399 y Fj(\))45 b Ft(drag-output-record)30
b Fs(str)m(e)m(am)16 b(output-r)m(e)m(c)m(or)m(d)h Ft(&key)29
b Fs(r)m(ep)m(aint)17 b(er)m(ase)e(fe)m(e)m(db)m(ack)j(\014nish-on-r)m(ele)m
(ase)31 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])p eop
%%Page: 202 217
bop 149 16 a Fm(CHAPTER)16 b(22.)43 b(EXTENDED)17 b(STREAM)g(INPUT)1034
b Fr(202)149 210 y(En)n(ters)16 b(an)h(in)n(teraction)e(mo)r(de)h(in)h(whic)n
(h)h(the)e(user)h(mo)n(v)n(es)g(the)f(p)r(oin)n(ter)g(and)h
Fs(output-r)m(e)m(c)m(or)m(d)k Fr(\\follo)n(ws")c(the)149 276
y(p)r(oin)n(ter)j(b)n(y)j(b)r(eing)d(dragged)g(on)i(the)f Fm(output)f
(recording)f(stream)h Fs(str)m(e)m(am)p Fr(.)37 b(By)23 b(default,)f(the)f
(dragging)f(is)149 342 y(accomplished)15 b(b)n(y)k(erasing)e(the)g(output)f
(record)g(from)h(its)h(previous)f(p)r(osition)g(and)g(redra)n(wing)g(at)h
(the)f(new)149 409 y(p)r(osition.)23 b Fs(output-r)m(e)m(c)m(or)m(d)f
Fr(remains)17 b(in)h(the)f(output)g(history)g(of)h Fs(str)m(e)m(am)j
Fr(at)c(its)h(\014nal)g(p)r(osition.)149 542 y(The)f(returned)f(v)m(alues)i
(are)f(the)h(\014nal)g Fn(x)g Fr(and)f Fn(y)k Fr(p)r(osition)c(of)h(the)f(p)r
(oin)n(ter.)149 674 y(The)e(b)r(o)r(olean)f Fs(r)m(ep)m(aint)k
Fr(allo)n(ws)f(the)e(programmer)d(to)k(con)n(trol)f(the)g(app)r(earance)d(of)
k(windo)n(ws)g(as)g(the)f(p)r(oin)n(ter)149 741 y(is)20 b(dragged.)29
b(If)21 b Fs(r)m(ep)m(aint)i Fr(is)d Fm(true)f Fr(\(the)g(default\),)h
(displa)n(y)n(ed)h(con)n(ten)n(ts)d(of)i(windo)n(ws)h(are)e(not)h(disturb)r
(ed)e(as)149 807 y(the)f(output)f(record)g(is)j(dragged)d(o)n(v)n(er)i(them)e
(\(that)g(is,)j(those)e(regions)f(of)i(the)f(screen)f(are)i(repain)n(ted\).)k
(If)c(it)149 874 y(is)g Fm(false)p Fr(,)h(then)e(no)h(repain)n(ting)f(is)h
(done)f(as)h(the)g(output)e(record)h(is)h(dragged.)149 1007
y Fs(er)m(ase)g Fr(allo)n(ws)f(the)e(programmer)e(to)j(iden)n(tify)g(a)h
(function)e(that)g(will)i(b)r(e)f(called)g(to)g(erase)f(the)h(output)e
(record)149 1073 y(as)21 b(it)h(is)h(dragged.)34 b(It)21 b(m)n(ust)g(b)r(e)g
(a)h(function)e(of)i(t)n(w)n(o)g(argumen)n(ts,)f(the)g(output)f(record)g(to)h
(erase)g(and)g(the)149 1139 y(stream;)16 b(it)i(has)g(dynamic)f(exten)n(t.)24
b(The)17 b(default)g(is)i Ft(erase-output-record)p Fr(.)149
1272 y Fs(fe)m(e)m(db)m(ack)d Fr(allo)n(ws)d(the)f(programmer)c(to)13
b(iden)n(tify)f(a)h(\\feedbac)n(k")e(function.)21 b Fs(fe)m(e)m(db)m(ack)16
b Fr(m)n(ust)c(b)r(e)g(a)g(is)h(a)g(function)149 1339 y(of)20
b(sev)n(en)g(argumen)n(ts:)26 b(the)19 b(output)g(record,)g(the)g(stream,)g
(the)h(initial)h Fn(x)f Fr(and)f Fn(y)k Fr(p)r(osition)c(of)h(the)f(p)r(oin)n
(ter,)149 1405 y(the)e(curren)n(t)g Fn(x)i Fr(and)f Fn(y)j
Fr(p)r(osition)c(of)i(the)f(p)r(oin)n(ter,)f(and)i(a)f(dra)n(wing)g(argumen)n
(t)f(\(either)f Ft(:erase)k Fr(or)e Ft(:draw)p Fr(\).)149 1472
y(It)h(has)h(dynamic)e(exten)n(t.)29 b(The)19 b(default)g(is)h
Ft(nil)p Fr(,)i(meaning)c(that)g(the)h(feedbac)n(k)g(b)r(eha)n(vior)g(will)i
(b)r(e)e(for)g(the)149 1538 y(output)12 b(record)h(to)h(trac)n(k)g(the)g(p)r
(oin)n(ter.)22 b(\(The)14 b Fs(fe)m(e)m(db)m(ack)k Fr(argumen)n(t)12
b(is)j(used)f(when)f(the)h(programmer)d(desires)149 1604 y(more)19
b(complex)g(feedbac)n(k)g(b)r(eha)n(vior,)i(suc)n(h)f(as)g(dra)n(wing)g(a)h
(\\rubb)r(er)d(band")i(line)g(as)h(the)e(user)h(mo)n(v)n(es)g(the)149
1671 y(mouse.\))i(Note)17 b(that)g(if)i Fs(fe)m(e)m(db)m(ack)i
Fr(is)e(supplied,)f Fs(er)m(ase)i Fr(is)f(ignored.)149 1804
y(If)j(the)e(b)r(o)r(olean)g Fs(\014nish-on-r)m(ele)m(ase)k
Fr(is)e Fm(false)g Fr(\(the)e(default\),)h Ft(drag-output-record)i
Fr(is)f(exited)f(when)g(the)149 1870 y(user)g(presses)f(a)i(p)r(oin)n(ter)f
(button.)34 b(When)21 b(it)h(is)h Fm(true)p Fr(,)f Ft(drag-output-record)h
Fr(is)g(exited)e(when)g(the)g(user)149 1936 y(releases)16 b(the)i(p)r(oin)n
(ter)e(button)h(curren)n(tly)g(b)r(eing)g(held)h(do)n(wn.)49
2069 y Fj(\))45 b Ft(dragging-output)30 b Fs(\()p Ft(&optional)f
Fs(str)m(e)m(am)21 b Ft(&key)30 b Fs(r)m(ep)m(aint)22 b(\014nish-on-r)m(ele)m
(ase\))f Ft(&body)30 b Fs(b)m(o)m(dy)110 b Fr([)p Fs(Macr)m(o)s
Fr(])149 2188 y(Ev)m(aluates)18 b Fs(b)m(o)m(dy)j Fr(inside)f(of)f
Ft(with-output-to-output-record)j Fr(to)d(pro)r(duce)e(an)i(output)f(record)g
(for)h(the)149 2255 y(stream)12 b Fs(str)m(e)m(am)p Fr(,)18
b(and)c(then)f(in)n(v)n(ok)n(es)j Ft(drag-output-record)g Fr(on)e(the)g
(record)e(in)j(order)f(to)g(drag)f(the)h(output.)149 2321 y(The)j(output)g
(record)f(is)j(not)e(inserted)g(in)n(to)h Fs(str)m(e)m(am)p
Fr('s)j(output)16 b(history)-5 b(.)149 2454 y(The)17 b(returned)f(v)m(alues)i
(are)f(the)h(\014nal)g Fn(x)g Fr(and)f Fn(y)k Fr(p)r(osition)c(of)h(the)f(p)r
(oin)n(ter.)149 2587 y(The)12 b Fs(str)m(e)m(am)i Fr(argumen)n(t)c(is)j(not)e
(ev)m(aluated,)i(and)e(m)n(ust)h(b)r(e)f(a)i(sym)n(b)r(ol)e(that)g(is)i(b)r
(ound)e(to)h(an)g Fm(output)e(recording)149 2653 y(stream)15
b Fr(stream.)23 b(If)18 b Fs(str)m(e)m(am)i Fr(is)f Ft(t)f
Fr(\(the)f(default\),)f Ft(*standard-output*)k Fr(is)e(used.)24
b Fs(b)m(o)m(dy)c Fr(ma)n(y)e(ha)n(v)n(e)g(zero)f(or)149 2720
y(more)f(declarations)g(as)i(its)g(\014rst)g(forms.)149 2852
y Fs(r)m(ep)m(aint)i Fr(and)e Fs(\014nish-on-r)m(ele)m(ase)j
Fr(are)c(as)h(for)g Ft(drag-output-record)p Fr(.)149 3102 y
Fk(22.6)91 b(Gesture)30 b(Prepro)s(cessing)149 3290 y Fr(Ev)n(ery)25
b(gesture)e(that)h(go)r(es)g(through)f Ft(stream-read-gesture)j
Fr(gets)e(pro)r(cessed)e(b)r(efore)i(it)h(is)g(returned.)149
3356 y(This)20 b(allo)n(ws)g(applications)f(to)g(in)n(tercept)f(gestures)f
(and)i(alter)g(the)g(\015o)n(w)h(of)g(con)n(trol.)28 b(Gesture)19
b(pro)r(cessing)149 3422 y(is)d(done)f(via)i(a)f(gesture)e(table)h(that)g
(asso)r(ciates)e(eac)n(h)j(gesture)e(with)h(a)h(function)f(of)h(t)n(w)n(o)g
(argumen)n(ts,)e Fs(str)m(e)m(am)p eop
%%Page: 203 218
bop 149 16 a Fm(CHAPTER)16 b(22.)43 b(EXTENDED)17 b(STREAM)g(INPUT)1034
b Fr(203)149 210 y(and)17 b Fs(gestur)m(e)p Fr(,)k(whic)n(h)d(is)h(applied)e
(when)h(the)f(gesture)f(is)j(read.)149 342 y Fo(Minor)k(issue:)55
b Fm(What)18 b(function)f(is)i(\\gesture)d(prepro)r(cessing")f(mean)n(t)i(to)
h(ful\014ll?)26 b(A)n(t)18 b(the)g(v)n(ery)h(least,)f(it)149
409 y(needs)d(to)i(sp)r(ecialize)e(on)i(the)f(application)g(frame,)g(or)g
(frame)f(manager,)g(or)i(p)r(ort,)f(or)g(something.)22 b(|)c(SWM)49
542 y Fj(\))45 b Ft(gesture-processing-handler)30 b Fs(gestur)m(e)1093
b Fr([)p Fs(F)l(unction)t Fr(])49 608 y Fj(\))45 b Ft(\(setf)29
b(gesture-processing-handler\))i Fs(gestur)m(e)889 b Fr([)p
Fs(F)l(unction)t Fr(])149 727 y(Manipulate)19 b(the)g(gesture)g(pro)r
(cessing)f(handler)i(for)g(a)g(particular)f(gesture.)30 b(All)21
b(p)r(oin)n(ter)e(button)g(presses)149 793 y(are)d(considered)f(equiv)m(alen)
n(t)i(at)g(this)g(la)n(y)n(er;)h(to)f(mo)r(dify)f(the)g(handler)g(for)h(p)r
(oin)n(ter)f(button)f(presses,)h(sp)r(ecify)149 860 y Ft
(:pointer-button-press)26 b Fr(as)e(the)f Fs(gestur)m(e)p Fr(.)46
b(The)24 b(default)f(v)m(alues)h(for)g(the)g(handlers)f(for)h(all)h(gestures)
149 926 y(is)h Ft(nil)p Fr(,)i(meaning)23 b(there)h(is)i(no)f(handler.)46
b(The)25 b(presen)n(tation)d(subsystem)i(could)g(b)r(e)h(implemen)n(ted)e(b)n
(y)149 993 y(installing)18 b Ft(input-context-button-press-handler)i
Fr(as)e(the)g(handler)f(for)g(p)r(oin)n(ter)g(button)f(presses.)p
eop
%%Page: 204 219
bop 149 691 a Fl(Chapter)46 b(23)149 1034 y Fq(Presen)l(tation)51
b(T)l(yp)t(es)149 1422 y Fk(23.1)91 b(Ov)m(erview)31 b(of)g(Presen)m(tation)d
(T)m(yp)s(es)149 1609 y Fr(The)17 b(core)g(around)g(whic)n(h)h(the)g(CLIM)f
(application)g(user)h(in)n(terface)e(mo)r(del)h(is)h(built)g(is)h(the)e
(concept)f(of)i(the)149 1676 y(application-de\014ned)h(user)j(in)n(terface)e
(data)h(t)n(yp)r(e.)36 b(Eac)n(h)22 b(application)f(has)h(its)g(o)n(wn)g(set)
g(of)g(seman)n(tically)149 1742 y(signi\014can)n(t)17 b(user)h(in)n(terface)f
(en)n(tities;)i(a)g(CAD)g(program)d(for)i(designing)g(circuits)g(has)g(its)h
(v)m(arious)f(kinds)h(of)149 1809 y(comp)r(onen)n(ts)f(\(gates,)j(resistors,)
g(and)f(so)i(on\),)g(while)f(a)h(database)d(manager)g(has)i(its)h(relations)e
(and)h(\014eld)149 1875 y(t)n(yp)r(es.)42 b(These)24 b(en)n(tities)f(ha)n(v)n
(e)i(to)f(b)r(e)f(displa)n(y)n(ed)i(to)f(the)g(user)f(\(p)r(ossibly)h(in)g
(more)f(than)g(one)h(displa)n(y)n(ed)149 1941 y(represen)n(tation\))15
b(and)j(the)f(user)h(has)g(to)g(b)r(e)g(able)h(to)f(in)n(teract)f(with)h(and)
g(sp)r(ecify)g(the)g(en)n(tities)g(via)h(p)r(oin)n(ter)149
2008 y(gestures)12 b(and)h(k)n(eyb)r(oard)g(input.)23 b(F)-5
b(requen)n(tly)14 b(eac)n(h)f(user)g(in)n(terface)g(en)n(tit)n(y)h(has)g(a)g
(corresp)r(onding)d(Lisp)j(data)149 2074 y(t)n(yp)r(e)k(\(suc)n(h)g(as)g(an)h
(application-sp)r(eci\014c)d(structure)g(or)i(CLOS)h(class)f(de\014nition\),)
g(but)g(this)g(is)i(not)e(alw)n(a)n(ys)149 2141 y(the)h(case.)28
b(The)20 b(data)f(represen)n(tation)d(for)k(an)f(in)n(teraction)f(en)n(tit)n
(y)i(ma)n(y)g(b)r(e)f(a)h(primitiv)n(e)f(Lisp)h(data)f(t)n(yp)r(e.)149
2207 y(In)g(fact,)h(it)g(is)g(p)r(ossible)f(for)g(sev)n(eral)g(di\013eren)n
(t)g(user)g(in)n(terface)f(en)n(tities)h(to)h(use)f(the)g(same)f(Lisp)h(data)
g(t)n(yp)r(e)149 2274 y(for)c(their)h(in)n(ternal)f(represen)n(tation,)f(for)
h(example,)h(building)g(\015o)r(or)e(n)n(um)n(b)r(ers)h(and)g(emplo)n(y)n(ee)
g(v)m(acation)g(da)n(y)149 2340 y(totals)i(could)g(b)r(oth)g(b)r(e)g
(represen)n(ted)f(in)n(ternally)i(as)g(in)n(tegers.)149 2473
y(CLIM)23 b(pro)n(vides)f(a)i(framew)n(ork)d(for)i(de\014ning)f(the)h(app)r
(earance)d(and)i(b)r(eha)n(vior)h(of)g(these)f(user)g(in)n(terface)149
2539 y(en)n(tities)15 b(via)i(the)f Fm(presen)n(tation)e(t)n(yp)r(e)i
Fr(mec)n(hanism.)21 b(A)16 b(presen)n(tation)e(t)n(yp)r(e)i(can)g(b)r(e)f
(though)n(t)g(of)h(as)g(a)h(CLOS)149 2606 y(class)22 b(that)g(has)h(some)e
(additional)h(functionalit)n(y)h(p)r(ertaining)e(to)h(its)h(roles)g(in)g(the)
f(user)g(in)n(terface)g(of)h(an)149 2672 y(application.)i(By)19
b(de\014ning)f(a)h(presen)n(tation)d(t)n(yp)r(e)i(the)g(application)f
(programmer)e(de\014nes)i(all)j(of)e(the)g(user)149 2738 y(in)n(terface)e
(comp)r(onen)n(ts)f(of)j(the)f(en)n(tit)n(y:)232 2925 y Fj(\017)27
b Fr(Its)18 b(displa)n(y)n(ed)h(represen)n(tation,)c(textual)i(or)h
(graphical)232 3036 y Fj(\017)27 b Fr(T)-5 b(extual)18 b(represen)n(tation,)d
(for)j(user)f(input)h(via)h(the)e(k)n(eyb)r(oard)232 3146 y
Fj(\017)27 b Fr(P)n(oin)n(ter)18 b(sensitivit)n(y)-5 b(,)19
b(for)f(user)f(input)h(via)g(the)g(p)r(oin)n(ter)149 3333 y(In)k(other)f(w)n
(ords,)i(b)n(y)g(de\014ning)e(a)h(presen)n(tation)e(t)n(yp)r(e,)j(the)e
(application)g(programmer)d(describ)r(es)j(in)h(one)149 3399
y(place)d(all)j(the)d(information)g(ab)r(out)f(an)i(ob)s(ject)f(necessary)g
(to)h(displa)n(y)h(it)g(to)e(the)h(user)g(and)g(in)n(teract)f(with)149
3466 y(the)e(user)g(for)h(ob)s(ject)f(input.)1262 3632 y(204)p
eop
%%Page: 205 220
bop 149 16 a Fm(CHAPTER)16 b(23.)43 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1165 b Fr(205)149 210 y(The)15 b(set)h(of)f(presen)n(tation)f(t)n(yp)
r(es)h(forms)g(a)h(t)n(yp)r(e)f(lattice,)h(an)f(extension)g(of)h(the)f
(Common)f(Lisp)h(CLOS)h(t)n(yp)r(e)149 276 y(lattice.)31 b(When)21
b(a)f(new)h(presen)n(tation)d(t)n(yp)r(e)i(is)i(de\014ned)d(as)i(a)g(subt)n
(yp)r(e)e(of)i(another)e(presen)n(tation)f(t)n(yp)r(e)i(it)149
342 y(inherits)d(all)i(the)e(attributes)f(of)i(the)f(sup)r(ert)n(yp)r(e)f
(except)h(those)f(explicitly)j(o)n(v)n(erridden)f(in)g(the)g(de\014nition.)
149 475 y Fo(Minor)26 b(issue:)69 b Fm(Describ)r(e)20 b(what)h(a)g(presen)n
(tation)f(t)n(yp)r(e)g(is)j(more)c(exactly)-5 b(.)35 b(What)21
b(is)h(a)g(parameterize)o(d)149 542 y(presen)n(tation)17 b(t)n(yp)r(e?)30
b(Wh)n(y)20 b(do)g(w)n(e)g(w)n(an)n(t)g(them?)29 b(Wh)n(y)20
b(are)f(they)h(in)g(a)g(lattice?)29 b(Ho)n(w)20 b(do)g(they)f(relate)g(to)149
608 y(CL)f(t)n(yp)r(es)f(and)h(CLOS)g(classes?)23 b(What)17
b(exactly)h(gets)f(inherited?)23 b(|)c(SWM)149 858 y Fk(23.2)91
b(Presen)m(tations)149 1045 y Fr(A)15 b Fm(presen)n(tation)d
Fr(is)k(a)f(sp)r(ecial)f(kind)h(of)g(output)e(record)h(that)f(remem)n(b)r
(ers)f(not)i(only)h(output,)g(but)f(the)g(ob)s(ject)149 1112
y(asso)r(ciated)h(with)j(the)g(output)e(and)i(the)f(seman)n(tic)f(t)n(yp)r(e)
i(asso)r(ciated)d(with)j(that)f(ob)s(ject.)149 1244 y Fo(Minor)24
b(issue:)62 b Fm(Describ)r(e)19 b(exactly)g(what)g(a)h(presen)n(tation)e(is.)
30 b(What)19 b(do)r(es)g(it)h(mean)f(for)g(presen)n(tations)149
1311 y(to)e(b)r(e)h(nested?)k(|)d(SWM)49 1444 y Fj(\))45 b
Ft(presentation)1565 b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23 b(Class)5
b Fr(])149 1563 y(The)13 b(proto)r(col)e(class)i(that)g(corresp)r(onds)d(to)j
(a)h(presen)n(tation.)20 b(A)14 b(sub)r(class)e(of)h Ft(output-record)p
Fr(.)25 b(If)13 b(y)n(ou)h(w)n(an)n(t)149 1629 y(to)j(create)e(a)j(new)f
(class)g(that)f(b)r(eha)n(v)n(es)h(lik)n(e)i(a)e(presen)n(tation,)f(it)i
(should)f(b)r(e)f(a)i(sub)r(class)e(of)h Ft(presentation)p
Fr(.)149 1696 y(Sub)r(classes)f(of)i Ft(presentation)h Fr(m)n(ust)e(ob)r(ey)g
(the)h(presen)n(tation)d(proto)r(col.)49 1828 y Fj(\))45 b
Ft(presentationp)29 b Fs(obje)m(ct)1502 b Fr([)p Fs(F)l(unction)t
Fr(])149 1947 y(Returns)16 b Fm(true)h Fr(if)i Fs(obje)m(ct)h
Fr(is)f(a)f Fm(presen)n(tation)p Fr(,)e(otherwise)h(returns)f
Fm(false)p Fr(.)49 2080 y Fj(\))45 b Ft(standard-presentation)1519
b Fr([)p Fs(Class)5 b Fr(])149 2199 y(The)16 b(output)e(record)h(class)h
(that)f(represen)n(ts)f(presen)n(tations.)22 b Ft(present)17
b Fr(normally)e(creates)g(output)f(records)149 2266 y(of)k(this)g(class.)24
b(Mem)n(b)r(ers)16 b(of)i(this)g(class)f(are)h(m)n(utable.)49
2398 y Fj(\))45 b Ft(:object)1859 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5
b Fr(])49 2465 y Fj(\))45 b Ft(:type)1917 b Fr([)p Fs(Init)21
b(A)o(r)m(g)5 b Fr(])49 2531 y Fj(\))45 b Ft(:view)1917 b Fr([)p
Fs(Init)21 b(A)o(r)m(g)5 b Fr(])49 2598 y Fj(\))45 b Ft(:single-box)1743
b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])49 2664 y Fj(\))45
b Ft(:modifier)1801 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])149
2783 y(All)20 b(presen)n(tation)d(classes)i(m)n(ust)f(handle)h(these)f(\014v)
n(e)i(initargs,)g(whic)n(h)f(are)g(used)g(to)g(sp)r(ecify)-5
b(,)20 b(resp)r(ectiv)n(ely)-5 b(,)149 2850 y(the)17 b(ob)s(ject,)g(t)n(yp)r
(e,)h(view,)h(single-b)r(o)n(x,)f(and)g(mo)r(di\014er)e(comp)r(onen)n(ts)f
(of)j(a)g(presen)n(tation.)149 3071 y Fp(23.2.1)75 b(The)25
b(Presen)n(tation)g(Proto)r(col)149 3239 y Fr(The)11 b(follo)n(wing)i
(functions)d(comprise)g(the)h(presen)n(tation)f(proto)r(col.)20
b(All)13 b(classes)e(that)g(inherit)g(from)g Ft(presentation)149
3306 y Fr(m)n(ust)17 b(implemen)n(t)f(metho)r(ds)f(for)j(these)f(generic)f
(functions.)49 3439 y Fj(\))45 b Ft(presentation-object)30
b Fs(pr)m(esentation)959 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])p eop
%%Page: 206 221
bop 149 16 a Fm(CHAPTER)16 b(23.)43 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1165 b Fr(206)149 210 y(Returns)16 b(the)h(ob)s(ject)g(asso)r(ciated)
e(with)k(the)e Fm(presen)n(tation)e Fs(pr)m(esentation)p Fr(.)49
342 y Fj(\))45 b Ft(\(setf)29 b(presentation-object\))h Fs(obje)m(ct)22
b(pr)m(esentation)599 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 461 y(Changes)16 b(the)i(ob)s(ject)e(asso)r(ciated)g(with)i(the)f
Fm(presen)n(tation)f Fs(pr)m(esentation)21 b Fr(to)d Fs(obje)m(ct)p
Fr(.)49 594 y Fj(\))45 b Ft(presentation-type)30 b Fs(pr)m(esentation)1017
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 713 y(Returns)16
b(the)h(presen)n(tation)f(t)n(yp)r(e)i(asso)r(ciated)d(with)j(the)f
Fm(presen)n(tation)f Fs(pr)m(esentation)p Fr(.)49 846 y Fj(\))45
b Ft(\(setf)29 b(presentation-type\))h Fs(typ)m(e)21 b(pr)m(esentation)698
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 965 y(Changes)16
b(the)i(ob)s(ject)e(asso)r(ciated)g(with)i(the)f Fm(presen)n(tation)f
Fs(pr)m(esentation)21 b Fr(to)d Fs(obje)m(ct)p Fr(.)49 1098
y Fj(\))45 b Ft(presentation-single-box)30 b Fs(pr)m(esentation)843
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1217 y(Returns)i(the)h
(\\single)g(b)r(o)n(x")g(attribute)f(of)h(the)g Fm(presen)n(tation)f
Fs(pr)m(esentation)p Fr(,)31 b(whic)n(h)26 b(con)n(trols)e(ho)n(w)i(the)149
1283 y(presen)n(tation)15 b(is)k(highligh)n(ted)e(and)h(when)g(it)g(is)h
(sensitiv)n(e.)24 b(This)19 b(will)g(b)r(e)e(one)h(of)g(four)f(v)m(alues:)232
1452 y Fj(\017)27 b Ft(nil)16 b Fr(\(the)e(default\)|if)g(the)h(p)r(oin)n
(ter)f(is)i(p)r(oin)n(ting)e(at)h(a)g(visible)h(piece)f(of)g(the)g(output)e
(that)h(w)n(as)i(dra)n(wn)287 1519 y(as)k(part)e(of)i(the)f(presen)n(tation,)
f(then)h(it)h(is)g(considered)e(to)h(b)r(e)g(p)r(oin)n(ting)g(at)h(the)f
(presen)n(tation.)27 b(The)287 1585 y(presen)n(tation)16 b(is)i(highligh)n
(ted)g(b)n(y)g(highligh)n(ting)g(eac)n(h)g(visible)g(part)f(of)h(the)g
(output)e(that)h(w)n(as)h(dra)n(wn)287 1652 y(as)g(part)f(of)h(the)f(presen)n
(tation.)232 1755 y Fj(\017)27 b Ft(t)p Fr(|if)22 b(the)e(p)r(oin)n(ter)g(is)
h(inside)g(the)f(b)r(ounding)f(rectangle)g(of)i(the)f(presen)n(tation,)g(it)h
(is)g(considered)e(to)287 1821 y(b)r(e)e(p)r(oin)n(ting)g(at)g(the)g(presen)n
(tation.)22 b(The)c(presen)n(tation)d(is)j(highligh)n(ted)f(b)n(y)i(dra)n
(wing)e(a)h(thin)g(b)r(order)287 1887 y(around)f(the)g(b)r(ounding)g
(rectangle.)232 1990 y Fj(\017)27 b Ft(:position)p Fr(|lik)n(e)17
b Ft(t)f Fr(for)e(determining)f(whether)g(the)h(p)r(oin)n(ter)g(is)i(p)r(oin)
n(ting)e(at)g(the)h(presen)n(tation,)e(but)287 2057 y(lik)n(e)20
b Ft(nil)e Fr(for)g(highligh)n(ting.)232 2160 y Fj(\017)27
b Ft(:highlighting)p Fr(|lik)n(e)19 b Ft(nil)e Fr(for)f(determining)e
(whether)h(the)h(p)r(oin)n(ter)f(is)i(p)r(oin)n(ting)f(at)g(the)g(presen)n
(ta-)287 2226 y(tion,)i(but)g(lik)n(e)h Ft(t)g Fr(for)e(highligh)n(ting.)49
2395 y Fj(\))45 b Ft(\(setf)29 b(presentation-single-box\))h
Fs(single-b)m(ox)21 b(pr)m(esentation)388 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 2514 y(Changes)16 b(the)i(\\single)f(b)r(o)n(x")h
(attribute)e(of)i(the)f Fm(presen)n(tation)f Fs(pr)m(esentation)21
b Fr(to)d Fs(single-b)m(ox)p Fr(.)49 2647 y Fj(\))45 b Ft
(presentation-modifier)30 b Fs(pr)m(esentation)901 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 2766 y(Returns)14 b(the)i(\\mo)r
(di\014er")d(asso)r(ciated)h(with)i(the)f Fm(presen)n(tation)f
Fs(pr)m(esentation)p Fr(.)27 b(The)16 b(mo)r(di\014er)e(is)j(some)d(sort)149
2832 y(of)19 b(ob)s(ject)f(that)g(describ)r(es)f(ho)n(w)j(the)f(presen)n
(tation)e(ob)s(ject)g(migh)n(t)i(b)r(e)g(mo)r(di\014ed.)26
b(F)-5 b(or)20 b(example,)f(it)g(migh)n(t)149 2899 y(b)r(e)f(a)h(function)e
(of)i(one)f(argumen)n(t)e(\(the)i(new)g(v)m(alue\))g(that)g(can)g(b)r(e)g
(called)h(in)g(order)f(to)g(store)f(a)i(new)g(v)m(alue)149
2965 y(for)e Fs(obje)m(ct)k Fr(after)c(a)h(user)f(someho)n(w)g(\\edits")g
(the)g(presen)n(tation.)149 3211 y Fk(23.3)91 b(Presen)m(tation)29
b(T)m(yp)s(es)149 3399 y Fr(The)16 b(t)n(yp)r(e)f(asso)r(ciated)f(with)i(a)g
(presen)n(tation)e(is)i(sp)r(eci\014ed)f(with)h(a)g Fm(presen)n(tation)e(t)n
(yp)r(e)h(sp)r(eci\014er)p Fr(,)g(an)h(ob)s(ject)149 3466 y(matc)n(hing)g
(one)i(of)g(the)f(follo)n(wing)i(three)d(patterns:)p eop
%%Page: 207 222
bop 149 16 a Fm(CHAPTER)16 b(23.)43 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1165 b Fr(207)182 201 y Fs(name)182 267 y Ft(\()p Fs(name)30
b(p)m(ar)m(ameters...)p Ft(\))182 334 y(\(\()p Fs(name)g(p)m(ar)m(ameters...)
p Ft(\))61 b Fs(options...)p Ft(\))149 464 y Fr(Note)17 b(that)g
Fs(name)i Fr(can)f(b)r(e)g(either)f(a)h(sym)n(b)r(ol)g(that)f(names)f(a)i
(presen)n(tation)e(t)n(yp)r(e)i(or)g(a)g(CLOS)g(class)g(ob)s(ject)149
530 y(\(but)f(not)g(a)h Ft(built-in-class)h Fr(ob)s(ject\),)e(in)i(order)d
(to)i(supp)r(ort)e(anon)n(ymous)g(CLOS)i(classes.)149 663 y(The)j
Fs(p)m(ar)m(ameters)k Fr(\\parameter)o(ize")17 b(the)k(t)n(yp)r(e,)h(just)f
(as)g(in)h(a)f(Common)e(Lisp)i(t)n(yp)r(e)g(sp)r(eci\014er.)33
b(The)21 b(func-)149 730 y(tion)e Ft(presentation-typep)j Fr(uses)d(the)g
(parameters)e(to)i(c)n(hec)n(k)h(ob)s(ject)e(mem)n(b)r(ership)f(in)k(a)f(t)n
(yp)r(e.)29 b(Adding)149 796 y(parameters)17 b(to)k(a)g(presen)n(tation)e(t)n
(yp)r(e)i(sp)r(eci\014er)e(pro)r(duces)g(a)i(subt)n(yp)r(e,)g(whic)n(h)h(con)
n(tains)e(some,)h(but)f(not)149 862 y(necessarily)c(all,)i(of)g(the)e(ob)s
(jects)g(that)g(are)g(mem)n(b)r(ers)e(of)k(the)e(unparameterize)o(d)e(t)n(yp)
r(e.)23 b(Th)n(us)18 b(the)e(parame-)149 929 y(ters)h(can)g(turn)g(o\013)i
(the)e(sensitivit)n(y)i(of)f(some)e(presen)n(tations)g(that)h(w)n(ould)h
(otherwise)f(b)r(e)g(sensitiv)n(e.)149 1062 y(The)j Fs(options)j
Fr(are)d(alternating)f(k)n(eyw)n(ords)i(and)f(v)m(alues)h(that)f(a\013ect)g
(the)g(use)g(or)h(app)r(earance)d(of)j(the)f(pre-)149 1128
y(sen)n(tation,)d(but)g(not)h(its)g(seman)n(tic)e(meaning.)24
b(The)17 b Fs(options)j Fr(ha)n(v)n(e)f(no)f(e\013ect)f(on)h(presen)n(tation)
d(sensitivit)n(y)-5 b(.)149 1194 y(\(A)20 b(programmer)c(could)k(c)n(ho)r
(ose)f(to)i(mak)n(e)f(a)g(tester)f(in)i(a)g(translator)d(examine)h(options,)i
(but)f(this)g(is)h(not)149 1261 y(standard)c(practice.\))27
b(The)20 b(standard)d(option)i Ft(:description)i Fr(is)f(accepted)d(b)n(y)k
(all)f(t)n(yp)r(es;)g(if)h(it)f(is)g(a)g(non-)149 1327 y Ft(nil)e
Fr(v)m(alue,)f(then)g(the)f(v)m(alue)i(m)n(ust)e(b)r(e)h(a)g(string)g(that)f
(describ)r(es)f(the)i(t)n(yp)r(e)g(and)g(o)n(v)n(errides)g(the)f(description)
149 1394 y(supplied)h(b)n(y)i(the)f(t)n(yp)r(e's)f(de\014nition.)149
1527 y(Ev)n(ery)26 b(presen)n(tation)f(t)n(yp)r(e)h(is)h(asso)r(ciated)d
(with)i(a)h(CLOS)f(class.)50 b(If)27 b Fs(name)h Fr(is)f(a)g(class)f(ob)s
(ject)f(or)h(the)149 1593 y(name)d(of)j(a)f(class,)i(and)e(that)f(class)h(is)
h(not)e(a)i Ft(built-in-class)p Fr(,)i(that)c(class)h(is)h(the)f(asso)r
(ciated)e(class.)149 1659 y(Otherwise,)k Ft(define-presentation-type)h
Fr(de\014nes)d(a)i(class)f(with)g(metaclass)e Ft(presentation-type-)149
1726 y(class)18 b Fr(and)f(sup)r(erclasses)d(determined)h(b)n(y)j(the)f
(presen)n(tation)e(t)n(yp)r(e)i(de\014nition.)23 b(This)18
b(class)f(is)h(not)e(named)149 1792 y Fs(name)p Fr(,)27 b(since)c(that)g
(could)g(in)n(terfere)g(with)h(built-in)g(Common)e(Lisp)i(t)n(yp)r(es)f(suc)n
(h)h(as)f Ft(and)p Fr(,)k Ft(member)p Fr(,)f(and)149 1859 y
Ft(integer)p Fr(.)f Ft(class-name)19 b Fr(of)e(this)h(class)f(returns)f(a)i
(list)g Ft(\(presentation-type)30 b Fs(name)p Ft(\))p Fr(.)c
Ft(presentation-)149 1925 y(type-class)19 b Fr(is)f(a)g(sub)r(class)f(of)h
Ft(standard-class)p Fr(.)149 2058 y(Implemen)n(tations)e(are)k(p)r(ermitted)d
(to)j(require)g(programmer)o(s)d(to)j(ev)m(aluate)f(the)g Ft(defclass)j
Fr(form)d(\014rst)g(in)149 2124 y(the)e(case)g(when)h(the)f(same)g(name)f(is)
j(used)e(in)i(b)r(oth)e(a)h Ft(defclass)h Fr(and)e(a)h Ft
(define-presentation-type)p Fr(.)149 2257 y(Ev)n(ery)e(CLOS)f(class)h
(\(except)e(for)i(built-in)g(classes\))f(is)h(a)g(presen)n(tation)e(t)n(yp)r
(e,)i(as)g(is)g(its)g(name.)22 b(If)17 b(it)f(has)f(not)149
2324 y(b)r(een)h(de\014ned)h(with)h Ft(define-presentation-type)p
Fr(,)i(it)f(allo)n(ws)f(no)g(parameters)d(and)j(no)f(options.)149
2456 y Fm(Presen)n(tation)e(t)n(yp)r(e)i(inheritance)f Fr(is)j(used)e(b)r
(oth)f(to)h(inherit)h(metho)r(ds)d(\(\\what)h(parser)g(should)i(b)r(e)f(used)
g(for)149 2523 y(this)23 b(t)n(yp)r(e?"\),)i(and)e(to)g(establish)g(the)g
(seman)n(tics)f(for)h(the)g(t)n(yp)r(e)g(\(\\what)g(ob)s(jects)f(are)h
(sensitiv)n(e)g(in)i(this)149 2589 y(input)16 b(con)n(text?"\).)23
b(Inheritance)14 b(of)j(metho)r(ds)d(is)k(the)e(same)g(as)h(in)g(CLOS)g(and)f
(th)n(us)h(dep)r(ends)e(only)j(on)e(the)149 2656 y(t)n(yp)r(e)h(name,)g(not)h
(on)f(the)h(parameters)c(and)k(options.)149 2788 y(During)23
b(presen)n(tation)d(metho)r(d)h(com)n(bination,)i(presen)n(tation)d(t)n(yp)r
(e)j(inheritance)e(arranges)g(to)i(translate)149 2855 y(the)c(parameters)e
(of)j(a)g(subt)n(yp)r(e)e(in)n(to)j(a)f(new)g(set)f(of)h(parameters)c(for)k
(its)g(sup)r(ert)n(yp)r(e,)f(and)g(translates)f(the)149 2921
y(options)f(of)h(the)f(subt)n(yp)r(e)g(in)n(to)h(a)g(new)g(set)f(of)i
(options)e(for)g(the)h(sup)r(ert)n(yp)r(e.)149 3143 y Fp(23.3.1)75
b(De\014ning)25 b(Presen)n(tation)h(T)n(yp)r(es)49 3311 y Fj(\))45
b Ft(define-presentation-type)30 b Fs(name)h(p)m(ar)m(ameters)i
Ft(&key)c Fs(options)i(inherit-fr)m(om)h(description)g(history)149
3378 y(p)m(ar)m(ameters-ar)m(e-typ)m(e)q(s)1612 b Fr([)p Fs(Macr)m(o)s
Fr(])p eop
%%Page: 208 223
bop 149 16 a Fm(CHAPTER)16 b(23.)43 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1165 b Fr(208)149 210 y(De\014nes)17 b(a)h(presen)n(tation)e(t)n(yp)r
(e)i(whose)f(name)g(is)h(the)g(sym)n(b)r(ol)f(or)h(class)g
Fs(name)i Fr(and)d(whose)h(parameters)c(are)149 276 y(sp)r(eci\014ed)19
b(b)n(y)j(the)e(lam)n(b)r(da-list)h Fs(p)m(ar)m(ameters)p Fr(.)37
b(These)21 b(parameters)c(are)k(visible)h(within)f Fs(inherit-fr)m(om)j
Fr(and)149 342 y(within)19 b(the)f(metho)r(ds)e(created)g(with)j
Ft(define-presentation-method)p Fr(.)29 b(F)-5 b(or)19 b(example,)f(the)g
(parameters)149 409 y(are)c(used)g(b)n(y)i Ft(presentation-typep)g
Fr(and)f Ft(presentation-subtypep)i Fr(metho)r(ds)12 b(to)i(re\014ne)g(their)
g(tests)g(for)149 475 y(t)n(yp)r(e)j(inclusion.)149 608 y Fs(options)22
b Fr(is)g(a)f(list)g(of)g(option)f(sp)r(eci\014ers.)31 b(It)21
b(defaults)f(to)g Ft(nil)p Fr(.)34 b(An)21 b(option)f(sp)r(eci\014er)f(is)i
(either)f(a)h(sym)n(b)r(ol)149 674 y(or)e(a)h(list)g(\()p Fs(symb)m(ol)h
Ft(&optional)29 b Fs(default)22 b(supplie)m(d-p)f(pr)m(esentation-typ)m(e)j
(ac)m(c)m(ept-options)p Fr(\),)g(where)19 b Fs(symb)m(ol)p
Fr(,)149 741 y Fs(default)p Fr(,)24 b(and)d Fs(supplie)m(d-p)i
Fr(are)e(as)g(in)h(a)f(normal)f(lam)n(b)r(da-list.)34 b(If)22
b Fs(pr)m(esentation-typ)m(e)k Fr(and)21 b Fs(ac)m(c)m(ept-options)149
807 y Fr(are)f(presen)n(t,)g(they)g(sp)r(ecify)g(ho)n(w)h(to)g(accept)e(a)i
(new)f(v)m(alue)h(for)f(this)h(option)f(from)f(the)h(user.)32
b Fs(symb)m(ol)22 b Fr(can)149 874 y(also)d(b)r(e)f(sp)r(eci\014ed)g(in)h
(the)g(\()p Fs(keywor)m(d)i(variable)p Fr(\))g(form)d(allo)n(w)n(ed)i(for)f
(Common)e(Lisp)i(lam)n(b)r(da)f(lists.)28 b Fs(symb)m(ol)149
940 y Fr(is)23 b(a)g(v)m(ariable)g(that)f(is)h(visible)h(within)f
Fs(inherit-fr)m(om)j Fr(and)c(within)h(most)f(of)h(the)f(metho)r(ds)e
(created)h(with)149 1007 y Ft(define-presentation-method)p
Fr(.)k(The)16 b(k)n(eyw)n(ord)h(corresp)r(onding)12 b(to)k
Fs(symb)m(ol)h Fr(can)e(b)r(e)h(used)f(as)h(an)f(option)149
1073 y(in)21 b(the)g(third)g(form)e(of)j(a)f(presen)n(tation)e(t)n(yp)r(e)h
(sp)r(eci\014er.)32 b(An)21 b(option)g(sp)r(eci\014er)e(for)i(the)f(standard)
f(option)149 1139 y Ft(:description)g Fr(is)g(automatically)e(added)g(to)i
Fs(options)g Fr(if)h(an)e(option)g(with)g(that)g(k)n(eyw)n(ord)h(is)g(not)f
(presen)n(t,)149 1206 y(ho)n(w)n(ev)n(er)g(it)g(do)r(es)f(not)h(pro)r(duce)d
(a)k(visible)f(v)m(ariable)g(binding.)149 1339 y(Unsupplied)c(optional)g(or)h
(k)n(eyw)n(ord)h(parameters)c(default)i(to)h Ft(*)g Fr(\(as)g(in)h
Ft(deftype)p Fr(\))f(if)h(no)f(default)g(is)g(sp)r(eci\014ed)149
1405 y(in)j Fs(p)m(ar)m(ameters)p Fr(.)28 b(Unsupplied)17 b(options)g
(default)g(to)h Ft(nil)h Fr(if)f(no)g(default)f(is)i(sp)r(eci\014ed)d(in)j
Fs(options)p Fr(.)149 1538 y Fs(inherit-fr)m(om)f Fr(is)d(a)h(form)e(that)g
(ev)m(aluates)g(to)g(a)i(presen)n(tation)c(t)n(yp)r(e)j(sp)r(eci\014er)e(for)
i(another)f(t)n(yp)r(e)g(from)g(whic)n(h)149 1604 y(the)i(new)g(t)n(yp)r(e)g
(inherits.)24 b Fs(inherit-fr)m(om)19 b Fr(can)d(access)g(the)g(parameter)d
(v)m(ariables)j(b)r(ound)g(b)n(y)h(the)f Fs(p)m(ar)m(ameters)149
1671 y Fr(lam)n(b)r(da)21 b(list)i(and)f(the)g(option)g(v)m(ariables)g(sp)r
(eci\014ed)e(b)n(y)k Fs(options)p Fr(.)39 b(If)23 b Fs(name)h
Fr(is)f(or)f(names)f(a)i(CLOS)f(class)149 1737 y(\(other)e(than)g(a)i
Ft(built-in-class)p Fr(\),)i(then)d Fs(inherit-fr)m(om)j Fr(m)n(ust)d(sp)r
(ecify)g(the)g(class's)h(direct)e(sup)r(erclasses)149 1804
y(\(using)14 b Ft(and)h Fr(to)g(sp)r(ecify)f(m)n(ultiple)g(inheritance\).)22
b(It)14 b(is)i(useful)e(to)h(do)f(this)h(when)f(y)n(ou)i(w)n(an)n(t)f(to)f
(parameterize)149 1870 y(previously)k(de\014ned)e(CLOS)i(classes.)149
2003 y(If)g Fs(inherit-fr)m(om)j Fr(is)e(unsupplied,)e(it)i(defaults)e(as)h
(follo)n(ws:)25 b(If)18 b Fs(name)i Fr(is)f(or)e(names)g(a)h(CLOS)g(class,)g
(then)f(the)149 2069 y(t)n(yp)r(e)h(inherits)f(from)g(the)h(presen)n(tation)e
(t)n(yp)r(e)i(corresp)r(onding)d(to)j(the)f(direct)h(sup)r(erclasses)d(of)k
(that)e(CLOS)149 2136 y(class)i(\(using)h Ft(and)g Fr(to)f(sp)r(ecify)h(m)n
(ultiple)f(inheritance\).)28 b(Otherwise,)19 b(the)h(t)n(yp)r(e)f(named)f(b)n
(y)j Fs(name)g Fr(inherits)149 2202 y(from)c Ft(standard-object)p
Fr(.)149 2335 y Fs(description)23 b Fr(is)f(a)f(string)g(or)g
Ft(nil)p Fr(.)34 b(This)22 b(should)e(b)r(e)h(the)f(term)g(for)h(an)g
(instance)e(for)i(the)g(t)n(yp)r(e)f(b)r(eing)g(de-)149 2401
y(\014ned.)26 b(If)19 b(it)g(is)h Ft(nil)f Fr(or)g(unsupplied,)g(a)g
(description)e(is)i(automatically)e(generated;)g(it)i(will)i(b)r(e)d(a)h
(\\prettied)149 2468 y(up")i(v)n(ersion)h(of)g(the)f(t)n(yp)r(e)g(name,)h
(for)g(example,)g Ft(small-integer)h Fr(w)n(ould)f(b)r(ecome)d
Ft("small)29 b(integer")p Fr(.)149 2534 y(Y)-5 b(ou)23 b(can)g(also)g(write)g
(a)g Ft(describe-presentation-type)i Fr(presen)n(tation)c(metho)r(d.)38
b Fs(description)26 b Fr(is)e(im-)149 2601 y(plemen)n(ted)17
b(b)n(y)k(the)e(default)g Ft(describe-presentation-type)j Fr(metho)r(d,)c(so)
h Fs(description)k Fr(only)d(w)n(orks)g(in)149 2667 y(presen)n(tation)15
b(t)n(yp)r(es)j(where)f(that)g(default)g(metho)r(d)e(is)k(not)e(shado)n(w)n
(ed.)149 2800 y Fs(history)f Fr(can)f(b)r(e)f Ft(t)i Fr(\(the)e(default\),)h
(whic)n(h)g(means)f(this)h(t)n(yp)r(e)g(has)g(its)g(o)n(wn)h(history)e(of)i
(previous)e(inputs,)i Ft(nil)p Fr(,)149 2866 y(whic)n(h)g(means)d(this)j(t)n
(yp)r(e)f(k)n(eeps)g(no)h(history)-5 b(,)16 b(or)f(the)g(name)f(of)i(another)
d(presen)n(tation)g(t)n(yp)r(e,)j(whose)f(history)149 2933
y(is)23 b(shared)f(b)n(y)h(this)g(t)n(yp)r(e.)38 b(More)22
b(complex)g(histories)g(can)g(b)r(e)g(sp)r(eci\014ed)f(b)n(y)j(writing)f(a)f
Ft(presentation-)149 2999 y(type-history)d Fr(presen)n(tation)c(metho)r(d.)
149 3132 y Fo(Minor)22 b(issue:)54 b Fm(What)18 b(is)g(a)g(presen)n(tation)e
(t)n(yp)r(e)i(history?)23 b(Should)18 b(they)f(b)r(e)h(exp)r(osed?)k(|)d(SWM)
149 3265 y Fr(If)g(the)f(b)r(o)r(olean)f Fs(p)m(ar)m(ameters-ar)m(e-typ)n(es)
23 b Fr(is)c Fm(true)p Fr(,)g(this)g(means)e(that)h(the)g(parameters)d(to)k
(the)f(presen)n(tation)149 3331 y(t)n(yp)r(e)e(are)g(themselv)n(es)f(presen)n
(tation)g(t)n(yp)r(es.)23 b(If)17 b(they)g(are)f(not)g(presen)n(tation)f(t)n
(yp)r(es,)h Fs(p)m(ar)m(ameters-ar)m(e)q(-typ)m(e)q(s)149 3398
y Fr(should)h(b)r(e)h(supplied)f(as)h Fm(false)p Fr(.)25 b(T)n(yp)r(es)17
b(suc)n(h)h(as)g Ft(and)p Fr(,)h Ft(or)p Fr(,)g(and)f Ft(sequence)h
Fr(will)g(sp)r(ecify)e(this)h(as)g Fm(true)p Fr(.)p eop
%%Page: 209 224
bop 149 16 a Fm(CHAPTER)16 b(23.)37 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1171 b Fr(209)149 210 y(Ev)n(ery)17 b(presen)n(tation)e(t)n(yp)r(e)i
(m)n(ust)f(de\014ne)g(or)h(inherit)f(presen)n(tation)f(metho)r(ds)f(for)j
Ft(accept)h Fr(and)f Ft(present)h Fr(if)149 276 y(the)e(t)n(yp)r(e)h(is)g
(going)g(to)f(b)r(e)h(used)f(for)h(input)f(and)h(output.)22
b(F)-5 b(or)18 b(presen)n(tation)c(t)n(yp)r(es)j(that)f(are)g(only)h(going)g
(to)149 342 y(b)r(e)g(used)g(for)h(input)g(via)g(the)g(p)r(oin)n(ter,)f(the)g
Ft(accept)i Fr(need)e(not)h(b)r(e)f(de\014ned.)149 475 y(If)j(a)f(presen)n
(tation)e(t)n(yp)r(e)i(has)h Fs(p)m(ar)m(ameters)p Fr(,)j(it)d(m)n(ust)f
(de\014ne)f(presen)n(tation)f(metho)r(ds)g(for)i Ft(presentation-)149
542 y(typep)26 b Fr(and)e Ft(presentation-subtypep)j Fr(that)d(handle)h(the)f
(parameters,)g(or)h(inherit)g(appropriate)e(pre-)149 608 y(sen)n(tation)f
(metho)r(ds.)39 b(In)24 b(man)n(y)f(cases)g(it)h(should)f(also)h(de\014ne)f
(presen)n(tation)e(metho)r(ds)g(for)j Ft(describe-)149 674
y(presentation-type)19 b Fr(and)f Ft(presentation-type-specifier-p)p
Fr(.)149 807 y(There)j(are)h(certain)f(restrictions)f(on)j(the)e
Fs(inherit-fr)m(om)k Fr(form,)e(to)f(allo)n(w)i(it)e(to)g(b)r(e)g(analyzed)g
(at)g(compile)149 874 y(time.)g(The)15 b(form)f(m)n(ust)g(b)r(e)h(a)g(simple)
g(substitution)e(of)i(parameters)d(and)j(options)f(in)n(to)h(p)r(ositions)f
(in)i(a)f(\014xed)149 940 y(framew)n(ork.)26 b(It)20 b(cannot)d(in)n(v)n(olv)
n(e)22 b(conditionals)c(or)h(computations)d(that)i(dep)r(end)f(on)i(v)m(alid)
h(v)m(alues)f(for)g(the)149 1007 y(parameters)12 b(or)j(options;)g(for)g
(example,)g(it)h(cannot)e(require)g(parameter)e(v)m(alues)j(to)g(b)r(e)g(n)n
(um)n(b)r(ers.)22 b(It)15 b(cannot)149 1073 y(dep)r(end)f(on)h(the)g(dynamic)
g(or)g(lexical)i(en)n(vironmen)n(t.)22 b(The)16 b(form)e(will)j(b)r(e)e(ev)m
(aluated)g(at)g(compile)g(time)g(with)149 1139 y(unin)n(terned)g(sym)n(b)r
(ols)h(used)h(as)g(dumm)n(y)e(v)m(alues)i(for)g(the)f(parameters)e(and)i
(options.)24 b(In)17 b(the)f(t)n(yp)r(e)g(sp)r(eci\014er)149
1206 y(pro)r(duced)d(b)n(y)j(ev)m(aluating)e(the)h(form,)g(the)g(t)n(yp)r(e)g
(name)f(m)n(ust)h(b)r(e)f(a)i(constan)n(t)e(that)g(names)g(a)h(t)n(yp)r(e,)h
(the)f(t)n(yp)r(e)149 1272 y(parameters)h(cannot)j(deriv)n(e)h(from)f
(options)h(of)g(the)f(t)n(yp)r(e)h(b)r(eing)f(de\014ned,)h(and)g(the)f(t)n
(yp)r(e)h(options)f(cannot)149 1339 y(deriv)n(e)j(from)g(parameters)d(of)k
(the)f(t)n(yp)r(e)g(b)r(eing)f(de\014ned.)37 b(All)24 b(presen)n(tation)c(t)n
(yp)r(es)i(men)n(tioned)f(m)n(ust)g(b)r(e)149 1405 y(already)e(de\014ned.)27
b Ft(and)20 b Fr(can)f(b)r(e)g(used)g(for)g(m)n(ultiple)h(inheritance,)e(but)
h Ft(or)p Fr(,)i Ft(not)p Fr(,)g(and)e Ft(satisfies)h Fr(cannot)149
1472 y(b)r(e)d(used.)149 1604 y(None)g(of)h(the)f(argumen)n(ts,)f(except)h
Fs(inherit-fr)m(om)p Fr(,)k(is)e(ev)m(aluated.)149 1826 y Fp(23.3.2)75
b(Presen)n(tation)26 b(T)n(yp)r(e)f(Abbreviations)49 1994 y
Fj(\))45 b Ft(define-presentation-type-abbreviation)31 b Fs(name)15
b(p)m(ar)m(ameters)i(e)m(quivalent-typ)m(e)h Ft(&key)29 b Fs(options)h
Fr([)p Fs(Macr)m(o)s Fr(])149 2194 y Fs(name)p Fr(,)21 b Fs(p)m(ar)m(ameters)
p Fr(,)i(and)18 b Fs(options)j Fr(are)d(as)h(in)g Ft
(define-presentation-type)p Fr(.)29 b(This)19 b(de\014nes)f(a)h(presen)n(ta-)
149 2260 y(tion)i(t)n(yp)r(e)h(that)f(is)h(an)g Fm(abbreviation)e
Fr(for)i(the)f(presen)n(tation)f(t)n(yp)r(e)h Fs(e)m(quivalent-typ)m(e)p
Fr(.)41 b(Presen)n(tation)19 b(t)n(yp)r(e)149 2326 y(abbreviations)12
b(can)i(only)h(b)r(e)e(used)h(in)h(places)e(where)h(this)g(sp)r
(eci\014cation)d(explicitly)16 b(p)r(ermits)c(them.)21 b(In)15
b(suc)n(h)149 2393 y(places,)h Fs(e)m(quivalent-typ)m(e)k Fr(and)c
Fm(abbreviation)f Fr(are)h(exactly)g(equiv)m(alen)n(t)g(and)g(can)g(b)r(e)g
(used)g(in)n(terc)n(hangeably)-5 b(.)149 2526 y Fs(name)19
b Fr(m)n(ust)e(b)r(e)h(a)g(sym)n(b)r(ol)f(and)h(m)n(ust)f(not)g(b)r(e)h(the)f
(name)g(of)h(a)g(CLOS)g(class.)149 2658 y(The)f Fs(e)m(quivalent-typ)m(e)22
b Fr(form)17 b(migh)n(t)g(b)r(e)h(ev)m(aluated)e(at)i(compile)f(time)g(if)h
(presen)n(tation)e(t)n(yp)r(e)h(abbreviations)149 2725 y(are)e(expanded)f(b)n
(y)j(compiler)d(optimizers.)22 b(Unlik)n(e)16 b Fs(inherit-fr)m(om)p
Fr(,)k Fs(e)m(quivalent-typ)m(e)g Fr(can)15 b(p)r(erform)e(arbitrary)149
2791 y(computations)18 b(and)j(is)i(not)e(called)g(with)h(dumm)n(y)f
(parameter)d(and)j(option)g(v)m(alues.)36 b(The)21 b(t)n(yp)r(e)g(sp)r
(eci\014er)149 2858 y(pro)r(duced)10 b(b)n(y)j(ev)m(aluating)e
Fs(e)m(quivalent-typ)m(e)17 b Fr(can)12 b(b)r(e)g(a)g(real)g(presen)n(tation)
e(t)n(yp)r(e)i(or)h(another)d(abbreviation.)21 b(If)149 2924
y(the)13 b(t)n(yp)r(e)h(sp)r(eci\014er)f(do)r(esn't)g(include)h(the)g
(standard)e(option)i Ft(:description)p Fr(,)i(the)e(option)g(is)h
(automatically)149 2991 y(copied)i(from)g(the)g(abbreviation)g(to)g(its)h
(expansion.)149 3123 y(Note)g(that)h(y)n(ou)h(cannot)e(de\014ne)g(an)n(y)i
(presen)n(tation)d(metho)r(ds)g(on)j(a)f(presen)n(tation)f(t)n(yp)r(e)h
(abbreviation.)27 b(If)149 3190 y(y)n(ou)18 b(need)f(metho)r(ds,)f(use)i
Ft(define-presentation-type)h Fr(instead.)149 3323 y Ft
(define-presentation-type-abbreviation)k Fr(is)f(used)e(to)h(name)e(a)i
(commonly)e(used)h(clic)n(he.)34 b(F)-5 b(or)21 b(ex-)149 3389
y(ample,)c(a)h(presen)n(tation)e(t)n(yp)r(e)h(to)h(read)f(an)h(o)r(ctal)f(in)
n(teger)g(migh)n(t)g(b)r(e)h(de\014ned)e(as)p eop
%%Page: 210 225
bop 149 16 a Fm(CHAPTER)16 b(23.)37 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1171 b Fr(210)149 210 y Ft(\(define-presentation-type-abbreviation)31
b(octal-integer)f(\(&optional)f(low)h(high\))265 276 y(`\(\(integer)g(,low)f
(,high\))g(:base)h(8)f(:description)g("octal)h(integer"\)\))149
453 y Fr(None)17 b(of)h(the)f(argumen)n(ts,)f(except)h Fs(e)m(quivalent-typ)m
(e)p Fr(,)22 b(is)d(ev)m(aluated.)49 586 y Fj(\))45 b Ft
(expand-presentation-type-abbreviation-1)31 b Fs(typ)m(e)21
b Ft(&optional)30 b Fs(env)393 b Fr([)p Fs(F)l(unction)t Fr(])149
705 y(If)26 b(the)e Fm(presen)n(tation)f(t)n(yp)r(e)j(sp)r(eci\014er)d
Fs(typ)m(e)k Fr(is)f(a)g(presen)n(tation)d(t)n(yp)r(e)i(abbreviation,)i(or)e
(is)h(an)f Ft(and)p Fr(,)k Ft(or)p Fr(,)149 771 y Ft(sequence)p
Fr(,)22 b(or)f Ft(sequence-enumerated)h Fr(that)e(con)n(tains)g(a)h(presen)n
(tation)d(t)n(yp)r(e)j(abbreviation,)f(then)g(this)149 838
y(expands)c(the)h(t)n(yp)r(e)g(abbreviation)g(once,)g(and)g(returns)f(t)n(w)n
(o)i(v)m(alues,)g(the)f(expansion)g(and)g Ft(t)p Fr(.)25 b(If)18
b Fs(typ)m(e)h Fr(is)f(not)149 904 y(a)g(presen)n(tation)d(t)n(yp)r(e)j
(abbreviation,)f(then)g(the)g(v)m(alues)h Fs(typ)m(e)i Fr(and)d
Ft(nil)i Fr(are)e(returned.)149 1037 y Fs(env)i Fr(is)g(a)f(macro-expansion)d
(en)n(vironmen)n(t,)i(as)h(in)h Ft(macroexpand)p Fr(.)49 1170
y Fj(\))45 b Ft(expand-presentation-type-abbreviation)31 b
Fs(typ)m(e)21 b Ft(&optional)29 b Fs(env)452 b Fr([)p Fs(F)l(unction)t
Fr(])149 1289 y Ft(expand-presentation-type-abbreviation)14
b Fr(is)f(lik)n(e)g Ft(expand-presentation-type-abbreviation-)149
1355 y(1)p Fr(,)22 b(except)d(that)g Fs(typ)m(e)k Fr(is)e(rep)r(eatedly)d
(expanded)h(un)n(til)i(all)h(presen)n(tation)c(t)n(yp)r(e)i(abbreviations)f
(ha)n(v)n(e)i(b)r(een)149 1422 y(remo)n(v)n(ed.)149 1643 y
Fp(23.3.3)75 b(Presen)n(tation)26 b(Metho)r(ds)149 1812 y Fr(Presen)n(tation)
19 b(metho)r(ds)f(inherit)j(and)g(com)n(bine)g(in)h(the)f(same)f(w)n(a)n(y)i
(as)g(ordinary)e(CLOS)i(metho)r(ds.)32 b(The)149 1878 y(reason)26
b(presen)n(tation)e(metho)r(ds)h(are)h(not)h(exactly)g(the)f(same)g(as)h
(ordinary)g(CLOS)g(metho)r(ds)d(rev)n(olv)n(es)149 1944 y(around)h(the)h
Fs(typ)m(e)i Fr(argumen)n(t.)48 b(The)27 b(parameter)c(sp)r(ecializer)i(for)i
Fs(typ)m(e)h Fr(is)f(handled)f(in)h(a)g(sp)r(ecial)f(w)n(a)n(y)-5
b(,)149 2011 y(and)17 b(presen)n(tation)e(metho)r(d)g(inheritance)h
(\\massages")e(the)j(t)n(yp)r(e)g(parameters)d(and)j(options)g(seen)g(b)n(y)h
(eac)n(h)149 2077 y(metho)r(d.)k(F)-5 b(or)18 b(example,)f(consider)g(three)f
(t)n(yp)r(es)i Ft(int)p Fr(,)h Ft(rrat)p Fr(,)g(and)e Ft(num)i
Fr(de\014ned)e(as)h(follo)n(ws:)149 2210 y Fo(Minor)26 b(issue:)69
b Fm(Ho)n(w)21 b(are)g(massaged)e(argumen)n(ts)g(passed)i(along?)34
b(Righ)n(t)21 b(no)n(w,)i(w)n(e)f(pass)f(along)g(those)149
2277 y(parameters)14 b(of)k(the)g(same)e(name,)h(and)h(no)g(others.)23
b(|)c(SWM)149 2465 y Ft(\(define-presentation-type)30 b(int)f(\(low)h(high\))
207 2531 y(:inherit-from)g(`\(rrat)f(,high)g(,low\)\))149 2664
y(\(define-presentation-method)h(presentation-typep)g(:around)g(\(object)f
(\(type)h(int\)\))207 2730 y(\(and)f(\(call-next-method\))352
2797 y(\(integerp)h(object\))352 2863 y(\(<=)f(low)h(object)f(high\)\)\))149
2996 y(\(define-presentation-type)h(rrat)f(\(high)h(low\))207
3062 y(:inherit-from)g(`num\))149 3195 y(\(define-presentation-method)g
(presentation-typep)g(:around)g(\(object)f(\(type)h(rrat\)\))207
3262 y(\(and)f(\(call-next-method\))352 3328 y(\(rationalp)h(object\))352
3395 y(\(<=)f(low)h(object)f(high\)\)\))p eop
%%Page: 211 226
bop 149 16 a Fm(CHAPTER)16 b(23.)43 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1165 b Fr(211)149 210 y Ft(\(define-presentation-type)30
b(num)f(\(\)\))149 342 y(\(define-presentation-method)h(presentation-typep)g
(\(object)g(\(type)f(num\)\))207 409 y(\(numberp)g(object\)\))149
573 y Fr(If)c(the)g(user)g(w)n(ere)g(to)g(ev)m(aluate)f(the)h(form)f
Ft(\(presentation-typep)30 b(X)f('\(int)h(1)f(5\)\))p Fr(,)f(then)c(the)h(t)n
(yp)r(e)149 640 y(parameters)13 b(will)18 b(b)r(e)e Ft(\(1)29
b(5\))17 b Fr(in)g(the)f Ft(presentation-typep)i Fr(metho)r(d)c(for)i
Ft(int)p Fr(,)i Ft(\(5)29 b(1\))17 b Fr(in)g(the)f(metho)r(d)e(for)149
706 y Ft(rrat)p Fr(,)19 b(and)f Ft(nil)g Fr(in)h(the)e(metho)r(d)f(for)i
Ft(num)p Fr(.)25 b(The)18 b(v)m(alue)g(for)g Fs(typ)m(e)i Fr(will)f(b)r(e)f
(or)g Ft(\(\(int)29 b(1)g(5\)\))19 b Fr(in)g(eac)n(h)e(of)h(the)149
772 y(metho)r(ds.)49 905 y Fj(\))45 b Ft
(define-presentation-generic-function)31 b Fs(generic-function-name)18
b(pr)m(esentation-function-name)h(lamb)m(da-)149 972 y(list)h
Ft(&rest)29 b Fs(options)1684 b Fr([)p Fs(Macr)m(o)s Fr(])149
1171 y(De\014nes)17 b(a)h(generic)e(function)h(that)f(will)k(b)r(e)d(used)g
(for)h(presen)n(tation)d(metho)r(ds.)22 b Fs(generic-function-name)g
Fr(is)149 1237 y(a)15 b(sym)n(b)r(ol)f(that)f(names)g(the)h(generic)g
(function)f(that)h(will)i(b)r(e)e(used)g(in)n(ternally)h(b)n(y)h(CLIM)e(for)h
(the)f(individual)149 1304 y(metho)r(ds,)e Fs(pr)m(esentation-function-name)
19 b Fr(is)14 b(a)g(sym)n(b)r(ol)g(that)e(names)h(the)g(function)g(that)f
(programmers)e(will)149 1370 y(call)18 b(to)g(in)n(v)n(ok)n(e)h(the)f(metho)r
(d,)e(and)h Fs(lamb)m(da-list)j Fr(and)e Fs(options)i Fr(are)d(as)h(for)g
Ft(defgeneric)p Fr(.)149 1503 y(There)j(are)h(some)f(\\sp)r(ecial")g(argumen)
n(ts)e(in)k Fs(lamb)m(da-list)i Fr(that)c(are)h(kno)n(wn)h(ab)r(out)d(b)n(y)j
(the)f(presen)n(tation)149 1569 y(t)n(yp)r(e)f(system.)35 b(The)22
b(\014rst)f(argumen)n(t)e(in)k Fs(lamb)m(da-list)h Fr(m)n(ust)d(b)r(e)g
(either)g Ft(type-key)i Fr(or)e Ft(type-class)p Fr(;)26 b(this)149
1636 y(argumen)n(t)20 b(is)j(used)f(b)n(y)h(CLIM)f(to)g(implemen)n(t)e(metho)
r(d)g(dispatc)n(hing.)37 b(The)22 b(second)f(argumen)n(t)f(ma)n(y)i(b)r(e)149
1702 y Ft(parameters)p Fr(,)d(meaning)e(that,)h(when)f(the)h(metho)r(d)d(is)k
(in)n(v)n(ok)n(ed,)h(the)e(t)n(yp)r(e)g(parameters)d(will)k(b)r(e)f(passed)f
(to)149 1769 y(it.)29 b(The)20 b(third)f(argumen)n(t)e(ma)n(y)j(b)r(e)f
Ft(options)p Fr(,)i(meaning)d(that,)h(when)g(the)g(metho)r(d)e(is)j(in)n(v)n
(ok)n(ed,)i(the)d(t)n(yp)r(e)149 1835 y(options)e(will)j(b)r(e)e(passed)f(to)
h(it.)26 b(Finally)-5 b(,)20 b(an)e(argumen)n(t)e(named)h Ft(type)i
Fr(m)n(ust)f(b)r(e)f(included)h(in)h Fs(lamb)m(da-list)p Fr(;)149
1901 y(when)e(the)h(metho)r(d)d(is)k(called,)f Fs(typ)m(e)h
Fr(argumen)n(t)d(will)k(b)r(e)d(b)r(ound)g(to)g(the)h(presen)n(tation)d(t)n
(yp)r(e)j(sp)r(eci\014er.)149 2034 y(F)-5 b(or)18 b(example,)f(the)g
Ft(accept)i Fr(presen)n(tation)d(generic)h(function)f(migh)n(t)i(b)r(e)f
(de\014ned)g(as)h(follo)n(ws:)149 2192 y Ft
(\(define-presentation-generic-function)31 b(present-method)f(present)207
2259 y(\(type-key)f(parameters)h(options)f(object)h(type)f(stream)h(view)236
2325 y(&key)f(acceptably)h(for-context-type\)\))149 2483 y
Fr(None)17 b(of)h(the)f(argumen)n(ts)f(is)i(ev)m(aluated.)49
2616 y Fj(\))45 b Ft(define-presentation-method)30 b Fs(name)21
b(quali\014ers*)g(sp)m(e)m(cialize)m(d-lamb)m(da-list)j Ft(&body)29
b Fs(b)m(o)m(dy)84 b Fr([)p Fs(Macr)m(o)s Fr(])149 2735 y(De\014nes)16
b(a)i(presen)n(tation)d(metho)r(d)g(for)i(the)g(function)f(named)g
Fs(name)j Fr(on)e(the)g(presen)n(tation)e(t)n(yp)r(e)i(named)f(in)149
2801 y Fs(sp)m(e)m(cialize)m(d-lamb)m(da-list)p Fr(.)28 b Fs(sp)m(e)m
(cialize)m(d-lamb)m(da-list)21 b Fr(is)d(a)f(CLOS)f(sp)r(ecialized)g(lam)n(b)
r(da)g(list)h(for)g(the)f(metho)r(d,)149 2868 y(and)24 b(its)g(con)n(ten)n
(ts)f(v)m(aries)i(dep)r(ending)d(on)i(what)g Fs(name)i Fr(is.)45
b Fs(quali\014ers*)26 b Fr(is)f(zero)e(or)i(more)e(of)h(the)g(usual)149
2934 y(CLOS)11 b(metho)r(d)f(quali\014er)h(sym)n(b)r(ols.)22
b Ft(define-presentation-method)14 b Fr(m)n(ust)d(supp)r(ort)f(at)h(least)h
Ft(standard)149 3001 y Fr(metho)r(d)e(com)n(bination)i(\(and)g(therefore)e
(the)j Ft(:before)p Fr(,)i Ft(:after)p Fr(,)h(and)c Ft(:around)i
Fr(metho)r(d)d(quali\014ers\).)22 b(Some)149 3067 y(CLIM)17
b(implemen)n(tations)e(ma)n(y)j(supp)r(ort)e(other)h(metho)r(d)e(com)n
(bination)i(t)n(yp)r(es,)g(but)h(this)g(is)g(not)g(required.)149
3200 y Fs(b)m(o)m(dy)g Fr(de\014nes)e(the)g(b)r(o)r(dy)f(of)i(the)f(metho)r
(d.)22 b Fs(b)m(o)m(dy)c Fr(ma)n(y)f(ha)n(v)n(e)g(zero)f(or)h(more)e
(declarations)g(as)i(its)g(\014rst)f(forms.)149 3333 y(All)h(presen)n(tation)
d(metho)r(ds)f(ha)n(v)n(e)k(an)f(argumen)n(t)e(named)h Fs(typ)m(e)j
Fr(that)d(m)n(ust)h(b)r(e)f(sp)r(ecialized)g(with)h(the)g(name)149
3399 y(of)22 b(a)h(presen)n(tation)d(t)n(yp)r(e.)37 b(The)22
b(v)m(alue)h(of)f Fs(typ)m(e)i Fr(is)f(a)g(presen)n(tation)d(t)n(yp)r(e)i(sp)
r(eci\014er,)g(whic)n(h)h(can)f(b)r(e)f(for)i(a)149 3466 y(subt)n(yp)r(e)17
b(that)f(inherited)h(the)h(metho)r(d.)p eop
%%Page: 212 227
bop 149 16 a Fm(CHAPTER)16 b(23.)43 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1165 b Fr(212)149 210 y(All)17 b(presen)n(tation)d(metho)r(ds)g
(except)h Ft(presentation-subtypep)j Fr(ha)n(v)n(e)f(lexical)g(access)e(to)h
(the)g(parameters)149 276 y(from)i(the)g(presen)n(tation)f(t)n(yp)r(e)i(sp)r
(eci\014er.)26 b(Presen)n(tation)17 b(metho)r(ds)f(for)j(the)g(functions)f
Ft(accept)p Fr(,)i Ft(present)p Fr(,)149 342 y Ft(describe-presentation-type)
p Fr(,)15 b Ft(presentation-type-specifier-p)p Fr(,)h(and)11
b Ft(accept-present-default)149 409 y Fr(also)18 b(ha)n(v)n(e)g(lexical)h
(access)e(to)g(the)h(options)f(from)f(the)i(presen)n(tation)d(t)n(yp)r(e)j
(sp)r(eci\014er.)49 542 y Fj(\))45 b Ft(define-default-presentation-method)31
b Fs(name)15 b(quali\014ers*)h(sp)m(e)m(cialize)m(d-lamb)m(da-list)h
Ft(&body)30 b Fs(b)m(o)m(dy)g Fr([)p Fs(Macr)m(o)s Fr(])149
741 y(Lik)n(e)18 b Ft(define-presentation-method)p Fr(,)j(except)c(that)g(it)
h(is)h(used)e(to)h(de\014ne)f(a)h(default)g(metho)r(d)d(that)i(will)149
807 y(b)r(e)g(used)g(only)i(if)g(there)d(are)i(no)f(more)g(sp)r(eci\014c)f
(metho)r(ds.)49 940 y Fj(\))45 b Ft(funcall-presentation-generic-function)31
b Fs(pr)m(esentation-function-name)19 b Ft(&rest)29 b Fs(ar)m(guments)i
Fr([)p Fs(Macr)m(o)s Fr(])149 1139 y(Calls)18 b(the)f(presen)n(tation)e
(generic)h(function)h(named)f(b)n(y)i Fs(pr)m(esentation-function-name)23
b Fr(on)17 b(the)g(argumen)n(ts)149 1206 y Fs(ar)m(guments)p
Fr(.)57 b Fs(ar)m(guments)30 b Fr(m)n(ust)d(matc)n(h)g(the)h(argumen)n(ts)d
(sp)r(eci\014ed)i(b)n(y)i(the)e Ft(define-presentation-)149
1272 y(generic-function)g Fr(that)e(w)n(as)i(used)e(to)h(de\014ne)f(the)g
(presen)n(tation)f(generic)h(function,)i(excluding)e(the)149
1339 y Ft(type-key)p Fr(,)19 b Ft(type-class)p Fr(,)g Ft(parameters)p
Fr(,)h(and)d Ft(options)i Fr(argumen)n(ts,)d(whic)n(h)i(are)g(\014lled)g(in)h
(b)n(y)g(CLIM.)149 1472 y Ft(funcall-presentation-generic-function)h
Fr(is)f(analogous)d(to)i Ft(funcall)p Fr(.)149 1604 y(The)f
Fs(pr)m(esentation-function-nam)q(e)23 b Fr(argumen)n(t)15
b(is)k(not)e(ev)m(aluated.)149 1737 y(F)-5 b(or)18 b(example,)f(to)h(call)g
(the)g Ft(present)g Fr(presen)n(tation)e(generic)h(function,)g(one)g(migh)n
(t)h(use)f(the)h(follo)n(wing:)149 1911 y Ft
(\(funcall-presentation-generic-function)31 b(present)207 1977
y(object)e(presentation-type)h(stream)g(view\))49 2151 y Fj(\))45
b Ft(apply-presentation-generic-function)31 b Fs(pr)m
(esentation-function-name)19 b Ft(&rest)29 b Fs(ar)m(guments)i
Fr([)p Fs(Macr)m(o)s Fr(])149 2350 y(Lik)n(e)19 b Ft
(funcall-presentation-generic-function)p Fr(,)i(except)c(that)h
Ft(apply-presentation-generic-)149 2417 y(function)h Fr(is)f(analogous)f(to)g
Ft(apply)p Fr(.)149 2550 y(The)g Fs(pr)m(esentation-function-nam)q(e)23
b Fr(argumen)n(t)15 b(is)k(not)e(ev)m(aluated.)149 2682 y(Here)23
b(is)i(a)f(list)h(of)f(all)h(of)f(the)f(standard)g(presen)n(tation)f(metho)r
(ds)f(and)j(their)f(sp)r(ecialized)g(lam)n(b)r(da)g(lists.)149
2749 y(F)-5 b(or)20 b(the)f(meaning)f(of)i(the)f(argumen)n(ts)e(to)j(eac)n(h)
f(presen)n(tation)e(metho)r(d,)h(refer)h(to)g(the)g(description)g(of)g(the)
149 2815 y(function)d(that)h(calls)i(that)e(metho)r(d.)149
2948 y(F)-5 b(or)25 b(all)g(of)g(the)f(presen)n(tation)e(metho)r(ds,)i(the)g
Fs(typ)m(e)i Fr(will)g(alw)n(a)n(ys)g(b)r(e)e(sp)r(ecialized.)43
b(F)-5 b(or)25 b(those)e(metho)r(ds)149 3014 y(that)16 b(tak)n(e)h(a)g
Fs(view)h Fr(argumen)n(t,)e(implemen)n(tors)e(and)j(programmers)c(ma)n(y)k
(sp)r(ecialize)f(it)h(as)h(w)n(ell.)25 b(The)17 b(other)149
3081 y(argumen)n(ts)e(are)j(not)f(t)n(ypically)i(sp)r(ecialized.)49
3214 y Fj(\))45 b Ft(present)29 b Fs(obje)m(ct)22 b(typ)m(e)f(str)m(e)m(am)h
(view)e Ft(&key)29 b Fs(ac)m(c)m(eptably)24 b(for-c)m(ontext-typ)m(e)171
b Fr([)p Fs(Pr)m(esentation)22 b(Metho)m(d)6 b Fr(])149 3333
y(The)12 b Ft(present)h Fr(presen)n(tation)d(metho)r(d)g(is)j(resp)r(onsible)
e(for)h(displa)n(ying)h(the)f(represen)n(tation)e(of)i Fs(obje)m(ct)j
Fr(ha)n(ving)149 3399 y Fm(presen)n(tation)f(t)n(yp)r(e)j Fs(typ)m(e)h
Fr(for)f(a)g(particular)f Fm(view)h Fs(view)p Fr(.)25 b(The)17
b(metho)r(d's)e(caller)h(tak)n(es)h(care)f(of)h(creating)e(the)149
3466 y(presen)n(tation,)h(the)h(metho)r(d)e(simply)k(displa)n(ys)f(the)g(con)
n(ten)n(t)e(of)i(the)g(presen)n(tation.)p eop
%%Page: 213 228
bop 149 16 a Fm(CHAPTER)16 b(23.)43 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1165 b Fr(213)149 210 y(The)15 b Ft(present)i Fr(metho)r(d)d(can)h
(sp)r(ecialize)g(on)h(the)f Fs(view)i Fr(argumen)n(t)d(in)j(order)d(to)i
(de\014ne)f(more)f(than)i(one)f(view)149 276 y(of)k(the)f(data.)27
b(F)-5 b(or)19 b(example,)g(a)g(spreadsheet)d(program)h(migh)n(t)h(de\014ne)g
(a)i(presen)n(tation)c(t)n(yp)r(e)j(for)g(rev)n(en)n(ue,)149
342 y(whic)n(h)d(can)f(b)r(e)g(displa)n(y)n(ed)i(either)e(as)g(a)h(n)n(um)n
(b)r(er)f(or)g(a)h(bar)g(of)g(a)g(certain)e(length)h(in)h(a)g(bar)g(graph.)22
b(T)n(ypically)-5 b(,)149 409 y(at)17 b(least)g(one)h(canonical)e(view)j
(should)e(b)r(e)g(de\014ned)g(for)g(a)h(presen)n(tation)d(t)n(yp)r(e,)j(for)g
(example,)f(the)g Ft(present)149 475 y Fr(metho)r(d)g(for)j(the)g
Ft(textual-view)h Fr(view)g(m)n(ust)e(b)r(e)h(de\014ned)f(if)i(the)e
(programmer)e(w)n(an)n(ts)j(to)g(allo)n(w)h(ob)s(jects)149
542 y(of)d(that)f(t)n(yp)r(e)g(to)h(b)r(e)f(displa)n(y)n(ed)i(textually)-5
b(.)149 674 y Fo(Implemen)n(tation)23 b(note:)i Fr(the)17 b(actual)g(argumen)
n(t)f(list)i(to)g(the)f Ft(present)i Fr(metho)r(d)d(is)149
741 y Fs(\(typ)m(e-key)21 b(p)m(ar)m(ameters)i(options)e(obje)m(ct)h(typ)m(e)
f(str)m(e)m(am)g(view)g Ft(&key)29 b Fs(ac)m(c)m(eptably)23
b(for-c)m(ontext-typ)m(e\))149 807 y(typ)m(e-key)d Fr(is)e(the)g(ob)s(ject)e
(that)h(is)i(used)e(to)h(cause)f(the)g(appropriate)e(metho)r(ds)h(to)h(b)r(e)
g(selected)g(\(an)g(instance)149 874 y(of)22 b(the)g(class)g(that)f(corresp)r
(onds)f(to)i(the)f(presen)n(tation)f(t)n(yp)r(e)i Fs(typ)m(e)p
Fr(.\).)40 b Fs(p)m(ar)m(ameters)26 b Fr(and)c Fs(options)i
Fr(are)d(the)149 940 y(parameters)f(and)k(options)g(for)g(the)f(t)n(yp)r(e)h
(on)g(whic)n(h)h(the)e(curren)n(t)g(metho)r(d)e(is)k(sp)r(ecialized.)42
b(The)24 b(other)149 1007 y(argumen)n(ts)15 b(are)j(gotten)e(from)h(the)g
(argumen)n(ts)e(of)k(the)e(same)g(name)f(in)j Ft(present)p
Fr(.)149 1139 y Fo(Implemen)n(tation)e(note:)22 b Fr(the)12
b(actual)f(generic)g(function)h(of)g(the)g Ft(present)h Fr(metho)r(d)d(is)j
(an)g(in)n(ternal)f(generic)149 1206 y(function,)20 b(not)f(the)h(function)f
(whose)h(name)f(is)h Ft(present)p Fr(.)33 b(Similar)20 b(in)n(ternal)g
(generic)f(functions)g(are)g(used)149 1272 y(for)e(all)i(presen)n(tation)d
(metho)r(ds.)49 1405 y Fj(\))45 b Ft(accept)29 b Fs(typ)m(e)21
b(str)m(e)m(am)h(view)e Ft(&key)29 b Fs(default)21 b(default-typ)m(e)533
b Fr([)p Fs(Pr)m(esentation)22 b(Metho)m(d)6 b Fr(])149 1524
y(The)16 b Ft(accept)g Fr(metho)r(d)e(is)i(resp)r(onsible)f(for)g(\\parsing")
g(the)g(represen)n(tation)e(of)j(the)g Fm(presen)n(tation)d(t)n(yp)r(e)j
Fs(typ)m(e)149 1591 y Fr(for)i(a)g(particular)f Fm(view)i Fs(view)p
Fr(.)27 b(The)18 b Ft(accept)h Fr(metho)r(d)d(m)n(ust)i(return)e(a)j(single)f
(v)m(alue,)h(the)f(ob)s(ject)f(that)g(w)n(as)149 1657 y(\\parsed",)i(or)h(t)n
(w)n(o)h(v)m(alues,)g(the)f(ob)s(ject)f(and)h(its)h(t)n(yp)r(e)f(\(a)g
(presen)n(tation)e(t)n(yp)r(e)i(sp)r(eci\014er\).)29 b(The)20
b(metho)r(d's)149 1723 y(caller)d(tak)n(es)h(care)f(of)h(establishing)f(the)h
(input)f(con)n(text,)g(defaulting,)g(prompting,)g(and)g(input)h(editing.)149
1856 y(The)e Ft(accept)h Fr(metho)r(d)d(can)i(sp)r(ecialize)g(on)g(the)g
Fs(view)i Fr(argumen)n(t)c(in)j(order)f(to)g(de\014ne)f(more)g(than)h(one)g
(input)149 1923 y(view)27 b(for)f(the)f(data.)49 b(The)26 b
Ft(accept)h Fr(metho)r(d)c(for)j(the)g Ft(textual-view)h Fr(view)g(m)n(ust)f
(b)r(e)f(de\014ned)g(if)i(the)149 1989 y(programmer)14 b(w)n(an)n(ts)k(to)g
(allo)n(w)h(ob)s(jects)d(of)i(that)f(t)n(yp)r(e)g(to)h(en)n(tered)f(via)h
(the)g(k)n(eyb)r(oard.)149 2122 y(Note)11 b(that)h Ft(accept)h
Fr(presen)n(tation)d(metho)r(ds)g(can)i(call)i Ft(accept)f
Fr(recursiv)n(ely)-5 b(.)23 b(In)13 b(this)f(case,)i(the)e(programmer)149
2188 y(should)j(b)r(e)h(careful)f(to)h(sp)r(ecify)f Ft(nil)i
Fr(for)f Ft(:prompt)h Fr(and)e Ft(:display-default)j Fr(unless)e(recursiv)n
(e)f(prompting)149 2255 y(is)j(really)h(desired.)149 2388 y
Fo(Implemen)n(tation)k(note:)i Fr(the)17 b(actual)g(argumen)n(t)f(list)i(to)g
(the)f Ft(accept)i Fr(metho)r(d)d(is)149 2454 y Fs(\(typ)m(e-key)21
b(p)m(ar)m(ameters)i(options)e(typ)m(e)g(str)m(e)m(am)g(view)g
Ft(&key)29 b Fs(default)21 b(default-typ)m(e\))49 2587 y Fj(\))45
b Ft(describe-presentation-type)30 b Fs(typ)m(e)21 b(str)m(e)m(am)h(plur)m
(al-c)m(ount)394 b Fr([)p Fs(Pr)m(esentation)22 b(Metho)m(d)6
b Fr(])149 2706 y(The)21 b Ft(describe-presentation-type)i
Fr(metho)r(d)c(is)j(resp)r(onsible)e(for)h(textually)g(describing)g(the)g
Fm(presen-)149 2772 y(tation)k(t)n(yp)r(e)i Fs(typ)m(e)p Fr(.)52
b Fs(str)m(e)m(am)29 b Fr(is)f(a)e(stream,)i(and)e(will)i(not)e(b)r(e)h
Ft(nil)g Fr(as)g(it)g(can)f(b)r(e)g(for)h(the)f Ft(describe-)149
2839 y(presentation-type)19 b Fr(function.)149 2971 y Fo(Implemen)n(tation)f
(note:)23 b Fr(the)13 b(actual)g(argumen)n(t)e(list)j(to)g(the)f
Ft(describe-presentation-type)i Fr(metho)r(d)149 3038 y(is)149
3104 y Fs(\(typ)m(e-key)21 b(p)m(ar)m(ameters)i(options)e(typ)m(e)g(str)m(e)m
(am)g(plur)m(al-c)m(ount\))49 3237 y Fj(\))45 b Ft
(presentation-type-specifier-p)30 b Fs(typ)m(e)789 b Fr([)p
Fs(Pr)m(esentation)22 b(Metho)m(d)6 b Fr(])149 3356 y(The)23
b Ft(presentation-type-specifier-p)i Fr(metho)r(d)20 b(is)k(resp)r(onsible)d
(for)i(c)n(hec)n(king)g(the)g(v)m(alidit)n(y)h(of)f(the)149
3423 y(parameters)14 b(and)k(options)f(for)h(the)f Fm(presen)n(tation)f(t)n
(yp)r(e)h Fs(typ)m(e)p Fr(.)26 b(The)18 b(default)f(metho)r(d)e(returns)i
Ft(t)p Fr(.)p eop
%%Page: 214 229
bop 149 16 a Fm(CHAPTER)16 b(23.)43 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1165 b Fr(214)149 210 y Fo(Implemen)n(tation)33 b(note:)41
b Fr(the)26 b(actual)g(argumen)n(t)e(list)j(to)f(the)g Ft
(presentation-type-specifier-p)149 276 y Fr(metho)r(d)15 b(is)149
342 y Fs(\(typ)m(e-key)21 b(p)m(ar)m(ameters)i(options)e(typ)m(e\))49
475 y Fj(\))45 b Ft(presentation-typep)30 b Fs(obje)m(ct)22
b(typ)m(e)951 b Fr([)p Fs(Pr)m(esentation)22 b(Metho)m(d)6
b Fr(])149 594 y(The)23 b Ft(presentation-typep)j Fr(metho)r(d)21
b(is)j(called)g(when)f(the)h Ft(presentation-typep)h Fr(function)d(requires)
149 661 y(t)n(yp)r(e-sp)r(eci\014c)h(kno)n(wledge.)45 b(If)25
b(the)f(t)n(yp)r(e)h(name)e(in)j(the)e Fm(presen)n(tation)f(t)n(yp)r(e)h
Fs(typ)m(e)j Fr(is)e(a)g(CLOS)g(class)g(or)149 727 y(names)f(a)h(CLOS)h
(class,)i(the)c(metho)r(d)f(is)k(called)e(only)h(if)h Fs(obje)m(ct)h
Fr(is)e(a)g(mem)n(b)r(er)d(of)i(the)g(class)h(and)f Fs(typ)m(e)149
793 y Fr(con)n(tains)20 b(parameters,)g(and)h(the)f(metho)r(d)f(simply)j
(tests)e(whether)g Fs(obje)m(ct)k Fr(is)e(a)g(mem)n(b)r(er)c(of)k(the)f(subt)
n(yp)r(e)149 860 y(sp)r(eci\014ed)16 b(b)n(y)j(the)e(parameters.)k(F)-5
b(or)19 b(non-class)e(t)n(yp)r(es,)h(the)f(metho)r(d)e(is)k(alw)n(a)n(ys)g
(called.)149 993 y Fo(Implemen)n(tation)k(note:)i Fr(the)17
b(actual)g(argumen)n(t)f(list)i(to)g(the)f Ft(presentation-typep)j
Fr(metho)r(d)15 b(is)149 1059 y Fs(\(typ)m(e-key)21 b(p)m(ar)m(ameters)i
(obje)m(ct)f(typ)m(e\))49 1192 y Fj(\))45 b Ft(presentation-subtypep)30
b Fs(typ)m(e)21 b(putative-sup)m(ertyp)m(e)570 b Fr([)p Fs(Pr)m(esentation)22
b(Metho)m(d)6 b Fr(])149 1311 y Ft(presentation-subtypep)23
b Fr(w)n(alks)g(the)e(t)n(yp)r(e)h(lattice)f(\(using)g Ft
(map-over-presentation-supertypes)p Fr(\))149 1377 y(to)k(determine)e(whethe)
h(or)h(not)g(the)g Fm(presen)n(tation)e(t)n(yp)r(e)i Fs(typ)m(e)i
Fr(is)g(a)e(subt)n(yp)r(e)g(of)g(the)p Fm(presen)n(tation)d(t)n(yp)r(e)149
1444 y Fs(putative-sup)m(ertyp)m(e)p Fr(,)g(without)16 b(lo)r(oking)i(at)f
(the)g(t)n(yp)r(e)g(parameters.)k(When)c(a)h(sup)r(ert)n(yp)r(e)d(of)i
Fs(typ)m(e)j Fr(has)d(b)r(een)149 1510 y(found)e(whose)h(name)e(is)j(the)f
(same)e(as)i(the)g(name)f(of)h Fs(putative-sup)m(ertyp)m(e)p
Fr(,)21 b(then)15 b(the)g Ft(subtypep)i Fr(metho)r(d)d(for)149
1577 y(that)i(t)n(yp)r(e)h(is)h(called)f(in)h(order)e(to)h(resolv)n(e)g(the)g
(question)g(b)n(y)h(lo)r(oking)f(at)g(the)g(t)n(yp)r(e)g(parameters)d(\(that)
h(is,)k(if)149 1643 y(the)d Ft(subtypep)i Fr(metho)r(d)c(is)j(called,)h
Fs(typ)m(e)g Fr(and)f Fs(putative-sup)m(ertyp)m(e)k Fr(are)16
b(guaran)n(teed)e(to)j(b)r(e)f(the)g(same)g(t)n(yp)r(e,)149
1710 y(di\013ering)21 b(only)i(in)f(their)f(parameters\).)32
b(If)23 b Fs(putative-sup)m(ertyp)m(e)i Fr(is)e(nev)n(er)e(found)g(during)h
(the)f(t)n(yp)r(e)g(w)n(alk,)149 1776 y(then)14 b Ft(presentation-subtypep)j
Fr(will)g(nev)n(er)e(call)h(the)e Ft(presentation-subtypep)j
Fr(presen)n(tation)c(metho)r(d)149 1842 y(for)k Fs(putative-sup)m(ertyp)m(e)p
Fr(.)149 1975 y(Unlik)n(e)j(all)h(other)d(presen)n(tation)g(metho)r(ds,)f
Ft(presentation-subtypep)22 b Fr(receiv)n(es)d(a)h Fs(typ)m(e)h
Fr(argumen)n(t)d(that)149 2042 y(has)e(b)r(een)g(translated)f(to)h(the)g
(presen)n(tation)f(t)n(yp)r(e)h(for)h(whic)n(h)g(the)g(metho)r(d)d(is)k(sp)r
(ecialized;)e Fs(typ)m(e)i Fr(is)g(nev)n(er)f(a)149 2108 y(subt)n(yp)r(e.)k
(The)13 b(metho)r(d)e(is)i(only)h(called)f(if)g Fs(putative-sup)m(ertyp)m(e)k
Fr(has)c(parameters)d(and)i(the)g(t)n(w)n(o)i(presen)n(tation)149
2174 y(t)n(yp)r(e)24 b(sp)r(eci\014ers)e(do)j(not)f(ha)n(v)n(e)h(equal)f
(parameters.)41 b(The)24 b(metho)r(d)e(m)n(ust)i(return)f(the)g(t)n(w)n(o)i
(v)m(alues)g(that)149 2241 y Ft(presentation-subtypep)19 b
Fr(returns.)149 2374 y(Since)14 b Ft(presentation-subtypep)i
Fr(tak)n(es)e(t)n(w)n(o)i(t)n(yp)r(e)e(argumen)n(ts,)f(the)h(parameters)d
(are)j(not)g(lexically)i(a)n(v)m(ail-)149 2440 y(able)i(as)f(v)m(ariables)h
(in)h(the)e(b)r(o)r(dy)g(of)h(a)g(presen)n(tation)e(metho)r(d.)149
2573 y Fo(Implemen)n(tation)23 b(note:)i Fr(the)17 b(actual)g(argumen)n(t)f
(list)i(to)g(the)f Ft(presentation-subtypep)j Fr(metho)r(d)15
b(is)149 2639 y Fs(\(typ)m(e-key)21 b(typ)m(e)g(putative-sup)m(ertyp)m(e\))49
2772 y Fj(\))45 b Ft(map-over-presentation-type-supertypes)31
b Fs(function)21 b(typ)m(e)338 b Fr([)p Fs(Pr)m(esentation)22
b(Metho)m(d)6 b Fr(])149 2891 y(This)23 b(metho)r(d)d(is)k(called)e(in)i
(order)e(to)g(apply)h Fs(function)i Fr(to)d(the)g(sup)r(erclasses)e(of)j(the)
g Fm(presen)n(tation)d(t)n(yp)r(e)149 2958 y Fs(typ)m(e)p Fr(.)149
3090 y Fo(Implemen)n(tation)c(note:)22 b Fr(the)11 b(actual)g(argumen)n(t)e
(list)k(to)e(the)g Ft(map-over-presentation-type-supertypes)149
3157 y Fr(metho)r(d)k(is)149 3223 y Fs(\(typ)m(e-class)20 b(function)h(typ)m
(e\))49 3356 y Fj(\))45 b Ft(accept-present-default)30 b Fs(typ)m(e)20
b(str)m(e)m(am)h(view)e(default)i(default-supplie)m(d-p)g(pr)m(esent-p)f
(query-identi\014er)149 3423 y Fr([)p Fs(Pr)m(esentation)i(Metho)m(d)6
b Fr(])p eop
%%Page: 215 230
bop 149 16 a Fm(CHAPTER)16 b(23.)43 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1165 b Fr(215)149 210 y(The)27 b Ft(accept-present-default)i
Fr(metho)r(d)d(is)i(called)f(when)g Ft(accept)i Fr(turns)d(in)n(to)i
Ft(present)h Fr(inside)f(of)149 276 y Ft(accepting-values)p
Fr(.)38 b(The)22 b(default)g(metho)r(d)d(calls)k Ft(present)g
Fr(or)f Ft(describe-presentation-type)i Fr(de-)149 342 y(p)r(ending)16
b(on)i(whether)f Fs(default-supplie)m(d-p)j Fr(is)f Fm(true)e
Fr(or)h Fm(false)p Fr(,)g(resp)r(ectiv)n(ely)-5 b(.)149 475
y(The)25 b(b)r(o)r(olean)e Fs(default-supplie)m(d-p)28 b Fr(will)g(b)r(e)c
Fm(true)h Fr(only)h(in)g(the)f(case)f(when)h(the)g Ft(:default)i
Fr(option)d(w)n(as)149 542 y(explicitly)19 b(supplied)e(in)i(the)e(call)i(to)
e Ft(accept)i Fr(that)e(in)n(v)n(ok)n(ed)i Ft(accept-present-default)p
Fr(.)149 674 y Fo(Implemen)n(tation)k(note:)i Fr(the)17 b(actual)g(argumen)n
(t)f(list)i(to)g(the)f Ft(accept-present-default)j Fr(metho)r(d)c(is)149
741 y Fs(\(typ)m(e-key)f(p)m(ar)m(ameters)i(options)f(typ)m(e)f(str)m(e)m(am)
h(view)f(default)g(default-supplie)m(d-p)h(pr)m(esent-p)g
(query-identi\014er\))49 874 y Fj(\))45 b Ft(presentation-type-history)30
b Fs(typ)m(e)905 b Fr([)p Fs(Pr)m(esentation)22 b(Metho)m(d)6
b Fr(])149 993 y(This)18 b(metho)r(d)d(is)k(resp)r(onsible)d(for)i(returning)
e(a)i(history)g(ob)s(ject)e(for)i(the)f Fm(presen)n(tation)f(t)n(yp)r(e)i
Fs(typ)m(e)p Fr(.)149 1126 y Fo(Implemen)n(tation)k(note:)i
Fr(the)17 b(actual)f(argumen)n(t)f(list)i(to)g(the)f Ft
(presentation-type-history)j Fr(metho)r(d)149 1192 y(is)149
1258 y Fs(\(typ)m(e-key)i(p)m(ar)m(ameters)i(typ)m(e\))49 1391
y Fj(\))45 b Ft(presentation-default-preprocessor)31 b Fs(default)21
b(typ)m(e)g Ft(&key)29 b Fs(default-typ)m(e)50 b Fr([)p Fs(Pr)m(esentation)22
b(Metho)m(d)6 b Fr(])149 1510 y(This)13 b(metho)r(d)d(is)j(resp)r(onsible)e
(for)h(taking)g(the)g(ob)s(ject)f Fs(default)p Fr(,)16 b(and)c(co)r(ercing)f
(it)i(to)f(matc)n(h)f(the)h Fm(presen)n(tation)149 1577 y(t)n(yp)r(e)17
b Fs(typ)m(e)j Fr(\(whic)n(h)d(is)i(the)e(t)n(yp)r(e)g(b)r(eing)g(accepted\))
e(and)j Fs(default-typ)m(e)i Fr(\(whic)n(h)e(is)h(the)e(presen)n(tation)e(t)n
(yp)r(e)j(of)149 1643 y Fs(default)p Fr(\).)25 b(This)16 b(is)h(useful)f
(when)f(y)n(ou)i(w)n(an)n(t)f(to)g(c)n(hange)f(the)g(default)h(gotten)e(from)
h(the)g(presen)n(tation)f(t)n(yp)r(e's)149 1710 y(history)h(so)h(that)e(it)j
(conforms)c(to)j(parameters)c(or)k(options)e(in)j Fs(typ)m(e)g
Fr(and)f Fs(default-typ)m(e)p Fr(.\))26 b(The)15 b(metho)r(d)f(m)n(ust)149
1776 y(return)h(t)n(w)n(o)i(v)m(alues,)h(the)e(new)h(ob)s(ject)e(to)i(b)r(e)f
(used)g(as)h(the)f(default,)h(and)f(a)h(new)g(presen)n(tation)d(t)n(yp)r(e,)j
(whic)n(h)149 1842 y(should)g(b)r(e)h(at)f(least)h(as)g(sp)r(eci\014c)e(as)i
Fs(typ)m(e)p Fr(.)149 1975 y Fo(Implemen)n(tation)g(note:)j
Fr(the)13 b(actual)f(argumen)n(t)e(list)k(to)e(the)g Ft
(presentation-default-preprocessor)149 2042 y Fr(metho)r(d)j(is)149
2108 y Fs(\(typ)m(e-key)21 b(p)m(ar)m(ameters)i(default)e(typ)m(e)g
Ft(&key)29 b Fs(default-typ)m(e\))49 2241 y Fj(\))45 b Ft
(presentation-refined-position-test)769 b Fr([)p Fs(Pr)m(esentation)22
b(Metho)m(d)6 b Fr(])149 2360 y Fo(Minor)22 b(issue:)54 b Fm(T)-5
b(o)19 b(b)r(e)e(supplied.)24 b(|)19 b(SWM)49 2493 y Fj(\))45
b Ft(highlight-presentation)30 b Fs(typ)m(e)21 b(r)m(e)m(c)m(or)m(d)i(str)m
(e)m(am)e(state)519 b Fr([)p Fs(Pr)m(esentation)22 b(Metho)m(d)6
b Fr(])149 2612 y(This)16 b(metho)r(d)e(is)i(resp)r(onsible)f(for)h(dra)n
(wing)f(a)i(highligh)n(ting)f(b)r(o)n(x)g(around)f(the)g Fm(presen)n(tation)f
Fs(r)m(e)m(c)m(or)m(d)19 b Fr(on)d(the)149 2678 y Fm(output)g(recording)g
(stream)g Fs(str)m(e)m(am)p Fr(.)27 b Fs(state)20 b Fr(will)f(b)r(e)e(either)
g Ft(:highlight)i Fr(or)f Ft(:unhighlight)p Fr(.)149 2811 y
Fo(Implemen)n(tation)23 b(note:)i Fr(the)17 b(actual)g(argumen)n(t)f(list)i
(to)g(the)f Ft(highlight-presentation)j Fr(metho)r(d)c(is)149
2877 y Fs(\(typ)m(e-key)21 b(p)m(ar)m(ameters)i(options)e(typ)m(e)g(r)m(e)m
(c)m(or)m(d)h(str)m(e)m(am)g(state\))149 3099 y Fp(23.3.4)75
b(Presen)n(tation)26 b(T)n(yp)r(e)f(F)-6 b(unctions)49 3267
y Fj(\))45 b Ft(describe-presentation-type)30 b Fs(typ)m(e)21
b Ft(&optional)30 b Fs(str)m(e)m(am)21 b(plur)m(al-c)m(ount)392
b Fr([)p Fs(F)l(unction)t Fr(])149 3386 y(Describ)r(es)11 b(the)g
Fm(presen)n(tation)f(t)n(yp)r(e)i(sp)r(eci\014er)f Fs(typ)m(e)j
Fr(on)e(the)f Fm(stream)g Fs(str)m(e)m(am)p Fr(,)16 b(whic)n(h)c(defaults)g
(to)g Ft(*standard-)149 3453 y(output*)p Fr(.)26 b(If)19 b
Fs(str)m(e)m(am)i Fr(is)e Ft(nil)p Fr(,)g(a)g(string)e(con)n(taining)h(the)f
(description)g(is)i(returned.)24 b Fs(plur)m(al-c)m(ount)d
Fr(is)e(either)p eop
%%Page: 216 231
bop 149 16 a Fm(CHAPTER)16 b(23.)43 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1165 b Fr(216)149 210 y Ft(nil)21 b Fr(\(meaning)e(that)g(the)h
(description)f(should)i(b)r(e)f(the)g(singular)g(form)f(of)i(the)f(name\),)g
Ft(t)h Fr(\(meaning)e(that)149 276 y(the)c(description)f(should)h(the)g
(plural)h(form)f(of)g(the)g(name\),)g(or)h(an)f(in)n(teger)g(greater)f(than)h
(zero)f(\(the)h(n)n(um)n(b)r(er)149 342 y(of)j(items)f(to)g(b)r(e)h(describ)r
(ed\).)k(The)17 b(default)g(is)i Ft(1)p Fr(.)149 475 y Fs(typ)m(e)g
Fr(can)f(b)r(e)f(a)h(presen)n(tation)e(t)n(yp)r(e)h(abbreviation.)49
608 y Fj(\))45 b Ft(presentation-type-parameters)30 b Fs(typ)m(e-name)22
b Ft(&optional)30 b Fs(env)563 b Fr([)p Fs(F)l(unction)t Fr(])149
727 y(Returns)14 b(a)i(lam)n(b)r(da-list,)g(the)f(parameters)d(sp)r
(eci\014ed)i(when)h(the)g(presen)n(tation)f(t)n(yp)r(e)h(or)h(presen)n
(tation)d(t)n(yp)r(e)149 793 y(abbreviation)18 b(whose)h(name)f(is)i
Fs(typ)m(e-name)j Fr(w)n(as)d(de\014ned.)28 b Fs(typ)m(e-name)22
b Fr(is)f(a)e(sym)n(b)r(ol)g(or)h(a)g(class.)29 b Fs(env)21
b Fr(is)g(a)149 860 y(macro-expansion)15 b(en)n(vironmen)n(t,)i(as)h(in)g
Ft(find-class)p Fr(.)49 993 y Fj(\))45 b Ft(presentation-type-options)30
b Fs(typ)m(e-name)22 b Ft(&optional)30 b Fs(env)650 b Fr([)p
Fs(F)l(unction)t Fr(])149 1112 y(Returns)11 b(the)i(list)h(of)f(options)g(sp)
r(eci\014ed)e(when)i(the)g(presen)n(tation)e(t)n(yp)r(e)i(or)g(presen)n
(tation)e(t)n(yp)r(e)i(abbreviation)149 1178 y(whose)21 b(name)f(is)i
Fs(typ)m(e-name)i Fr(w)n(as)f(de\014ned.)34 b(This)22 b(do)r(es)e(not)h
(include)h(the)f(standard)e(options)i(unless)g(the)149 1245
y(presen)n(tation-t)n(yp)r(e)15 b(de\014nition)h(men)n(tioned)g(them)g
(explicitly)-5 b(.)26 b Fs(typ)m(e-name)20 b Fr(is)f(a)f(sym)n(b)r(ol)f(or)h
(a)g(class.)24 b Fs(env)19 b Fr(is)149 1311 y(a)f(macro-expansion)d(en)n
(vironmen)n(t,)i(as)h(in)g Ft(find-class)p Fr(.)49 1444 y Fj(\))45
b Ft(with-presentation-type-decoded)30 b Fs(\(name-var)16 b
Ft(&optional)30 b Fs(p)m(ar)m(ameters-var)18 b(options-var\))e(typ)m(e)f
Ft(&body)149 1510 y Fs(b)m(o)m(dy)2002 b Fr([)p Fs(Macr)m(o)s
Fr(])149 1629 y(The)16 b(sp)r(eci\014ed)e(v)m(ariables)i(are)f(b)r(ound)g(to)
h(the)g(comp)r(onen)n(ts)c(of)17 b(the)e(presen)n(tation)f(t)n(yp)r(e)i(sp)r
(eci\014er)e(pro)r(duced)149 1696 y(b)n(y)k(ev)m(aluating)e
Fs(typ)m(e)p Fr(,)k(the)c(forms)h(in)g Fs(b)m(o)m(dy)j Fr(are)c(executed,)g
(and)h(the)g(v)m(alues)g(of)h(the)e(last)i(form)e(are)g(returned.)149
1762 y Fs(name-var)p Fr(,)25 b(if)e(non-)p Ft(nil)p Fr(,)g(is)g(b)r(ound)d
(to)h(the)g(presen)n(tation)f(t)n(yp)r(e)h(name.)35 b Fs(p)m(ar)m
(ameters-var)p Fr(,)27 b(if)c(non-)p Ft(nil)p Fr(,)g(is)149
1829 y(b)r(ound)e(to)i(a)h(list)f(of)g(the)g(parameters.)36
b Fs(options-var)p Fr(,)27 b(if)d(non-)p Ft(nil)p Fr(,)h(is)f(b)r(ound)e(to)h
(a)g(list)h(of)f(the)f(options.)149 1895 y(When)17 b(supplied,)h
Fs(name-var)p Fr(,)j Fs(p)m(ar)m(ameters-var)p Fr(,)i(and)17
b Fs(options-var)k Fr(m)n(ust)c(b)r(e)g(sym)n(b)r(ols.)149
2028 y(The)22 b Fs(name-var)p Fr(,)27 b Fs(p)m(ar)m(ameters-var)p
Fr(,)i(and)22 b Fs(options-var)j Fr(argumen)n(ts)20 b(are)j(not)f(ev)m
(aluated.)37 b Fs(b)m(o)m(dy)24 b Fr(ma)n(y)f(ha)n(v)n(e)149
2094 y(zero)17 b(or)g(more)g(declarations)f(as)i(its)g(\014rst)f(forms.)49
2227 y Fj(\))45 b Ft(presentation-type-name)30 b Fs(typ)m(e)1280
b Fr([)p Fs(F)l(unction)t Fr(])149 2346 y(Returns)22 b(the)h(presen)n(tation)
e(t)n(yp)r(e)j(name)e(of)i(the)f(presen)n(tation)e(t)n(yp)r(e)j(sp)r
(eci\014er)e Fs(typ)m(e)p Fr(.)43 b(This)24 b(function)f(is)149
2412 y(pro)n(vided)17 b(as)h(a)g(con)n(v)n(enience.)24 b(It)18
b(could)f(b)r(e)h(implemen)n(ted)d(with)j(the)g(follo)n(wing)g(co)r(de:)149
2581 y Ft(\(defun)29 b(presentation-type-name)h(\(type\))207
2647 y(\(with-presentation-type-decoded)h(\(name\))e(type)265
2713 y(name\)\))49 2882 y Fj(\))45 b Ft(with-presentation-type-parameters)31
b Fs(\(typ)m(e-name)21 b(typ)m(e\))g Ft(&body)29 b Fs(b)m(o)m(dy)413
b Fr([)p Fs(Macr)m(o)s Fr(])149 3001 y(V)-5 b(ariables)19 b(with)h(the)f
(same)f(name)g(as)i(eac)n(h)f(parameter)e(in)j(the)f(de\014nition)g(of)h(the)
f(presen)n(tation)e(t)n(yp)r(e)i(are)149 3067 y(b)r(ound)13
b(to)h(the)f(parameter)e(v)m(alues)j(in)h Fs(typ)m(e)p Fr(,)i(if)e(presen)n
(t,)g(or)f(else)g(to)g(the)f(defaults)h(sp)r(eci\014ed)e(in)j(the)f
(de\014nition)149 3133 y(of)j(the)f(presen)n(tation)f(t)n(yp)r(e.)24
b(The)17 b(forms)f(in)i Fs(b)m(o)m(dy)h Fr(are)d(executed)g(in)h(the)g(scop)r
(e)f(of)h(these)f(v)m(ariables)g(and)h(the)149 3200 y(v)m(alues)h(of)g(the)f
(last)h(form)f(are)g(returned.)149 3333 y(The)g(v)m(alue)g(of)g(the)g(form)f
Fs(typ)m(e)j Fr(m)n(ust)d(b)r(e)h(a)g(presen)n(tation)e(t)n(yp)r(e)h(sp)r
(eci\014er)g(whose)g(name)g(is)i Fs(typ)m(e-name)p Fr(.)27
b(The)149 3399 y Fs(typ)m(e-name)c Fr(and)d Fs(typ)m(e)j Fr(argumen)n(ts)18
b(are)i(not)g(ev)m(aluated.)31 b Fs(b)m(o)m(dy)23 b Fr(ma)n(y)d(ha)n(v)n(e)i
(zero)d(or)i(more)e(declarations)g(as)149 3466 y(its)f(\014rst)f(forms.)p
eop
%%Page: 217 232
bop 149 16 a Fm(CHAPTER)16 b(23.)43 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1165 b Fr(217)49 210 y Fj(\))45 b Ft(with-presentation-type-options)
30 b Fs(\(typ)m(e-name)22 b(typ)m(e\))f Ft(&body)29 b Fs(b)m(o)m(dy)500
b Fr([)p Fs(Macr)m(o)s Fr(])149 329 y(V)-5 b(ariables)14 b(with)h(the)f(same)
f(name)g(as)i(eac)n(h)f(option)g(in)i(the)e(de\014nition)f(of)i(the)f(presen)
n(tation)f(t)n(yp)r(e)h(are)g(b)r(ound)149 395 y(to)20 b(the)f(option)h(v)m
(alues)g(in)h Fs(typ)m(e)p Fr(,)i(if)e(presen)n(t,)f(or)g(else)g(to)g(the)g
(defaults)f(sp)r(eci\014ed)g(in)i(the)f(de\014nition)f(of)h(the)149
461 y(presen)n(tation)14 b(t)n(yp)r(e.)24 b(The)16 b(forms)g(in)h
Fs(b)m(o)m(dy)h Fr(are)f(executed)d(in)k(the)e(scop)r(e)f(of)i(these)e(v)m
(ariables)h(and)h(the)f(v)m(alues)149 528 y(of)i(the)f(last)h(form)f(are)g
(returned.)149 661 y(The)g(v)m(alue)g(of)g(the)g(form)f Fs(typ)m(e)j
Fr(m)n(ust)d(b)r(e)h(a)g(presen)n(tation)e(t)n(yp)r(e)h(sp)r(eci\014er)g
(whose)g(name)g(is)i Fs(typ)m(e-name)p Fr(.)27 b(The)149 727
y Fs(typ)m(e-name)c Fr(and)d Fs(typ)m(e)j Fr(argumen)n(ts)18
b(are)i(not)g(ev)m(aluated.)31 b Fs(b)m(o)m(dy)23 b Fr(ma)n(y)d(ha)n(v)n(e)i
(zero)d(or)i(more)e(declarations)g(as)149 793 y(its)f(\014rst)f(forms.)49
926 y Fj(\))45 b Ft(presentation-type-specifier-p)30 b Fs(obje)m(ct)1037
b Fr([)p Fs(F)l(unction)t Fr(])149 1045 y(Returns)16 b Fm(true)h
Fr(if)i Fs(obje)m(ct)h Fr(is)f(a)f(v)m(alid)h Fm(presen)n(tation)d(t)n(yp)r
(e)h(sp)r(eci\014er)p Fr(,)g(otherwise)f(returns)g Fm(false)p
Fr(.)49 1178 y Fj(\))45 b Ft(presentation-typep)30 b Fs(obje)m(ct)22
b(typ)m(e)1239 b Fr([)p Fs(F)l(unction)t Fr(])149 1297 y(Returns)13
b Fm(true)i Fr(if)h Fs(obje)m(ct)i Fr(is)e(of)f(the)g(presen)n(tation)e(t)n
(yp)r(e)i(sp)r(eci\014ed)e(b)n(y)k(the)d Fm(presen)n(tation)f(t)n(yp)r(e)i
(sp)r(eci\014er)f Fs(typ)m(e)p Fr(,)149 1364 y(otherwise)i(returns)g
Fm(false)p Fr(.)149 1496 y Fs(typ)m(e)j Fr(ma)n(y)f(not)g(b)r(e)f(a)h(presen)
n(tation)e(t)n(yp)r(e)h(abbreviation.)149 1629 y(This)h(is)h(analogous)d(to)i
(the)f(Common)f(Lisp)i Ft(typep)h Fr(function.)49 1762 y Fj(\))45
b Ft(presentation-type-of)30 b Fs(obje)m(ct)1298 b Fr([)p Fs(F)l(unction)t
Fr(])149 1881 y(Returns)18 b(a)j(presen)n(tation)d(t)n(yp)r(e)i(of)g(whic)n
(h)h Fs(obje)m(ct)i Fr(is)e(a)f(mem)n(b)r(er.)29 b Ft(presentation-type-of)22
b Fr(returns)c(the)149 1948 y(most)f(sp)r(eci\014c)g(presen)n(tation)g(t)n
(yp)r(e)h(that)f(can)i(b)r(e)f(con)n(v)n(enien)n(tly)h(computed)d(and)i(is)h
(lik)n(ely)i(to)e(b)r(e)f(useful)g(to)149 2014 y(the)f(programmer.)k(This)d
(is)h(often)e(the)g(class)h(name)e(of)i(the)g(clas)g(of)g(the)f(ob)s(ject.)
149 2147 y(If)i Ft(presentation-type-of)i Fr(cannot)c(determine)f(the)j
(presen)n(tation)d(t)n(yp)r(e)j(of)g(the)f(ob)s(ject,)g(it)h(ma)n(y)g(return)
149 2213 y(either)e Ft(expression)i Fr(or)e Ft(t)p Fr(.)149
2346 y(This)h(is)h(analogous)d(to)i(the)f(Common)f(Lisp)i Ft(typep)h
Fr(function.)49 2479 y Fj(\))45 b Ft(presentation-subtypep)30
b Fs(typ)m(e)21 b(putative-sup)m(ertyp)m(e)858 b Fr([)p Fs(F)l(unction)t
Fr(])149 2598 y(Answ)n(ers)22 b(the)g(question)h(\\is)g(the)g(t)n(yp)r(e)f
(sp)r(eci\014ed)g(b)n(y)i(the)e Fm(presen)n(tation)f(t)n(yp)r(e)h(sp)r
(eci\014er)g Fs(typ)m(e)j Fr(a)e(subt)n(yp)r(e)149 2664 y(of)h(the)f(t)n(yp)r
(e)h(sp)r(eci\014ed)e(b)n(y)j(the)e Fm(presen)n(tation)f(t)n(yp)r(e)h(sp)r
(eci\014er)f Fs(putative-sup)m(ertyp)m(e)p Fr(?".)46 b Ft(presentation-)149
2731 y(subtypep)23 b Fr(returns)d(t)n(w)n(o)j(v)m(alues,)h
Fs(subtyp)m(ep)g Fr(and)d Fs(known-p)p Fr(.)39 b(When)22 b
Fs(known-p)h Fr(is)g Fm(true)p Fr(,)g Fs(subtyp)m(ep)h Fr(can)d(b)r(e)149
2797 y(either)g Fm(true)g Fr(\(meaning)f(that)h Fs(typ)m(e)j
Fr(is)e(de\014nitely)g(a)g(subt)n(yp)r(e)f(of)h Fs(putative-sup)m(ertyp)m(e)p
Fr(\))k(or)c Fm(false)g Fr(\(meaning)149 2864 y(that)14 b Fs(typ)m(e)j
Fr(is)e(de\014nitely)g(not)f(a)i(subt)n(yp)r(e)e(of)h Fs(putative-sup)m
(ertyp)m(e)p Fr(\).)27 b(When)15 b Fs(known-p)h Fr(is)g Fm(false)p
Fr(,)g(then)e Fs(subtyp)m(ep)149 2930 y Fr(m)n(ust)j(also)h(b)r(e)f
Fm(false)p Fr(;)h(this)g(means)f(that)g(the)g(answ)n(er)g(cannot)g(reliably)h
(b)r(e)g(determined.)149 3063 y Fs(typ)m(e)h Fr(ma)n(y)f(not)g(b)r(e)f(a)h
(presen)n(tation)e(t)n(yp)r(e)h(abbreviation.)149 3196 y(This)h(is)h
(analogous)d(to)i(the)f(Common)f(Lisp)i Ft(subtypep)h Fr(function.)49
3328 y Fj(\))45 b Ft(map-over-presentation-type-supertypes)31
b Fs(function)21 b(typ)m(e)626 b Fr([)p Fs(F)l(unction)t Fr(])149
3447 y(Calls)22 b(the)f(function)g Fs(function)i Fr(on)f(the)f
Fm(presen)n(tation)f(t)n(yp)r(e)h(sp)r(eci\014er)f Fs(typ)m(e)k
Fr(and)d(eac)n(h)h(of)g(its)g(sup)r(ert)n(yp)r(es.)p eop
%%Page: 218 233
bop 149 16 a Fm(CHAPTER)16 b(23.)43 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1165 b Fr(218)149 210 y Fs(function)26 b Fr(is)f(called)f(with)h(t)n
(w)n(o)g(argumen)n(ts,)f(the)f(name)h(of)g(a)h(t)n(yp)r(e)f(and)g(a)g(presen)
n(tation)e(t)n(yp)r(e)i(sp)r(eci\014er)149 276 y(for)d(that)g(t)n(yp)r(e)g
(with)g(the)g(parameters)e(and)i(options)f(\014lled)i(in.)36
b Fs(function)23 b Fr(has)f(dynamic)e(exten)n(t;)j(its)f(t)n(w)n(o)149
342 y(argumen)n(ts)13 b(are)h(p)r(ermitted)f(to)i(ha)n(v)n(e)h(dynamic)e
(exten)n(t.)23 b(The)15 b(tra)n(v)n(ersal)g(of)h(the)e(t)n(yp)r(e)h(lattice)g
(is)h(done)e(in)i(the)149 409 y(order)j(sp)r(eci\014ed)g(b)n(y)j(the)e(CLOS)h
(class)g(precedence)c(rules,)22 b(and)e(visits)i(eac)n(h)e(t)n(yp)r(e)h(in)g
(the)f(lattice)g(exactly)149 475 y(once.)49 608 y Fj(\))45
b Ft(presentation-type-direct-supertypes)31 b Fs(typ)m(e)902
b Fr([)p Fs(F)l(unction)t Fr(])149 727 y(Returns)14 b(a)h(sequence)f
(consisting)h(of)g(the)g(names)f(of)i(all)g(of)g(the)f(presen)n(tation)e(t)n
(yp)r(es)i(that)f(are)h(direct)g(sup)r(er-)149 793 y(t)n(yp)r(es)g(of)i(the)f
Fm(presen)n(tation)e(t)n(yp)r(e)i(sp)r(eci\014er)e Fs(typ)m(e)p
Fr(,)19 b(or)d Ft(nil)h Fr(if)g Fs(typ)m(e)h Fr(has)e(no)h(sup)r(ert)n(yp)r
(es.)k(The)16 b(consequences)149 860 y(of)i(mo)r(difying)f(the)g(returned)f
(sequence)g(are)h(unsp)r(eci\014ed.)49 993 y Fj(\))45 b Ft
(find-presentation-type-class)30 b Fs(name)21 b Ft(&optional)30
b Fs(\(err)m(orp)22 b Ft(t)p Fs(\))d(envir)m(onment)201 b Fr([)p
Fs(F)l(unction)t Fr(])149 1112 y(Returns)15 b(the)h(class)h(corresp)r(onding)
d(to)i(the)g(presen)n(tation)f(t)n(yp)r(e)h(named)g Fs(name)p
Fr(,)j(whic)n(h)e(m)n(ust)f(b)r(e)g(a)h(sym)n(b)r(ol)149 1178
y(or)g(a)i(class)e(ob)s(ject.)23 b Fs(err)m(orp)e Fr(and)d
Fs(envir)m(onment)j Fr(are)d(as)g(for)f Ft(find-class)p Fr(.)49
1311 y Fj(\))45 b Ft(class-presentation-type-name)30 b Fs(class)20
b Ft(&optional)30 b Fs(envir)m(onment)481 b Fr([)p Fs(F)l(unction)t
Fr(])149 1430 y(Returns)22 b(the)h(presen)n(tation)f(t)n(yp)r(e)i(name)e
(corresp)r(onding)f(to)j(the)f(class)h Fs(class)p Fr(.)43 b(This)25
b(is)f(essen)n(tially)g(the)149 1496 y(in)n(v)n(erse)18 b(of)g
Ft(find-presentation-type-class)p Fr(.)27 b Fs(envir)m(onment)21
b Fr(is)e(as)f(for)g Ft(find-class)p Fr(.)49 1629 y Fj(\))45
b Ft(default-describe-presentation-type)31 b Fs(description)22
b(str)m(e)m(am)f(plur)m(al-c)m(ount)281 b Fr([)p Fs(F)l(unction)t
Fr(])149 1748 y(P)n(erforms)10 b(the)h(default)g(actions)f(for)i
Ft(describe-presentation-type)p Fr(,)j(notably)d(pluralization)e(and)i(prep)r
(end-)149 1815 y(ing)g(an)g(inde\014nite)e(article)h(if)i(appropriate.)20
b Fs(description)15 b Fr(is)d(a)g(string)f(or)h(a)g(sym)n(b)r(ol,)h(t)n
(ypically)g(the)e Ft(:description)149 1881 y Fr(presen)n(tation)18
b(t)n(yp)r(e)j(option)g(or)g(the)f Ft(:description)i Fr(option)f(to)f
Ft(define-presentation-type)p Fr(.)36 b Fs(plur)m(al-)149 1948
y(c)m(ount)19 b Fr(is)g(as)f(for)g Ft(describe-presentation-type)p
Fr(.)49 2080 y Fj(\))45 b Ft(make-presentation-type-specifier)31
b Fs(typ)m(e-name-and-p)m(ar)m(amet)q(ers)24 b Ft(&rest)29
b Fs(options)81 b Fr([)p Fs(F)l(unction)t Fr(])149 2199 y(A)23
b(con)n(v)n(enien)n(t)f(w)n(a)n(y)j(to)e(assem)n(ble)e(a)j(presen)n(tation)c
(t)n(yp)r(e)j(sp)r(eci\014er)e(with)i(only)h(non-default)e(options)g(in-)149
2266 y(cluded.)h(This)18 b(is)g(only)g(useful)f(for)g(abbreviation)f
(expanders,)g(not)h(for)g Ft(:inherit-from)p Fr(.)26 b Fs(typ)m(e-name-and-)
149 2332 y(p)m(ar)m(ameters)h Fr(is)e(a)f(presen)n(tation)e(t)n(yp)r(e)i(sp)r
(eci\014er,)g(whic)n(h)h(m)n(ust)e(b)r(e)g(in)i(the)f Ft(\()p
Fs(typ)m(e)p Ft(-)p Fs(name)31 b(p)m(ar)m(ameters...)p Ft(\))149
2399 y Fr(form.)23 b Fs(options)17 b Fr(are)f(alternating)f(k)n(eyw)n(ords)h
(and)g(v)m(alues)h(that)e(are)h(added)f(as)i(options)e(to)h(the)g(presen)n
(tation)149 2465 y(t)n(yp)r(e)24 b(sp)r(eci\014er,)g(except)f(that)g(if)j(a)e
(v)m(alue)g(is)h(equal)g(to)f Fs(typ)m(e-name)p Fr('s)j(default,)e(that)f
(option)f(is)i(omitted,)149 2531 y(pro)r(ducing)16 b(a)i(more)e(concise)h
(presen)n(tation)f(t)n(yp)r(e)h(sp)r(eci\014er.)149 2781 y
Fk(23.4)91 b(T)m(yp)s(ed)31 b(Output)149 2969 y Fr(An)25 b(application)g(can)
g(sp)r(ecify)h(that)e(all)j(output)d(done)h(within)i(a)f(certain)e(dynamic)h
(exten)n(t)g(should)g(b)r(e)149 3035 y(asso)r(ciated)f(with)i(a)h(giv)n(en)g
(Lisp)f(ob)s(ject)f(and)h(b)r(e)g(declared)f(to)h(b)r(e)g(of)g(a)h(sp)r
(eci\014ed)e(presen)n(tation)f(t)n(yp)r(e.)149 3101 y(The)16
b(resulting)g(output)g(is)i(sa)n(v)n(ed)f(in)h(the)e(windo)n(w's)h(output)f
(history)g(as)h(a)g(presen)n(tation.)22 b(Sp)r(eci\014cally)-5
b(,)17 b(the)149 3168 y(presen)n(tation)11 b(remem)n(b)r(ers)f(the)k(output)e
(that)g(w)n(as)j(p)r(erformed)10 b(\(b)n(y)k(sa)n(ving)h(the)e(asso)r(ciated)
e(output)h(record\),)149 3234 y(the)17 b(Lisp)i(ob)s(ject)e(asso)r(ciated)f
(with)i(the)g(output,)f(and)h(the)g(presen)n(tation)e(t)n(yp)r(e)i(sp)r
(eci\014ed)e(at)i(output)f(time.)149 3301 y(The)g(ob)s(ject)g(can)h(b)r(e)f
(an)n(y)h(Lisp)g(ob)s(ject.)49 3433 y Fj(\))45 b Ft
(with-output-as-presentation)30 b Fs(\(str)m(e)m(am)g(obje)m(ct)g(typ)m(e)f
Ft(&key)g Fs(mo)m(di\014er)h(single-b)m(ox)f(al)s(low-sensitive-)p
eop
%%Page: 219 234
bop 149 16 a Fm(CHAPTER)16 b(23.)43 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1165 b Fr(219)149 210 y Fs(inferiors)21 b(r)m(e)m(c)m(or)m(d-typ)m
(e\))i Ft(&body)29 b Fs(b)m(o)m(dy)1321 b Fr([)p Fs(Macr)m(o)s
Fr(])149 409 y(The)19 b(output)e(of)i Fs(b)m(o)m(dy)i Fr(to)e(the)f
Fm(extended)f(output)h(recording)f Fs(str)m(e)m(am)k Fr(is)f(used)e(to)h
(generate)e(a)i(presen)n(tation)149 475 y(whose)g(underlying)g(ob)s(ject)g
(is)h Fs(obje)m(ct)j Fr(and)d(whose)f(presen)n(tation)e(t)n(yp)r(e)j(is)h
Fs(typ)m(e)p Fr(.)32 b(Eac)n(h)19 b(in)n(v)n(o)r(cation)h(of)g(this)149
542 y(macro)11 b(results)h(in)i(the)f(creation)f(of)h(a)g(presen)n(tation)e
(ob)s(ject)h(in)i(the)f(stream's)e(output)h(history)g(unless)h(output)149
608 y(recording)23 b(has)h(b)r(een)g(disabled)h(or)f Ft
(:allow-sensitive-inferiors)31 b(nil)25 b Fr(w)n(as)h(sp)r(eci\014ed)d(at)h
(a)h(higher)149 674 y(lev)n(el,)d(in)f(whic)n(h)g(case)f(the)g(presen)n
(tation)e(ob)s(ject)h(is)j(not)d(inserted)h(in)n(to)g(the)g(history)-5
b(.)32 b Ft(with-output-as-)149 741 y(presentation)19 b Fr(returns)d(the)h
(presen)n(tation)f(corresp)r(onding)f(to)i(the)h(output.)149
874 y(The)23 b Fs(str)m(e)m(am)j Fr(argumen)n(t)21 b(is)k(not)e(ev)m
(aluated,)h(and)f(m)n(ust)g(b)r(e)g(a)g(sym)n(b)r(ol)g(that)g(is)h(b)r(ound)f
(to)g(an)g(extended)149 940 y(output)e(stream)f(or)j(output)e(recording)g
(stream.)36 b(If)23 b Fs(str)m(e)m(am)i Fr(is)f Ft(t)p Fr(,)g
Ft(*standard-output*)h Fr(is)e(used.)38 b Fs(b)m(o)m(dy)149
1007 y Fr(ma)n(y)18 b(ha)n(v)n(e)g(zero)f(or)h(more)f(declarations)e(as)j
(its)h(\014rst)e(forms.)149 1139 y Fs(typ)m(e)i Fr(ma)n(y)f(b)r(e)g(a)g
(presen)n(tation)d(t)n(yp)r(e)j(abbreviation.)149 1272 y Fs(mo)m(di\014er)p
Fr(,)g(whic)n(h)e(defaults)d(to)i Ft(nil)p Fr(,)i(is)f(some)d(sort)i(of)g(ob)
s(ject)e(that)h(describ)r(es)g(ho)n(w)h(the)f(presen)n(tation)f(ob)s(ject)149
1339 y(migh)n(t)g(b)r(e)g(mo)r(di\014ed.)21 b(F)-5 b(or)15
b(example,)f(it)g(migh)n(t)f(b)r(e)h(a)g(function)e(of)i(one)g(argumen)n(t)d
(\(the)i(new)h(v)m(alue\))f(that)g(can)149 1405 y(b)r(e)k(called)g(in)i
(order)d(to)i(store)e(a)i(new)g(v)m(alue)f(for)h Fs(obje)m(ct)i
Fr(after)d(a)h(user)f(someho)n(w)f(\\edits")h(the)g(presen)n(tation.)149
1472 y Fs(mo)m(di\014er)j Fr(m)n(ust)d(ha)n(v)n(e)i(inde\014nite)e(exten)n
(t.)149 1604 y Fs(single-b)m(ox)j Fr(is)e(used)g(to)g(sp)r(ecify)f(the)h
Ft(presentation-single-box)i Fr(comp)r(onen)n(t)15 b(of)j(the)f(resulting)h
(presen-)149 1671 y(tation.)23 b(It)18 b(can)g(tak)n(e)g(on)f(the)h(v)m
(alues)g(describ)r(ed)d(under)i Ft(presentation-single-box)p
Fr(.)149 1804 y(When)d(the)h(b)r(o)r(olean)e Fs(al)s(low-sensitive-inferiors)
18 b Fr(is)e Fm(false)p Fr(,)f(nested)f(calls)i(to)e Ft(present)i
Fr(or)f Ft(with-output-as-)149 1870 y(presentation)k Fr(inside)f(this)g(one)f
(will)j(not)d(generate)f(presen)n(tations.)22 b(The)c(default)f(is)h
Fm(true)p Fr(.)149 2003 y Fs(r)m(e)m(c)m(or)m(d-typ)m(e)28
b Fr(sp)r(eci\014es)22 b(the)h(class)h(of)f(the)g(presen)n(tation)f(output)g
(record)g(to)i(b)r(e)f(created.)40 b(It)23 b(defaults)g(to)149
2069 y Ft(standard-presentation)p Fr(.)i(This)17 b(argumen)n(t)d(should)j
(only)f(b)r(e)g(supplied)g(b)n(y)i(a)e(programmer)d(if)k(there)e(is)j(a)149
2136 y(new)f(class)h(of)g(output)f(record)f(that)h(supp)r(orts)f(the)h(up)r
(dating)f(output)h(record)f(proto)r(col.)149 2269 y(All)i(argumen)n(ts)e(of)i
(this)g(macro)e(are)h(ev)m(aluated.)149 2401 y(F)-5 b(or)18
b(example,)149 2568 y Ft(\(with-output-as-presentation)30 b(\(stream)g
(#p"foo")f('pathname\))207 2635 y(\(princ)g("FOO")h(stream\)\))49
2801 y Fj(\))45 b Ft(present)29 b Fs(obje)m(ct)f Ft(&optional)i
Fs(typ)m(e)c Ft(&key)k Fs(str)m(e)m(am)d(view)f(mo)m(di\014er)i(ac)m(c)m
(eptably)h(for-c)m(ontext-typ)m(e)g(single-)149 2868 y(b)m(ox)20
b(al)s(low-sensitive-inferiors)i(sensitive)f(r)m(e)m(c)m(or)m(d-typ)m(e)891
b Fr([)p Fs(F)l(unction)t Fr(])149 3067 y(The)19 b Fs(obje)m(ct)j
Fr(of)d Fm(presen)n(tation)e(t)n(yp)r(e)i Fs(typ)m(e)i Fr(is)f(presen)n(ted)e
(to)h(the)g Fm(extended)e(output)h(stream)f Fs(str)m(e)m(am)22
b Fr(\(whic)n(h)149 3133 y(defaults)c(to)g Ft(*standard-output*)p
Fr(\),)j(using)e(the)f(t)n(yp)r(e's)h Ft(present)h Fr(metho)r(d)d(for)h(the)h
(supplied)f Fm(view)i Fs(view)p Fr(.)149 3200 y Fs(typ)m(e)e
Fr(is)e(a)h(presen)n(tation)d(t)n(yp)r(e)h(sp)r(eci\014er,)h(and)f(can)h(b)r
(e)g(an)g(abbreviation.)22 b(It)16 b(defaults)g(to)f Ft(\(presentation-)149
3266 y(type-of)29 b Fs(obje)m(ct)p Ft(\))p Fr(.)49 b(The)24
b(other)g(argumen)n(ts)f(and)h(o)n(v)n(erall)i(b)r(eha)n(vior)f(of)g
Ft(present)h Fr(are)e(as)h(for)g Ft(stream-)149 3333 y(present)p
Fr(.)149 3466 y(The)14 b(returned)f(v)m(alue)h(of)h Ft(present)h
Fr(is)f(the)f(presen)n(tation)f(ob)s(ject)g(that)h(con)n(tains)g(the)g
(output)f(corresp)r(onding)p eop
%%Page: 220 235
bop 149 16 a Fm(CHAPTER)16 b(23.)43 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1165 b Fr(220)149 210 y(to)17 b(the)h(ob)s(ject.)149
342 y Ft(present)f Fr(m)n(ust)e(b)r(e)g(implemen)n(ted)f(b)n(y)j(\014rst)e
(expanding)g(an)n(y)i(presen)n(tation)d(t)n(yp)r(e)h(abbreviations)g(\()p
Fs(typ)m(e)i Fr(and)149 409 y Fs(for-c)m(ontext-typ)m(e)p Fr(\),)25
b(and)20 b(then)g(calling)h Ft(stream-present)h Fr(on)f Fs(str)m(e)m(am)p
Fr(,)j Fs(obje)m(ct)p Fr(,)g Fs(typ)m(e)p Fr(,)g(and)c(the)g(remaining)149
475 y(k)n(eyw)n(ord)e(argumen)n(ts,)e(whic)n(h)i(are)g(describ)r(ed)e(b)r
(elo)n(w.)49 608 y Fj(\))45 b Ft(stream-present)30 b Fs(str)m(e)m(am)e(obje)m
(ct)i(typ)m(e)e Ft(&key)h Fs(view)f(mo)m(di\014er)h(ac)m(c)m(eptably)i(for-c)
m(ontext-typ)m(e)f(single-b)m(ox)149 674 y(al)s(low-sensitive-inferiors)22
b(sensitive)f(r)m(e)m(c)m(or)m(d-typ)m(e)758 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 793 y Ft(stream-present)16 b Fr(is)f(the)f(p)r
(er-stream)d(implemen)n(tation)h(of)j Ft(present)p Fr(,)h(analogous)d(to)i
(the)e(relationship)h(b)r(e-)149 860 y(t)n(w)n(een)h Ft(write-char)i
Fr(and)e Ft(stream-write-char)p Fr(.)25 b(All)16 b(extended)e(output)g
(streams)f(and)i(output)f(recording)149 926 y(streams)20 b(m)n(ust)h
(implemen)n(t)g(a)h(metho)r(d)e(for)i Ft(stream-present)p Fr(.)39
b(The)22 b(default)f(metho)r(d)f(\(on)i Ft(standard-)149 993
y(extended-output-stream)p Fr(\))d(implemen)n(ts)d(the)h(follo)n(wing)i(b)r
(eha)n(vior.)149 1126 y(The)h(ob)s(ject)e Fs(obje)m(ct)23 b
Fr(of)d(t)n(yp)r(e)g Fs(typ)m(e)h Fr(is)g(presen)n(ted)d(to)i(the)f
Fm(stream)f Fs(str)m(e)m(am)k Fr(b)n(y)f(calling)g(the)e(t)n(yp)r(e's)h
Ft(present)149 1192 y Fr(metho)r(d)12 b(for)j(the)g(supplied)f
Fm(view)i Fs(view)p Fr(.)25 b(The)15 b(returned)d(v)m(alue)k(is)f(the)g
(presen)n(tation)e(con)n(taining)h(the)g(output)149 1258 y(corresp)r(onding)g
(to)k(the)f(ob)s(ject.)149 1391 y Fs(typ)m(e)f Fr(is)e(a)h(presen)n(tation)d
(t)n(yp)r(e)h(sp)r(eci\014er.)22 b Fs(view)15 b Fr(is)g(a)f(view)h(ob)s(ject)
e(that)g(defaults)g(to)h Ft(stream-default-view)149 1458 y
Fr(of)k Fs(str)m(e)m(am)p Fr(.)149 1591 y Fs(for-c)m(ontext-typ)m(e)23
b Fr(is)e(a)f(presen)n(tation)e(t)n(yp)r(e)h(sp)r(eci\014er)f(that)h(is)h
(passed)f(to)h(the)f Ft(present)i Fr(metho)r(d)c(for)j Fs(typ)m(e)p
Fr(,)149 1657 y(whic)n(h)e(can)g(use)f(it)h(to)g(tailor)g(ho)n(w)g(the)g(ob)s
(ject)e(will)k(b)r(e)d(presen)n(ted.)23 b Fs(for-c)m(ontext-typ)m(e)e
Fr(defaults)c(to)h Fs(typ)m(e)p Fr(.)149 1790 y Fs(mo)m(di\014er)p
Fr(,)i Fs(single-b)m(ox)p Fr(,)f Fs(al)s(low-sensitive-inferiors)p
Fr(,)i(and)c Fs(r)m(e)m(c)m(or)m(d-typ)m(e)k Fr(are)c(the)f(same)g(as)i(for)f
Ft(with-output-)149 1856 y(as-presentation)p Fr(.)149 1989
y Fs(ac)m(c)m(eptably)29 b Fr(defaults)24 b(to)h Ft(nil)p Fr(,)j(whic)n(h)d
(requests)f(the)g Ft(present)i Fr(metho)r(d)d(to)i(pro)r(duce)e(text)h
(designed)g(to)149 2055 y(b)r(e)c(read)h(b)n(y)h(h)n(uman)f(b)r(eings.)33
b(If)22 b Fs(ac)m(c)m(eptably)j Fr(is)d Ft(t)p Fr(,)i(it)d(requests)f(the)h
Ft(present)h Fr(metho)r(d)d(to)i(pro)r(duce)e(text)149 2122
y(that)d(is)j(recognized)c(b)n(y)k(the)e Ft(accept)h Fr(metho)r(d)d(for)j
Fs(for-c)m(ontext-typ)m(e)p Fr(.)28 b(This)18 b(mak)n(es)f(no)g(di\013erence)
g(to)g(most)149 2188 y(presen)n(tation)e(t)n(yp)r(es.)149 2321
y(The)i(b)r(o)r(olean)f Fs(sensitive)k Fr(defaults)d(to)h Fm(true)p
Fr(.)23 b(If)18 b(it)h(is)f Fm(false)p Fr(,)h(no)e(presen)n(tation)f(is)j
(pro)r(duced.)49 2454 y Fj(\))45 b Ft(present-to-string)30
b Fs(obje)m(ct)24 b Ft(&optional)30 b Fs(typ)m(e)23 b Ft(&key)29
b Fs(view)23 b(ac)m(c)m(eptably)i(for-c)m(ontext-typ)m(e)h(string)d(index)149
2520 y Fr([)p Fs(F)l(unction)t Fr(])149 2639 y(Same)15 b(as)i
Ft(present)h Fr(inside)f Ft(with-output-to-string)p Fr(.)25
b(If)17 b Fs(string)i Fr(is)e(supplied,)g(it)g(m)n(ust)f(b)r(e)h(a)f(string)h
(with)149 2706 y(a)j(\014ll)h(p)r(oin)n(ter.)31 b(When)19 b
Fs(index)j Fr(is)f(supplied,)g(it)f(is)h(used)f(as)g(an)h(index)f(in)n(to)h
Fs(string)p Fr(.)32 b Fs(view)p Fr(,)23 b Fs(ac)m(c)m(eptably)p
Fr(,)i(and)149 2772 y Fs(for-c)m(ontext-typ)m(e)c Fr(are)d(as)g(for)g
Ft(present)p Fr(.)149 2905 y(The)h(\014rst)h(returned)d(v)m(alue)j(is)h(the)e
(string.)30 b(When)19 b Fs(string)i Fr(is)g(supplied,)g(a)f(second)e(v)m
(alue)i(is)h(returned,)d(the)149 2971 y(up)r(dated)d Fs(index)p
Fr(.)p eop
%%Page: 221 236
bop 149 16 a Fm(CHAPTER)16 b(23.)43 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1165 b Fr(221)149 214 y Fk(23.5)91 b(Con)m(text-dep)s(enden)m(t)30
b(\(T)m(yp)s(ed\))g(Input)149 402 y Fr(Asso)r(ciating)16 b(seman)n(tics)h
(with)i(output)e(is)i(only)g(half)g(of)g(the)f(user)g(in)n(terface)f
(equation.)26 b(The)18 b(presen)n(tation)149 468 y(t)n(yp)r(e)e(system)g
(also)h(supp)r(orts)e(the)i(input)f(side)i(of)f(the)f(user)h(in)n(teraction.)
22 b(When)17 b(an)g(application)f(wishes)h(to)149 534 y(solicit)i(from)f(the)
h(user)g(input)g(of)g(a)h(particular)d(presen)n(tation)g(t)n(yp)r(e,)j(it)g
(establishes)e(an)h Fm(input)g(con)n(text)f Fr(for)149 601
y(that)e(t)n(yp)r(e.)24 b(CLIM)17 b(will)i(then)e(automatically)e(allo)n(w)j
(the)f(user)g(to)g(satisfy)g(the)g(input)g(request)f(b)n(y)i(p)r(oin)n(ting)
149 667 y(at)c(a)g(visible)i(presen)n(tation)c(of)j(the)e(requested)g(t)n(yp)
r(e)h(\(or)g(a)g(v)m(alid)i(subt)n(yp)r(e\))c(and)j(pressing)e(a)i(p)r(oin)n
(ter)e(button.)149 734 y(Only)20 b(the)f(presen)n(tations)e(that)h(\\matc)n
(h")f(the)i(input)g(con)n(text)f(will)j(b)r(e)e(\\sensitiv)n(e")g(\(that)e
(is,)k(highligh)n(ted)149 800 y(when)16 b(the)g(p)r(oin)n(ter)g(is)i(mo)n(v)n
(ed)f(o)n(v)n(er)g(them\))e(and)i(accepted)d(as)j(input,)g(th)n(us)g(the)f
(presen)n(tation-based)e(input)149 867 y(mec)n(hanism)h(supp)r(orts)h
Fm(con)n(text-dep)r(enden)n(t)f(input)p Fr(.)149 999 y Fo(Minor)24
b(issue:)59 b Fm(What)19 b(exactly)f(is)i(an)f(input)g(con)n(text?)27
b(What)19 b(do)r(es)f(it)h(mean)f(for)h(them)f(to)g(b)r(e)h(nested?)149
1066 y(|)f(SWM)49 1199 y Fj(\))45 b Ft(*input-context*)1622
b Fr([)p Fs(V)l(ariable)t Fr(])149 1318 y(The)21 b(curren)n(t)g(input)h(con)n
(text.)35 b(This)22 b(will)i(b)r(e)d(a)h(list,)i(eac)n(h)e(elemen)n(t)f(of)h
(whic)n(h)g(corresp)r(onds)d(to)i(a)i(single)149 1384 y(call)16
b(to)g Ft(with-input-context)p Fr(.)25 b(The)16 b(\014rst)g(elemen)n(t)e(of)j
(the)e(list)i(is)g(the)e(con)n(text)g(established)g(b)n(y)i(the)e(most)149
1450 y(recen)n(t)f(call)j(to)f Ft(with-input-context)p Fr(,)i(and)d(the)h
(last)g(elemen)n(t)e(is)j(the)e(least)h(recen)n(t)e(call)j(to)f
Ft(with-input-)149 1517 y(context)p Fr(.)149 1650 y(The)25
b(exact)g(format)f(of)h(the)g(elemen)n(ts)f(in)j(the)d(list)j(is)f(unsp)r
(eci\014ed,)g(but)f(will)i(t)n(ypically)g(b)r(e)e(a)h(list)g(of)g(a)149
1716 y(presen)n(tation)c(t)n(yp)r(e)i(and)g(a)h(tag)e(that)h(corresp)r(onds)d
(to)j(the)g(p)r(oin)n(t)g(in)h(the)f(con)n(trol)g(structure)d(of)k(CLIM)149
1783 y(at)c(whic)n(h)h(the)e(input)h(con)n(text)g(w)n(as)g(establish.)35
b Ft(*input-context*)22 b Fr(and)f(the)g(elemen)n(ts)f(in)i(it)g(ma)n(y)f(ha)
n(v)n(e)149 1849 y(dynamic)c(exten)n(t.)49 1982 y Fj(\))45
b Ft(with-input-context)30 b Fs(\(typ)m(e)24 b Ft(&key)29 b
Fs(override\))d(\()p Ft(&optional)j Fs(obje)m(ct-var)e(typ)m(e-var)e
(event-var)h(options-)149 2048 y(var\))20 b(form)h Ft(&body)29
b Fs(p)m(ointer-c)m(ases)1388 b Fr([)p Fs(Macr)m(o)s Fr(])149
2248 y(Establishes)19 b(an)h(input)g(con)n(text)f(of)i Fm(presen)n(tation)d
(t)n(yp)r(e)i Fs(typ)m(e)p Fr(;)j(this)d(m)n(ust)g(b)r(e)g(done)f(b)n(y)j
(binding)e Ft(*input-)149 2314 y(context*)c Fr(to)f(re\015ect)e(the)i(new)g
(input)g(con)n(text.)22 b(When)15 b(the)g(b)r(o)r(olean)e Fs(override)19
b Fr(is)d Fm(false)f Fr(\(the)f(default\),)h(this)149 2380
y(in)n(v)n(o)r(cation)21 b(of)h Ft(with-input-context)i Fr(adds)d(its)i(con)n
(text)e(presen)n(tation)e(t)n(yp)r(e)j(to)g(the)f(curren)n(t)f(con)n(text.)
149 2447 y(In)j(this)g(w)n(a)n(y)i(an)e(application)f(can)h(solicit)g(more)f
(than)g(one)h(t)n(yp)r(e)g(of)g(input)g(at)g(the)f(same)g(time.)39
b(When)149 2513 y Fs(override)26 b Fr(is)e Fm(true)p Fr(,)f(it)h(o)n(v)n
(errides)f(the)f(curren)n(t)g(input)h(con)n(text)f(rather)f(than)h(nesting)g
(inside)i(the)e(curren)n(t)149 2580 y(input)17 b(con)n(text.)149
2712 y Fs(typ)m(e)i Fr(can)f(b)r(e)f(a)h(presen)n(tation)e(t)n(yp)r(e)h
(abbreviation.)149 2845 y(After)k(establishing)h(the)g(new)h(input)f(con)n
(text,)i Fs(form)g Fr(is)g(ev)m(aluated.)37 b(If)23 b(no)g(p)r(oin)n(ter)f
(gestures)f(are)h(made)149 2912 y(b)n(y)j(the)f(user)g(during)h(the)f(ev)m
(aluation)f(of)i Fs(form)p Fr(,)j(the)c(v)m(alues)h(of)g Fs(form)h
Fr(are)e(returned.)43 b(Otherwise,)25 b(one)149 2978 y(of)20
b(the)g Fs(p)m(ointer-c)m(ases)j Fr(is)e(executed)e(\(based)g(on)h(the)g
(presen)n(tation)e(t)n(yp)r(e)i(of)g(the)g(ob)s(ject)f(that)g(w)n(as)i(clic)n
(k)n(ed)149 3045 y(on\))f(and)h(the)g(v)m(alue)g(of)h(that)e(is)i(returned.)
32 b(\(See)20 b(the)h(descriptions)f(of)h Ft(call-presentation-menu)i
Fr(and)149 3111 y Ft(throw-highlighted-presentation)p Fr(.\))45
b Fs(p)m(ointer-c)m(ases)27 b Fr(is)e(constructed)20 b(lik)n(e)26
b(a)e Ft(typecase)i Fr(statemen)n(t)149 3177 y(clause)20 b(list)h(whose)f(k)n
(eys)h(are)f(presen)n(tation)f(t)n(yp)r(es;)j(the)e(\014rst)g(clause)g(whose)
g(k)n(ey)h(satis\014es)f(the)g(condition)149 3244 y Ft
(\(presentation-subtypep)30 b Fs(typ)m(e)g(key)p Ft(\))20 b
Fr(is)e(the)g(one)f(that)g(is)i(c)n(hosen.)149 3377 y(During)24
b(the)f(execution)g(of)i(one)e(of)i(the)e Fs(p)m(ointer-c)m(ases)p
Fr(,)29 b Fs(obje)m(ct-var)f Fr(is)d(b)r(ound)e(to)h(the)f(ob)s(ject)g(that)g
(w)n(as)149 3443 y(clic)n(k)n(ed)18 b(on)g(\(the)f(\014rst)g(returned)f(v)m
(alue)i(from)e(the)i(presen)n(tation)d(translator)h(that)h(w)n(as)h(in)n(v)n
(ok)n(ed\),)h Fs(typ)m(e-var)p eop
%%Page: 222 237
bop 149 16 a Fm(CHAPTER)16 b(23.)43 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1165 b Fr(222)149 210 y(is)17 b(b)r(ound)f(to)h(its)g(presen)n
(tation)d(t)n(yp)r(e)j(\(the)f(second)f(returned)g(v)m(alue)i(from)f(the)g
(translator\),)f(and)h Fs(event-var)149 276 y Fr(is)21 b(b)r(ound)e(to)h(the)
g(p)r(oin)n(ter)f(button)g(ev)n(en)n(t)i(that)e(w)n(as)i(used.)31
b Fs(options-var)23 b Fr(is)e(b)r(ound)e(to)h(an)n(y)h(options)f(that)149
342 y(a)d(presen)n(tation)f(translator)f(migh)n(t)i(ha)n(v)n(e)h(returned)e
(\(the)g(third)h(v)m(alue)h(from)f(the)f(translator\),)g(and)h(will)i(b)r(e)
149 409 y(either)d Ft(nil)i Fr(or)f(a)g(list)h(of)g(k)n(eyw)n(ord-v)m(alue)f
(pairs.)24 b Fs(obje)m(ct-var)p Fr(,)e Fs(typ)m(e-var)p Fr(,)e
Fs(event-var)p Fr(,)h(and)c Fs(options-var)j Fr(m)n(ust)149
475 y(all)f(b)r(e)e(sym)n(b)r(ols.)149 608 y Fs(typ)m(e)p Fr(,)j
Fs(str)m(e)m(am)p Fr(,)g(and)e Fs(override)j Fr(are)c(ev)m(aluated,)g(the)h
(others)e(are)h(not.)149 741 y(F)-5 b(or)18 b(example,)149
908 y Ft(\(with-input-context)30 b(\('pathname\))730 974 y(\(path\))294
1041 y(\(read\))236 1107 y(\(pathname)294 1173 y(\(format)f(t)h("~&The)f
(pathname)g(~A)h(was)f(clicked)g(on.")h(path\)\)\))49 1340
y Fj(\))45 b Ft(accept)29 b Fs(typ)m(e)e Ft(&key)i Fs(str)m(e)m(am)f(view)f
(default)g(default-typ)m(e)h(pr)m(ovide-default)h(insert-default)f(r)m(eplac)
m(e-input)149 1407 y(history)15 b(pr)m(ompt)h(pr)m(ompt-mo)m(de)h
(display-default)f(query-identi\014er)h(activation-gestur)m(es)h
(additional-activation-)149 1473 y(gestur)m(es)j(delimiter-gestur)m(es)i
(additional-delimiter-ge)q(stur)m(es)728 b Fr([)p Fs(F)l(unction)t
Fr(])149 1672 y(Requests)22 b(input)h(of)h(t)n(yp)r(e)f Fs(typ)m(e)j
Fr(from)c(the)i Fm(stream)d Fs(str)m(e)m(am)p Fr(,)28 b(whic)n(h)c(defaults)f
(to)g Ft(*query-io*)p Fr(.)43 b Ft(accept)149 1739 y Fr(returns)14
b(t)n(w)n(o)k(v)m(alues,)f(the)e(ob)s(ject)h(represen)n(ting)e(the)i(input)g
(and)g(its)h(presen)n(tation)d(t)n(yp)r(e.)24 b Fs(typ)m(e)18
b Fr(is)f(a)g(presen-)149 1805 y(tation)g(t)n(yp)r(e)h(sp)r(eci\014er,)f(and)
h(can)f(b)r(e)h(an)g(abbreviation.)24 b(The)18 b(other)f(argumen)n(ts)f(and)i
(o)n(v)n(erall)h(b)r(eha)n(vior)f(of)149 1872 y Ft(accept)g
Fr(are)g(as)g(for)g Ft(accept-1)p Fr(.)149 2004 y Ft(accept)27
b Fr(m)n(ust)g(b)r(e)f(implemen)n(ted)e(b)n(y)k(\014rst)e(expanding)g(an)n(y)
i(presen)n(tation)c(t)n(yp)r(e)j(abbreviations)e(\()p Fs(typ)m(e)p
Fr(,)149 2071 y Fs(default-typ)m(e)p Fr(,)d(and)c Fs(history)p
Fr(\),)i(handling)e(the)g(in)n(teractions)f(b)r(et)n(w)n(een)g(the)h
(default,)g(default)g(t)n(yp)r(e,)g(and)h(pre-)149 2137 y(sen)n(tation)d
(history)-5 b(,)18 b(prompting)e(the)h(user)g(b)n(y)i(calling)f
Ft(prompt-for-accept)p Fr(,)h(and)f(then)f(calling)h Ft(stream-)149
2204 y(accept)g Fr(on)g Fs(str)m(e)m(am)p Fr(,)j Fs(typ)m(e)p
Fr(,)f(and)e(the)f(remaining)f(k)n(eyw)n(ord)j(argumen)n(ts.)49
2336 y Fj(\))45 b Ft(stream-accept)29 b Fs(str)m(e)m(am)17
b(typ)m(e)f Ft(&key)29 b Fs(view)15 b(default)h(default-typ)m(e)h(pr)m
(ovide-default)h(insert-default)f(r)m(eplac)m(e-)149 2403 y(input)g(history)g
(pr)m(ompt)i(pr)m(ompt-mo)m(de)h(display-default)e(query-identi\014er)i
(activation-gestur)m(es)g(additional-)149 2469 y(activation-gestur)m(es)j
(delimiter-gestur)m(es)g(additional-delimiter-g)q(estur)m(e)q(s)260
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2669 y Ft(stream-accept)f
Fr(is)f(the)g(p)r(er-stream)c(implemen)n(tation)h(of)j Ft(accept)p
Fr(,)i(analogous)c(to)i(the)f(relationship)g(b)r(e-)149 2735
y(t)n(w)n(een)12 b Ft(read-char)i Fr(and)e Ft(stream-read-char)p
Fr(.)24 b(All)13 b(extended)e(input)i(streams)d(m)n(ust)i(implemen)n(t)e(a)j
(metho)r(d)149 2801 y(for)19 b Ft(stream-accept)p Fr(.)30 b(The)19
b(default)f(metho)r(d)f(\(on)i Ft(standard-extended-input-stream)p
Fr(\))i(simply)e(calls)149 2868 y Ft(accept-1)p Fr(.)149 3001
y(The)e(argumen)n(ts)f(and)i(o)n(v)n(erall)h(b)r(eha)n(vior)e(of)h
Ft(stream-accept)h Fr(are)e(as)h(for)g Ft(accept-1)p Fr(.)149
3133 y Fo(Rationale:)35 b Fr(the)23 b(reason)f Ft(accept)h
Fr(is)h(sp)r(eci\014ed)e(as)h(a)g(three-function)d(\\tramp)r(oline")g(is)k
(to)f(allo)n(w)h(close)149 3200 y(tailoring)i(of)g(the)g(b)r(eha)n(vior)g(of)
h Ft(accept)p Fr(.)51 b Ft(accept)27 b Fr(itself)f(is)i(the)e(function)f
(that)g(should)i(b)r(e)e(called)i(b)n(y)149 3266 y(application)19
b(programmers.)29 b(CLIM)21 b(implemen)n(tors)d(will)k(sp)r(ecialize)d
Ft(stream-accept)j Fr(on)f(a)g(p)r(er-stream)149 3333 y(basis.)47
b(\(F)-5 b(or)26 b(example,)h(the)e(b)r(eha)n(vior)g(of)g Ft
(accepting-values)i Fr(can)f(b)r(e)f(implemen)n(ted)e(b)n(y)j(creating)f(a)
149 3399 y(sp)r(ecial)18 b(class)h(of)g(stream)e(that)h(turns)g(calls)i(to)f
Ft(accept)h Fr(in)n(to)f(\014elds)g(of)g(a)h(dialog.\))27 b
Ft(accept-1)20 b Fr(is)g(pro)n(vided)149 3466 y(as)f(a)g(con)n(v)n(enien)n(t)
g(function)f(for)h(the)g Ft(stream-accept)h Fr(metho)r(ds)d(to)i(call)h(when)
f(they)f(require)h(the)g(default)p eop
%%Page: 223 238
bop 149 16 a Fm(CHAPTER)16 b(23.)43 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1165 b Fr(223)149 210 y(b)r(eha)n(vior.)49 342 y Fj(\))45
b Ft(accept-1)29 b Fs(str)m(e)m(am)20 b(typ)m(e)e Ft(&key)30
b Fs(view)18 b(default)h(default-typ)m(e)h(pr)m(ovide-default)h
(insert-default)e(r)m(eplac)m(e-input)149 409 y(history)c(pr)m(ompt)h(pr)m
(ompt-mo)m(de)h(display-default)f(query-identi\014er)h(activation-gestur)m
(es)h(additional-activation-)149 475 y(gestur)m(es)j(delimiter-gestur)m(es)i
(additional-delimiter-ge)q(stur)m(es)728 b Fr([)p Fs(F)l(unction)t
Fr(])149 674 y(Requests)20 b(input)i(of)g(t)n(yp)r(e)g Fs(typ)m(e)i
Fr(from)d(the)g Fm(stream)f Fs(str)m(e)m(am)p Fr(.)39 b Fs(typ)m(e)24
b Fr(m)n(ust)d(b)r(e)g(a)i(presen)n(tation)c(t)n(yp)r(e)j(sp)r(eci-)149
741 y(\014er.)28 b Fs(view)20 b Fr(is)g(a)f(view)h(ob)s(ject)e(that)g
(defaults)h(to)f Ft(stream-default-view)j Fr(of)f Fs(str)m(e)m(am)p
Fr(.)30 b Ft(accept-1)20 b Fr(returns)149 807 y(t)n(w)n(o)i(v)m(alues,)g(the)
e(ob)s(ject)g(represen)n(ting)f(the)i(input)g(and)g(its)g(presen)n(tation)e
(t)n(yp)r(e.)34 b(\(If)21 b Ft(frame-maintain-)149 874 y
(presentation-histories)d Fr(is)g Fm(true)e Fr(for)g(the)h(curren)n(t)e
(frame,)h(then)g(the)g(returned)f(ob)s(ject)g(is)j(also)f(pushed)149
940 y(on)h(to)f(the)h(presen)n(tation)d(history)j(for)f(that)g(ob)s(ject.\))
149 1073 y Ft(accept-1)26 b Fr(establishes)f(an)h(input)f(con)n(text)g(via)h
Ft(with-input-context)p Fr(,)k(and)c(then)e(calls)j(the)e Ft(accept)149
1139 y Fr(presen)n(tation)c(metho)r(d)g(for)j Fs(typ)m(e)h
Fr(and)f Fs(view)p Fr(.)42 b(When)24 b(called)f(on)h(an)f(in)n(teractiv)n(e)g
(stream,)h Ft(accept)h Fr(m)n(ust)149 1206 y(allo)n(w)18 b(input)g(editing;)g
(see)f(Chapter)f(24)i(for)f(a)h(discussion)f(of)h(input)f(editing.)24
b(The)18 b(call)g(to)f Ft(accept)i Fr(will)g(b)r(e)149 1272
y(terminated)13 b(when)j(the)g Ft(accept)h Fr(metho)r(d)d(returns,)i(or)g
(the)g(user)f(clic)n(ks)j(on)e(a)h(sensitiv)n(e)f(presen)n(tation.)22
b(The)149 1339 y(t)n(yping)16 b(of)h(an)f(activ)m(ation)f(and)h(delimiter)f
(c)n(haracter)f(is)k(t)n(ypically)f(one)f(w)n(a)n(y)h(in)g(whic)n(h)g(a)g
(call)g(to)f(an)g Ft(accept)149 1405 y Fr(metho)r(d)f(is)k(terminated.)149
1538 y(A)14 b(top-lev)n(el)g Ft(accept)h Fr(satis\014ed)e(b)n(y)i(k)n(eyb)r
(oard)e(input)h(discards)f(the)g(terminating)f(k)n(eyb)r(oard)h(gesture)f
(\(whic)n(h)149 1604 y(will)i(b)r(e)f(either)f(a)h(delimiter)f(or)h(an)g
(activ)m(ation)f(gesture\).)21 b(A)13 b(nested)e(call)j(to)f
Ft(accept)h Fr(lea)n(v)n(es)g(the)e(terminating)149 1671 y(gesture)k(unread.)
149 1804 y(If)22 b(the)f(user)g(clic)n(k)n(ed)h(on)g(a)g(matc)n(hing)e
(presen)n(tation,)h Ft(accept-1)h Fr(will)i(insert)d(the)g(ob)s(ject)f(in)n
(to)i(the)f(input)149 1870 y(bu\013er)16 b(b)n(y)h(calling)g
Ft(presentation-replace-input)i Fr(on)d(the)g(ob)s(ject)f(and)i(t)n(yp)r(e)f
(returned)e(b)n(y)k(the)e(presen-)149 1936 y(tation)j(translator,)g(unless)h
(either)g(the)f(b)r(o)r(olean)g Fs(r)m(eplac)m(e-input)24 b
Fr(is)d Fm(false)f Fr(or)g(the)g(presen)n(tation)e(translator)149
2003 y(returned)f(an)i Ft(:echo)h Fr(option)f(of)g Fm(false)p
Fr(.)29 b Fs(r)m(eplac)m(e-input)22 b Fr(defaults)d(to)g Fm(true)p
Fr(,)g(but)g(this)g(default)f(is)i(o)n(v)n(erridden)149 2069
y(b)n(y)f(the)e(translator)f(explicitly)j(returning)d(an)i
Ft(:echo)g Fr(option)g(of)g Fm(false)p Fr(.)149 2202 y(If)j
Fs(default)i Fr(is)f(supplied,)f(then)g(it)g(and)g Fs(default-typ)m(e)j
Fr(are)c(returned)f(as)i(v)m(alues)g(from)f Ft(accept-1)i Fr(when)e(the)149
2269 y(input)d(is)h(empt)n(y)-5 b(.)24 b Fs(default-typ)m(e)c
Fr(m)n(ust)d(b)r(e)f(a)i(presen)n(tation)d(t)n(yp)r(e)i(sp)r(eci\014er.)23
b(If)18 b Fs(default)h Fr(is)f(not)f(supplied)g(and)149 2335
y Fs(pr)m(ovide-default)24 b Fr(is)c Fm(true)f Fr(\(the)g(default)g(is)i
Fm(false)p Fr(\),)f(then)g(the)f(default)g(is)i(determined)c(b)n(y)k(taking)f
(the)f(most)149 2401 y(recen)n(t)e(item)g(from)g(the)h(presen)n(tation)e(t)n
(yp)r(e)i(history)g(sp)r(eci\014ed)f(b)n(y)i Fs(history)p Fr(.)27
b(If)19 b Fs(insert-default)i Fr(is)e Fm(true)e Fr(and)149
2468 y(there)h(is)i(a)g(default,)g(the)f(default)g(will)i(b)r(e)e(inserted)g
(in)n(to)h(the)f(input)g(stream)f(b)n(y)i(calling)g Ft(presentation-)149
2534 y(replace-input)p Fr(.)149 2667 y Fs(history)j Fr(m)n(ust)d(b)r(e)h
(either)g Ft(nil)p Fr(,)i(meaning)d(that)h(no)h(presen)n(tation)d(t)n(yp)r(e)
i(history)g(will)i(b)r(e)e(used,)i(or)e(a)h(pre-)149 2733 y(sen)n(tation)16
b(t)n(yp)r(e)h(\(or)g(abbreviation\))f(that)g(names)g(a)i(history)f(to)h(b)r
(e)e(used)i(for)f(the)g(call)h(to)f Ft(accept)p Fr(.)25 b Fs(history)149
2800 y Fr(defaults)17 b(to)g Fs(typ)m(e)p Fr(.)149 2933 y Fs(pr)m(ompt)23
b Fr(can)e(b)r(e)f Ft(t)p Fr(,)j(whic)n(h)f(prompts)d(b)n(y)j(describing)e
(the)g(t)n(yp)r(e,)i Ft(nil)p Fr(,)h(whic)n(h)f(suppresses)d(prompting,)h(or)
149 2999 y(a)e(string,)h(whic)n(h)g(is)g(displa)n(y)n(ed)g(as)g(a)g(prompt)d
(\(via)j Ft(write-string)p Fr(\).)27 b(The)19 b(default)e(is)i
Ft(t)p Fr(,)h(whic)n(h)f(pro)r(duces)149 3066 y(\\En)n(ter)d(a)j
Fs(typ)m(e)p Fr(:")25 b(in)19 b(a)f(top-lev)n(el)h(call)f(to)g
Ft(accept)h Fr(or)e(\\\()p Fs(typ)m(e)p Fr(\)")h(in)h(a)f(nested)f(call)h(to)
g Ft(accept)p Fr(.)149 3198 y(If)i(the)g(b)r(o)r(olean)e Fs(display-default)k
Fr(is)f Fm(true)p Fr(,)f(the)g(default)f(is)i(displa)n(y)n(ed)g(\(if)g(one)e
(w)n(as)i(supplied\).)30 b(If)21 b Fs(display-)149 3265 y(default)g
Fr(is)g Fm(false)p Fr(,)g(the)e(default)g(is)i(not)e(displa)n(y)n(ed.)31
b Fs(display-default)22 b Fr(defaults)d(to)h Fm(true)f Fr(if)i
Fs(pr)m(ompt)h Fr(w)n(as)f(pro-)149 3331 y(vided,)d(otherwise)f(it)h
(defaults)f(to)h Fm(false)p Fr(.)149 3464 y Fs(pr)m(ompt-mo)m(de)k
Fr(can)d(b)r(e)f Ft(:normal)i Fr(\(the)e(default\))g(or)g Ft(:raw)p
Fr(,)j(whic)n(h)e(suppresses)e(putting)h(a)h(colon)f(after)g(the)p
eop
%%Page: 224 239
bop 149 16 a Fm(CHAPTER)16 b(23.)43 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1165 b Fr(224)149 210 y(prompt)22 b(and/or)h(default)h(in)h(a)g
(top-lev)n(el)g Ft(accept)g Fr(and)f(suppresses)f(putting)g(paren)n(theses)f
(around)h(the)149 276 y(prompt)16 b(and/or)g(default)h(in)i(a)f(nested)f
Ft(accept)p Fr(.)149 409 y Fs(query-identi\014er)k Fr(is)e(used)e(within)h
Ft(accepting-values)h Fr(to)f(iden)n(tify)h(the)e(\014eld)h(within)g(the)f
(dialog.)149 542 y Fs(activation-gestur)m(es)26 b Fr(is)c(a)g(list)h(of)f
(gesture)e(names)g(that)h(will)j(o)n(v)n(erride)d(the)h(curren)n(t)e(activ)m
(ation)h(gestures)149 608 y(\(whic)n(h)14 b(are)h(stored)e(in)i
Ft(*activation-gestures*)p Fr(\).)25 b(Alternativ)n(ely)-5
b(,)15 b Fs(additional-activat)q(ion-ge)q(stur)m(es)k Fr(can)149
674 y(b)r(e)f(supplied)h(to)g(add)f(activ)m(ation)g(gestures)f(without)h(o)n
(v)n(erriding)i(the)e(curren)n(t)g(ones.)27 b(See)18 b(Chapter)g(24)h(for)149
741 y(a)f(discussion)f(of)h(activ)m(ation)f(gestures.)149 874
y Fs(delimiter-gestur)m(es)29 b Fr(is)d(a)g(list)g(of)f(gesture)f(names)g
(that)g(will)j(o)n(v)n(erride)f(the)e(curren)n(t)g(delimiter)h(gestures)149
940 y(\(whic)n(h)c(are)g(stored)f(in)i Ft(*delimiter-gestures*)p
Fr(\).)37 b(Alternativ)n(ely)-5 b(,)22 b Fs(additional-delimiter-ge)q(stur)m
(e)q(s)j Fr(can)149 1007 y(b)r(e)17 b(supplied)g(to)g(add)g(delimiter)g
(gestures)e(without)i(o)n(v)n(erriding)h(the)f(curren)n(t)f(ones.)24
b(See)17 b(Chapter)f(24)h(for)h(a)149 1073 y(discussion)f(of)h(delimiter)f
(gestures.)49 1206 y Fj(\))45 b Ft(accept-from-string)30 b
Fs(typ)m(e)21 b(string)f Ft(&key)30 b Fs(view)20 b(default)h(default-typ)m(e)
h(start)f(end)255 b Fr([)p Fs(F)l(unction)t Fr(])149 1325 y(Lik)n(e)23
b Ft(accept)p Fr(,)i(except)d(that)f(the)h(input)h(is)g(tak)n(en)f(from)g
Fs(string)p Fr(,)k(starting)21 b(at)h(the)g(p)r(osition)g(sp)r(eci\014ed)f(b)
n(y)149 1391 y Fs(start)e Fr(and)f(ending)f(at)h Fs(end)p Fr(.)26
b Fs(view)p Fr(,)19 b Fs(default)p Fr(,)h(and)e Fs(default-typ)m(e)i
Fr(are)e(as)g(for)g Ft(accept)p Fr(.)149 1524 y Ft(accept-from-string)f
Fr(returns)d(an)h(ob)s(ject)f(and)i(a)f(presen)n(tation)f(t)n(yp)r(e)h(\(as)g
(in)h Ft(accept)p Fr(\),)h(but)e(also)g(returns)149 1591 y(a)j(third)f(v)m
(alue,)i(the)e(index)h(at)g(whic)n(h)g(input)g(terminated.)49
1723 y Fj(\))45 b Ft(prompt-for-accept)30 b Fs(str)m(e)m(am)21
b(typ)m(e)g(view)g Ft(&rest)29 b Fs(ac)m(c)m(ept-ar)m(gs)23
b Ft(&key)319 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
1842 y(Called)e(b)n(y)g Ft(accept)h Fr(to)e(prompt)f(the)h(user)g(for)h
(input)f(of)h Fm(presen)n(tation)d(t)n(yp)r(e)j Fs(typ)m(e)h
Fr(on)f(the)f Fm(stream)e Fs(str)m(e)m(am)149 1909 y Fr(for)f(the)g
Fm(view)h Fs(view)p Fr(.)25 b Fs(ac)m(c)m(ept-ar)m(gs)20 b
Fr(are)c(all)h(of)g(the)f(k)n(eyw)n(ord)g(argumen)n(ts)e(supplied)i(to)h
Ft(accept)p Fr(.)24 b(The)17 b(default)149 1975 y(metho)r(d)e(\(on)i
Ft(standard-extended-input-stream)p Fr(\))j(simply)e(calls)h
Ft(prompt-for-accept-1)p Fr(.)49 2108 y Fj(\))45 b Ft(prompt-for-accept-1)30
b Fs(str)m(e)m(am)16 b(typ)m(e)f Ft(&key)29 b Fs(default)16
b(default-typ)m(e)g(display-default)g(pr)m(ompt)g(pr)m(ompt-mo)m(de)149
2174 y Ft(&allow-other-keys)1550 b Fr([)p Fs(F)l(unction)t
Fr(])149 2293 y(Prompts)15 b(the)j(user)f(for)h(input)f(of)h
Fm(presen)n(tation)e(t)n(yp)r(e)i Fs(typ)m(e)h Fr(on)f(the)f
Fm(stream)f Fs(str)m(e)m(am)p Fr(.)149 2426 y(If)i(the)f(b)r(o)r(olean)g
Fs(display-default)j Fr(is)e Fm(true)p Fr(,)g(then)f(the)g(default)g(is)i
(displa)n(y)n(ed;)g(otherwise,)e(the)g(default)h(is)g(not)149
2493 y(displa)n(y)n(ed.)39 b(When)22 b(the)g(default)g(is)h(b)r(eing)f
(displa)n(y)n(ed,)i Fs(default)h Fr(and)d Fs(default-typ)m(e)j
Fr(are)d(the)g(tak)n(en)h(as)f(the)149 2559 y(ob)s(ject)16
b(and)i(presen)n(tation)e(t)n(yp)r(e)h(of)h(the)f(default)g(to)h(displa)n(y)
-5 b(.)26 b Fs(display-default)20 b Fr(defaults)d(to)g Fm(true)g
Fr(if)i Fs(pr)m(ompt)149 2626 y Fr(is)f(non-)p Ft(nil)p Fr(,)h(otherwise)d
(it)j(defaults)e(to)g Fm(false)p Fr(.)149 2758 y(If)g Fs(pr)m(ompt)i
Fr(is)f Ft(nil)p Fr(,)g(no)f(prompt)e(is)i(displa)n(y)n(ed.)25
b(If)17 b(it)h(is)f(a)g(string,)g(that)f(string)g(is)i(displa)n(y)n(ed)f(as)g
(the)f(prompt.)149 2825 y(If)j Fs(pr)m(ompt)j Fr(is)e Ft(t)g
Fr(\(the)e(default\),)h(the)f(prompt)f(is)j(generated)d(b)n(y)j(calling)g
Ft(describe-presentation-type)149 2891 y Fr(to)e(pro)r(duce)f(a)j(prompt)d
(of)i(the)f(form)g(\\En)n(ter)g(a)h Fs(typ)m(e)p Fr(:")28 b(in)20
b(a)f(top-lev)n(el)h(call)f(to)g Ft(accept)p Fr(,)i(or)e(\\\()p
Fs(typ)m(e)p Fr(\)")g(in)h(a)149 2958 y(nested)c(call)j(to)e
Ft(accept)p Fr(.)149 3090 y Fs(pr)m(ompt-mo)m(de)22 b Fr(can)d(b)r(e)f
Ft(:normal)i Fr(\(the)e(default\))g(or)g Ft(:raw)p Fr(,)j(whic)n(h)e
(suppresses)e(putting)h(a)h(colon)f(after)g(the)149 3157 y(prompt)k(and/or)h
(default)h(in)h(a)g(top-lev)n(el)g Ft(accept)g Fr(and)f(suppresses)f(putting)
g(paren)n(theses)f(around)h(the)149 3223 y(prompt)16 b(and/or)g(default)h(in)
i(a)f(nested)f Ft(accept)p Fr(.)p eop
%%Page: 225 240
bop 149 16 a Fm(CHAPTER)16 b(23.)43 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1165 b Fr(225)149 210 y Fk(23.6)91 b(Views)149 397
y Ft(accept)18 b Fr(and)f Ft(present)h Fr(metho)r(ds)c(can)j(sp)r(ecialize)f
(on)h(the)g Fs(view)h Fr(argumen)n(t)d(in)j(order)e(to)h(de\014ne)f(more)g
(than)149 464 y(one)h(view)i(of)g(the)e(data.)25 b(F)-5 b(or)19
b(example,)e(a)h(spreadsheet)e(program)g(migh)n(t)i(de\014ne)f(a)h(presen)n
(tation)e(t)n(yp)r(e)i(for)149 530 y(quarterly)d(earnings,)g(whic)n(h)i(can)e
(b)r(e)g(displa)n(y)n(ed)i(as)f(a)g(\015oating)f(p)r(oin)n(t)g(n)n(um)n(b)r
(er)g(or)g(as)h(a)g(bar)g(of)g(some)f(length)149 596 y(in)k(a)g(bar)g(graph.)
26 b(These)19 b(t)n(w)n(o)g(views)h(migh)n(t)e(b)r(e)g(implemen)n(ted)f(b)n
(y)j(sp)r(ecializing)e(the)g(view)h(argumen)n(ts)e(for)149
663 y(the)g Ft(textual-view)i Fr(class)f(and)g(the)f(user-de\014ned)f
Ft(bar-graph-view)j Fr(class.)49 796 y Fj(\))45 b Ft(view)1797
b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23 b(Class)5 b Fr(])149 915 y(The)18
b(proto)r(col)f(class)h(for)g(view)h(ob)s(jects.)25 b(If)19
b(y)n(ou)g(w)n(an)n(t)g(to)f(create)f(a)i(new)f(class)g(that)g(b)r(eha)n(v)n
(es)g(lik)n(e)i(a)f(view,)149 981 y(it)f(should)g(b)r(e)f(a)h(sub)r(class)f
(of)h Ft(view)p Fr(.)25 b(Sub)r(classes)16 b(of)i Ft(view)h
Fr(m)n(ust)e(ob)r(ey)g(the)g(view)i(proto)r(col.)149 1114 y(All)f(of)g(the)g
(view)g(classes)g(are)f(imm)n(utable.)49 1247 y Fj(\))45 b
Ft(viewp)29 b Fs(obje)m(ct)1734 b Fr([)p Fs(F)l(unction)t Fr(])149
1366 y(Returns)16 b Fm(true)h Fr(if)i Fs(obje)m(ct)h Fr(is)f(a)f
Fm(view)p Fr(,)h(otherwise)e(returns)f Fm(false)p Fr(.)49 1499
y Fj(\))45 b Ft(textual-view)1780 b Fr([)p Fs(Class)5 b Fr(])149
1618 y(The)16 b(class)f(represen)n(ting)f(all)j(textual)f(views,)h(a)f(sub)r
(class)f(of)h Ft(view)p Fr(.)25 b(Presen)n(tation)13 b(metho)r(ds)h(that)h
(apply)h(to)149 1684 y(a)i(textual)f(view)h(m)n(ust)f(only)h(do)g(textual)f
(input)h(and)f(output)f(\(suc)n(h)i(as)f Ft(read-char)i Fr(and)f
Ft(write-string)p Fr(\).)49 1817 y Fj(\))45 b Ft(textual-menu-view)1635
b Fr([)p Fs(Class)5 b Fr(])149 1936 y(The)18 b(class)h(that)f(represen)n(ts)e
(the)i(default)g(view)h(that)f(is)i(used)e(inside)h Ft(menu-choose)g
Fr(for)g(frame)e(managers)149 2002 y(that)g(are)g(not)g(using)h(a)g
(gadget-orien)n(ted)e(lo)r(ok)h(and)h(feel.)25 b(It)18 b(is)g(a)g(sub)r
(class)f(of)h Ft(textual-view)p Fr(.)49 2135 y Fj(\))45 b Ft
(textual-dialog-view)1577 b Fr([)p Fs(Class)5 b Fr(])149 2254
y(The)24 b(class)g(that)f(represen)n(ts)f(the)i(default)f(view)i(that)f(is)h
(used)f(inside)g Ft(accepting-values)i Fr(dialogs)e(for)149
2321 y(frame)16 b(managers)f(that)h(are)h(not)g(using)g(a)h(gadget-orien)n
(ted)d(lo)r(ok)i(and)g(feel.)25 b(It)17 b(is)h(a)g(sub)r(class)e(of)i
Ft(textual-)149 2387 y(view)p Fr(.)49 2520 y Fj(\))45 b Ft(gadget-view)1809
b Fr([)p Fs(Class)5 b Fr(])149 2639 y(The)17 b(class)h(represen)n(ting)e(all)
j(gadget)d(views,)j(a)f(sub)r(class)f(of)h Ft(view)p Fr(.)49
2772 y Fj(\))45 b Ft(gadget-menu-view)1664 b Fr([)p Fs(Class)5
b Fr(])149 2891 y(The)18 b(class)h(that)f(represen)n(ts)e(the)i(default)g
(view)h(that)f(is)i(used)e(inside)h Ft(menu-choose)g Fr(for)g(frame)e
(managers)149 2957 y(that)g(are)g(using)h(a)g(gadget-orien)n(ted)d(lo)r(ok)j
(and)g(feel.)24 b(It)18 b(is)h(a)f(sub)r(class)f(of)h Ft(gadget-view)p
Fr(.)49 3090 y Fj(\))45 b Ft(gadget-dialog-view)1606 b Fr([)p
Fs(Class)5 b Fr(])149 3209 y(The)24 b(class)g(that)f(represen)n(ts)f(the)i
(default)f(view)i(that)f(is)h(used)f(inside)g Ft(accepting-values)i
Fr(dialogs)e(for)149 3275 y(frame)15 b(managers)g(that)h(are)h(using)g(a)g
(gadget-orien)n(ted)e(lo)r(ok)i(and)g(feel.)24 b(It)17 b(is)h(a)f(sub)r
(class)f(of)h Ft(gadget-view)p Fr(.)49 3408 y Fj(\))45 b Ft
(pointer-documentation-view)1374 b Fr([)p Fs(Class)5 b Fr(])p
eop
%%Page: 226 241
bop 149 16 a Fm(CHAPTER)16 b(23.)43 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1165 b Fr(226)149 210 y(The)17 b(class)g(that)f(represen)n(ts)f(the)h
(default)h(view)h(that)e(is)i(used)e(when)h(computing)e(p)r(oin)n(ter)h(do)r
(cumen)n(tation.)149 276 y(It)i(is)g(a)g(sub)r(class)f(of)h
Ft(textual-view)p Fr(.)49 409 y Fj(\))45 b Ft(+textual-view+)1631
b Fr([)p Fs(Constant)5 b Fr(])49 475 y Fj(\))45 b Ft(+textual-menu-view+)1486
b Fr([)p Fs(Constant)5 b Fr(])49 542 y Fj(\))45 b Ft(+textual-dialog-view+)
1428 b Fr([)p Fs(Constant)5 b Fr(])49 608 y Fj(\))45 b Ft(+gadget-view+)1660
b Fr([)p Fs(Constant)5 b Fr(])49 674 y Fj(\))45 b Ft(+gadget-menu-view+)1515
b Fr([)p Fs(Constant)5 b Fr(])49 741 y Fj(\))45 b Ft(+gadget-dialog-view+)
1457 b Fr([)p Fs(Constant)5 b Fr(])49 807 y Fj(\))45 b Ft
(+pointer-documentation-view+)1225 b Fr([)p Fs(Constant)5 b
Fr(])149 926 y(These)14 b(are)g(ob)s(jects)f(of)h(class)h Ft(textual-view)p
Fr(,)h Ft(textual-menu-view)p Fr(,)i Ft(textual-dialog-view)p
Fr(,)f Ft(gadget-)149 993 y(view)p Fr(,)27 b Ft(gadget-menu-view)p
Fr(,)h Ft(gadget-dialog-view)p Fr(,)g(and)c Ft(pointer-documentation-view)p
Fr(,)k(resp)r(ec-)149 1059 y(tiv)n(ely)-5 b(.)49 1192 y Fj(\))45
b Ft(stream-default-view)30 b Fs(str)m(e)m(am)1095 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 1311 y(Returns)17 b(the)i(default)f
(view)h(for)g(the)g(extended)e(stream)g Fs(str)m(e)m(am)p Fr(.)30
b Ft(accept)20 b Fr(and)f Ft(present)h Fr(get)e(the)h(default)149
1377 y(v)m(alue)f(for)f(the)g Fs(view)i Fr(argumen)n(t)d(from)h(this.)24
b(All)19 b(extended)d(input)h(and)h(output)e(streams)g(m)n(ust)h(implemen)n
(t)149 1444 y(a)h(metho)r(d)d(for)j(this)g(generic)f(function.)49
1577 y Fj(\))45 b Ft(\(setf)29 b(stream-default-view\))h Fs(view)21
b(str)m(e)m(am)767 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
1696 y(Changes)c(the)i(default)f(view)i(for)e Fs(str)m(e)m(am)k
Fr(to)c(the)h Fm(view)g Fs(view)p Fr(.)32 b(All)21 b(extended)d(input)i(and)f
(output)g(streams)149 1762 y(m)n(ust)e(implemen)n(t)f(a)i(metho)r(d)d(for)j
(this)g(generic)f(function.)149 2012 y Fk(23.7)91 b(Presen)m(tation)29
b(T)-8 b(ranslators)149 2199 y Fr(CLIM)23 b(pro)n(vides)g(a)h(mec)n(hanism)d
(for)i Fm(translating)f Fr(b)r(et)n(w)n(een)g(t)n(yp)r(es.)40
b(In)24 b(other)e(w)n(ords,)j(within)f(an)f(input)149 2266
y(con)n(text)i(for)h(presen)n(tation)f(t)n(yp)r(e)h Fs(A)h
Fr(the)f(translator)e(mec)n(hanism)h(allo)n(ws)i(a)g(programmer)c(to)j
(de\014ne)g(a)149 2332 y(translation)16 b(from)h(presen)n(tations)e(of)j
(some)f(other)g(t)n(yp)r(e)g Fs(B)i Fr(to)e(ob)s(jects)g(that)g(are)g(of)h(t)
n(yp)r(e)g Fs(A)p Fr(.)149 2465 y(Note)11 b(that)g(the)g(exact)g(represen)n
(tation)e(of)k(a)f(presen)n(tation)e(translator)g(has)i(b)r(een)f(left)h
(explicitly)h(unsp)r(eci\014ed.)149 2686 y Fp(23.7.1)75 b(De\014ning)25
b(Presen)n(tation)h(T)-6 b(ranslators)49 2855 y Fj(\))45 b
Ft(define-presentation-translator)30 b Fs(name)16 b(\(fr)m(om-typ)m(e)g
(to-typ)m(e)f(c)m(ommand-table)j Ft(&key)29 b Fs(gestur)m(e)16
b(tester)149 2921 y(tester-de\014nitive)i(do)m(cumentation)f(p)m(ointer-do)m
(cumentat)q(ion)h(menu)d(priority\))g(ar)m(glist)h Ft(&body)29
b Fs(b)m(o)m(dy)h Fr([)p Fs(Macr)m(o)s Fr(])149 3120 y(De\014nes)22
b(a)i(presen)n(tation)d(translator)g(named)h Fs(name)i Fr(that)f(translates)e
(from)h(ob)s(jects)g(of)h(t)n(yp)r(e)g Fs(fr)m(om-typ)m(e)149
3187 y Fr(to)i(ob)s(jects)g(of)h(t)n(yp)r(e)g Fs(to-typ)m(e)p
Fr(.)51 b Fs(fr)m(om-typ)m(e)28 b Fr(and)e Fs(to-typ)m(e)i
Fr(are)e(presen)n(tation)e(t)n(yp)r(e)h(sp)r(eci\014ers,)i(but)f(m)n(ust)149
3253 y(not)f(include)g(an)n(y)i(presen)n(tation)c(t)n(yp)r(e)i(options.)47
b Fs(fr)m(om-typ)m(e)29 b Fr(and)c Fs(to-typ)m(e)j Fr(ma)n(y)e(b)r(e)f
(presen)n(tation)e(t)n(yp)r(e)149 3320 y(abbreviations.)149
3453 y Fs(c)m(ommand-table)28 b Fr(is)d(a)g Fm(command)c(table)j(designator)p
Fr(.)41 b(The)24 b(translator)e(created)g(b)n(y)k(this)e(in)n(v)n(o)r(cation)
g(of)p eop
%%Page: 227 242
bop 149 16 a Fm(CHAPTER)16 b(23.)43 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1165 b Fr(227)149 210 y Ft(define-presentation-translator)20
b Fr(will)f(b)r(e)f(stored)e(in)j(the)e(command)e(table)j Fs(c)m
(ommand-table)p Fr(.)149 342 y Fs(gestur)m(e)k Fr(is)g(a)f(gesture)d(name)i
(that)f(names)g(a)i(p)r(oin)n(ter)f(gesture)f(\(describ)r(ed)f(in)j(Section)e
(22.3\).)32 b(The)21 b(b)r(o)r(dy)149 409 y(of)h(the)g(translator)f(will)j(b)
r(e)d(run)i(only)g(if)g(the)f(translator)e(is)j(applicable)f(and)g(gesture)f
(used)h(b)n(y)h(the)f(user)149 475 y(matc)n(hes)12 b(the)i(gesture)e(name)i
(in)h(the)e(translator.)22 b(\(W)-5 b(e)14 b(will)i(explain)e
Fm(applicabilit)n(y)p Fr(,)j(or)d Fm(matc)n(hing)p Fr(,)g(in)h(detail)149
542 y(b)r(elo)n(w.\))24 b Fs(gestur)m(e)c Fr(defaults)c(to)i
Ft(:select)p Fr(.)149 674 y Fs(tester)i Fr(is)e(either)f(a)i(function)d(or)i
(a)g(list)h(of)f(the)f(form)149 741 y Fs(\(tester-ar)m(glist)22
b(.)j(tester-b)m(o)m(dy\))149 807 y Fr(where)c Fs(tester-ar)m(glist)26
b Fr(tak)n(es)c(the)g(same)f(form)h(as)g Fs(ar)m(glist)j Fr(\(see)c(b)r(elo)n
(w\),)i(and)g Fs(tester-b)m(o)m(dy)i Fr(is)e(the)f(b)r(o)r(dy)g(of)149
874 y(the)f(tester.)34 b(The)21 b(tester)f(m)n(ust)h(return)f(either)h
Fm(true)f Fr(or)i Fm(false)p Fr(.)35 b(If)22 b(it)g(returns)e
Fm(false)p Fr(,)j(then)e(the)g(translator)149 940 y(is)f(de\014nitely)f(not)f
(applicable.)28 b(If)20 b(it)g(returns)e Fm(true)p Fr(,)h(then)f(the)h
(translator)e(migh)n(t)i(b)r(e)g(applicable,)g(and)g(the)149
1007 y(b)r(o)r(dy)g(of)i(the)f(translator)f(migh)n(t)h(b)r(e)g(run)h(\(if)g
Fs(tester-de\014nitive)k Fr(is)d Fm(false)p Fr(\))e(in)h(order)f(to)g
(de\014nitiv)n(ely)i(decide)149 1073 y(if)f(the)f(translator)e(is)k
(applicable)d(\(this)h(is)i(describ)r(ed)c(in)j(more)e(detail)i(b)r(elo)n
(w\).)31 b(If)21 b(no)g(tester)d(is)k(supplied,)149 1139 y(CLIM)17
b(supplies)h(a)g(tester)e(that)h(alw)n(a)n(ys)j(returns)c Fm(true)p
Fr(.)149 1272 y(When)d(the)g(b)r(o)r(olean)f Fs(tester-de\014nitive)18
b Fr(is)d Fm(true)p Fr(,)f(the)f(b)r(o)r(dy)g(of)g(the)h(translator)d(will)16
b(nev)n(er)d(b)r(e)g(run)h(in)g(order)f(to)149 1339 y(decide)i(if)i(the)e
(translator)f(is)j(applicable,)f(that)f(is,)j(the)d(tester)g(is)i(assumed)d
(to)h(de\014nitiv)n(ely)i(decide)e(whether)149 1405 y(the)24
b(translator)f(applies.)45 b(The)24 b(default)g(for)h Fs(tester-de\014nitive)
k Fr(is)d Fm(false)p Fr(.)45 b(When)24 b(there)f(is)j(no)f(explicitly)149
1472 y(supplied)17 b(tester,)g(the)g(tester)f(supplied)i(b)n(y)h(CLIM)f(is)g
(assumed)e(to)i(b)r(e)f(de\014nitiv)n(e.)149 1604 y(Both)j
Fs(do)m(cumentation)25 b Fr(and)20 b Fs(p)m(ointer-do)m(cumentat)q(ion)25
b Fr(are)20 b(ob)s(jects)g(that)f(will)k(b)r(e)d(used)g(for)h(do)r(cumen)n
(ting)149 1671 y(the)g(translator.)34 b Fs(p)m(ointer-do)m(cumentat)q(ion)27
b Fr(will)c(b)r(e)e(used)h(to)f(generate)f(do)r(cumen)n(tation)e(for)k(the)f
(p)r(oin)n(ter)149 1737 y(do)r(cumen)n(tation)14 b(windo)n(w;)k(the)f(do)r
(cumen)n(tation)d(generated)i(b)n(y)i Fs(p)m(ointer-do)m(cumenta)q(tion)23
b Fr(should)17 b(b)r(e)g(v)n(ery)149 1804 y(brief)k(and)f(computing)f(it)i
(should)g(b)r(e)f(v)n(ery)i(fast)e(and)h(preferably)f(not)g(cons.)33
b Fs(do)m(cumentation)25 b Fr(is)d(used)e(to)149 1870 y(generate)f(suc)n(h)j
(things)f(as)g(items)g(in)h(the)g Ft(:menu)p Fr(-gesture)e(men)n(u.)35
b(If)22 b(the)f(ob)s(ject)g(is)h(a)g(string,)g(the)f(string)149
1936 y(itself)d(will)i(b)r(e)d(used)h(as)g(the)f(do)r(cumen)n(tation.)22
b(Otherwise,)17 b(the)h(ob)s(ject)e(m)n(ust)i(b)r(e)f(the)h(name)e(of)j(a)f
(function)149 2003 y(or)f(a)i(list)f(of)g(the)g(form)149 2069
y Fs(\(do)m(c-ar)m(glist)k(.)j(do)m(c-b)m(o)m(dy\))149 2136
y Fr(where)19 b Fs(do)m(c-ar)m(glist)k Fr(tak)n(es)c(the)h(same)e(form)h(as)h
Fs(ar)m(glist)p Fr(,)j(but)c(includes)h(a)g(named)e(\(k)n(eyw)n(ord\))i
Fs(str)m(e)m(am)i Fr(argu-)149 2202 y(men)n(t)e(as)h(w)n(ell)h(\(see)f(b)r
(elo)n(w\),)g(and)g Fs(do)m(c-b)m(o)m(dy)j Fr(is)e(the)f(b)r(o)r(dy)f(of)h
(the)f(do)r(cumen)n(tation)e(function.)33 b(The)21 b(b)r(o)r(dy)149
2269 y(of)c(the)f(do)r(cumen)n(tation)d(function)j(should)g(write)h(the)f(do)
r(cumen)n(tation)d(to)k Fs(str)m(e)m(am)p Fr(.)26 b(The)17
b(default)f(for)g Fs(do)m(cu-)149 2335 y(mentation)h Fr(is)e
Ft(nil)p Fr(,)h(meaning)d(that)g(there)h(is)h(no)f(explicitly)h(supplied)f
(do)r(cumen)n(tation;)f(in)i(this)f(case,)h(CLIM)149 2401 y(is)21
b(free)f(to)g(generate)e(the)i(do)r(cumen)n(tation)d(in)k(other)e(w)n(a)n
(ys.)34 b(The)20 b(default)g(for)g Fs(p)m(ointer-do)m(cumentat)q(ion)25
b Fr(is)149 2468 y Fs(do)m(cumentation)p Fr(.)149 2601 y Fs(menu)17
b Fr(m)n(ust)e(b)r(e)h Ft(t)h Fr(or)f Ft(nil)p Fr(.)25 b(When)15
b(it)i(is)g Ft(t)p Fr(,)h(the)d(translator)g(will)i(b)r(e)f(included)g(in)h
(the)e Ft(:menu)p Fr(-gesture)h(men)n(u)149 2667 y(if)22 b(it)g(matc)n(hes.)
33 b(When)20 b(it)i(is)g Ft(nil)p Fr(,)i(the)c(translator)g(will)j(not)d(b)r
(e)h(included)g(in)h(the)f Ft(:menu)p Fr(-gesture)f(men)n(u.)149
2733 y(Other)14 b(non-)p Ft(nil)h Fr(v)m(alues)g(are)g(reserv)n(ed)f(for)h
(future)f(extensions)g(to)h(allo)n(w)h(m)n(ultiple)f(presen)n(tation)e
(translator)149 2800 y(men)n(us.)149 2933 y Fs(priority)25
b Fr(is)g(either)e Ft(nil)h Fr(\(the)f(default,)i(whic)n(h)f(corresp)r(onds)d
(to)i(0\))h(or)f(an)h(in)n(teger)f(that)g(represen)n(ts)e(the)149
2999 y(priorit)n(y)e(of)h(the)f(translator.)27 b(When)19 b(there)f(are)h(sev)
n(eral)g(translators)e(that)i(matc)n(h)f(for)h(the)g(same)f(gesture,)149
3066 y(the)f(one)g(with)i(the)e(highest)g(priorit)n(y)h(is)h(c)n(hosen.)149
3198 y Fs(ar)m(glist)p Fr(,)h Fs(tester-ar)m(glist)p Fr(,)i(and)17
b Fs(do)m(c-ar)m(glist)k Fr(are)c(eac)n(h)h(an)g(argumen)n(t)d(list)k(that)e
(m)n(ust)g(\\matc)n(h")f(the)h(follo)n(wing)149 3265 y(\\canonical")f
(argumen)n(t)g(list.)149 3331 y Fs(\(obje)m(ct)21 b Ft(&key)30
b Fs(pr)m(esentation)22 b(c)m(ontext-typ)m(e)h(fr)m(ame)e(event)h(window)e(x)
g(y\))149 3398 y Fr(In)j(order)f(to)h(\\matc)n(h")e(the)h(canonical)h
(argumen)n(t)d(list,)26 b(there)c(m)n(ust)g(b)r(e)g(a)i(single)f(p)r
(ositional)f(argumen)n(t)149 3464 y(that)e(corresp)r(onds)f(to)i(the)g
(presen)n(tation's)e(ob)s(ject,)i(and)h(sev)n(eral)f(named)f(argumen)n(ts)f
(that)h(m)n(ust)h(matc)n(h)p eop
%%Page: 228 243
bop 149 16 a Fm(CHAPTER)16 b(23.)43 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1165 b Fr(228)149 210 y(the)17 b(canonical)g(names)f(ab)r(o)n(v)n(e)i
(\(using)g Ft(string-equal)h Fr(to)e(do)h(the)g(comparison\).)149
342 y(In)k(the)f(b)r(o)r(dy)g(of)h(the)f(translator)e(\(or)j(the)f(tester\),)
g(the)g(p)r(ositional)g Fs(obje)m(ct)j Fr(argumen)n(t)c(will)j(b)r(e)e(b)r
(ound)g(to)149 409 y(the)16 b(presen)n(tation's)e(ob)s(ject.)23
b(The)17 b(named)e(argumen)n(ts)f Fs(pr)m(esentation)20 b Fr(will)f(b)r(e)d
(b)r(ound)f(to)i(the)f(presen)n(tation)149 475 y(that)23 b(w)n(as)i(clic)n(k)
n(ed)g(on,)h Fs(c)m(ontext-typ)m(e)i Fr(will)e(b)r(e)d(b)r(ound)g(to)h(the)g
(presen)n(tation)e(t)n(yp)r(e)i(of)g(the)g(con)n(text)f(that)149
542 y(actually)16 b(matc)n(hed,)g Fs(fr)m(ame)j Fr(will)f(b)r(e)e(b)r(ound)g
(to)h(the)f(application)g(frame)f(that)h(is)i(curren)n(tly)e(activ)n(e)h
(\(usually)149 608 y Ft(*application-frame*)p Fr(\),)26 b Fs(event)f
Fr(will)g(b)r(e)e(b)r(ound)f(to)h(the)f(p)r(oin)n(ter)g(button)g(ev)n(en)n(t)
h(that)g(the)f(user)h(used,)149 674 y Fs(window)13 b Fr(will)g(b)r(e)f(b)r
(ound)f(to)h(the)f(windo)n(w)i(stream)d(from)h(whic)n(h)i(the)e(ev)n(en)n(t)i
(came,)f(and)g Fs(x)g Fr(and)g Fs(y)h Fr(will)g(b)r(e)f(b)r(ound)149
741 y(to)19 b(the)g Fn(x)h Fr(and)f Fn(y)j Fr(p)r(ositions)c(within)i
Fs(window)g Fr(that)f(the)g(p)r(oin)n(ter)f(w)n(as)i(at)g(when)f(the)g(ev)n
(en)n(t)g(o)r(ccurred.)27 b(The)149 807 y(sp)r(ecial)12 b(v)m(ariable)g
Ft(*input-context*)i Fr(will)g(b)r(e)e(b)r(ound)f(to)i(the)e(curren)n(t)h
(input)g(con)n(text.)21 b(Note)12 b(that,)h(in)g(man)n(y)149
874 y(implemen)n(tations)i Fs(c)m(ontext-typ)m(e)21 b Fr(and)d
Ft(*input-context*)h Fr(will)h(ha)n(v)n(e)f(dynamic)e(exten)n(t,)h(so)g
(programmer)o(s)149 940 y(should)f(not)h(store)e(without)h(\014rst)h(cop)n
(ying)g(them.)149 1073 y Fs(b)m(o)m(dy)j Fr(is)f(the)f(b)r(o)r(dy)f(of)i(the)
e(translator,)g(and)h(is)h(run)f(in)i(the)d(con)n(text)g(of)i(the)f
(application.)28 b Fs(b)m(o)m(dy)21 b Fr(ma)n(y)e(ha)n(v)n(e)149
1139 y(zero)i(or)h(more)e(declarations)g(as)i(its)g(\014rst)g(forms.)35
b(It)22 b(should)g(return)e(either)h(one,)i(t)n(w)n(o,)h(or)e(three)e(v)m
(alues.)149 1206 y(The)15 b(\014rst)f(v)m(alue)i(is)g(an)f(ob)s(ject)f(whic)n
(h)h(m)n(ust)g(b)r(e)g Ft(presentation-typep)h Fr(of)g Fs(to-typ)m(e)p
Fr(,)i(and)d(the)g(second)f(v)m(alue)149 1272 y(is)20 b(a)f(presen)n(tation)e
(t)n(yp)r(e)i(that)f(m)n(ust)h(b)r(e)f Ft(presentation-subtypep)j
Fr(of)f Fs(to-typ)m(e)p Fr(.)31 b(The)19 b(consequences)d(are)149
1339 y(unsp)r(eci\014ed)c(if)j(the)f(ob)s(ject)f(is)j(not)e
Ft(presentation-typep)i Fr(of)e Fs(to-typ)m(e)j Fr(or)d(the)g(t)n(yp)r(e)g
(is)h(not)f Ft(presentation-)149 1405 y(subtypep)22 b Fr(of)f
Fs(to-typ)m(e)p Fr(.)35 b(The)21 b(\014rst)g(t)n(w)n(o)g(returned)e(v)m
(alues)i(of)g Fs(b)m(o)m(dy)i Fr(are)d(used,)i(in)f(e\013ect,)h(as)f(the)f
(returned)149 1472 y(v)m(alues)e(for)f(the)h(call)g(to)g Ft(accept)g
Fr(that)f(established)g(the)g(matc)n(hing)g(input)g(con)n(text.)149
1604 y(The)25 b(third)g(v)m(alue)g(returned)f(b)n(y)i Fs(b)m(o)m(dy)h
Fr(m)n(ust)e(either)f(b)r(e)h Ft(nil)h Fr(or)g(a)f(list)h(of)g(options)e
(\(as)h(k)n(eyw)n(ord-v)m(alue)149 1671 y(pairs\))17 b(that)g(will)j(b)r(e)d
(in)n(terpreted)f(b)n(y)j Ft(accept)p Fr(.)26 b(The)18 b(only)h(option)e
(de\014ned)g(so)h(far)g(is)h Ft(:echo)p Fr(,)g(whose)f(v)m(alue)149
1737 y(m)n(ust)j(b)r(e)h(either)g Fm(true)g Fr(\(the)f(default\))g(or)i
Fm(false)p Fr(.)38 b(If)23 b(it)g(is)g Fm(true)p Fr(,)g(the)f(ob)s(ject)f
(returned)f(b)n(y)k(the)e(translator)149 1804 y(will)c(b)r(e)e(\\ec)n(ho)r
(ed")f(b)n(y)j Ft(accept)p Fr(,)g(whic)n(h)g(will)g(use)f Ft
(presentation-replace-input)i Fr(to)d(insert)g(the)h(textual)149
1870 y(represen)n(tation)e(of)j(the)f(ob)s(ject)g(in)n(to)h(the)f(input)h
(bu\013er.)24 b(If)18 b(it)g(is)h Fm(false)p Fr(,)f(the)g(ob)s(ject)e(will)k
(not)d(b)r(e)g(ec)n(ho)r(ed.)149 2003 y(None)g(of)h Ft
(define-presentation-translator)p Fr('s)i(argumen)n(ts)c(is)i(ev)m(aluated.)
49 2136 y Fj(\))45 b Ft(define-presentation-to-command-translator)31
b Fs(name)d(\(fr)m(om-typ)m(e)h(c)m(ommand-name)h(c)m(ommand-)149
2202 y(table)16 b Ft(&key)29 b Fs(gestur)m(e)16 b(tester)f(do)m(cumentation)j
(p)m(ointer-do)m(cumentatio)q(n)g(menu)d(priority)g(e)m(cho\))h(ar)m(glist)f
Ft(&body)149 2269 y Fs(b)m(o)m(dy)2002 b Fr([)p Fs(Macr)m(o)s
Fr(])149 2388 y(This)16 b(is)h(similar)f(to)g Ft
(define-presentation-translator)p Fr(,)j(except)c(that)h(the)f
Fs(to-typ)m(e)j Fr(will)g(b)r(e)e(deriv)n(ed)g(to)149 2454
y(b)r(e)k(the)g(command)d(named)i(b)n(y)j Fs(c)m(ommand-name)i
Fr(in)d(the)f(command)e(table)i Fs(c)m(ommand-table)p Fr(.)36
b Fs(c)m(ommand-)149 2520 y(name)19 b Fr(is)g(the)e(name)g(of)h(the)f
(command)e(that)i(this)h(translator)e(will)k(translate)c(to.)149
2653 y(The)21 b Fs(e)m(cho)k Fr(option)c(is)i(a)f(b)r(o)r(olean)e(v)m(alue)i
(\(the)f(default)g(is)h Fm(true)p Fr(\))f(that)g(indicates)g(whether)f(the)i
(command)149 2720 y(line)c(should)g(b)r(e)f(ec)n(ho)r(ed)g(when)g(a)h(user)g
(in)n(v)n(ok)n(es)h(the)e(translator.)149 2852 y(The)22 b(other)g(argumen)n
(ts)e(to)j Ft(define-presentation-to-command-translator)i Fr(are)d(the)h
(same)e(as)i(for)149 2919 y Ft(define-presentation-translator)p
Fr(.)44 b(Note)23 b(that)g(the)g(tester)f(for)i(command)d(translators)h(is)j
(alw)n(a)n(ys)149 2985 y(assumed)18 b(to)i(b)r(e)g(de\014nitiv)n(e,)i(so)e
(there)f(is)i(no)g Ft(:tester-definitive)h Fr(option.)31 b(The)21
b(default)e(for)h Fs(p)m(ointer-)149 3052 y(do)m(cumentation)j
Fr(is)d(the)f(string)g Fs(c)m(ommand-name)k Fr(with)d(dash)f(c)n(haracters)e
(replaced)h(b)n(y)j(spaces,)e(and)g(eac)n(h)149 3118 y(w)n(ord)f(capitalized)
e(\(as)i(in)g Ft(add-command-to-command-table)p Fr(\).)149
3251 y(The)25 b(b)r(o)r(dy)f(of)h(the)g(translator)e(m)n(ust)h(return)g(a)i
(list)f(of)h(the)e(argumen)n(ts)f(to)i(the)g(command)d(named)i(b)n(y)149
3317 y Fs(c)m(ommand-name)p Fr(.)30 b Fs(b)m(o)m(dy)21 b Fr(is)f(run)e(in)h
(the)g(con)n(text)e(of)i(the)g(application.)26 b(The)18 b(returned)f(v)m
(alue)i(of)g(the)f(b)r(o)r(dy)-5 b(,)149 3384 y(app)r(ended)16
b(to)i(the)g(command)e(name,)h(are)h(ev)n(en)n(tually)h(passed)f(to)g
Ft(execute-frame-command)p Fr(.)27 b Fs(b)m(o)m(dy)21 b Fr(ma)n(y)149
3450 y(ha)n(v)n(e)d(zero)f(or)h(more)f(declarations)f(as)i(its)g(\014rst)f
(forms.)p eop
%%Page: 229 244
bop 149 16 a Fm(CHAPTER)16 b(23.)43 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1165 b Fr(229)149 210 y(None)17 b(of)h Ft
(define-presentation-to-command-translator)p Fr('s)j(argumen)n(ts)15
b(is)k(ev)m(aluated.)49 342 y Fj(\))45 b Ft(define-presentation-action)30
b Fs(name)16 b(\(fr)m(om-typ)m(e)f(to-typ)m(e)h(c)m(ommand-table)i
Ft(&key)29 b Fs(gestur)m(e)16 b(tester)g(do)m(c-)149 409 y(umentation)21
b(p)m(ointer-do)m(cumenta)q(tion)j(menu)d(priority\))g(ar)m(glist)g
Ft(&body)29 b Fs(b)m(o)m(dy)451 b Fr([)p Fs(Macr)m(o)s Fr(])149
608 y Ft(define-presentation-action)28 b Fr(is)e(similar)g(to)g
Ft(define-presentation-translator)p Fr(,)k(except)25 b(that)149
674 y(the)15 b(b)r(o)r(dy)h(of)g(the)g(action)f(is)i(not)f(in)n(tended)f(to)h
(return)f(a)h(v)m(alue,)h(but)f(should)g(instead)f(side-e\013ect)g(some)g
(sort)149 741 y(of)j(application)f(state.)149 874 y(A)i(presen)n(tation)d
(action)i(do)r(es)g(not)h(satisfy)g(a)g(request)e(for)i(input)g(the)f(w)n(a)n
(y)i(an)f(ordinary)g(translator)d(do)r(es.)149 940 y(Instead,)g(an)h(action)f
(is)i(something)d(that)h(happ)r(ens)f(while)j(w)n(aiting)f(for)g(input.)24
b(After)16 b(the)g(action)g(has)h(b)r(een)149 1007 y(executed,)24
b(the)g(program)e(con)n(tin)n(ues)h(to)h(w)n(ait)h(for)f(the)g(same)f(input)h
(that)f(it)i(w)n(as)f(w)n(aiting)h(for)f(prior)g(to)149 1073
y(executing)16 b(the)i(action.)149 1206 y(The)11 b(other)g(argumen)n(ts)e(to)
j Ft(define-presentation-action)h Fr(are)f(the)f(same)f(as)i(for)g
Ft(define-presentation-)149 1272 y(translator)p Fr(.)25 b(Note)17
b(that)g(the)g(tester)f(for)i(presen)n(tation)e(actions)h(is)h(alw)n(a)n(ys)h
(assumed)d(to)i(b)r(e)f(de\014nitiv)n(e.)149 1405 y(None)g(of)h
Ft(define-presentation-action)p Fr('s)i(argumen)n(ts)15 b(is)k(ev)m(aluated.)
49 1538 y Fj(\))45 b Ft(define-drag-and-drop-translator)31
b Fs(name)f(fr)m(om-typ)m(e)h(to-typ)m(e)g(destination-typ)m(e)i(c)m
(ommand-table)149 1604 y Ft(&key)c Fs(gestur)m(e)f(tester)h(do)m(cumentation)
h(p)m(ointer-do)m(cumentatio)q(n)h(menu)c(priority)h(fe)m(e)m(db)m(ack)i
(highlighting)149 1671 y Fr([)p Fs(Macr)m(o)s Fr(])149 1790
y(arglist)17 b Ft(&body)30 b Fr(b)r(o)r(dy\))149 1923 y(De\014nes)21
b(a)i(\\drag)e(and)h(drop")g(\(or)f(\\direct)h(manipulation"\))d(translator)i
(named)f Fs(name)k Fr(that)e(translates)149 1989 y(from)17
b(ob)s(jects)f(of)i(t)n(yp)r(e)g Fs(fr)m(om-typ)m(e)j Fr(to)d(ob)s(jects)e
(of)i(t)n(yp)r(e)g Fs(to-typ)m(e)i Fr(when)e(a)g(\\from)f(presen)n(tation")e
(is)k(\\pic)n(k)n(ed)149 2055 y(up",)26 b(\\dragged")21 b(o)n(v)n(er,)27
b(and)d(\\dropp)r(ed")e(on)i(to)g(a)g(\\to)g(presen)n(tation")d(ha)n(ving)k
(t)n(yp)r(e)f Fs(destination-typ)m(e)p Fr(.)149 2122 y Fs(fr)m(om-typ)m(e)p
Fr(,)i Fs(to-typ)m(e)p Fr(,)g(and)c Fs(destination-typ)m(e)k
Fr(are)21 b(presen)n(tation)f(t)n(yp)r(e)i(sp)r(eci\014ers,)g(but)g(m)n(ust)f
(not)h(include)149 2188 y(an)n(y)16 b(presen)n(tation)e(t)n(yp)r(e)i
(options.)23 b Fs(fr)m(om-typ)m(e)p Fr(,)d Fs(to-typ)m(e)e
Fr(and)e Fs(destination-typ)m(e)j Fr(ma)n(y)e(b)r(e)e(presen)n(tation)f(t)n
(yp)r(e)149 2255 y(abbreviations.)149 2388 y(The)22 b(in)n(teraction)e(st)n
(yle)j(used)e(b)n(y)i(these)e(translators)f(is)j(that)e(a)i(user)e(p)r(oin)n
(ts)h(to)f(a)i(\\from)d(presen)n(tation")149 2454 y(with)15
b(the)g(p)r(oin)n(ter,)g(pic)n(ks)h(it)g(up)f(b)n(y)i(pressing)d(a)h(p)r(oin)
n(ter)g(button)e(matc)n(hing)h Fs(gestur)m(e)p Fr(,)19 b(drags)14
b(the)h(\\from)f(pre-)149 2520 y(sen)n(tation")f(to)h(a)h(\\to)f(presen)n
(tation")e(b)n(y)k(mo)n(ving)e(the)g(p)r(oin)n(ter,)h(and)f(then)g(drops)g
(the)g(\\from)f(presen)n(tation")149 2587 y(on)n(to)j(the)f(\\to)h(presen)n
(tation".)21 b(The)16 b(dropping)g(migh)n(t)f(b)r(e)h(accomplished)e(b)n(y)j
(either)f(releasing)f(the)h(p)r(oin)n(ter)149 2653 y(button)e(or)h(clic)n
(king)h(again,)g(dep)r(ending)e(on)h(the)g(frame)f(manager.)21
b(When)15 b(the)f(p)r(oin)n(ter)h(button)f(is)i(released,)149
2720 y(the)i(translator)f(whose)h Fs(destination-typ)m(e)k
Fr(matc)n(hes)17 b(the)h(presen)n(tation)f(t)n(yp)r(e)h(of)h(the)g(\\to)f
(presen)n(tation")e(is)149 2786 y(c)n(hosen.)23 b(F)-5 b(or)19
b(example,)e(dragging)f(a)j(\014le)f(to)f(the)h(T)-5 b(rashCan)17
b(on)h(a)g(Macin)n(tosh)e(could)i(b)r(e)f(implemen)n(ted)f(b)n(y)149
2852 y(a)i(drag)f(and)h(drop)f(translator.)149 2985 y(While)26
b(the)e(p)r(oin)n(ter)h(is)h(b)r(eing)e(dragged,)i(the)f(function)f(sp)r
(eci\014ed)g(b)n(y)i Fs(fe)m(e)m(db)m(ack)k Fr(is)c(in)n(v)n(ok)n(ed)h(to)e
(pro)n(vide)149 3052 y(feedbac)n(k)15 b(to)i(the)f(user.)23
b(The)17 b(function)e(is)j(called)e(with)h(eigh)n(t)f(argumen)n(ts:)22
b(the)16 b(application)g(frame)f(ob)s(ject,)149 3118 y(the)k(\\from)f(presen)
n(tation",)f(the)i(stream,)g(the)g(initial)h Fn(x)g Fr(and)f
Fn(y)j Fr(p)r(ositions)d(of)g(the)g(p)r(oin)n(ter,)h(the)e(curren)n(t)h
Fn(x)149 3185 y Fr(and)i Fn(y)j Fr(p)r(ositions)d(of)h(the)f(p)r(oin)n(ter,)h
(and)f(a)h(feedbac)n(k)f(state)f(\(either)h Ft(:highlight)i
Fr(to)e(dra)n(w)h(feedbac)n(k,)g(or)149 3251 y Ft(:unhighlight)c
Fr(to)e(erase)g(it\).)24 b(The)16 b(feedbac)n(k)g(function)f(is)j(called)e
(to)h(dra)n(w)f(some)g(feedbac)n(k)g(the)g(\014rst)g(time)149
3317 y(p)r(oin)n(ter)k(mo)n(v)n(es,)j(and)f(is)g(then)f(called)h(t)n(wice)g
(eac)n(h)f(time)g(the)g(p)r(oin)n(ter)g(mo)n(v)n(es)g(thereafter)e(\(once)h
(to)i(erase)149 3384 y(the)16 b(previous)h(feedbac)n(k,)f(and)h(then)f(to)h
(dra)n(w)g(the)g(new)f(feedbac)n(k\).)23 b(It)17 b(is)h(called)f(a)g(\014nal)
g(time)g(to)f(erase)g(the)149 3450 y(last)i(feedbac)n(k)g(when)h(the)f(p)r
(oin)n(ter)g(button)f(is)j(released.)26 b Fs(fe)m(e)m(db)m(ack)d
Fr(defaults)17 b(to)i Ft(frame-drag-and-drop-)p eop
%%Page: 230 245
bop 149 16 a Fm(CHAPTER)16 b(23.)43 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1165 b Fr(230)149 210 y Ft(feedback)p Fr(.)149 342
y(When)23 b(the)h(\\from)f(presen)n(tation")f(is)j(dragged)d(o)n(v)n(er)j(an)
n(y)g(other)e(presen)n(tation)f(that)h(has)h(a)h(direct)e(ma-)149
409 y(nipulation)c(translator,)g(the)h(function)e(sp)r(eci\014ed)h(b)n(y)i
Fs(highlighting)i Fr(is)e(in)n(v)n(ok)n(ed)h(to)d(highligh)n(t)i(that)e(ob)s
(ject.)149 475 y(The)e(function)g(is)i(called)e(with)h(four)g(argumen)n(ts:)k
(the)17 b(application)g(frame)f(ob)s(ject,)h(the)g(\\to)g(presen)n(tation")
149 542 y(to)i(b)r(e)g(highligh)n(ted)g(or)h(unhighligh)n(ted,)f(the)g
(stream,)f(and)h(a)h(highligh)n(ting)g(state)e(\(either)g Ft(:highlight)j
Fr(or)149 608 y Ft(:unhighlight)p Fr(\).)k Fs(highlighting)c
Fr(defaults)c(to)h Ft(frame-drag-and-drop-highlighting)p Fr(.)149
741 y(Note)k(that)g(it)i(is)g(p)r(ossible)f(for)g(there)f(to)h(b)r(e)g(more)f
(than)h(one)g(drag)f(and)h(drop)g(translator)e(that)i(applies)149
807 y(to)e(the)g(same)g(from-t)n(yp)r(e,)g(to-t)n(yp)r(e,)i(and)e(gesture.)34
b(In)22 b(this)g(case,)h(the)e(exact)g(translator)e(that)i(is)i(c)n(hosen)149
874 y(for)f(use)g(during)h(the)f(dragging)f(phase)h(is)h(unsp)r(eci\014ed.)37
b(If)23 b(these)e(translators)g(ha)n(v)n(e)i(di\013eren)n(t)f(feedbac)n(k,)
149 940 y(highligh)n(ting,)c(do)r(cumen)n(tation,)d(or)i(p)r(oin)n(ter)g(do)r
(cumen)n(tation,)e(the)i(exact)g(b)r(eha)n(vior)g(is)i(unsp)r(eci\014ed.)149
1073 y(The)29 b(other)f(argumen)n(ts)e(to)j Ft
(define-drag-and-drop-translator)j Fr(are)c(the)h(same)f(as)h(for)g
Ft(define-)149 1139 y(presentation-translator)p Fr(.)149 1361
y Fp(23.7.2)75 b(Presen)n(tation)26 b(T)-6 b(ranslator)25 b(F)-6
b(unctions)49 1529 y Fj(\))45 b Ft(find-presentation-translators)30
b Fs(fr)m(om-typ)m(e)22 b(to-typ)m(e)g(c)m(ommand-table)385
b Fr([)p Fs(F)l(unction)t Fr(])149 1648 y(Returns)15 b(a)j(list)g(of)g(all)g
(of)f(the)g(translators)e(in)j(the)f Fm(command)e(table)h Fs(c)m
(ommand-table)22 b Fr(that)16 b(translate)g(from)149 1715 y
Fs(fr)m(om-typ)m(e)27 b Fr(to)e Fs(to-typ)m(e)p Fr(,)k(without)24
b(taking)g(in)n(to)h(accoun)n(t)f(an)n(y)h(t)n(yp)r(e)g(parameters)c(or)k
(testers.)43 b Fs(fr)m(om-typ)m(e)149 1781 y Fr(and)19 b Fs(to-typ)m(e)j
Fr(are)d(presen)n(tation)e(t)n(yp)r(e)j(sp)r(eci\014ers,)e(and)h(m)n(ust)g
(not)g(b)r(e)g(abbreviations.)28 b Fs(fr)m(ame)22 b Fr(m)n(ust)d(b)r(e)g(an)
149 1848 y(application)e(frame.)149 1980 y Fo(Implemen)n(tation)31
b(note:)37 b Fr(Because)23 b Ft(find-presentation-translators)j
Fr(is)f(called)f(during)g(p)r(oin)n(ter)149 2047 y(sensitivit)n(y)e
(computations)d(\(that)h(is,)25 b(whenev)n(er)c(the)g(user)g(mouses)g(the)g
(p)r(oin)n(ter)g(around)g(in)h(an)n(y)h(CLIM)149 2113 y(pane\),)28
b(it)g(should)f(cac)n(he)f(its)h(result)g(in)g(order)f(to)h(a)n(v)n(oid)h
(consing.)51 b(Therefore,)28 b(the)f(resulting)f(list)i(of)149
2180 y(translators)15 b(should)j(not)f(b)r(e)h(mo)r(di\014ed;)e(the)h
(consequences)f(of)i(doing)f(so)h(are)g(unsp)r(eci\014ed.)49
2313 y Fj(\))45 b Ft(test-presentation-translator)30 b Fs(tr)m(anslator)d(pr)
m(esentation)g(c)m(ontext-typ)m(e)g(fr)m(ame)f(window)e(x)g(y)g
Ft(&key)149 2379 y Fs(event)d(mo)m(di\014er-state)i(for-menu)1330
b Fr([)p Fs(F)l(unction)t Fr(])149 2498 y(Returns)13 b Fm(true)h
Fr(if)i(the)e(translator)f Fs(tr)m(anslator)18 b Fr(applies)d(to)f(the)h
(presen)n(tation)d Fs(pr)m(esentation)19 b Fr(in)c(input)g(con)n(text)149
2564 y(t)n(yp)r(e)h Fs(c)m(ontext-typ)m(e)p Fr(,)k(otherwise)15
b(returns)g Fm(false)p Fr(.)24 b(\(There)15 b(is)j(no)e Fs(fr)m(om-typ)m(e)j
Fr(argumen)n(t)14 b(b)r(ecause)h(it)i(is)g(deriv)n(ed)149 2631
y(from)g Fs(pr)m(esentation)p Fr(.\))31 b Fs(x)19 b Fr(and)f
Fs(y)i Fr(are)e(the)g Fn(x)h Fr(and)g Fn(y)i Fr(p)r(ositions)d(of)h(the)f(p)r
(oin)n(ter)g(within)h(the)f(windo)n(w)i(stream)149 2697 y Fs(window)p
Fr(.)149 2830 y Fs(event)k Fr(and)d Fs(mo)m(di\014er-state)26
b Fr(are)21 b(a)h(p)r(oin)n(ter)e(button)h(ev)n(en)n(t)h(and)f(mo)r(di\014er)
f(state)g(\(see)h Ft(event-modifier-)149 2896 y(key-state)p
Fr(\),)29 b(and)d(are)f(compared)f(against)h(the)g(translator's)f(gesture.)47
b Fs(event)29 b Fr(defaults)c(to)h Ft(nil)p Fr(,)j(and)149
2963 y Fs(mo)m(di\014er-state)21 b Fr(defaults)16 b(to)h(0,)h(meaning)e(that)
h(no)g(mo)r(di\014er)f(k)n(eys)i(are)f(held)g(do)n(wn.)25 b(Only)18
b(one)f(of)h Fs(event)i Fr(or)149 3029 y Fs(mo)m(di\014er-state)h
Fr(ma)n(y)d(b)r(e)f(supplied;)h(it)h(is)f(unsp)r(eci\014ed)e(what)h(will)j
(happ)r(en)c(if)j(b)r(oth)e(are)g(supplied.)149 3162 y(If)h
Fs(for-menu)h Fr(is)g Fm(true)p Fr(,)e(the)h(comparison)d(against)i
Fs(event)k Fr(and)c Fs(mo)m(di\014er-state)22 b Fr(is)c(not)g(done.)149
3295 y Fs(pr)m(esentation)p Fr(,)26 b Fs(c)m(ontext-typ)m(e)p
Fr(,)g Fs(fr)m(ame)p Fr(,)f Fs(window)p Fr(,)f Fs(x)p Fr(,)f
Fs(y)p Fr(,)g(and)e Fs(event)j Fr(are)e(passed)e(along)h(to)h(the)f
(translator's)149 3361 y(tester)16 b(if)j(and)e(when)h(the)f(tester)f(is)j
(called.)p eop
%%Page: 231 246
bop 149 16 a Fm(CHAPTER)16 b(23.)43 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1165 b Fr(231)149 210 y Ft(test-presentation-translator)24
b Fr(is)f(resp)r(onsible)e(for)h(matc)n(hing)f(t)n(yp)r(e)h(parameters)d(and)
j(calling)g(the)149 276 y(translator's)c(tester.)28 b(Under)18
b(some)h(circumstances,)e Ft(test-presentation-translator)22
b Fr(ma)n(y)d(also)h(call)149 342 y(the)d(b)r(o)r(dy)g(of)h(the)f(translator)
f(to)i(ensure)e(that)h(its)i(v)m(alue)e(matc)n(hes)g Fs(to-typ)m(e)p
Fr(.)49 475 y Fj(\))45 b Ft(find-applicable-translators)30
b Fs(pr)m(esentation)17 b(input-c)m(ontext)g(fr)m(ame)e(window)g(x)f(y)g
Ft(&key)29 b Fs(event)16 b(mo)m(di\014er-)149 542 y(state)21
b(for-menu)f(fastp)1575 b Fr([)p Fs(F)l(unction)t Fr(])149
741 y(Returns)19 b(an)i(ob)s(ject)f(that)g(describ)r(es)f(the)h(translators)f
(that)h(de\014nitely)g(apply)h(to)g(the)f Fm(presen)n(tation)f
Fs(pr)m(e-)149 807 y(sentation)h Fr(in)f(the)e(input)h(con)n(text)f
Fs(input-c)m(ontext)p Fr(.)28 b(The)18 b(result)f(is)i(a)f(list)h(whose)e
(elemen)n(ts)g(are)g(eac)n(h)h(of)g(the)149 874 y(form)149
940 y Fs(\(tr)m(anslator)k(the-pr)m(esentation)h(c)m(ontext-typ)m(e)g(tag\))
149 1007 y Fr(where)15 b Fs(tr)m(anslator)k Fr(is)e(a)g(presen)n(tation)c
(translator,)i Fs(the-pr)m(esentation)21 b Fr(is)c(the)f(presen)n(tation)d
(that)j(the)f(trans-)149 1073 y(lator)g(applies)g(to)g(\(and)g(can)g(b)r(e)g
(di\013eren)n(t)g(from)f Fs(pr)m(esentation)19 b Fr(due)c(to)g(nesting)g(of)g
(presen)n(tations\),)e Fs(c)m(ontext-)149 1139 y(typ)m(e)19
b Fr(is)g(the)e(con)n(text)g(t)n(yp)r(e)g(that)g(in)i(whic)n(h)f(the)f
(translator)f(applies,)i(and)g Fs(tag)h Fr(is)g(a)f(tag)f(used)h(in)n
(ternally)g(b)n(y)149 1206 y(CLIM.)i Fs(tr)m(anslator)p Fr(,)25
b Fs(the-pr)m(esentation)p Fr(,)h(and)20 b Fs(c)m(ontext-typ)m(e)k
Fr(can)d(b)r(e)f(passed)f(to)h(suc)n(h)h(functions)e(as)i Ft(call-)149
1272 y(presentation-translator)e Fr(and)f Ft
(document-presentation-translator)p Fr(.)149 1405 y(Since)j(input)h(con)n
(texts)f(can)g(b)r(e)h(nested,)g Ft(find-applicable-translators)i
Fr(m)n(ust)d(iterate)g(o)n(v)n(er)h(all)h(the)149 1472 y(con)n(texts)18
b(in)i Fs(input-c)m(ontext)p Fr(.)32 b Fs(window)p Fr(,)20
b Fs(x)p Fr(,)h(and)e Fs(y)h Fr(are)f(as)g(for)g Ft
(test-presentation-translator)p Fr(.)31 b Fs(event)149 1538
y Fr(and)15 b Fs(mo)m(di\014er-state)j Fr(\(whic)n(h)d(default)g(to)g
Ft(nil)h Fr(and)f(the)f(curren)n(t)g(mo)r(di\014er)f(state)h(for)h
Fs(window)p Fr(,)i(resp)r(ectiv)n(ely\))149 1604 y(are)e(used)h(to)g(further)
f(restrict)f(the)i(set)g(of)g(applicable)g(translators.)22
b(\(Only)16 b(one)g(of)h Fs(event)h Fr(or)e Fs(mo)m(di\014er-state)149
1671 y Fr(ma)n(y)i(b)r(e)f(supplied;)h(it)g(is)h(unsp)r(eci\014ed)d(what)h
(will)j(happ)r(en)c(if)j(b)r(oth)d(are)i(supplied.\))149 1804
y(When)f Fs(for-menu)i Fr(is)f(non-)p Ft(nil)p Fr(,)g(this)f(matc)n(hes)f
(the)h(v)m(alue)g(of)h Fs(for-menu)h Fr(against)d(the)h(presen)n(tation's)f
(men)n(u)149 1870 y(sp)r(eci\014cation,)g(and)i(returns)e(only)j(those)e
(translators)e(that)j(matc)n(h.)23 b Fs(event)e Fr(and)c Fs(mo)m
(di\014er-state)22 b Fr(are)c(disre-)149 1936 y(garded)e(in)j(this)f(case.)23
b Fs(for-menu)d Fr(defaults)d(to)g Ft(nil)p Fr(.)149 2069 y(When)e(the)h(b)r
(o)r(olean)f Fs(fastp)i Fr(is)g Fm(true)p Fr(,)f Ft
(find-applicable-translators)i Fr(will)g(simply)f(return)e
Fm(true)g Fr(if)i(there)149 2136 y(are)g(an)n(y)i(translators.)j
Fs(fastp)d Fr(defaults)e(to)g Fm(false)p Fr(.)149 2269 y(When)f
Fs(fastp)j Fr(is)f Fm(false)p Fr(,)f(the)g(list)h(of)f(translators)e
(returned)g(b)n(y)k Ft(find-applicable-translators)g Fr(m)n(ust)d(b)r(e)149
2335 y(in)f(order)e(of)i(their)f(\\desirabilit)n(y",)h(that)f(is,)i
(translators)c(ha)n(ving)j(more)e(sp)r(eci\014c)g(from-t)n(yp)r(es)g(and/or)g
(higher)149 2401 y(priorities)k(m)n(ust)g(precede)f(translators)g(ha)n(ving)i
(less)g(sp)r(eci\014c)f(from-t)n(yp)r(es)f(and)i(lo)n(w)n(er)g(priorities.)
149 2534 y(The)h(rules)g(used)f(for)h(ordering)f(the)h(translators)e
(returned)g(b)n(y)j Ft(find-applicable-translators)h Fr(are)e(as)149
2601 y(follo)n(ws)f(\(in)h(order\):)216 2764 y(1.)28 b(T)-5
b(ranslators)24 b(with)h(a)h(higher)e(\\high)h(order")f(priorit)n(y)i
(precede)d(translators)g(with)j(a)f(lo)n(w)n(er)h(\\high)287
2831 y(order")17 b(priorit)n(y)-5 b(.)27 b(This)19 b(allo)n(ws)h(programmer)o
(s)15 b(to)j(set)g(the)g(priorit)n(y)h(of)g(a)g(translator)d(in)j(suc)n(h)g
(a)f(w)n(a)n(y)287 2897 y(that)f(it)h(alw)n(a)n(ys)h(precedes)d(all)j(other)e
(translators.)216 2998 y(2.)28 b(T)-5 b(ranslators)15 b(with)i(a)f(more)f(sp)
r(eci\014c)h(\\from)f(t)n(yp)r(e")g(precede)g(translators)f(with)j(a)f(less)h
(sp)r(eci\014c)e(\\from)287 3064 y(t)n(yp)r(e".)216 3165 y(3.)28
b(T)-5 b(ranslators)14 b(with)h(a)g(higher)f(\\lo)n(w)i(order")d(priorit)n(y)
j(precede)d(translators)f(with)k(a)f(lo)n(w)n(er)g(\\lo)n(w)h(order")287
3232 y(priorit)n(y)-5 b(.)37 b(This)22 b(allo)n(ws)h(programmer)o(s)c(to)i
(break)g(ties)h(b)r(et)n(w)n(een)f(translators)e(that)i(translate)f(from)287
3298 y(the)d(same)g(t)n(yp)r(e.)216 3399 y(4.)28 b(T)-5 b(ranslators)20
b(from)g(the)g(curren)n(t)g(command)e(table)j(precede)e(translators)g
(inherited)h(from)g(sup)r(erior)287 3466 y(command)15 b(tables.)p
eop
%%Page: 232 247
bop 149 16 a Fm(CHAPTER)16 b(23.)43 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1165 b Fr(232)149 210 y Fo(Implemen)n(tation)17 b(note:)22
b Ft(find-applicable-translators)15 b Fr(could)d(b)r(e)g(implemen)n(ted)e(b)n
(y)j(lo)r(oping)f(o)n(v)n(er)149 276 y Fs(input-c)m(ontext)p
Fr(,)17 b(calling)c Ft(find-presentation-translators)i Fr(to)d(generate)e
(all)k(the)e(translators,)g(and)h(then)149 342 y(calling)22
b Ft(test-presentation-translator)i Fr(to)e(\014lter)g(out)g(the)f(ones)h
(that)f(do)h(not)g(apply)-5 b(.)37 b(The)22 b(conse-)149 409
y(quences)11 b(of)i(mo)r(difying)e(the)h(returned)f(v)m(alue)h(are)g(unsp)r
(eci\014ed.)21 b(Note)11 b(that)h(the)g(ordering)f(of)i(translators)d(can)149
475 y(b)r(e)20 b(done)g(b)n(y)h Ft(find-presentation-translators)p
Fr(,)j(pro)n(vided)c(that)g Ft(find-applicable-translators)149
542 y Fr(tak)n(es)d(care)g(to)h(preserv)n(e)f(this)h(ordering.)149
674 y Fo(Minor)23 b(issue:)58 b Fm(Describ)r(e)17 b(and)i(implemen)n(t)d(the)
j Ft(class-nondisjoint-classes)h Fm(idea.)27 b(Be)19 b(v)n(ery)g(clear)149
741 y(and)e(precise)g(ab)r(out)g(when)g(the)g(translator)f(b)r(o)r(dy)h(gets)
g(run.)24 b(|)19 b(SWM)49 874 y Fj(\))45 b Ft
(presentation-matches-context-type)31 b Fs(pr)m(esentation)20
b(c)m(ontext-typ)m(e)g(fr)m(ame)e(window)f(x)g(y)g Ft(&key)29
b Fs(event)149 940 y(mo)m(di\014er-state)1717 b Fr([)p Fs(F)l(unction)t
Fr(])149 1059 y(Returns)13 b Fm(true)i Fr(if)h(there)e(are)h(an)n(y)h
(translators)d(that)h(translate)f(from)h(the)h Fm(presen)n(tation)e
Fs(pr)m(esentation)p Fr('s)19 b(t)n(yp)r(e)149 1126 y(to)d(the)g(input)h(con)
n(text)e(t)n(yp)r(e)h Fs(c)m(ontext-typ)m(e)p Fr(,)21 b(otherwise)15
b(returns)g Fm(false)p Fr(.)24 b(\(There)16 b(is)h(no)g Fs(fr)m(om-typ)m(e)i
Fr(argumen)n(t)149 1192 y(b)r(ecause)g(it)i(is)h(deriv)n(ed)f(from)f
Fs(pr)m(esentation)p Fr(.\))36 b Fs(fr)m(ame)p Fr(,)25 b Fs(window)p
Fr(,)e Fs(x)p Fr(,)f Fs(y)p Fr(,)g Fs(event)p Fr(,)j(and)c
Fs(mo)m(di\014er-state)j Fr(are)d(as)149 1258 y(for)c Ft
(test-presentation-translator)p Fr(.)149 1391 y(If)h(there)f(are)g(no)h
(applicable)f(translators,)f Ft(presentation-matches-context-type)21
b Fr(will)e(return)e Fm(false)p Fr(.)49 1524 y Fj(\))45 b Ft
(call-presentation-translator)30 b Fs(tr)m(anslator)c(pr)m(esentation)f(c)m
(ontext-typ)m(e)h(fr)m(ame)e(event)h(window)e(x)f(y)149 1591
y Fr([)p Fs(F)l(unction)t Fr(])149 1710 y(Calls)i(the)f(function)g(that)f
(implemen)n(ts)g(the)h(b)r(o)r(dy)g(of)g(the)g(translator)f
Fs(tr)m(anslator)k Fr(on)e(the)f Fm(presen)n(tation)149 1776
y Fs(pr)m(esentation)p Fr('s)i(ob)s(ject,)c(and)g(passes)g
Fs(pr)m(esentation)p Fr(,)26 b Fs(c)m(ontext-typ)m(e)p Fr(,)g
Fs(fr)m(ame)p Fr(,)f Fs(event)p Fr(,)g Fs(window)p Fr(,)f Fs(x)p
Fr(,)f(and)e Fs(y)h Fr(to)149 1842 y(the)17 b(b)r(o)r(dy)g(of)h(the)f
(translator)f(as)i(w)n(ell.)149 1975 y(The)g(returned)d(v)m(alues)j(are)g
(the)f(same)g(as)h(the)f(v)m(alues)h(returned)e(b)n(y)j(the)e(b)r(o)r(dy)g
(of)h(the)f(translator,)g(namely)-5 b(,)149 2042 y(the)17 b(translated)f(ob)s
(ject)g(and)i(the)f(translated)f(t)n(yp)r(e.)49 2174 y Fj(\))45
b Ft(document-presentation-translator)31 b Fs(tr)m(anslator)21
b(pr)m(esentation)h(c)m(ontext-typ)m(e)g(fr)m(ame)f(event)g(window)149
2241 y(x)e(y)h Ft(&key)29 b Fs(\(str)m(e)m(am)21 b Ft(*standard-output*)p
Fs(\))g(do)m(cumentation-typ)m(e)605 b Fr([)p Fs(F)l(unction)t
Fr(])149 2360 y(Computes)18 b(the)i(do)r(cumen)n(tation)d(string)j(for)h(the)
f(translator)f Fs(tr)m(anslator)k Fr(and)e(outputs)e(it)i(to)g(the)f(stream)
149 2426 y Fs(str)m(e)m(am)p Fr(.)k Fs(pr)m(esentation)p Fr(,)17
b Fs(c)m(ontext-typ)m(e)p Fr(,)h Fs(fr)m(ame)p Fr(,)d Fs(event)p
Fr(,)h Fs(window)p Fr(,)f Fs(x)p Fr(,)e(and)f Fs(y)h Fr(are)e(as)h(for)g
Ft(test-presentation-)149 2493 y(translator)p Fr(.)149 2626
y Ft(documentation-type)j Fr(m)n(ust)f(b)r(e)g(either)f Ft(:normal)i
Fr(or)f Ft(:pointer)p Fr(.)24 b(If)15 b(it)g(is)g Ft(:normal)p
Fr(,)h(the)e(usual)g(translator)149 2692 y(do)r(cumen)n(tation)k(function)i
(is)j(called.)35 b(If)22 b(it)g(is)h Ft(:pointer)p Fr(,)h(the)d(translator's)
f(p)r(oin)n(ter)g(do)r(cumen)n(tation)e(is)149 2758 y(called.)49
2891 y Fj(\))45 b Ft(call-presentation-menu)30 b Fs(pr)m(esentation)h
(input-c)m(ontext)f(fr)m(ame)f(window)f(x)g(y)f Ft(&key)j Fs(for-menu)f(lab)m
(el)149 2958 y Fr([)p Fs(F)l(unction)t Fr(])149 3077 y(Finds)17
b(all)h(the)e(applicable)h(translators)d(for)j(the)f Fm(presen)n(tation)f
Fs(pr)m(esentation)21 b Fr(in)c(the)f(input)h(con)n(text)f
Fs(input-)149 3143 y(c)m(ontext)p Fr(,)22 b(creates)c(a)i(men)n(u)e(that)h
(con)n(tains)g(all)h(of)g(the)f(translators,)f(and)h(p)r(ops)g(up)g(the)g
(men)n(u)g(from)f(whic)n(h)149 3209 y(the)g(user)g(can)g(c)n(ho)r(ose)f(a)i
(translator.)24 b(After)17 b(the)h(translator)f(is)i(c)n(hosen,)g(it)g(is)g
(called)f(with)h(the)f(argumen)n(ts)149 3276 y(supplied)g(to)h
Ft(call-presentation-menu)h Fr(and)e(the)h(matc)n(hing)e(input)h(con)n(text)g
(that)f(w)n(as)i(established)f(b)n(y)149 3342 y Ft(with-input-context)h
Fr(is)g(terminated.)p eop
%%Page: 233 248
bop 149 16 a Fm(CHAPTER)16 b(23.)43 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1165 b Fr(233)149 210 y Fs(window)p Fr(,)24 b Fs(x)p
Fr(,)f Fs(y)p Fr(,)g(and)f Fs(event)i Fr(are)d(as)h(for)g Ft
(find-applicable-translators)p Fr(.)38 b Fs(for-menu)p Fr(,)25
b(whic)n(h)d(defaults)149 276 y(to)h Ft(t)p Fr(,)k(is)d(used)g(to)f(decide)g
(whic)n(h)i(of)f(the)f(applicable)g(translators)f(will)k(go)d(in)n(to)i(the)e
(men)n(u;)j(only)f(those)149 342 y(translators)15 b(whose)j
Ft(:menu)g Fr(option)g(matc)n(hes)e Fs(menu)j Fr(will)g(b)r(e)e(included.)149
475 y Fs(lab)m(el)j Fr(is)e(either)f(a)h(string)f(to)h(use)g(as)f(a)h(lab)r
(el)g(for)g(the)f(men)n(u,)g(or)h(is)h Ft(nil)f Fr(\(the)f(default\),)g
(meaning)f(the)i(men)n(u)149 542 y(will)h(not)f(b)r(e)f(lab)r(elled.)149
763 y Fp(23.7.3)75 b(Finding)26 b(Applicable)g(Presen)n(tations)49
932 y Fj(\))45 b Ft(find-innermost-applicable-presentation)31
b Fs(input-c)m(ontext)e(window)e(x)f(y)h Ft(&key)i Fs(fr)m(ame)f(mo)m
(di\014er-)149 998 y(state)21 b(event)1804 b Fr([)p Fs(F)l(unction)t
Fr(])149 1197 y(Giv)n(en)26 b(an)f(input)g(con)n(text)f Fs(input-c)m(ontext)p
Fr(,)30 b(an)25 b(output)e(recording)h(windo)n(w)h(stream)e
Fs(window)p Fr(,)28 b Fn(x)d Fr(and)g Fn(y)149 1264 y Fr(p)r(ositions)17
b Fs(x)j Fr(and)e Fs(y)p Fr(,)i(returns)e(the)g(innermost)f(presen)n(tation)f
(whose)j(sensitivit)n(y)g(region)f(con)n(tains)h Fs(x)g Fr(and)f
Fs(y)149 1330 y Fr(that)j(matc)n(hes)f(the)h(innermost)f(input)i(con)n(text,)
g(using)g(the)f(translator)f(matc)n(hing)g(algorithm)h(describ)r(ed)149
1397 y(b)r(elo)n(w.)j(If)18 b(there)f(is)i(no)f(suc)n(h)f(presen)n(tation,)f
(this)i(function)f(will)j(return)c Ft(nil)p Fr(.)149 1529 y
Fs(event)24 b Fr(and)d Fs(mo)m(di\014er-state)26 b Fr(are)21
b(a)h(p)r(oin)n(ter)e(button)h(ev)n(en)n(t)h(and)f(mo)r(di\014er)f(state)g
(\(see)h Ft(event-modifier-)149 1596 y(key-state)p Fr(\).)26
b Fs(event)21 b Fr(defaults)d(to)g Ft(nil)p Fr(,)i(and)e Fs(mo)m
(di\014er-state)k Fr(defaults)17 b(to)h(the)g(curren)n(t)f(mo)r(di\014er)g
(state)g(for)149 1662 y Fs(window)p Fr(.)25 b(Only)17 b(one)g(of)g
Fs(event)i Fr(or)e Fs(mo)m(di\014er-state)j Fr(ma)n(y)d(b)r(e)f(supplied;)i
(it)f(is)h(unsp)r(eci\014ed)d(what)h(will)i(happ)r(en)149 1729
y(if)g(b)r(oth)f(are)h(supplied.)149 1861 y Fs(fr)m(ame)i Fr(defaults)c(to)i
(the)f(curren)n(t)g(frame,)g Ft(*application-frame*)p Fr(.)149
1994 y(The)g(default)g(metho)r(d)f(for)i(frame-\014nd-innermost)o(-applicab)o
(le-prese)o(n)n(tat)o(ion)d(will)k(call)g(this)e(function.)49
2127 y Fj(\))45 b Ft(throw-highlighted-presentation)30 b Fs(pr)m(esentation)
23 b(input-c)m(ontext)f(button-pr)m(ess-event)61 b Fr([)p Fs(F)l(unction)t
Fr(])149 2246 y(Giv)n(en)18 b(a)e Fm(presen)n(tation)f Fs(pr)m(esentation)p
Fr(,)20 b(input)d(con)n(text)e Fs(input-c)m(ontext)p Fr(,)20
b(and)c(a)h(button)e(press)h(ev)n(en)n(t)h(\(whic)n(h)149 2313
y(con)n(tains)k(the)h(windo)n(w,)i(p)r(oin)n(ter,)e Fn(x)g
Fr(and)g Fn(y)j Fr(p)r(osition)c(of)h(the)g(p)r(oin)n(ter)f(within)h(the)g
(windo)n(w,)i(the)d(button)149 2379 y(pressed,)16 b(and)i(the)f(mo)r
(di\014er)e(state\),)h(\014nd)i(the)f(translator)e(that)i(matc)n(hes)e(the)i
(innermost)f(presen)n(tation)f(in)149 2445 y(the)20 b(innermost)f(input)h
(con)n(text,)h(then)f(call)i(the)e(translator)f(to)i(pro)r(duce)e(an)i(ob)s
(ject)e(and)i(a)g(presen)n(tation)149 2512 y(t)n(yp)r(e.)j(Finally)-5
b(,)19 b(the)e(matc)n(hing)f(input)h(con)n(text)f(that)g(w)n(as)i
(established)e(b)n(y)i Ft(with-input-context)h Fr(will)g(b)r(e)149
2578 y(terminated.)149 2711 y(Note)13 b(that)h(it)h(is)h(p)r(ossible)e(that)g
(more)f(than)h(one)h(translator)d(ha)n(ving)k(the)e(same)f(gesture)g(ma)n(y)i
(b)r(e)f(applicable)149 2777 y(to)22 b Fs(pr)m(esentation)k
Fr(in)d(the)e(sp)r(eci\014ed)g(input)h(con)n(text.)37 b(In)23
b(this)f(case,)h(the)f(translator)e(ha)n(ving)j(the)f(highest)149
2844 y(priorit)n(y)16 b(will)i(b)r(e)d(c)n(hosen.)23 b(If)17
b(there)d(is)j(more)e(than)g(one)h(ha)n(ving)g(the)g(same)f(priorit)n(y)-5
b(,)17 b(it)g(is)f(unsp)r(eci\014ed)e(what)149 2910 y(translator)i(will)j(b)r
(e)e(c)n(hosen.)49 3043 y Fj(\))45 b Ft(highlight-applicable-presentation)31
b Fs(fr)m(ame)26 b(str)m(e)m(am)g(input-c)m(ontext)h Ft(&optional)j
Fs(pr)m(efer-p)m(ointer-)149 3110 y(window)1883 b Fr([)p Fs(F)l(unction)t
Fr(])149 3309 y(This)25 b(is)h(the)e(core)g(of)h(the)f(\\input)h(w)n(ait")g
(handler)f(used)g(b)n(y)i Ft(with-input-context)g Fr(on)f(b)r(ehalf)f(of)h
(the)149 3375 y Fm(application)e(frame)g Fs(fr)m(ame)p Fr(.)45
b(It)25 b(is)g(resp)r(onsible)d(for)i(lo)r(cating)f(the)h(innermost)e
(applicable)i(presen)n(tation)149 3442 y(on)e Fs(str)m(e)m(am)i
Fr(in)f(the)e(input)h(con)n(text)f Fs(input-c)m(ontext)p Fr(,)26
b(unhighligh)n(ting)21 b(presen)n(tations)f(that)h(are)g(not)h(appli-)p
eop
%%Page: 234 249
bop 149 16 a Fm(CHAPTER)16 b(23.)43 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1165 b Fr(234)149 210 y(cable,)22 b(and)e(highligh)n(ting)h(the)g
(presen)n(tation)e(that)h(is)i(applicable.)33 b(T)n(ypically)23
b(on)e(en)n(try)g(to)g Ft(highlight-)149 276 y(applicable-presentation)p
Fr(,)e Fs(input-c)m(ontext)h Fr(will)e(b)r(e)f(the)f(v)m(alue)h(of)g
Ft(*input-context*)h Fr(and)f Fs(fr)m(ame)i Fr(will)149 342
y(b)r(e)e(the)g(v)m(alue)h(of)g Ft(*application-frame*)p Fr(.)149
475 y Fo(Implemen)n(tation)e(note:)22 b Fr(This)12 b(will)h(probably)e(use)h
Ft(frame-find-innermost-applicable-presentation-)149 542 y(at-position)h
Fr(to)e(lo)r(cate)f(the)i(innermost)d(presen)n(tation,)i(and)h
Ft(unhighlight-highlighted-presentation)149 608 y Fr(and)17
b Ft(set-highlighted-presentation)j Fr(to)e(unhighligh)n(t)g(and)f(highligh)n
(t)h(presen)n(tations.)49 741 y Fj(\))45 b Ft(set-highlighted-presentation)30
b Fs(str)m(e)m(am)16 b(pr)m(esentation)h Ft(&optional)30 b
Fs(pr)m(efer-p)m(ointer-window)j Fr([)p Fs(F)l(unction)t Fr(])149
940 y(Highligh)n(ts)21 b(the)g Fm(presen)n(tation)f Fs(pr)m(esentation)25
b Fr(on)d Fs(str)m(e)m(am)p Fr(.)38 b(This)22 b(m)n(ust)f(call)h
Ft(highlight-presentation)149 1007 y Fr(metho)r(ds)15 b(if)k(that)e(is)h
(appropriate.)49 1139 y Fj(\))45 b Ft(unhighlight-highlighted-presentation)31
b Fs(str)m(e)m(am)16 b Ft(&optional)29 b Fs(pr)m(efer-p)m(ointer-window)k
Fr([)p Fs(F)l(unction)t Fr(])149 1339 y(Unhighligh)n(ts)17
b(an)n(y)h(highligh)n(ted)g(presen)n(tations)d(on)j Fs(str)m(e)m(am)p
Fr(.)149 1560 y Fp(23.7.4)75 b(T)-6 b(ranslator)26 b(Applicabilit)n(y)149
1729 y Fr(The)c(top-lev)n(el)i(\\input)e(w)n(ait",)i(whic)n(h)f(is)h(what)e
(y)n(ou)h(are)f(in)i(when)e(inside)h(of)g(a)g Ft(with-input-context)p
Fr(,)149 1795 y(is)c(resp)r(onsible)e(for)h(determining)e(what)i(translators)
e(are)i(applicable)g(to)g(whic)n(h)h(presen)n(tations)c(in)20
b(a)e(giv)n(en)149 1861 y(input)11 b(con)n(text.)22 b(This)12
b(lo)r(op)f(b)r(oth)g(pro)n(vides)h(feedbac)n(k)f(in)h(the)g(form)f(of)h
(highligh)n(ting)g(sensitiv)n(e)g(presen)n(tation,)149 1928
y(and)17 b(is)i(resp)r(onsible)d(for)i(calling)g(the)f(applicable)h
(translator)e(when)h(the)h(user)f(presses)f(a)j(p)r(oin)n(ter)d(button.)149
2061 y Fo(Implemen)n(tation)g(note:)22 b Ft(with-input-context)13
b Fr(uses)e Ft(frame-find-innermost-applicable-presentation-)149
2127 y(at-position)29 b Fr(\(via)g Ft(highlight-applicable-presentation)p
Fr(\))h(as)f(its)f(\\input)g(w)n(ait")h(handler,)h(and)149
2194 y Ft(frame-input-context-button-press-handler)20 b Fr(as)e(its)h(button)
d(press)h(\\ev)n(en)n(t)h(handler".)149 2326 y(Giv)n(en)i(a)f(presen)n
(tation,)e(an)i(input)f(con)n(text)g(established)f(b)n(y)j
Ft(with-input-context)p Fr(,)h(and)d(an)h(ev)n(en)n(t)g(cor-)149
2393 y(resp)r(onding)d(to)h(a)h(user)g(gesture,)e(translator)g(matc)n(hing)g
(pro)r(ceeds)g(as)i(follo)n(ws.)149 2526 y(The)f(set)f(of)h(candidate)f
(translators)e(is)k(initially)h(those)d(translators)e(accessible)i(in)i(the)e
(command)f(table)h(in)149 2592 y(use)g(b)n(y)h(the)e(curren)n(t)g
(application.)23 b(A)16 b(translator)e(is)j(said)f(to)g(\\matc)n(h")e(if)j
(all)g(of)f(the)g(follo)n(wing)h(are)e(true)h(\(in)149 2658
y(this)i(order\):)216 2847 y(1.)28 b(The)16 b(presen)n(tation's)f(t)n(yp)r(e)
h(is)h Ft(presentation-subtypep)h Fr(of)e(the)g(translator's)f
Fs(fr)m(om-typ)m(e)p Fr(,)k(ignoring)287 2913 y(t)n(yp)r(e)f(parameters.)216
3024 y(2.)28 b(The)c(translator's)d Fs(to-typ)m(e)26 b Fr(is)f
Ft(presentation-subtypep)g Fr(of)f(the)f(input)h(con)n(text)e(t)n(yp)r(e,)j
(ignoring)287 3090 y(t)n(yp)r(e)18 b(parameters.)216 3201 y(3.)28
b(The)f(translator's)e(gesture)g(is)j(either)e Ft(t)p Fr(,)k(or)d(matc)n(hes)
e(the)h(ev)n(en)n(t)h(corresp)r(onding)d(to)j(the)f(user's)287
3267 y(gesture.)216 3378 y(4.)i(If)16 b(there)e(are)g(parameters)e(in)k(the)f
Fs(fr)m(om-typ)m(e)p Fr(,)k(the)14 b(presen)n(tation's)f(ob)s(ject)h(m)n(ust)
h(b)r(e)f Ft(presentation-)287 3444 y(typep)19 b Fr(of)f(the)f
Fs(fr)m(om-typ)m(e)p Fr(.)p eop
%%Page: 235 250
bop 149 16 a Fm(CHAPTER)16 b(23.)43 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1165 b Fr(235)216 210 y(5.)28 b(The)14 b(translator's)f(tester)f
(returned)h Fm(true)p Fr(.)22 b(If)15 b(there)e(is)i(no)f(tester,)g(the)g
(translator)e(b)r(eha)n(v)n(es)i(as)g(though)287 276 y(there)j(is)h(a)g
(tester)f(that)g(alw)n(a)n(ys)i(returns)d Fm(true)p Fr(.)216
387 y(6.)28 b(If)d(there)f(are)g(parameters)e(in)k(the)e(input)h(con)n(text)e
(t)n(yp)r(e)i(and)g(the)f(tester)f(is)j(not)e(declared)g(to)g(b)r(e)287
453 y(de\014nitiv)n(e,)d(the)e(v)m(alue)h(returned)d(b)n(y)k(b)r(o)r(dy)e(of)
h(the)f(translator)f(m)n(ust)h(b)r(e)g Ft(presentation-typep)j
Fr(of)287 520 y(the)17 b(con)n(text)g(t)n(yp)r(e.)149 708 y(Note)e(that)h
(the)g(t)n(yp)r(e)h(parameters)c(from)j(the)g(presen)n(tation's)f(t)n(yp)r(e)
h(ha)n(v)n(e)i(no)e(e\013ect)g(on)h(translator)e(lo)r(okup.)149
841 y Ft(find-presentation-translator)g Fr(is)f(resp)r(onsible)e(for)h(the)g
(\014rst)g(t)n(w)n(o)g(steps)g(of)g(the)g(matc)n(hing)f(algorithm,)149
907 y(and)17 b Ft(test-presentation-translator)j Fr(is)f(resp)r(onsible)d
(for)i(the)f(remaining)g(steps.)149 1040 y(When)11 b(a)h(single)g(translator)
e(is)i(b)r(eing)f(c)n(hosen)g(\(suc)n(h)g(as)h(is)h(done)e(b)n(y)h
Ft(throw-highlighted-presentation)p Fr(\),)149 1106 y(it)21
b(is)g(p)r(ossible)f(that)f(more)g(than)h(one)g(translator)e(ha)n(ving)j(the)
f(same)f(gesture)g(ma)n(y)h(b)r(e)g(applicable)g(to)g(the)149
1173 y(presen)n(tation)d(in)k(the)e(sp)r(eci\014ed)g(input)g(con)n(text.)30
b(In)20 b(this)g(case,)g(the)f(translator)f(ha)n(ving)j(the)e(highest)g(pri-)
149 1239 y(orit)n(y)h(will)i(b)r(e)d(c)n(hosen.)29 b(If)21
b(there)d(is)j(more)d(than)i(one)f(ha)n(ving)h(the)g(same)e(priorit)n(y)-5
b(,)22 b(it)e(is)h(unsp)r(eci\014ed)c(what)149 1305 y(translator)f(will)j(b)r
(e)e(c)n(hosen.)149 1438 y(The)26 b(matc)n(hing)f(algorithm)g(is)i(somewhat)d
(more)h(complicated)f(in)k(face)d(of)i(nested)e(presen)n(tations)f(and)149
1505 y(nested)15 b(input)i(con)n(texts.)22 b(In)17 b(this)g(case,)g(the)f
(applicable)g(presen)n(tation)f(is)i(the)g Fm(smallest)e Fr(presen)n(tation)g
(that)149 1571 y(matc)n(hes)h(the)h Fm(innermost)f Fr(input)h(con)n(text.)149
1704 y(Sometimes)11 b(there)j(ma)n(y)g(b)r(e)h(nested)e(presen)n(tations)f
(that)i(ha)n(v)n(e)h(exactly)f(the)g(same)g(b)r(ounding)f(rectangle.)21
b(In)149 1770 y(this)16 b(case,)h(it)g(is)h(not)e(p)r(ossible)g(for)h(a)g
(user)f(to)g(unam)n(biguously)g(p)r(oin)n(t)g(to)h(just)f(one)g(of)h(the)g
(nested)e(presen)n(ta-)149 1837 y(tions.)22 b(Therefore,)14
b(when)f(CLIM)h(has)g(lo)r(cated)e(the)h(innermost)f(applicable)h(presen)n
(tation)f(in)j(the)e(innermost)149 1903 y(input)g(con)n(text,)g(it)h(m)n(ust)
f(then)f(searc)n(h)h(for)g(outer)f(presen)n(tations)f(ha)n(ving)j(exactly)f
(the)g(same)f(b)r(ounding)g(rect-)149 1970 y(angle,)17 b(c)n(hec)n(king)f(to)
h(see)f(if)h(there)f(are)g(an)n(y)h(applicable)f(translators)e(for)j(those)e
(presen)n(tations.)22 b(If)17 b(there)e(are)149 2036 y(m)n(ultiple)e
(applicable)g(translators,)g(the)g(one)h(ha)n(ving)g(the)f(highest)g(priorit)
n(y)h(is)g(c)n(hosen.)22 b Ft(find-applicable-)149 2102 y(translators)p
Fr(,)c Ft(call-presentation-menu)p Fr(,)i Ft(throw-highlighted-presentation)p
Fr(,)g(and)c(the)h(compu-)149 2169 y(tation)g(of)h(p)r(oin)n(ter)e(do)r
(cumen)n(tation)f(m)n(ust)i(all)i(tak)n(e)f(this)g(situation)e(in)n(to)j
(accoun)n(t.)149 2302 y(The)29 b(translators)e(are)i(searc)n(hed)e(in)j(the)f
(order)f(that)g(they)h(are)g(returned)e(b)n(y)j Ft(find-presentation-)149
2368 y(translators)p Fr(.)25 b(The)18 b(rules)g(for)f(the)h(ordering)e(of)i
(the)g(translators)d(are)j(describ)r(ed)e(under)h(that)g(function.)149
2618 y Fk(23.8)91 b(Standard)29 b(Presen)m(tation)g(T)m(yp)s(es)149
2805 y Fr(The)22 b(follo)n(wing)i(sections)d(do)r(cumen)n(t)f(the)i(presen)n
(tation)f(t)n(yp)r(es)h(supplied)g(b)n(y)i(CLIM.)f(An)n(y)g(presen)n(tation)
149 2872 y(t)n(yp)r(e)16 b(with)h(the)g(same)e(name)h(as)h(a)g(Common)e(Lisp)
i(t)n(yp)r(e)g(accepts)e(the)h(same)g(parameters)e(as)j(the)f(Common)149
2938 y(Lisp)i(t)n(yp)r(e)f(\(and)g(additional)h(parameters)c(in)19
b(a)f(few)g(cases\).)149 3159 y Fp(23.8.1)75 b(Basic)27 b(Presen)n(tation)f
(T)n(yp)r(es)49 3328 y Fj(\))45 b Ft(t)1790 b Fr([)p Fs(Pr)m(esentation)22
b(T)l(yp)m(e)t Fr(])149 3447 y(The)17 b(sup)r(ert)n(yp)r(e)f(of)i(all)h
(other)e(presen)n(tation)e(t)n(yp)r(es.)p eop
%%Page: 236 251
bop 149 16 a Fm(CHAPTER)16 b(23.)43 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1165 b Fr(236)49 210 y Fj(\))45 b Ft(nil)1732 b Fr([)p
Fs(Pr)m(esentation)22 b(T)l(yp)m(e)t Fr(])149 329 y(The)e(subt)n(yp)r(e)g(of)
h(all)g(other)f(presen)n(tation)e(t)n(yp)r(es.)32 b(This)22
b(has)e(no)h(prin)n(ted)f(represen)n(tation,)e(and)j(it)g(useful)149
395 y(only)d(in)h(writing)f(\\con)n(text)e(indep)r(enden)n(t")f(translators,)
h(that)h(is,)i(translators)d(whose)h Fs(to-typ)m(e)j Fr(is)f
Ft(nil)p Fr(.)49 528 y Fj(\))45 b Ft(null)1703 b Fr([)p Fs(Pr)m(esentation)22
b(T)l(yp)m(e)t Fr(])149 647 y(The)c(t)n(yp)r(e)g(that)g(represen)n(ts)e
(\\nothing".)25 b(The)18 b(single)h(ob)s(ject)e(asso)r(ciated)f(with)j(this)f
(t)n(yp)r(e)g(is)i Ft(nil)p Fr(,)f(and)f(its)149 713 y(prin)n(ted)f(represen)
n(tation)e(is)k(\\None".)49 846 y Fj(\))45 b Ft(boolean)1616
b Fr([)p Fs(Pr)m(esentation)22 b(T)l(yp)m(e)t Fr(])149 965
y(The)14 b(t)n(yp)r(e)h(that)e(represen)n(ts)g Fm(true)h Fr(or)g
Fm(false)p Fr(.)24 b(The)14 b(prin)n(ted)g(represen)n(tation)e(is)k(\\Y)-5
b(es")14 b(or)g(\\No",)h(resp)r(ectiv)n(ely)-5 b(.)49 1098
y Fj(\))45 b Ft(symbol)1645 b Fr([)p Fs(Pr)m(esentation)22
b(T)l(yp)m(e)t Fr(])149 1217 y(The)17 b(t)n(yp)r(e)h(that)f(represen)n(ts)f
(a)i(sym)n(b)r(ol.)49 1350 y Fj(\))45 b Ft(keyword)1616 b Fr([)p
Fs(Pr)m(esentation)22 b(T)l(yp)m(e)t Fr(])149 1469 y(The)17
b(t)n(yp)r(e)h(that)f(represen)n(ts)f(a)i(sym)n(b)r(ol)f(in)i(the)e(k)n(eyw)n
(ord)i(pac)n(k)m(age.)k(It)18 b(is)h(a)f(subt)n(yp)r(e)f(of)h
Ft(symbol)p Fr(.)49 1602 y Fj(\))45 b Ft(blank-area)1529 b
Fr([)p Fs(Pr)m(esentation)22 b(T)l(yp)m(e)t Fr(])149 1721 y(The)k(t)n(yp)r(e)
g(that)f(represen)n(ts)g(all)i(the)f(places)g(in)h(a)f(windo)n(w)h(where)f
(there)f(is)i(no)f(presen)n(tation)f(that)g(is)149 1787 y(applicable)g(in)i
(the)e(curren)n(t)g(input)h(con)n(text.)48 b(CLIM)25 b(pro)n(vides)h(a)h
(single)f(\\n)n(ull)h(presen)n(tation")c(as)j(the)149 1853
y(ob)s(ject)16 b(asso)r(ciated)g(with)i(this)g(t)n(yp)r(e.)49
1986 y Fj(\))45 b Ft(*null-presentation*)1486 b Fr([)p Fs(Constant)5
b Fr(])149 2105 y(The)22 b(n)n(ull)i(presen)n(tation,)e(whic)n(h)h(o)r
(ccupies)e(all)i(parts)f(of)g(a)h(windo)n(w)g(in)g(whic)n(h)g(there)f(are)g
(no)g(applicable)149 2172 y(presen)n(tations.)g(This)c(will)i(ha)n(v)n(e)e(a)
g(presen)n(tation)e(t)n(yp)r(e)i(of)g Ft(blank-area)p Fr(.)149
2393 y Fp(23.8.2)75 b(Numeric)26 b(Presen)n(tation)g(T)n(yp)r(es)49
2562 y Fj(\))45 b Ft(number)1645 b Fr([)p Fs(Pr)m(esentation)22
b(T)l(yp)m(e)t Fr(])149 2681 y(The)17 b(t)n(yp)r(e)h(that)f(represen)n(ts)f
(a)i(general)f(n)n(um)n(b)r(er.)23 b(It)18 b(is)g(the)g(sup)r(ert)n(yp)r(e)d
(of)j(all)h(the)f(n)n(um)n(b)r(er)e(t)n(yp)r(es.)49 2813 y
Fj(\))45 b Ft(complex)1616 b Fr([)p Fs(Pr)m(esentation)22 b(T)l(yp)m(e)t
Fr(])149 2932 y(The)17 b(t)n(yp)r(e)h(that)f(represen)n(ts)f(a)i(complex)f(n)
n(um)n(b)r(er.)23 b(It)18 b(is)g(a)g(subt)n(yp)r(e)f(of)h Ft(number)p
Fr(.)49 3065 y Fj(\))45 b Ft(real)29 b(&optional)h Fs(low)20
b(high)1186 b Fr([)p Fs(Pr)m(esentation)22 b(T)l(yp)m(e)t Fr(])149
3184 y(The)c(t)n(yp)r(e)f(that)h(represen)n(ts)e(either)h(a)h(ratio,)g(an)g
(in)n(teger,)g(or)g(a)h(\015oating)e(p)r(oin)n(t)g(n)n(um)n(b)r(er)g(b)r(et)n
(w)n(een)g Fs(low)i Fr(and)149 3251 y Fs(high)p Fr(.)26 b Fs(low)18
b Fr(and)g Fs(high)h Fr(can)f(b)r(e)f(inclusiv)n(e)i(or)f(exclusiv)n(e,)g(as)
g(in)h(Common)d(Lisp)i(t)n(yp)r(e)f(sp)r(eci\014ers.)23 b(Options)17
b(to)149 3317 y(this)h(t)n(yp)r(e)f(are)h Fs(b)m(ase)h Fr(\(default)e(10\))g
(and)h Fs(r)m(adix)h Fr(\(default)d Ft(nil)p Fr(\).)25 b Ft(real)19
b Fr(is)f(a)g(subt)n(yp)r(e)f(of)h Ft(number)p Fr(.)49 3450
y Fj(\))45 b Ft(rational)29 b(&optional)h Fs(low)20 b(high)1070
b Fr([)p Fs(Pr)m(esentation)22 b(T)l(yp)m(e)t Fr(])p eop
%%Page: 237 252
bop 149 16 a Fm(CHAPTER)16 b(23.)43 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1165 b Fr(237)149 210 y(The)16 b(t)n(yp)r(e)g(that)g(represen)n(ts)e
(either)i(a)h(ratio)f(or)g(an)h(in)n(teger)f(b)r(et)n(w)n(een)f
Fs(low)i Fr(and)g Fs(high)p Fr(.)25 b(Options)16 b(to)h(this)f(t)n(yp)r(e)149
276 y(are)h Fs(b)m(ase)j Fr(and)d Fs(r)m(adix)p Fr(.)26 b Ft(rational)19
b Fr(is)f(a)h(subt)n(yp)r(e)d(of)i Ft(real)p Fr(.)49 409 y
Fj(\))45 b Ft(integer)29 b(&optional)h Fs(low)20 b(high)1099
b Fr([)p Fs(Pr)m(esentation)22 b(T)l(yp)m(e)t Fr(])149 528
y(The)f(t)n(yp)r(e)g(that)g(represen)n(ts)e(an)i(in)n(teger)g(b)r(et)n(w)n
(een)f Fs(low)i Fr(and)g Fs(high)p Fr(.)36 b(Options)21 b(to)g(this)h(t)n(yp)
r(e)f(are)g Fs(b)m(ase)i Fr(and)149 594 y Fs(r)m(adix)p Fr(.)i
Ft(integer)19 b Fr(is)g(a)f(subt)n(yp)r(e)f(of)h Ft(rational)p
Fr(.)49 727 y Fj(\))45 b Ft(ratio)29 b(&optional)h Fs(low)20
b(high)1157 b Fr([)p Fs(Pr)m(esentation)22 b(T)l(yp)m(e)t Fr(])149
846 y(The)17 b(t)n(yp)r(e)g(that)f(represen)n(ts)g(a)h(ratio)g(b)r(et)n(w)n
(een)f Fs(low)j Fr(and)e Fs(high)p Fr(.)26 b(Options)16 b(to)i(this)f(t)n(yp)
r(e)g(are)g Fs(b)m(ase)i Fr(and)e Fs(r)m(adix)p Fr(.)149 912
y Ft(ratio)h Fr(is)h(a)f(subt)n(yp)r(e)f(of)h Ft(rational)p
Fr(.)49 1045 y Fj(\))45 b Ft(float)29 b(&optional)h Fs(low)20
b(high)1157 b Fr([)p Fs(Pr)m(esentation)22 b(T)l(yp)m(e)t Fr(])149
1164 y(The)d(t)n(yp)r(e)f(that)h(represen)n(ts)e(a)i(\015oating)f(p)r(oin)n
(t)h(n)n(um)n(b)r(er)f(b)r(et)n(w)n(een)g Fs(low)i Fr(and)e
Fs(high)p Fr(.)30 b Ft(float)20 b Fr(is)g(a)f(subt)n(yp)r(e)g(of)149
1231 y Ft(number)p Fr(.)149 1449 y Fp(23.8.3)75 b(Character)25
b(and)f(String)h(Presen)n(tation)g(T)n(yp)r(es)49 1618 y Fj(\))45
b Ft(character)1558 b Fr([)p Fs(Pr)m(esentation)22 b(T)l(yp)m(e)t
Fr(])149 1737 y(The)17 b(t)n(yp)r(e)h(that)f(represen)n(ts)f(a)i(c)n
(haracter)d(ob)s(ject.)49 1870 y Fj(\))45 b Ft(string)29 b(&optional)h
Fs(length)1184 b Fr([)p Fs(Pr)m(esentation)22 b(T)l(yp)m(e)t
Fr(])149 1989 y(The)g(t)n(yp)r(e)h(that)e(represen)n(ts)g(a)i(string.)38
b(If)23 b Fs(length)i Fr(is)e(supplied,)h(the)e(string)g(m)n(ust)g(con)n
(tain)g(exactly)h(that)149 2055 y(man)n(y)17 b(c)n(haracters.)149
2273 y Fp(23.8.4)75 b(P)n(athname)25 b(Presen)n(tation)h(T)n(yp)r(e)49
2442 y Fj(\))45 b Ft(pathname)1587 b Fr([)p Fs(Pr)m(esentation)22
b(T)l(yp)m(e)t Fr(])149 2561 y(The)29 b(t)n(yp)r(e)g(that)f(represen)n(ts)f
(a)i(pathname.)56 b(The)29 b(options)f(are)h Fs(default-version)p
Fr(,)35 b(whic)n(h)30 b(defaults)e(to)149 2627 y Ft(:newest)p
Fr(,)i Fs(default-typ)m(e)p Fr(,)i(whic)n(h)27 b(defaults)f(to)g
Ft(nil)p Fr(,)k(and)d Fs(mer)m(ge-default)p Fr(,)33 b(whic)n(h)27
b(defaults)f(to)g Fm(true)p Fr(.)50 b(If)149 2694 y Fs(mer)m(ge-default)24
b Fr(is)d Fm(false)p Fr(,)g Ft(accept)g Fr(returns)e(the)h(exact)f(pathname)f
(that)h(w)n(as)i(en)n(tered,)f(otherwise)f Ft(accept)149 2760
y Fr(merges)12 b(against)h(the)h(default)f(and)h Fs(default-version)p
Fr(.)26 b(If)14 b(no)g(default)f(is)i(supplied,)g(it)g(defaults)e(to)h
Ft(*default-)149 2827 y(pathname-defaults*)p Fr(.)31 b(The)19
b Ft(pathname)h Fr(t)n(yp)r(e)g(should)f(ha)n(v)n(e)h(a)g(default)e(prepro)r
(cessor)e(that)j(merges)e(the)149 2893 y(options)g(in)n(to)h(the)f(default.)
149 3112 y Fp(23.8.5)75 b(\\One-of)7 b(")24 b(and)g(\\Some-of)7
b(")25 b(Presen)n(tation)g(T)n(yp)r(es)49 3280 y Fj(\))45 b
Ft(completion)29 b Fs(se)m(quenc)m(e)22 b Ft(&key)30 b Fs(test)20
b(value-key)806 b Fr([)p Fs(Pr)m(esentation)22 b(T)l(yp)m(e)t
Fr(])149 3399 y(The)d(t)n(yp)r(e)g(that)g(selects)f(one)h(from)f(a)i
(\014nite)f(set)g(of)h(p)r(ossibilities,)g(with)f(\\completion")e(of)j
(partial)f(inputs.)149 3466 y(The)e(mem)n(b)r(er)f(t)n(yp)r(es)h(b)r(elo)n
(w,)h Ft(token-or-type)p Fr(,)i(and)e Ft(null-or-type)h Fr(are)e(implemen)n
(ted)f(in)i(terms)e(of)i(the)p eop
%%Page: 238 253
bop 149 16 a Fm(CHAPTER)16 b(23.)43 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1165 b Fr(238)149 210 y Ft(completion)19 b Fr(t)n(yp)r(e.)149
342 y Fs(se)m(quenc)m(e)k Fr(is)e(a)f(list)h(or)g(v)n(ector)e(whose)h(elemen)
n(ts)f(are)g(the)h(p)r(ossibilities.)32 b(Eac)n(h)20 b(p)r(ossibilit)n(y)h
(has)f(a)g(prin)n(ted)149 409 y(represen)n(tation,)15 b(called)j(its)h(name,)
e(and)h(an)g(in)n(ternal)g(represen)n(tation,)e(called)i(its)h(v)m(alue.)25
b Ft(accept)19 b Fr(reads)f(a)149 475 y(name)e(and)i(returns)e(a)i(v)m(alue.)
25 b Ft(present)19 b Fr(is)f(giv)n(en)h(a)f(v)m(alue)g(and)g(outputs)e(a)i
(name.)149 608 y Fs(test)h Fr(is)g(a)f(function)f(that)f(compares)g(t)n(w)n
(o)i(v)m(alues)g(for)g(equalit)n(y)-5 b(.)25 b(The)18 b(default)f(is)i
Ft(eql)p Fr(.)149 741 y Fs(value-key)14 b Fr(is)f(a)g(function)e(that)g
(returns)g(a)i(v)m(alue)f(giv)n(en)h(an)f(elemen)n(t)f(of)h
Fs(se)m(quenc)m(e)p Fr(.)26 b(The)12 b(default)f(is)i Ft(identity)p
Fr(.)149 874 y(The)k(follo)n(wing)i(presen)n(tation)d(t)n(yp)r(e)h(options)g
(are)h(a)n(v)m(ailable:)149 1007 y Fs(name-key)26 b Fr(is)e(a)g(function)f
(that)g(returns)f(a)i(name,)g(as)g(a)g(string,)h(giv)n(en)f(an)g(elemen)n(t)e
(of)i Fs(se)m(quenc)m(e)p Fr(.)45 b(The)149 1073 y(default)17
b(is)h(a)h(function)d(that)h(b)r(eha)n(v)n(es)h(as)f(follo)n(ws:)271
1125 y(string)65 b Fj(\))i Fr(the)17 b(string)319 1191 y(n)n(ull)67
b Fj(\))g Ft("NIL")305 1258 y Fr(cons)e Fj(\))i Ft(string)19
b Fr(of)f(the)f Ft(car)239 1324 y Fr(sym)n(b)r(ol)65 b Fj(\))i
Ft(string-capitalize)20 b Fr(of)e(its)g(name)182 1391 y(otherwise)64
b Fj(\))j Ft(princ-to-string)19 b Fr(of)f(it)149 1521 y Fs(do)m
(cumentation-key)i Fr(is)d(a)g(function)e(that)g(returns)g(either)g
Ft(nil)i Fr(or)g(a)f(descriptiv)n(e)g(string,)g(giv)n(en)h(an)f(elemen)n(t)
149 1587 y(of)i Fs(se)m(quenc)m(e)p Fr(.)27 b(The)18 b(default)f(alw)n(a)n
(ys)i(returns)d Ft(nil)p Fr(.)149 1720 y Fs(test)p Fr(,)j Fs(value-key)p
Fr(,)i Fs(name-key)p Fr(,)f(and)e Fs(do)m(cumentation-key)k
Fr(m)n(ust)17 b(ha)n(v)n(e)i(inde\014nite)e(exten)n(t.)149
1853 y Fs(p)m(artial-c)m(ompleter)q(s)j Fr(is)d(a)f(p)r(ossibly-empt)n(y)f
(list)i(of)f(c)n(haracters)e(that)h(delimit)h(p)r(ortions)f(of)h(a)g(name)f
(that)g(can)149 1920 y(b)r(e)i(completed)e(separately)-5 b(.)24
b(The)18 b(default)f(is)h(a)g(list)h(of)f(one)f(c)n(haracter,)f
Ft(#\\Space)p Fr(.)49 2052 y Fj(\))45 b Ft(member)29 b(&rest)g
Fs(elements)914 b Fr([)p Fs(Pr)m(esentation)22 b(T)l(yp)m(e)e(A)o(bbr)m
(eviation)t Fr(])149 2171 y(The)d(t)n(yp)r(e)h(that)f(sp)r(eci\014es)f(one)i
(of)g Fs(elements)p Fr(.)27 b(The)17 b(options)g(are)h(the)f(same)g(as)h(for)
g Ft(completion)p Fr(.)49 2304 y Fj(\))45 b Ft(member-sequence)30
b Fs(se)m(quenc)m(e)22 b Ft(&key)29 b Fs(test)578 b Fr([)p
Fs(Pr)m(esentation)22 b(T)l(yp)m(e)e(A)o(bbr)m(eviation)t Fr(])149
2423 y(Lik)n(e)i Ft(member)p Fr(,)h(except)d(that)h(the)g(set)f(of)i(p)r
(ossibilities)f(is)h(the)f(sequence)f Fs(se)m(quenc)m(e)p Fr(.)37
b(The)21 b(parameter)d Fs(test)149 2490 y Fr(and)f(the)h(options)f(are)g(the)
g(same)g(as)h(for)g Ft(completion)p Fr(.)49 2622 y Fj(\))45
b Ft(member-alist)29 b Fs(alist)21 b Ft(&key)29 b Fs(test)770
b Fr([)p Fs(Pr)m(esentation)22 b(T)l(yp)m(e)e(A)o(bbr)m(eviation)t
Fr(])149 2741 y(Lik)n(e)f Ft(member)p Fr(,)h(except)e(that)f(the)i(set)f(of)h
(p)r(ossibilities)f(is)h(the)f(alist)h Fs(alist)p Fr(.)28 b(Eac)n(h)19
b(elemen)n(t)e(of)i Fs(alist)g Fr(is)h(either)149 2808 y(an)f(atom)g(as)h(in)
g Ft(member-sequence)h Fr(or)f(a)g(list)g(whose)f Ft(car)i
Fr(is)f(the)f(name)g(of)h(that)f(p)r(ossibilit)n(y)h(and)f(whose)149
2874 y Ft(cdr)f Fr(is)h(one)e(of)h(the)g(follo)n(wing:)232
3056 y Fj(\017)27 b Fr(The)18 b(v)m(alue)g(\(whic)n(h)g(m)n(ust)f(not)g(b)r
(e)h(a)g(cons\))232 3164 y Fj(\017)27 b Fr(A)18 b(list)h(of)f(one)f(elemen)n
(t,)g(the)g(v)m(alue)232 3272 y Fj(\017)27 b Fr(A)18 b(prop)r(ert)n(y)e(list)
j(that)e(can)g(con)n(tain)h(the)f(follo)n(wing)i(prop)r(erties:)349
3380 y Fo({)28 b Ft(:value)p Fr(|the)18 b(v)m(alue)349 3466
y Fo({)28 b Ft(:documentation)p Fr(|a)19 b(descriptiv)n(e)e(string)p
eop
%%Page: 239 254
bop 149 16 a Fm(CHAPTER)16 b(23.)43 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1165 b Fr(239)149 210 y(The)19 b Fs(test)i Fr(parameter)16
b(and)j(the)f(options)h(are)g(the)f(same)g(as)i(for)f Ft(completion)h
Fr(except)e(that)h Fs(value-key)i Fr(and)149 276 y Fs(do)m(cumentation-key)h
Fr(default)17 b(to)h(functions)e(that)h(supp)r(ort)f(the)h(sp)r(eci\014ed)g
(alist)h(format.)49 409 y Fj(\))45 b Ft(subset-completion)30
b Fs(se)m(quenc)m(e)22 b Ft(&key)29 b Fs(test)21 b(value-key)602
b Fr([)p Fs(Pr)m(esentation)22 b(T)l(yp)m(e)t Fr(])149 528
y(The)c(t)n(yp)r(e)f(that)g(selects)g(one)h(or)g(more)f(from)g(a)h(\014nite)f
(set)h(of)g(p)r(ossibilities,)g(with)h(\\completion")c(of)j(partial)149
594 y(inputs.)23 b(The)15 b(parameters)d(and)i(options)h(are)f(the)h(same)f
(as)h(for)g Ft(completion)p Fr(,)i(plus)e(the)g(additional)g(options)149
661 y Fs(sep)m(ar)m(ator)28 b Fr(and)e Fs(e)m(cho-sp)m(ac)m(e)p
Fr(,)31 b(whic)n(h)26 b(are)f(as)g(for)h(the)f Ft(sequence)h
Fr(t)n(yp)r(e.)47 b(The)25 b(subset)g(t)n(yp)r(es)g(b)r(elo)n(w)g(are)149
727 y(implemen)n(ted)15 b(in)k(terms)d(of)i(the)f Ft(subset-completion)j
Fr(t)n(yp)r(e.)49 860 y Fj(\))45 b Ft(subset)29 b(&rest)g Fs(elements)914
b Fr([)p Fs(Pr)m(esentation)22 b(T)l(yp)m(e)e(A)o(bbr)m(eviation)t
Fr(])149 979 y(The)d(t)n(yp)r(e)h(that)f(sp)r(eci\014es)f(a)i(subset)f(of)h
Fs(elements)p Fr(.)27 b(V)-5 b(alues)17 b(of)h(this)g(t)n(yp)r(e)g(are)f
(lists)i(of)f(zero)f(or)g(more)g(v)m(alues)149 1045 y(c)n(hosen)12
b(from)h(the)g(p)r(ossibilities)g(in)h Fs(elements)p Fr(.)26
b(The)13 b(prin)n(ted)g(represen)n(tation)e(is)j(the)f(names)f(of)h(the)g
(elemen)n(ts)149 1112 y(separated)i(b)n(y)k(commas.)j(The)c(options)f(are)g
(the)h(same)e(as)i(for)g Ft(completion)p Fr(.)49 1245 y Fj(\))45
b Ft(subset-sequence)30 b Fs(se)m(quenc)m(e)22 b Ft(&key)29
b Fs(test)578 b Fr([)p Fs(Pr)m(esentation)22 b(T)l(yp)m(e)e(A)o(bbr)m
(eviation)t Fr(])149 1364 y(Lik)n(e)i Ft(subset)p Fr(,)h(except)d(that)h(the)
g(set)f(of)i(p)r(ossibilities)f(is)h(the)f(sequence)f Fs(se)m(quenc)m(e)p
Fr(.)37 b(The)21 b(parameter)d Fs(test)149 1430 y Fr(and)f(the)h(options)f
(are)g(the)g(same)g(as)h(for)g Ft(completion)p Fr(.)49 1563
y Fj(\))45 b Ft(subset-alist)29 b Fs(alist)21 b Ft(&key)29
b Fs(test)770 b Fr([)p Fs(Pr)m(esentation)22 b(T)l(yp)m(e)e(A)o(bbr)m
(eviation)t Fr(])149 1682 y(Lik)n(e)25 b Ft(subset)p Fr(,)j(except)c(that)f
(the)i(set)f(of)h(p)r(ossibilities,)h(the)f(parameters,)e(and)i(the)f
(options)g(are)g(as)h(for)149 1748 y Ft(member-alist)p Fr(.)149
1970 y Fp(23.8.6)75 b(Sequence)25 b(Presen)n(tation)g(T)n(yp)r(es)49
2138 y Fj(\))45 b Ft(sequence)29 b Fs(typ)m(e)1463 b Fr([)p
Fs(Pr)m(esentation)22 b(T)l(yp)m(e)t Fr(])149 2257 y(The)e(t)n(yp)r(e)g(that)
f(represen)n(ts)f(a)j(sequence)d(of)j(elemen)n(ts)d(of)j(t)n(yp)r(e)f
Fs(typ)m(e)p Fr(.)33 b Fs(typ)m(e)22 b Fr(can)e(b)r(e)g(a)g(presen)n(tation)e
(t)n(yp)r(e)149 2324 y(abbreviation.)50 b(The)27 b(prin)n(ted)g(represen)n
(tation)d(of)j(a)g Ft(sequence)h Fr(t)n(yp)r(e)f(is)h(the)f(elemen)n(ts)e
(separated)g(b)n(y)149 2390 y(commas.)d(It)c(is)g(unsp)r(eci\014ed)e(whether)
g Ft(accept)j Fr(returns)d(a)j(list)f(or)g(a)g(v)n(ector.)149
2523 y(The)12 b(options)f(to)h(this)g(t)n(yp)r(e)g(are)g Fs(sep)m(ar)m(ator)j
Fr(and)d Fs(e)m(cho-sp)m(ac)m(e)p Fr(.)26 b Fs(sep)m(ar)m(ator)15
b Fr(is)e(used)f(to)g(sp)r(ecify)f(a)i(c)n(haracter)d(that)149
2589 y(will)20 b(act)f(as)g(the)f(separator)f(b)r(et)n(w)n(een)g(elemen)n(ts)
h(of)h(the)f(sequence;)h(the)f(default)g(is)i(the)e(comma)f(c)n(haracter)149
2656 y Ft(#\\,)p Fr(.)24 b Fs(e)m(cho-sp)m(ac)m(e)c Fr(m)n(ust)c(b)r(e)g
Fm(true)f Fr(or)i Fm(false)p Fr(;)g(when)f(it)h(is)g Fm(true)e
Fr(\(the)h(default\))f(a)h(space)g(will)i(b)r(e)e(automatically)149
2722 y(inserted)g(in)n(to)i(the)g(input)f(bu\013er)h(when)f(the)h(user)f(t)n
(yp)r(es)g(a)i(separator)c(c)n(haracter.)49 2855 y Fj(\))45
b Ft(sequence-enumerated)30 b(&rest)f Fs(typ)m(es)946 b Fr([)p
Fs(Pr)m(esentation)22 b(T)l(yp)m(e)t Fr(])149 2974 y Ft(sequence-enumerated)g
Fr(is)g(lik)n(e)g Ft(sequence)p Fr(,)h(except)d(that)g(the)g(t)n(yp)r(e)h(of)
g(eac)n(h)f(elemen)n(t)f(in)j(the)e(sequence)149 3040 y(is)j(individually)i
(sp)r(eci\014ed.)38 b(The)22 b(elemen)n(ts)g(of)h Fs(typ)m(es)h
Fr(can)f(b)r(e)f(presen)n(tation)f(t)n(yp)r(e)h(abbreviations.)38
b(It)23 b(is)149 3107 y(unsp)r(eci\014ed)15 b(whether)i Ft(accept)i
Fr(returns)d(a)i(list)g(or)g(a)g(v)n(ector.)149 3240 y(The)f(options)g(to)h
(this)g(t)n(yp)r(e)g(are)f Fs(sep)m(ar)m(ator)k Fr(and)d Fs(e)m(cho-sp)m(ac)m
(e)p Fr(,)j(whic)n(h)e(are)e(as)h(for)g(the)f Ft(sequence)i
Fr(t)n(yp)r(e.)p eop
%%Page: 240 255
bop 149 16 a Fm(CHAPTER)16 b(23.)43 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1165 b Fr(240)149 210 y Fp(23.8.7)75 b(\\Meta")25 b(Presen)n(tation)g
(T)n(yp)r(es)49 378 y Fj(\))45 b Ft(or)29 b(&rest)g Fs(typ)m(es)1440
b Fr([)p Fs(Pr)m(esentation)22 b(T)l(yp)m(e)t Fr(])149 497
y(The)d(t)n(yp)r(e)h(that)e(is)j(used)e(to)h(sp)r(ecify)f(one)g(of)h(sev)n
(eral)g(t)n(yp)r(es,)g(for)f(example,)h Ft(\(or)29 b(\(member)h(:all)f
(:none\))149 564 y(integer\))p Fr(.)c(The)16 b(elemen)n(ts)f(of)i
Fs(typ)m(es)h Fr(can)e(b)r(e)g(presen)n(tation)e(t)n(yp)r(e)j(abbreviations.)
22 b Ft(accept)17 b Fr(returns)e(one)i(of)149 630 y(the)g(p)r(ossible)g(t)n
(yp)r(es)h(as)g(its)g(second)e(v)m(alue,)j(not)e(the)g(original)h
Ft(or)h Fr(presen)n(tation)d(t)n(yp)r(e)h(sp)r(eci\014er.)49
763 y Fj(\))45 b Ft(and)29 b(&rest)g Fs(typ)m(es)1411 b Fr([)p
Fs(Pr)m(esentation)22 b(T)l(yp)m(e)t Fr(])149 882 y(The)h(t)n(yp)r(e)f(that)h
(is)g(used)g(for)g(\\m)n(ultiple)g(inheritance".)38 b Ft(and)24
b Fr(is)f(frequen)n(tly)g(used)g(in)h(conjunction)d(with)149
948 y Ft(satisfies)p Fr(,)28 b(for)e(example,)g Ft(\(and)k(integer)f
(\(satisfies)h(oddp\)\))p Fr(.)48 b(The)25 b(elemen)n(ts)f(of)h
Fs(typ)m(es)i Fr(can)e(b)r(e)149 1015 y(presen)n(tation)15
b(t)n(yp)r(e)j(abbreviations.)149 1147 y(The)28 b Ft(and)h
Fr(t)n(yp)r(e)f(has)h(sp)r(ecial)e(syn)n(tax)i(that)f(supp)r(orts)e(the)i(t)n
(w)n(o)h(\\predicates",)g Ft(satisfies)g Fr(and)g Ft(not)p
Fr(.)149 1214 y Ft(satisfies)20 b Fr(and)f Ft(not)g Fr(cannot)f(stand)g
(alone)h(as)g(presen)n(tation)e(t)n(yp)r(es)i(and)f(cannot)g(b)r(e)g(\014rst)
h(in)h Fs(typ)m(es)p Fr(.)29 b Ft(not)149 1280 y Fr(can)17
b(surround)f(either)h Ft(satisfies)i Fr(or)f(a)g(presen)n(tation)e(t)n(yp)r
(e.)149 1413 y(The)26 b(\014rst)f(t)n(yp)r(e)h(in)g Fs(typ)m(es)i
Fr(is)f(the)e(t)n(yp)r(e)h(whose)f(metho)r(ds)f(will)j(b)r(e)f(used)f(during)
h(calls)g(to)g Ft(accept)h Fr(and)149 1480 y Ft(present)p Fr(.)149
1701 y Fp(23.8.8)75 b(Comp)r(ound)24 b(Presen)n(tation)i(T)n(yp)r(es)49
1870 y Fj(\))45 b Ft(token-or-type)29 b Fs(tokens)22 b(typ)m(e)824
b Fr([)p Fs(Pr)m(esentation)22 b(T)l(yp)m(e)e(A)o(bbr)m(eviation)t
Fr(])149 1989 y(A)d(comp)r(ound)e(t)n(yp)r(e)j(that)e(is)j(used)e(to)g
(select)g(one)g(of)h(a)g(set)f(of)h(sp)r(ecial)f(tok)n(ens,)h(or)f(an)h(ob)s
(ject)e(of)i(t)n(yp)r(e)g Fs(typ)m(e)p Fr(.)149 2055 y Fs(tokens)i
Fr(is)f(an)n(ything)g(that)e(can)h(b)r(e)g(used)g(as)h(the)f
Fs(se)m(quenc)m(e)j Fr(parameter)16 b(to)i Ft(member-alist)p
Fr(;)i(t)n(ypically)g(it)f(is)149 2121 y(a)f(list)g(of)g(sym)n(b)r(ols.)49
2254 y Fj(\))45 b Ft(null-or-type)29 b Fs(typ)m(e)1025 b Fr([)p
Fs(Pr)m(esentation)22 b(T)l(yp)m(e)e(A)o(bbr)m(eviation)t Fr(])149
2373 y(A)g(comp)r(ound)d(t)n(yp)r(e)j(that)f(is)i(used)e(to)h(select)f
Ft(nil)p Fr(,)j(whose)e(prin)n(ted)f(represen)n(tation)e(is)k(the)f(sp)r
(ecial)f(tok)n(en)149 2440 y(\\None",)d(or)i(an)g(ob)s(ject)f(of)h(t)n(yp)r
(e)f Fs(typ)m(e)p Fr(.)49 2572 y Fj(\))45 b Ft(type-or-string)30
b Fs(typ)m(e)966 b Fr([)p Fs(Pr)m(esentation)22 b(T)l(yp)m(e)e(A)o(bbr)m
(eviation)t Fr(])149 2691 y(A)14 b(comp)r(ound)e(t)n(yp)r(e)i(that)f(is)i
(used)f(to)g(select)g(an)g(ob)s(ject)f(of)i(t)n(yp)r(e)f Fs(typ)m(e)i
Fr(or)e(an)g(arbitrary)f(string,)i(for)f(example,)149 2758
y Ft(\(type-or-string)30 b(integer\))p Fr(.)g(An)n(y)20 b(input)f(that)f
Ft(accept)j Fr(cannot)d(parse)g(as)i(the)f(represen)n(tation)d(of)k(an)149
2824 y(ob)s(ject)c(of)i(t)n(yp)r(e)g Fs(typ)m(e)h Fr(is)g(returned)d(as)i(a)g
(string.)149 3046 y Fp(23.8.9)75 b(Lisp)26 b(Expression)g(Presen)n(tation)g
(T)n(yp)r(es)49 3214 y Fj(\))45 b Ft(expression)1529 b Fr([)p
Fs(Pr)m(esentation)22 b(T)l(yp)m(e)t Fr(])149 3333 y(The)e(t)n(yp)r(e)g(used)
g(to)g(represen)n(t)f(an)n(y)i(Lisp)g(ob)s(ject.)31 b(The)20
b(standard)f Ft(print)i Fr(and)f Ft(read)i Fr(functions)d(pro)r(duce)149
3400 y(and)e(accept)g(the)g(textual)g(view)i(of)f(this)g(t)n(yp)r(e.)p
eop
%%Page: 241 256
bop 149 16 a Fm(CHAPTER)16 b(23.)43 b(PRESENT)-5 b(A)g(TION)16
b(TYPES)1165 b Fr(241)149 210 y(If)16 b(a)g(presen)n(tation)e(history)i(is)g
(main)n(tained)f(for)h(the)f Ft(expression)i Fr(presen)n(tation)d(t)n(yp)r
(e,)i(it)h(should)e(b)r(e)h(main-)149 276 y(tained)h(separately)f(for)i(eac)n
(h)f(instance)g(of)h(an)g(application)f(frame.)49 409 y Fj(\))45
b Ft(form)1703 b Fr([)p Fs(Pr)m(esentation)22 b(T)l(yp)m(e)t
Fr(])149 528 y(The)h(t)n(yp)r(e)g(used)h(to)f(represen)n(t)f(a)h(Lisp)h
(form.)41 b(This)24 b(is)g(a)g(subt)n(yp)r(e)f(of)g Ft(expression)i
Fr(and)e(is)i(equiv)m(alen)n(t)149 594 y(except)16 b(that)h(some)g(presen)n
(tation)f(translators)f(pro)r(duce)h Ft(quote)j Fr(forms.)p
eop
%%Page: 242 257
bop 149 691 a Fl(Chapter)46 b(24)149 1034 y Fq(Input)52 b(Editing)h(and)f
(Completion)149 1200 y(F)-13 b(acilities)149 1555 y Fr(CLIM)18
b(pro)n(vides)g(n)n(um)n(b)r(er)f(of)i(facilities)f(to)h(assist)f(in)h
(writing)f(presen)n(tation)e(t)n(yp)r(e)i(parser)f(functions,)h(suc)n(h)149
1621 y(as)g(an)g(in)n(teractiv)n(e)f(input)g(editor)g(and)h(some)f
(\\completion")e(facilities.)149 1870 y Fk(24.1)91 b(The)31
b(Input)e(Editor)149 2058 y Fr(An)d(input)h(editing)g(stream)d
(\\encapsulates")g(an)j(in)n(teractiv)n(e)f(stream,)i(that)e(is,)k(most)c(op)
r(erations)e(are)149 2124 y(handled)14 b(b)n(y)i(the)e(encapsulated)f(in)n
(teractiv)n(e)h(stream,)g(but)h(some)e(op)r(erations)g(are)h(handled)h
(directly)f(b)n(y)i(the)149 2191 y(input)h(editing)h(stream)e(itself.)24
b(\(See)17 b(App)r(endix)g(D)i(for)e(a)h(discussion)g(of)g(encapsulating)d
(streams.\))149 2324 y(An)i(input)h(editing)f(stream)f(will)k(ha)n(v)n(e)f
(the)e(follo)n(wing)i(comp)r(onen)n(ts:)232 2512 y Fj(\017)27
b Fr(The)18 b(encapsulated)d(in)n(teractiv)n(e)i(stream.)232
2623 y Fj(\017)27 b Fr(A)19 b(bu\013er)g(with)h(a)f(\014ll)i(p)r(oin)n(ter,)e
(whic)n(h)h(w)n(e)f(shall)h(refer)f(to)g(as)g Fn(F)8 b(P)g
Fr(.)28 b(The)19 b(bu\013er)g(con)n(tains)g(all)h(of)f(the)287
2689 y(user's)f(input,)g(and)f Fn(F)8 b(P)25 b Fr(is)19 b(the)e(length)g(of)h
(that)f(input.)232 2800 y Fj(\017)27 b Fr(An)19 b(insertion)g(p)r(oin)n(ter,)
g(whic)n(h)h(w)n(e)g(shall)g(refer)e(to)h(as)h Fn(I)t(P)8 b
Fr(.)29 b(The)19 b(insertion)g(p)r(oin)n(ter)f(is)i(the)f(p)r(oin)n(t)g(in)
287 2866 y(the)e(bu\013er)h(at)g(whic)n(h)g(the)f(\\editing)g(cursor")g(is.)
232 2977 y Fj(\017)27 b Fr(A)18 b(scan)g(p)r(oin)n(ter,)f(whic)n(h)i(w)n(e)g
(shall)f(refer)g(to)f(as)i Fn(S)s(P)8 b Fr(.)25 b(The)18 b(scan)f(p)r(oin)n
(ter)g(is)i(the)f(p)r(oin)n(t)g(in)h(the)e(bu\013er)287 3043
y(from)g(whic)n(h)h(CLIM)g(will)i(get)d(the)g(next)h(input)f(gesture)f(ob)s
(ject)h(\(in)h(the)f(sense)g(of)h Ft(read-gesture)p Fr(\).)232
3154 y Fj(\017)27 b Fr(A)18 b(\\rescan)f(queued")g(\015ag)g(indicating)h
(that)f(the)g(programmer)e(\(or)i(CLIM\))g(requested)g(that)g(a)h(\\res-)287
3220 y(can")f(op)r(eration)f(should)h(tak)n(e)h(place)g(b)r(efore)e(the)h
(next)h(gesture)e(is)j(read)e(from)g(the)g(user.)232 3331 y
Fj(\017)27 b Fr(A)16 b(\\rescan)f(in)i(progress")d(\015ag)i(that)f(indicates)
g(that)g(CLIM)h(is)h(rescanning)d(the)i(user's)g(input,)g(rather)287
3397 y(than)h(reading)g(freshly)h(supplied)g(gestures)e(from)g(the)i(user.)
1262 3632 y(242)p eop
%%Page: 243 258
bop 149 16 a Fm(CHAPTER)16 b(24.)37 b(INPUT)17 b(EDITING)h(AND)g(COMPLETION)f
(F)-6 b(A)n(CILITIES)494 b Fr(243)149 210 y(The)17 b(input)g(editing)g
(stream)e(ma)n(y)i(also)g(ha)n(v)n(e)h(other)e(comp)r(onen)n(ts)e(to)j(store)
f(in)n(ternal)h(state,)g(suc)n(h)g(as)g(a)h(slot)149 276 y(to)k(accum)n
(ulate)f(a)i(n)n(umeric)f(argumen)n(t)e(or)j(remem)n(b)r(er)c(the)k(most)e
(recen)n(tly)h(used)h(presen)n(tation)d(history)-5 b(,)149
342 y(and)17 b(so)h(forth.)24 b(These)17 b(other)g(comp)r(onen)n(ts)d(are)k
(explicitly)h(left)e(unsp)r(eci\014ed.)149 475 y(The)25 b(high)g(lev)n(el)h
(description)d(of)i(the)g(op)r(eration)e(of)i(the)f(input)h(editor)f(is)i
(that)e(it)h(reads)f(either)h(\\real")149 542 y(gestures)14
b(from)i(the)g(user)g(\(suc)n(h)h(as)g(c)n(haracters)d(from)i(the)g(k)n(eyb)r
(oard)g(or)g(p)r(oin)n(ter)g(button)f(ev)n(en)n(ts\))h(or)h(input)149
608 y(editing)d(commands.)21 b(The)15 b(input)f(editing)h(commands)d(can)i
(mo)r(dify)g(the)h(state)e(of)i(the)g(input)f(bu\013er.)23
b(When)149 674 y(suc)n(h)16 b(mo)r(di\014cations)e(tak)n(e)i(place,)h(it)g
(is)g(necessary)e(to)h(\\rescan")f(the)h(input)g(bu\013er,)h(that)e(is,)j
(reset)d(the)h(scan)149 741 y(p)r(oin)n(ter)e Fn(S)s(P)23 b
Fr(to)15 b(its)g(original)h(state)e(and)h(reparse)e(the)i(con)n(ten)n(ts)f
(of)h(the)g(input)g(editor)f(bu\013er)h(b)r(efore)f(reading)149
807 y(an)n(y)20 b(other)f(gestures)f(from)h(the)g(user.)31
b(While)20 b(this)g(rescanning)e(op)r(eration)g(is)j(taking)f(place,)g(the)f
(\\rescan)149 874 y(in)f(progress")e(\015ag)i(is)g(set)g(to)f
Fm(true)p Fr(.)24 b(The)18 b(relationship)e Fn(S)s(P)23 b Fj(\024)16
b Fn(I)t(P)23 b Fj(\024)15 b Fn(F)8 b(P)25 b Fr(alw)n(a)n(ys)19
b(holds.)149 1007 y(The)e(o)n(v)n(erall)i(con)n(trol)f(structure)d(of)j(the)f
(input)h(editor)f(is:)149 1184 y Ft(\(catch)29 b('rescan)524
b(;thrown)29 b(to)g(when)g(a)h(rescan)f(is)g(invoked)207 1251
y(\(reset-scan-pointer)h(stream\))88 b(;sets)29 b(STREAM-RESCANNING-P)h(to)f
(T)207 1317 y(\(loop)294 1383 y(\(funcall)g(continuation)h(stream\)\)\))149
1561 y Fr(where)24 b Fs(str)m(e)m(am)k Fr(is)e(the)f(input)g(editing)g
(stream)f(and)h Fs(c)m(ontinuation)j Fr(is)e(the)f(co)r(de)f(supplied)h(b)n
(y)i(the)e(pro-)149 1627 y(grammer,)16 b(and)j(t)n(ypically)h(con)n(tains)e
(calls)h(to)f(suc)n(h)h(functions)e(as)i Ft(accept)h Fr(and)e
Ft(read-token)i Fr(\(whic)n(h)f(will)149 1694 y(ev)n(en)n(tually)f(call)f
Ft(stream-read-gesture)p Fr(\).)26 b(When)17 b(a)g(rescan)f(op)r(eration)f
(is)j(in)n(v)n(ok)n(ed,)i(it)d(has)g(the)g(e\013ect)g(of)149
1760 y(thro)n(wing)i(to)h(the)g Ft(rescan)h Fr(tag)e(in)i(the)e(example)g(ab)
r(o)n(v)n(e.)31 b(The)20 b(lo)r(op)g(is)h(terminated)c(when)j(an)g(activ)m
(ation)149 1827 y(gesture)g(is)i(seen,)g(and)g(at)f(that)g(p)r(oin)n(t)g(the)
g(v)m(alues)h(pro)r(duced)d(b)n(y)k Fs(c)m(ontinuation)h Fr(are)e(returned)d
(as)j(v)m(alues)149 1893 y(from)17 b(the)g(input)g(editor.)149
2026 y(The)24 b(imp)r(ortan)n(t)e(p)r(oin)n(t)j(is)g(that)f(functions)f(suc)n
(h)i(as)f Ft(accept)p Fr(,)k Ft(read-gesture)p Fr(,)g(and)c
Ft(unread-gesture)149 2092 y Fr(read)18 b(\(or)g(restore\))e(the)i(next)g
(gesture)f(ob)s(ject)g(from)h(the)g(bu\013er)g(at)g(the)g(p)r(osition)g(p)r
(oin)n(ted)f(to)i(b)n(y)g(the)f(scan)149 2159 y(p)r(oin)n(ter)f
Fn(S)s(P)8 b Fr(.)24 b(Ho)n(w)n(ev)n(er,)19 b(insertion)e(and)h(input)f
(editing)h(commands)d(tak)n(e)j(place)g(at)f(the)h(p)r(osition)f(p)r(oin)n
(ted)149 2225 y(to)k(b)n(y)i Fn(I)t(P)8 b Fr(.)36 b(The)22
b(purp)r(ose)e(of)i(the)f(rescanning)f(op)r(eration)g(is)i(to)g(ev)n(en)n
(tually)g(ensure)e(that)h(all)i(the)e(input)149 2292 y(gestures)d(issued)j(b)
n(y)h(the)e(user)g(\(t)n(yp)r(ed)f(c)n(haracters,)h(p)r(oin)n(ter)f(button)h
(presses,)g(and)g(so)h(forth\))f(ha)n(v)n(e)h(b)r(een)149 2358
y(read)14 b(b)n(y)h(CLIM.)g(During)g(input)g(editing,)g(the)f(input)h(editor)
e(should)i(main)n(tain)f(some)f(sort)h(of)h(visible)h(cursor)149
2424 y(to)h(remind)g(the)g(user)h(of)g(the)f(p)r(osition)g(of)h
Fn(I)t(P)8 b Fr(.)149 2557 y(The)17 b(o)n(v)n(erall)i(structure)d(of)i
Ft(stream-read-gesture)h Fr(on)f(an)g(input)g(editing)f(stream)f(is:)149
2735 y Ft(\(progn)207 2801 y(\(rescan-if-necessary)30 b(stream\))207
2868 y(\(loop)265 2934 y(;;)f(If)g(SP)g(is)h(less)f(than)g(FP)265
3001 y(;;)87 b(Then)29 b(get)h(the)f(next)g(gesture)h(from)f(the)g(input)h
(editor)f(buffer)g(at)h(SP)265 3067 y(;;)87 b(and)29 b(increment)h(SP)265
3133 y(;;)87 b(Else)29 b(read)h(the)f(next)g(gesture)h(from)f(the)g
(encapsulated)h(stream)265 3200 y(;;)87 b(and)29 b(insert)h(it)f(into)g(the)h
(buffer)f(at)g(IP)265 3266 y(;;)g(Set)g(the)h("rescan)f(in)g(progress")h
(flag)f(to)g(false)265 3333 y(;;)g(Call)g(STREAM-PROCESS-GESTURE)i(on)e(the)g
(gesture)265 3399 y(;;)87 b(If)29 b(it)h(was)f(a)g("real")g(gesture)265
3466 y(;;)145 b(Then)30 b(exit)f(with)g(the)g(gesture)h(as)f(the)g(result)p
eop
%%Page: 244 259
bop 149 16 a Fm(CHAPTER)16 b(24.)43 b(INPUT)17 b(EDITING)h(AND)g(COMPLETION)f
(F)-6 b(A)n(CILITIES)488 b Fr(244)265 210 y Ft(;;)145 b(Else)30
b(it)f(was)g(an)g(input)h(editing)f(command)g(\(which)h(has)f(already)h(been)
265 276 y(;;)145 b(processed\),)30 b(so)f(continue)h(looping)265
342 y(\)\))149 531 y Fr(When)16 b(a)h(new)g(gesture)e(ob)s(ject)g(is)j
(inserted)d(in)n(to)j(the)e(input)g(editor)g(bu\013er,)h(it)h(is)f(inserted)f
(at)g(the)h(insertion)149 597 y(p)r(oin)n(ter)g Fn(I)t(P)8
b Fr(.)28 b(If)19 b Fn(I)t(P)25 b Fr(=)17 b Fn(F)8 b(P)g Fr(,)18
b(this)h(is)h(accomplished)c(b)n(y)k(a)f Ft(vector-push-extend)p
Fr(-lik)n(e)j(op)r(eration)17 b(on)h(the)149 663 y(input)h(bu\013er)h(and)f
Fn(F)8 b(P)g Fr(,)20 b(and)f(then)g(incremen)n(ting)f Fn(I)t(P)8
b Fr(.)31 b(If)20 b Fn(I)t(P)26 b(<)19 b(F)8 b(P)g Fr(,)20
b(CLIM)f(m)n(ust)h(\014rst)f(\\mak)n(e)g(ro)r(om")149 730 y(for)f(the)h(new)g
(gesture)e(in)i(the)g(input)f(bu\013er,)h(then)f(insert)h(the)f(gesture)f(at)
i Fn(I)t(P)8 b Fr(,)20 b(then)e(incremen)n(t)f(b)r(oth)g Fn(I)t(P)149
796 y Fr(and)g Fn(F)8 b(P)g Fr(.)149 929 y(When)25 b(the)h(user)g(requests)e
(an)j(input)e(editor)h(motion)f(command,)h(only)g(the)g(insertion)f(p)r(oin)n
(ter)g Fn(I)t(P)35 b Fr(is)149 996 y(a\013ected.)23 b(Motion)17
b(commands)e(do)j(not)f(need)g(to)h(request)f(a)h(rescan)e(op)r(eration.)149
1128 y(When)k(the)g(user)h(requests)e(an)i(input)g(editor)f(deletion)g
(command,)f(the)h(sequence)g(of)h(gesture)e(ob)s(jects)g(at)149
1195 y Fn(I)t(P)26 b Fr(are)18 b(remo)n(v)n(ed,)f(and)h Fn(I)t(P)26
b Fr(and)18 b Fn(F)8 b(P)25 b Fr(m)n(ust)18 b(b)r(e)f(mo)r(di\014ed)f(to)i
(re\015ect)e(the)i(new)g(state)e(of)j(the)e(input)h(bu\013er.)149
1261 y(Deletion)g(commands)e(\(and)i(other)f(commands)f(that)i(mo)r(dify)f
(the)h(input)h(bu\013er\))f(m)n(ust)f(call)j Ft(immediate-)149
1328 y(rescan)e Fr(when)g(they)g(are)f(done)g(mo)r(difying)g(the)g(bu\013er.)
149 1460 y(CLIM)h(implemen)n(tations)e(are)i(free)f(to)i(put)f(sp)r(ecial)g
(ob)s(jects)f(in)i(the)f(input)g(editor)g(bu\013er,)g(suc)n(h)h(as)f(\\noise)
149 1527 y(strings")f(and)h(\\accept)f(results".)25 b(A)18
b(\\noise)g(string")g(is)h(used)f(to)g(represen)n(t)e(some)i(sort)f(of)i
(in-line)h(prompt)149 1593 y(and)f(is)i(nev)n(er)f(seen)f(as)i(input;)g(the)e
Ft(prompt-for-accept)j Fr(metho)r(d)17 b(ma)n(y)j(insert)g(a)g(noise)g
(string)f(in)n(to)h(the)149 1660 y(input)26 b(bu\013er.)49
b(An)27 b(\\accept)d(result")h(is)j(an)e(ob)s(ject)f(in)i(the)f(input)g
(bu\013er)g(that)g(is)h(used)f(to)g(represen)n(t)149 1726 y(some)16
b(ob)s(ject)g(that)g(w)n(as)h(inserted)f(in)n(to)i(the)f(input)f(bu\013er)h
(\(t)n(ypically)h(via)g(a)g(p)r(oin)n(ter)e(gesture\))f(that)h(has)h(no)149
1793 y(readable)j(represen)n(tation)e(\(in)k(the)f(Lisp)g(sense\);)i
Ft(presentation-replace-input)g Fr(ma)n(y)f(create)d(accept)149
1859 y(results.)j(Noise)14 b(strings)f(are)h(skipp)r(ed)f(o)n(v)n(er)i(b)n(y)
g(input)f(editing)f(commands,)g(and)h(accept)e(results)h(are)h(treated)149
1925 y(as)k(a)g(single)g(gesture.)49 2058 y Fj(\))45 b Ft
(interactive-stream-p)30 b Fs(obje)m(ct)1087 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 2177 y(Returns)d Fm(true)g Fr(if)j
Fs(obje)m(ct)h Fr(is)e(an)g(in)n(teractiv)n(e)f(stream,)f(that)h(is,)i(a)f
(bidrectional)e(stream)f(in)n(tended)i(for)g(user)149 2244
y(in)n(teractions.)i(Otherwise)16 b(it)h(returns)f Fm(false)p
Fr(.)24 b(This)17 b(is)h(exactly)e(the)h(same)e(function)h(as)h(in)g(X3J13)g
(Common)149 2310 y(Lisp,)h(except)f(that)g(in)h(CLIM)g(it)g(is)h(a)f(generic)
f(function.)149 2443 y(The)g(input)h(editor)f(need)g(only)i(b)r(e)e(fully)i
(implemen)n(ted)d(for)h(in)n(teractiv)n(e)h(streams.)49 2576
y Fj(\))45 b Ft(input-editing-stream)1333 b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23
b(Class)5 b Fr(])149 2695 y(The)14 b(proto)r(col)f(class)i(that)e(corresp)r
(onds)f(to)i(an)h(input)g(editing)f(stream.)21 b(If)15 b(y)n(ou)h(w)n(an)n(t)
f(to)f(create)f(a)i(new)g(class)149 2761 y(that)20 b(b)r(eha)n(v)n(es)h(lik)n
(e)j(an)d(input)g(editing)h(stream,)e(it)i(should)g(b)r(e)f(a)h(sub)r(class)e
(of)i Ft(input-editing-stream)p Fr(.)149 2828 y(Sub)r(classes)16
b(of)i Ft(input-editing-stream)h Fr(m)n(ust)e(ob)r(ey)h(the)f(input)h
(editing)f(stream)f(proto)r(col.)49 2960 y Fj(\))45 b Ft
(input-editing-stream-p)30 b Fs(obje)m(ct)1240 b Fr([)p Fs(F)l(unction)t
Fr(])149 3079 y(Returns)17 b Fm(true)h Fr(if)i Fs(obje)m(ct)h
Fr(is)f(an)f Fm(input)g(editing)f(stream)f Fr(\(that)g(is,)k(a)e(stream)e(of)
i(the)f(sort)g(created)f(b)n(y)j(a)f(call)149 3146 y(to)e Ft
(with-input-editing)p Fr(\),)j(otherwise)c(returns)g Fm(false)p
Fr(.)49 3279 y Fj(\))45 b Ft(standard-input-editing-stream)1287
b Fr([)p Fs(Class)5 b Fr(])149 3398 y(The)17 b(class)f(that)g(implemen)n(ts)f
(CLIM's)i(standard)f(input)g(editor.)23 b(This)18 b(is)g(the)e(class)h(of)g
(stream)e(created)g(b)n(y)149 3464 y(calling)j Ft(with-input-editing)p
Fr(.)p eop
%%Page: 245 260
bop 149 16 a Fm(CHAPTER)16 b(24.)43 b(INPUT)17 b(EDITING)h(AND)g(COMPLETION)f
(F)-6 b(A)n(CILITIES)488 b Fr(245)149 210 y(Mem)n(b)r(ers)15
b(of)j(this)g(class)g(are)g(m)n(utable.)49 342 y Fj(\))45 b
Ft(with-input-editing)30 b Fs(\()p Ft(&optional)f Fs(str)m(e)m(am)16
b Ft(&key)29 b Fs(input-sensitizer)15 b(initial-c)m(ontents\))i
Ft(&body)29 b Fs(b)m(o)m(dy)h Fr([)p Fs(Macr)m(o)s Fr(])149
542 y(Establishes)20 b(a)i(con)n(text)f(in)h(whic)n(h)g(the)f(user)g(can)h
(edit)f(the)g(input)h(t)n(yp)r(ed)f(in)h(on)g(the)f(in)n(teractiv)n(e)g
(stream)149 608 y Fs(str)m(e)m(am)p Fr(.)32 b Fs(b)m(o)m(dy)22
b Fr(is)f(then)e(executed)f(in)j(this)f(con)n(text,)f(and)h(the)f(v)m(alues)h
(returned)e(b)n(y)j Fs(b)m(o)m(dy)g Fr(are)f(returned)e(as)149
674 y(the)f(v)m(alues)h(of)g Ft(with-input-editing)p Fr(.)26
b Fs(b)m(o)m(dy)20 b Fr(ma)n(y)d(ha)n(v)n(e)i(zero)e(or)h(more)e
(declarations)g(as)i(its)h(\014rst)e(forms.)149 807 y(The)f
Fs(str)m(e)m(am)j Fr(argumen)n(t)c(is)j(not)e(ev)m(aluated,)g(and)h(m)n(ust)f
(b)r(e)g(a)h(sym)n(b)r(ol)f(that)g(is)i(b)r(ound)d(to)i(an)g(input)f(stream.)
149 874 y(If)i Fs(str)m(e)m(am)i Fr(is)f Ft(t)g Fr(\(the)e(default\),)g
Ft(*query-io*)i Fr(is)g(used.)24 b(If)19 b Fs(str)m(e)m(am)h
Fr(is)f(a)f(stream)e(that)h(is)i(not)e(an)h(in)n(teractiv)n(e)149
940 y(stream,)e(then)h Ft(with-input-editing)j Fr(is)e(equiv)m(alen)n(t)g(to)
g Ft(progn)p Fr(.)149 1073 y Fs(input-sensitizer)p Fr(,)k(if)e(supplied,)h
(is)f(a)g(function)f(of)g(t)n(w)n(o)i(argumen)n(ts,)d(a)i(stream)e(and)h(a)h
(con)n(tin)n(uation)f(func-)149 1139 y(tion;)h(the)f(function)g(has)g
(dynamic)f(exten)n(t.)29 b(The)19 b(con)n(tin)n(uation,)g(supplied)h(b)n(y)g
(CLIM,)g(is)g(resp)r(onsible)e(for)149 1206 y(displa)n(ying)e(output)d
(corresp)r(onding)f(to)j(the)g(user's)g(input)g(on)g(the)g(stream.)21
b(The)15 b Fs(input-sensitizer)i Fr(function)149 1272 y(will)h(t)n(ypically)f
(call)g Ft(with-output-as-presentation)h Fr(in)f(order)f(to)g(mak)n(e)g(the)f
(output)g(pro)r(duced)f(b)n(y)j(the)149 1339 y(con)n(tin)n(uation)f(sensitiv)
n(e.)149 1472 y(If)25 b Fs(initial-c)m(ontents)i Fr(is)f(supplied,)g(it)f(m)n
(ust)f(b)r(e)f(either)h(a)h(string)f(or)g(a)h(list)g(of)g(t)n(w)n(o)g(elemen)
n(ts,)g(an)f(ob)s(ject)149 1538 y(and)19 b(a)g(presen)n(tation)e(t)n(yp)r(e.)
28 b(If)20 b(it)f(is)h(a)g(string,)f(the)g(string)f(will)j(b)r(e)e(inserted)f
(in)n(to)h(the)g(input)g(bu\013er)g(using)149 1604 y Ft(replace-input)p
Fr(.)28 b(If)20 b(it)f(is)g(a)h(list,)g(the)e(prin)n(ted)g(represen)n(tation)
e(of)j(the)f(ob)s(ject)g(will)i(b)r(e)f(inserted)e(in)n(to)i(the)149
1671 y(input)e(bu\013er)h(using)g Ft(presentation-replace-input)p
Fr(.)49 1804 y Fj(\))45 b Ft(with-input-editor-typeout)30 b
Fs(\()p Ft(&optional)f Fs(str)m(e)m(am\))22 b Ft(&body)29 b
Fs(b)m(o)m(dy)559 b Fr([)p Fs(Macr)m(o)s Fr(])149 1923 y(Establishes)14
b(a)h(con)n(text)f(inside)i(of)f Ft(with-input-editing)i Fr(in)f(whic)n(h)g
(output)e(can)h(b)r(e)f(done)h(b)n(y)h Fs(b)m(o)m(dy)h Fr(to)e(the)149
1989 y(input)j(editing)h(stream)e Fs(str)m(e)m(am)p Fr(.)30
b Ft(with-input-editor-typeout)21 b Fr(should)d(call)i Ft(fresh-line)g
Fr(b)r(efore)d(and)149 2055 y(after)g(ev)m(aluating)g(the)g(b)r(o)r(dy)-5
b(.)24 b Fs(b)m(o)m(dy)19 b Fr(ma)n(y)f(ha)n(v)n(e)h(zero)e(or)h(more)e
(declarations)g(as)i(its)g(\014rst)g(forms.)149 2188 y(The)23
b Fs(str)m(e)m(am)i Fr(argumen)n(t)c(is)j(not)e(ev)m(aluated,)h(and)g(m)n
(ust)f(b)r(e)h(a)g(sym)n(b)r(ol)g(that)f(is)i(b)r(ound)d(to)i(a)g(stream.)38
b(If)149 2255 y Fs(str)m(e)m(am)20 b Fr(is)e Ft(t)h Fr(\(the)d(default\),)h
Ft(*query-io*)i Fr(is)g(used.)24 b(If)18 b Fs(str)m(e)m(am)i
Fr(is)e(a)g(stream)e(that)h(is)i(not)e(an)h(input)f(editing)149
2321 y(stream,)h(then)g Ft(with-input-editor-typeout)j Fr(is)f(equiv)m(alen)n
(t)f(to)g(calling)h Ft(fresh-line)p Fr(,)h(ev)m(aluating)d(the)149
2388 y(b)r(o)r(dy)-5 b(,)17 b(and)h(then)f(calling)h Ft(fresh-line)h
Fr(again.)149 2609 y Fp(24.1.1)75 b(The)25 b(Input)e(Editing)j(Stream)f
(Proto)r(col)149 2777 y Fr(Input)f(editing)h(streams)e(ob)r(ey)h(b)r(oth)g
(the)g(extended)g(input)h(and)f(extended)g(output)f(stream)h(proto)r(cols,)
149 2844 y(and)i(m)n(ust)g(supp)r(ort)f(the)i(generic)e(functions)h(that)g
(comprise)f(those)h(proto)r(cols.)49 b(F)-5 b(or)27 b(the)g(most)e(part,)149
2910 y(this)20 b(will)i(simply)e(en)n(tail)g(\\tramp)r(olining")d(those)i(op)
r(erations)f(to)i(the)f(encapsulated)f(in)n(teractiv)n(e)h(stream.)149
2977 y(Ho)n(w)n(ev)n(er,)25 b(some)d(generic)g(functions)g(as)i
Ft(stream-read-gesture)h Fr(and)e Ft(stream-unread-gesture)i
Fr(will)149 3043 y(need)17 b(metho)r(ds)e(that)i(observ)n(e)g(the)h(use)f(of)
h(the)g(input)f(editor's)g(scan)h(p)r(oin)n(ter.)149 3176 y(Input)h(editing)g
(streams)f(will)k(t)n(ypically)f(also)f(implemen)n(t)e(metho)r(ds)f(for)j
Ft(prompt-for-accept)i Fr(\(in)e(order)149 3242 y(to)c(pro)n(vide)g(in-line)h
(prompting)d(that)h(in)n(teracts)g(correctly)f(with)i(input)g(editing\))f
(and)h Ft(stream-accept)i Fr(\(in)149 3309 y(order)f(to)g(cause)g
Ft(accept)i Fr(to)f(ob)r(ey)f(the)g(scan)g(p)r(oin)n(ter\).)149
3442 y(The)g(follo)n(wing)i(generic)e(functions)f(comprise)g(the)h(remainder)
f(of)i(the)f(input)g(editing)h(proto)r(col,)e(and)i(m)n(ust)p
eop
%%Page: 246 261
bop 149 16 a Fm(CHAPTER)16 b(24.)43 b(INPUT)17 b(EDITING)h(AND)g(COMPLETION)f
(F)-6 b(A)n(CILITIES)488 b Fr(246)149 210 y(b)r(e)17 b(implemen)n(ted)f(for)h
(all)i(classes)e(that)g(inherit)h(from)f Ft(input-editing-stream)p
Fr(.)49 342 y Fj(\))45 b Ft(stream-input-buffer)30 b Fs(\(str)m(e)m(am)21
b Ft(input-editing-stream)p Fs(\))695 b Fr([)p Fs(Metho)m(d)6
b Fr(])149 461 y(Returns)23 b(the)h(input)g(bu\013er)h(\(that)e(is,)28
b(the)c(string)g(b)r(eing)g(edited\))f(asso)r(ciated)g(with)i(the)f
Fm(input)g(editing)149 528 y(stream)e Fs(str)m(e)m(am)p Fr(.)45
b(This)25 b(m)n(ust)e(b)r(e)g(an)h(unsp)r(ecialized)f(v)n(ector)g(with)h(a)h
(\014ll)g(p)r(oin)n(ter.)42 b(The)24 b(\014ll)h(p)r(oin)n(ter)e(of)149
594 y(the)18 b(v)n(ector)h(p)r(oin)n(ts)g(past)f(the)h(last)g(gesture)e(ob)s
(ject)h(in)i(the)f(bu\013er.)28 b(During)19 b(input)g(editing,)h(this)f
(bu\013er)g(is)149 661 y(side-e\013ected.)j(The)17 b(consequences)c(of)k(mo)r
(difying)f(the)f(input)i(bu\013er)f(b)n(y)h(means)e(other)h(than)f(the)h(sp)r
(eci\014ed)149 727 y(API)h(\(suc)n(h)h(as)g Ft(replace-input)p
Fr(\))g(are)g(unsp)r(eci\014ed.)49 860 y Fj(\))45 b Ft
(stream-insertion-pointer)30 b Fs(str)m(e)m(am)950 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 979 y(Returns)j(an)h(in)n(teger)g
(corresp)r(onding)e(to)i(the)g(curren)n(t)g(input)g(p)r(osition)g(in)h(the)f
Fm(input)h(editing)f(stream)149 1045 y Fs(str)m(e)m(am)p Fr('s)g(bu\013er,)g
(that)d(is,)k(the)d(p)r(oin)n(t)g(in)g(the)g(bu\013er)g(at)g(whic)n(h)g(the)g
(next)g(user)f(input)h(gesture)e(will)k(b)r(e)149 1112 y(inserted.)c(The)14
b(insertion)f(p)r(oin)n(ter)g(will)j(alw)n(a)n(ys)g(b)r(e)d(less)i(than)e
Ft(\(fill-pointer)30 b(\(stream-input-buffer)149 1178 y Fs(str)m(e)m(am)p
Ft(\)\))p Fr(.)c(The)18 b(insertion)f(p)r(oin)n(ter)g(can)h(also)g(b)r(e)f
(though)n(t)f(of)i(as)g(an)g(editing)g(cursor.)49 1311 y Fj(\))45
b Ft(\(setf)29 b(stream-insertion-pointer\))i Fs(p)m(ointer)21
b(str)m(e)m(am)558 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
1430 y(Changes)17 b(the)h(input)g(p)r(osition)f(of)i(the)f
Fm(input)g(editing)g(stream)e Fs(str)m(e)m(am)21 b Fr(to)d
Fs(p)m(ointer)p Fr(.)29 b Fs(p)m(ointer)21 b Fr(is)e(an)f(in)n(teger,)149
1496 y(and)f(m)n(ust)g(b)r(e)h(less)g(than)f Ft(\(fill-pointer)30
b(\(stream-input-buffer)g Fs(str)m(e)m(am)p Ft(\)\))p Fr(.)49
1629 y Fj(\))45 b Ft(stream-scan-pointer)30 b Fs(str)m(e)m(am)1095
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1748 y(Returns)12
b(an)i(in)n(teger)f(corresp)r(onding)e(to)j(the)f(curren)n(t)g(scan)g(p)r
(oin)n(ter)g(in)i(the)e Fm(input)h(editing)f(stream)f Fs(str)m(e)m(am)p
Fr('s)149 1815 y(bu\013er,)17 b(that)f(is,)i(the)e(p)r(oin)n(t)g(in)i(the)e
(bu\013er)g(at)h(whic)n(h)g(calls)g(to)g Ft(accept)h Fr(ha)n(v)n(e)f(stopp)r
(ed)e(parsing)h(input.)24 b(The)149 1881 y(scan)17 b(p)r(oin)n(ter)g(will)i
(alw)n(a)n(ys)g(b)r(e)f(less)g(than)f(or)h(equal)g(to)g Ft
(\(stream-insertion-pointer)30 b Fs(str)m(e)m(am)p Ft(\))p
Fr(.)49 2014 y Fj(\))45 b Ft(\(setf)29 b(stream-scan-pointer\))h
Fs(p)m(ointer)22 b(str)m(e)m(am)703 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 2133 y(Changes)e(the)g(scan)g(p)r(oin)n(ter)g(of)i
(the)e Fm(input)h(editing)f(stream)f Fs(str)m(e)m(am)24 b Fr(to)c
Fs(p)m(ointer)p Fr(.)37 b Fs(p)m(ointer)23 b Fr(is)f(an)f(in)n(teger,)149
2199 y(and)c(m)n(ust)g(b)r(e)h(less)g(than)f(or)h(equal)g(to)g
Ft(\(stream-insertion-pointer)30 b Fs(str)m(e)m(am)p Ft(\))p
Fr(.)49 2332 y Fj(\))45 b Ft(stream-rescanning-p)30 b Fs(str)m(e)m(am)1095
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2451 y(Returns)16
b(the)h(state)f(of)h(the)g Fm(input)g(editing)h(stream)d Fs(str)m(e)m(am)p
Fr('s)20 b(\\rescan)c(in)i(progress")d(\015ag,)j(whic)n(h)g(is)g
Fm(true)f Fr(if)149 2518 y Fs(str)m(e)m(am)k Fr(is)e(p)r(erforming)e(a)i
(rescan)e(op)r(eration,)h(otherwise)f(it)i(is)h Fm(false)p
Fr(.)27 b(All)20 b(extended)d(input)i(streams)e(m)n(ust)149
2584 y(implemen)n(t)f(a)i(metho)r(d)d(for)j(this,)g(but)g(non-input)f
(editing)h(streams)d(will)20 b(alw)n(a)n(ys)f(returns)d Fm(false)p
Fr(.)49 2717 y Fj(\))45 b Ft(reset-scan-pointer)30 b Fs(str)m(e)m(am)21
b Ft(&optional)30 b Fs(\(sc)m(an-p)m(ointer)22 b Ft(0)p Fs(\))424
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2836 y(Sets)13
b(the)h Fm(input)g(editing)g(stream)e Fs(str)m(e)m(am)p Fr('s)17
b(scan)d(p)r(oin)n(ter)f(to)h Fs(sc)m(an-p)m(ointer)p Fr(,)19
b(and)14 b(sets)f(the)h(state)f(of)i Ft(stream-)149 2902 y(rescanning-p)k
Fr(to)e Fm(true)p Fr(.)49 3035 y Fj(\))45 b Ft(immediate-rescan)30
b Fs(str)m(e)m(am)1182 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 3154 y(In)n(v)n(ok)n(es)k(a)g(rescan)e(op)r(eration)f(immediately)g
(b)n(y)j(\\thro)n(wing")e(out)h(to)g(the)g(most)f(recen)n(t)g(in)n(v)n(o)r
(cation)h(of)149 3221 y Ft(with-input-editing)p Fr(.)49 3353
y Fj(\))45 b Ft(queue-rescan)29 b Fs(str)m(e)m(am)1299 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])p eop
%%Page: 247 262
bop 149 16 a Fm(CHAPTER)16 b(24.)43 b(INPUT)17 b(EDITING)h(AND)g(COMPLETION)f
(F)-6 b(A)n(CILITIES)488 b Fr(247)149 210 y(Indicates)15 b(that)h(a)h(rescan)
f(op)r(eration)e(on)j(the)f Fm(input)h(editing)f(stream)f Fs(str)m(e)m(am)k
Fr(should)d(tak)n(e)h(place)g(after)e(the)149 276 y(next)i(non-input)g
(editing)h(gesture)e(is)j(read)e(b)n(y)i(setting)d(the)i(\\rescan)e(queued")h
(\015ag)g(to)h Fm(true)p Fr(.)49 409 y Fj(\))45 b Ft(rescan-if-necessary)30
b Fs(str)m(e)m(am)1095 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 528 y(In)n(v)n(ok)n(es)g(a)g(rescan)e(op)r(eration)f(on)i(the)g
Fm(input)g(editing)f(stream)g Fs(str)m(e)m(am)j Fr(if)f Ft(queue-rescan)h
Fr(w)n(as)f(called)f(on)149 594 y(the)f(same)f(stream)g(and)h(no)h(in)n(terv)
n(ening)f(rescan)g(op)r(eration)e(has)j(tak)n(en)f(place.)33
b(Resets)19 b(the)h(state)f(of)i(the)149 661 y(\\rescan)16
b(queued")h(\015ag)g(to)h Fm(false)p Fr(.)49 793 y Fj(\))45
b Ft(erase-input-buffer)30 b Fs(str)m(e)m(am)21 b Ft(&optional)30
b Fs(\(start-p)m(osition)21 b Ft(0)p Fs(\))399 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 912 y(Erases)12 b(the)g(part)g(of)h(the)g(displa)n
(y)h(that)e(corresp)r(onds)e(to)j(the)f(input)h(editor's)f(bu\013er)h
(starting)e(at)i(the)g(p)r(osition)149 979 y Fs(start-p)m(osition)p
Fr(.)49 1112 y Fj(\))45 b Ft(redraw-input-buffer)30 b Fs(str)m(e)m(am)21
b Ft(&optional)30 b Fs(\(start-p)m(osition)21 b Ft(0)p Fs(\))370
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1231 y(Displa)n(ys)16
b(the)f(input)g(editor's)f(bu\013er)h(starting)e(at)i(the)g(p)r(osition)f
Fs(start-p)m(osition)k Fr(on)d(the)f(in)n(teractiv)n(e)h(stream)149
1297 y(that)i(is)h(encapsulated)e(b)n(y)i(the)g Fm(input)f(editing)h(stream)e
Fs(str)m(e)m(am)p Fr(.)49 1430 y Fj(\))45 b Ft(stream-process-gesture)30
b Fs(str)m(e)m(am)22 b(gestur)m(e)f(typ)m(e)704 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 1549 y(If)f Fs(gestur)m(e)j Fr(is)e(an)f(input)g
(editing)g(command,)f Ft(stream-process-gesture)j Fr(p)r(erforms)18
b(the)j(input)g(editing)149 1615 y(op)r(eration)f(on)i(the)f
Fm(input)h(editing)g(stream)e Fs(str)m(e)m(am)k Fr(and)e(returns)e
Ft(nil)p Fr(.)38 b(Otherwise,)23 b(it)f(returns)f(the)g(t)n(w)n(o)149
1682 y(v)m(alues)d Fs(gestur)m(e)i Fr(and)d Fs(typ)m(e)p Fr(.)49
1815 y Fj(\))45 b Ft(stream-read-gesture)30 b Fs(\(str)m(e)m(am)21
b Ft(standard-input-editing-stream)p Fs(\))g Ft(&key)297 b
Fr([)p Fs(Metho)m(d)6 b Fr(])149 1934 y(Reads)17 b(and)g(returns)g(a)h
(gesture)e(from)h(the)g(user)g(on)h(the)g Fm(input)f(editing)h(stream)d
Fs(str)m(e)m(am)p Fr(.)149 2067 y(The)20 b Ft(stream-read-gesture)j
Fr(metho)r(d)18 b(m)n(ust)i(call)i Ft(stream-process-gesture)p
Fr(,)i(whic)n(h)d(will)i(either)c(re-)149 2133 y(turn)e(a)i(\\real")e
(gesture)f(\(suc)n(h)i(as)g(a)h(t)n(yp)r(ed)e(c)n(haracter,)g(a)h(p)r(oin)n
(ter)f(gesture,)g(or)h(a)g(timeout\))e(or)i(will)i(return)149
2199 y Ft(nil)13 b Fr(\(indicating)f(that)f(some)h(sort)f(of)i(input)f
(editing)h(op)r(eration)d(w)n(as)j(p)r(erformed\).)19 b Ft
(stream-read-gesture)149 2266 y Fr(m)n(ust)13 b(only)i(return)d(when)i(a)h
(real)f(gesture)e(w)n(as)i(b)r(een)f(read;)i(if)g(an)f(input)g(editing)g(op)r
(eration)e(w)n(as)j(p)r(erformed,)149 2332 y Ft(stream-read-gesture)k
Fr(will)h(lo)r(op)d(un)n(til)i(a)f(\\real")f(gesture)f(is)j(t)n(yp)r(ed)e(b)n
(y)i(the)e(user.)49 2465 y Fj(\))45 b Ft(stream-unread-gesture)30
b Fs(\(str)m(e)m(am)21 b Ft(standard-input-editing-stream)p
Fs(\))g(gestur)m(e)189 b Fr([)p Fs(Metho)m(d)6 b Fr(])149 2584
y(Inserts)16 b(the)i(gesture)e Fs(gestur)m(e)k Fr(bac)n(k)e(in)n(to)g(the)g
(input)f(editor's)g(bu\013er,)h(main)n(taining)f(the)h(scan)f(p)r(oin)n(ter.)
149 2805 y Fp(24.1.2)75 b(Suggestions)27 b(for)d(Input)g(Editing)i(Commands)
149 2974 y Fr(An)d(implemen)n(tation)e(of)j(the)f(input)h(editor)f(should)g
(pro)n(vide)h(a)g(set)f(of)h(generally)f(useful)h(input)f(editing)149
3040 y(commands.)40 b(The)24 b(exact)f(set)h(of)g(these)f(commands)e(is)k
(unsp)r(eci\014ed,)f(and)f(the)h(k)n(ey)h(bindings)f(for)g(these)149
3107 y(commands)12 b(ma)n(y)j(v)m(ary)g(from)f(platform)f(to)i(platform.)22
b(The)14 b(follo)n(wing)i(is)g(a)f(suggested)e(set)h(of)h(input)g(editing)149
3173 y(commands)g(and)i(k)n(ey)i(bindings,)f(tak)n(en)g(roughly)g(from)e(EMA)
n(CS.)p eop
%%Page: 248 263
bop 149 16 a Fm(CHAPTER)16 b(24.)43 b(INPUT)17 b(EDITING)h(AND)g(COMPLETION)f
(F)-6 b(A)n(CILITIES)488 b Fr(248)p 149 156 1298 3 v 1089 203
a Fm(Suggested)288 269 y(Input)17 b(editor)g(command)232 b(k)n(ey)18
b(binding)p 149 291 V 148 358 3 67 v 182 338 a Fr(F)-5 b(orw)n(ard)18
b(c)n(haracter)p 972 358 V 380 w Ft(control-F)p 1445 358 V
148 424 V 182 404 a Fr(F)-5 b(orw)n(ard)18 b(w)n(ord)p 972
424 V 487 w Ft(meta-F)p 1445 424 V 148 491 V 182 471 a Fr(Bac)n(kw)n(ard)g(c)
n(haracter)p 972 491 V 342 w Ft(control-B)p 1445 491 V 148
557 V 182 537 a Fr(Bac)n(kw)n(ard)g(w)n(ord)p 972 557 V 449
w Ft(meta-B)p 1445 557 V 148 624 V 182 604 a Fr(Beginning)f(of)i(line)p
972 624 V 414 w Ft(control-A)p 1445 624 V 148 690 V 182 670
a Fr(End)f(of)g(line)p 972 690 V 557 w Ft(control-E)p 1445
690 V 148 756 V 182 736 a Fr(Next)f(line)p 972 756 V 603 w
Ft(control-N)p 1445 756 V 148 823 V 182 803 a Fr(Previous)g(line)p
972 823 V 511 w Ft(control-P)p 1445 823 V 148 889 V 182 869
a Fr(Beginning)g(of)i(bu\013er)p 972 889 V 359 w Ft(meta-<)p
1445 889 V 148 956 V 182 936 a Fr(End)f(of)g(bu\013er)p 972
956 V 502 w Ft(meta-<)p 1445 956 V 148 1022 V 182 1002 a Fr(Delete)f(next)h
(c)n(haracter)p 972 1022 V 302 w Ft(control-D)p 1445 1022 V
148 1089 V 182 1069 a Fr(Delete)f(next)h(w)n(ord)p 972 1089
V 409 w Ft(meta-D)p 1445 1089 V 148 1155 V 182 1135 a Fr(Delete)f(previous)h
(c)n(haracter)p 972 1155 V 206 w Ft(Rubout)p 1445 1155 V 148
1221 V 182 1201 a Fr(Delete)f(previous)h(w)n(ord)p 972 1221
V 313 w Ft(m-Rubout)p 1445 1221 V 148 1288 V 182 1268 a Fr(Kill)i(to)d(end)h
(of)g(line)p 972 1288 V 395 w Ft(control-K)p 1445 1288 V 148
1354 V 182 1334 a Fr(Clear)g(input)f(bu\013er)p 972 1354 V
388 w Fm(v)m(aries)p 1445 1354 V 148 1421 V 182 1401 a Fr(Insert)g(new)g
(line)p 972 1421 V 466 w Ft(control-O)p 1445 1421 V 148 1487
V 182 1467 a Fr(T)-5 b(ransp)r(ose)16 b(adjacen)n(t)g(c)n(haracters)p
972 1487 V 93 w Ft(control-T)p 1445 1487 V 148 1553 V 182 1533
a Fr(T)-5 b(ransp)r(ose)16 b(adjacen)n(t)g(w)n(ords)p 972 1553
V 200 w Ft(meta-T)p 1445 1553 V 148 1620 V 182 1600 a Fr(Y)-5
b(ank)18 b(from)f(kill)j(ring)p 972 1620 V 360 w Ft(control-Y)p
1445 1620 V 148 1686 V 182 1666 a Fr(Y)-5 b(ank)18 b(from)f(presen)n(tation)e
(history)p 972 1686 V 66 w Ft(control-meta-Y)p 1445 1686 V
148 1753 V 182 1733 a Fr(Y)-5 b(ank)18 b(next)f(item)p 972
1753 V 448 w Ft(meta-Y)p 1445 1753 V 148 1819 V 182 1799 a
Fr(Scroll)h(output)e(history)i(forw)n(ard)p 972 1819 V 116
w Ft(control-V)p 1445 1819 V 148 1886 V 182 1866 a Fr(Scroll)g(output)e
(history)i(bac)n(kw)n(ard)p 972 1886 V 72 w Ft(meta-V)p 1445
1886 V 149 1888 1298 3 v 149 2001 a Fr(An)k(implemen)n(tation)e(of)i(the)g
(input)g(ma)n(y)h(also)f(supp)r(ort)f(\\n)n(umeric)g(argumen)n(ts")f(\(suc)n
(h)i(as)g Ft(control-0)p Fr(,)149 2068 y Ft(control-1)p Fr(,)c
Ft(meta-0)p Fr(,)f(and)f(so)h(forth\))d(that)i(mo)r(dify)f(the)g(b)r(eha)n
(vior)h(of)g(the)g(input)g(editing)f(commands.)21 b(F)-5 b(or)149
2134 y(instance,)18 b(the)g(motion)f(and)i(deletion)f(commands)d(should)k(b)r
(e)f(rep)r(eated)e(as)j(man)n(y)f(times)g(as)h(sp)r(eci\014ed)e(b)n(y)149
2200 y(the)k(n)n(umeric)f(argumen)n(t.)33 b(F)-5 b(urthermore,)19
b(the)i(accum)n(ulated)e(n)n(umeric)h(argumen)n(t)g(should)h(b)r(e)g(passed)f
(to)149 2267 y(the)13 b(command)f(pro)r(cessor)g(in)j(suc)n(h)f(a)h(w)n(a)n
(y)g(that)f Ft(substitute-numeric-argument-marker)j Fr(can)c(b)r(e)h(used)149
2333 y(to)j(insert)h(the)f(n)n(umeric)g(argumen)n(t)e(in)n(to)k(a)f(command)d
(that)i(w)n(as)h(read)f(via)i(a)f(k)n(eystrok)n(e)g(accelerator.)149
2583 y Fk(24.2)91 b(Activ)-5 b(ation)29 b(and)h(Delimiter)f(Gestures)149
2770 y Fr(Activ)m(ation)19 b(gestures)f(terminate)g(an)i(input)h(\\sen)n
(tence",)e(suc)n(h)h(as)g(a)h(command)d(or)i(an)n(ything)g(else)h(b)r(eing)
149 2837 y(read)g(b)n(y)h Ft(accept)p Fr(.)37 b(When)21 b(an)h(activ)m(ation)
e(gesture)g(is)i(en)n(tered)e(b)n(y)j(the)e(user,)h(CLIM)g(will)h(cease)e
(reading)149 2903 y(input)c(and)h(\\execute")e(the)h(input)h(that)e(has)i(b)r
(een)f(en)n(tered.)149 3036 y(Delimiter)g(gestures)f(terminate)f(an)j(input)g
(\\w)n(ord",)f(suc)n(h)h(as)g(a)g(recursiv)n(e)g(call)g(to)g
Ft(accept)p Fr(.)49 3169 y Fj(\))45 b Ft(*activation-gestures*)1448
b Fr([)p Fs(V)l(ariable)t Fr(])149 3288 y(The)17 b(set)f(of)h(curren)n(tly)f
(activ)n(e)h(activ)m(ation)f(gestures.)22 b(The)17 b(global)g(v)m(alue)g(of)g
(this)g(m)n(ust)f(b)r(e)h Ft(nil)p Fr(.)25 b(The)17 b(exact)149
3354 y(format)i(of)j Ft(*activation-gestures*)h Fr(is)g(unsp)r(eci\014ed.)33
b Ft(*activation-gestures*)23 b Fr(and)e(the)g(elemen)n(ts)149
3421 y(in)d(it)h(ma)n(y)f(ha)n(v)n(e)g(dynamic)f(exten)n(t.)p
eop
%%Page: 249 264
bop 149 16 a Fm(CHAPTER)16 b(24.)43 b(INPUT)17 b(EDITING)h(AND)g(COMPLETION)f
(F)-6 b(A)n(CILITIES)488 b Fr(249)49 210 y Fj(\))45 b Ft
(*standard-activation-gestures*)1187 b Fr([)p Fs(V)l(ariable)t
Fr(])149 329 y(The)20 b(default)f(set)g(of)h(activ)m(ation)f(gestures.)28
b(The)20 b(exact)f(set)h(of)g(standard)e(activ)m(ation)h(is)i(unsp)r
(eci\014ed,)d(but)149 395 y(m)n(ust)f(include)g(the)h(gesture)e(that)h
(corresp)r(onds)e(to)i(the)h Ft(#\\Newline)h Fr(c)n(haracter.)49
528 y Fj(\))45 b Ft(with-activation-gestures)30 b Fs(\(gestur)m(es)21
b Ft(&key)29 b Fs(override\))22 b Ft(&body)29 b Fs(b)m(o)m(dy)485
b Fr([)p Fs(Macr)m(o)s Fr(])149 647 y(Sp)r(eci\014es)13 b(a)j(list)g(of)f
(gestures)e(that)i(terminate)d(input)j(during)g(the)g(execution)f(of)h
Fs(b)m(o)m(dy)p Fr(.)25 b Fs(b)m(o)m(dy)17 b Fr(ma)n(y)f(ha)n(v)n(e)g(zero)
149 713 y(or)i(more)g(declarations)f(as)i(its)g(\014rst)f(forms.)26
b Fs(gestur)m(es)21 b Fr(m)n(ust)d(b)r(e)g(either)g(a)h(single)g(gesture)e
(name)h(or)h(a)g(form)149 780 y(that)e(ev)m(aluates)f(to)i(a)g(list)h(of)f
(gesture)e(names.)149 912 y(If)23 b(the)g(b)r(o)r(olean)e Fs(override)26
b Fr(is)e Fm(true)p Fr(,)g(then)e Fs(gestur)m(es)j Fr(will)f(o)n(v)n(erride)f
(the)g(curren)n(t)f(activ)m(ation)f(gestures.)38 b(If)149 979
y(it)22 b(is)i Fm(false)e Fr(\(the)f(default\),)i(then)e Fs(gestur)m(es)j
Fr(will)g(b)r(e)e(added)g(to)g(the)g(existing)g(set)g(of)g(activ)m(ation)f
(gestures.)149 1045 y Ft(with-activation-gestures)j Fr(m)n(ust)d(bind)h
Ft(*activation-gestures*)i Fr(to)e(the)f(new)h(set)g(of)g(activ)m(ation)149
1112 y(gestures.)149 1245 y(See)11 b(also)h(the)f Ft(:activation-gestures)i
Fr(and)f Ft(:additional-activation-gestures)i Fr(options)d(to)g
Ft(accept)p Fr(.)49 1377 y Fj(\))45 b Ft(activation-gesture-p)30
b Fs(gestur)m(e)1267 b Fr([)p Fs(F)l(unction)t Fr(])149 1496
y(Returns)16 b Fm(true)h Fr(if)i(the)e(gesture)f(ob)s(ject)h
Fs(gestur)m(e)j Fr(is)e(an)g(activ)m(ation)f(gesture,)g(otherwise)f(returns)g
Fm(false)p Fr(.)49 1629 y Fj(\))45 b Ft(*delimiter-gestures*)1477
b Fr([)p Fs(V)l(ariable)t Fr(])149 1748 y(The)18 b(set)g(of)g(curren)n(tly)g
(activ)n(e)g(delimiter)g(gestures.)23 b(The)c(global)f(v)m(alue)h(of)f(this)g
(m)n(ust)g(b)r(e)g Ft(nil)p Fr(.)26 b(The)19 b(exact)149 1815
y(format)f(of)j Ft(*delimiter-gestures*)i Fr(is)e(unsp)r(eci\014ed.)30
b Ft(*delimiter-gestures*)23 b Fr(and)d(the)g(elemen)n(ts)f(in)149
1881 y(it)f(ma)n(y)g(ha)n(v)n(e)h(dynamic)d(exten)n(t.)49 2014
y Fj(\))45 b Ft(with-delimiter-gestures)30 b Fs(\(gestur)m(es)21
b Ft(&key)29 b Fs(override\))22 b Ft(&body)29 b Fs(b)m(o)m(dy)514
b Fr([)p Fs(Macr)m(o)s Fr(])149 2133 y(Sp)r(eci\014es)18 b(a)h(list)i(of)e
(gestures)f(that)h(terminate)e(an)i(individual)i(tok)n(en,)f(but)f(not)g(the)
g(en)n(tire)g(input,)h(during)149 2199 y(the)d(execution)f(of)i
Fs(b)m(o)m(dy)p Fr(.)27 b Fs(b)m(o)m(dy)19 b Fr(ma)n(y)f(ha)n(v)n(e)h(zero)e
(or)g(more)g(declarations)f(as)h(its)i(\014rst)e(forms.)23
b Fs(gestur)m(es)d Fr(m)n(ust)149 2266 y(b)r(e)d(either)g(a)h(single)g
(gesture)e(name)h(or)h(a)g(form)f(that)g(ev)m(aluates)f(to)i(a)g(list)g(of)h
(gesture)d(names.)149 2399 y(If)i(the)f(b)r(o)r(olean)e Fs(override)21
b Fr(is)e Fm(true)p Fr(,)e(then)g Fs(gestur)m(es)i Fr(will)g(o)n(v)n(erride)f
(the)f(curren)n(t)f(delimiter)h(gestures.)22 b(If)c(it)g(is)149
2465 y Fm(false)i Fr(\(the)f(default\),)g(then)g Fs(gestur)m(es)j
Fr(will)g(b)r(e)d(added)g(to)h(the)g(existing)f(set)h(of)g(delimiter)f
(gestures.)29 b Ft(with-)149 2531 y(delimiter-gestures)19 b
Fr(m)n(ust)e(bind)h Ft(*delimiter-gestures*)i Fr(to)e(the)f(new)h(set)f(of)h
(delimiter)f(gestures.)149 2664 y(See)e(also)h(the)g Ft(:delimiter-gestures)h
Fr(and)f Ft(:additional-delimiter-gestures)j Fr(options)c(to)g
Ft(accept)p Fr(.)49 2797 y Fj(\))45 b Ft(delimiter-gesture-p)30
b Fs(gestur)m(e)1296 b Fr([)p Fs(F)l(unction)t Fr(])149 2916
y(Returns)16 b Fm(true)h Fr(if)i(the)e(gesture)f(ob)s(ject)h
Fs(gestur)m(e)j Fr(is)e(a)h(delimiter)d(gesture,)h(otherwise)f(returns)h
Fm(false)p Fr(.)149 3166 y Fk(24.3)91 b(Signalling)28 b(Errors)i(Inside)f
Fi(present)h Fk(Metho)s(ds)49 3353 y Fj(\))45 b Ft(simple-parse-error)1342
b Fr([)p Fs(Err)m(or)21 b(Condition)t Fr(])p eop
%%Page: 250 265
bop 149 16 a Fm(CHAPTER)16 b(24.)43 b(INPUT)17 b(EDITING)h(AND)g(COMPLETION)f
(F)-6 b(A)n(CILITIES)488 b Fr(250)149 210 y(The)17 b(error)g(that)g(is)i
(signalled)f(b)n(y)h Ft(simple-parse-error)p Fr(.)26 b(This)18
b(is)h(a)f(sub)r(class)e(of)i Ft(parse-error)p Fr(.)49 342
y Fj(\))45 b Ft(simple-parse-error)30 b Fs(format-string)22
b Ft(&rest)29 b Fs(format-ar)m(guments)555 b Fr([)p Fs(F)l(unction)t
Fr(])149 461 y(Signals)21 b(a)h Ft(simple-parse-error)h Fr(error)d(while)i
(parsing)f(an)g(input)h(tok)n(en.)34 b(Do)r(es)21 b(not)g(return.)34
b Fs(format-)149 528 y(string)19 b Fr(and)f Fs(format-ar)m(gs)i
Fr(are)e(as)g(for)f Ft(format)p Fr(.)49 661 y Fj(\))45 b Ft
(input-not-of-required-type)1110 b Fr([)p Fs(Err)m(or)21 b(Condition)t
Fr(])149 780 y(The)12 b(error)g(that)g(is)i(signalled)f(b)n(y)h
Ft(input-not-of-required-type)p Fr(.)24 b(This)14 b(is)f(a)h(sub)r(class)d
(of)i Ft(parse-error)p Fr(.)49 912 y Fj(\))45 b Ft
(input-not-of-required-type)30 b Fs(obje)m(ct)22 b(typ)m(e)1007
b Fr([)p Fs(F)l(unction)t Fr(])149 1031 y(Rep)r(orts)12 b(that)h(input)h(do)r
(es)f(not)g(satisfy)h(the)g(sp)r(eci\014ed)e(t)n(yp)r(e)i(b)n(y)h(signalling)
g(an)f Ft(input-not-of-required-)149 1098 y(type)j Fr(error.)23
b Fs(obje)m(ct)c Fr(is)e(a)g(parsed)e(ob)s(ject)h(or)g(an)g(unparsed)f(tok)n
(en)i(\(a)f(string\).)23 b Fs(typ)m(e)18 b Fr(is)f(a)g(presen)n(tation)d(t)n
(yp)r(e)149 1164 y(sp)r(eci\014er.)22 b(Do)r(es)c(not)f(return.)149
1414 y Fk(24.4)91 b(Reading)29 b(and)h(W)-8 b(riting)29 b(of)h(T)-8
b(ok)m(ens)49 1601 y Fj(\))45 b Ft(replace-input)29 b Fs(str)m(e)m(am)22
b(new-input)e Ft(&key)30 b Fs(start)21 b(end)f(bu\013er-start)i(r)m(esc)m(an)
172 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1720 y(Replaces)13
b(the)h(part)g(of)g(the)g Fm(input)g(editing)g(stream)f Fs(str)m(e)m(am)p
Fr('s)k(input)d(bu\013er)g(that)g(extends)f(from)g Fs(bu\013er-start)149
1787 y Fr(to)18 b(its)g(scan)g(p)r(oin)n(ter)f(with)h(the)f(string)h
Fs(new-input)p Fr(.)26 b Fs(bu\013er-start)21 b Fr(defaults)c(to)h(the)f
(curren)n(t)g(input)h(p)r(osition)149 1853 y(of)f Fs(str)m(e)m(am)p
Fr(.)26 b Fs(start)18 b Fr(and)f Fs(end)h Fr(can)e(b)r(e)g(supplied)h(to)f
(sp)r(ecify)g(a)h(subsequence)e(of)h Fs(new-input)p Fr(;)j
Fs(start)f Fr(defaults)e(to)149 1920 y(0)i(and)f Fs(end)j Fr(defaults)d(to)g
(the)h(length)f(of)h Fs(new-input)p Fr(.)149 2053 y Ft(replace-input)h
Fr(m)n(ust)e(queue)h(a)g(rescan)f(b)n(y)i(calling)g Ft(queue-rescan)g
Fr(if)g(the)f(new)g(input)f(do)r(es)g(not)h(matc)n(h)149 2119
y(the)f(old)h(input,)g(or)g Fs(r)m(esc)m(an)i Fr(is)f Fm(true)p
Fr(.)149 2252 y(The)e(returned)f(v)m(alue)i(is)h(the)e(p)r(osition)g(in)i
(the)e(input)h(bu\013er.)149 2385 y(All)g(input)g(editing)f(streams)f(m)n
(ust)h(implemen)n(t)f(a)j(metho)r(d)c(for)j(this)g(function.)49
2517 y Fj(\))45 b Ft(presentation-replace-input)30 b Fs(str)m(e)m(am)18
b(obje)m(ct)g(typ)m(e)g(view)f Ft(&key)29 b Fs(bu\013er-start)18
b(r)m(esc)m(an)f(query-identi\014er)149 2584 y(for-c)m(ontext-typ)m(e)1461
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2703 y(Lik)n(e)j
Ft(replace-input)p Fr(,)j(except)c(that)g(the)g(new)h(input)f(to)h(insert)f
(in)n(to)h(the)f(input)h(bu\013er)f(is)i(gotten)d(b)n(y)149
2769 y(presen)n(ting)18 b Fs(obje)m(ct)k Fr(with)e(the)f(presen)n(tation)e(t)
n(yp)r(e)i Fs(typ)m(e)i Fr(and)e(view)i Fs(view)p Fr(.)30 b
Fs(bu\013er-start)22 b Fr(and)d Fs(r)m(esc)m(an)j Fr(are)d(as)149
2836 y(for)e Ft(replace-input)p Fr(,)j(and)e Fs(query-identi\014er)j
Fr(and)c Fs(for-c)m(ontext-typ)m(e)22 b Fr(as)c(as)g(for)g
Ft(present)p Fr(.)149 2969 y(All)23 b(input)f(editing)g(streams)e(m)n(ust)h
(implemen)n(t)g(a)h(metho)r(d)e(for)i(this)g(function.)36 b(T)n(ypically)-5
b(,)26 b(this)c(will)i(b)r(e)149 3035 y(implemen)n(ted)12 b(b)n(y)k(calling)g
Ft(present-to-string)g Fr(on)f Fs(obje)m(ct)p Fr(,)k Fs(typ)m(e)p
Fr(,)e Fs(view)p Fr(,)g(and)e Fs(for-c)m(ontext-typ)m(e)p Fr(,)20
b(and)15 b(then)149 3101 y(calling)j Ft(replace-input)h Fr(on)f(the)f
(resulting)g(string.)149 3234 y(If)29 b(the)g(ob)s(ject)f(do)r(es)h(not)f(ha)
n(v)n(e)i(a)g(readable)e(represen)n(tation)e(\(in)k(the)f(Lisp)g(sense\),)i
Ft(presentation-)149 3301 y(replace-input)c Fr(ma)n(y)g(create)d(an)i
(\\accept)f(result")g(to)h(represen)n(t)e(the)i(ob)s(ject,)h(and)f(insert)g
(that)f(in)n(to)149 3367 y(the)17 b(input)g(bu\013er.)24 b(F)-5
b(or)18 b(the)f(purp)r(oses)e(of)j(input)f(editing,)h(\\accept)e(results")g
(m)n(ust)h(b)r(e)g(treated)e(as)j(a)g(single)149 3433 y(input)f(gesture.)p
eop
%%Page: 251 266
bop 149 16 a Fm(CHAPTER)16 b(24.)43 b(INPUT)17 b(EDITING)h(AND)g(COMPLETION)f
(F)-6 b(A)n(CILITIES)488 b Fr(251)49 210 y Fj(\))45 b Ft(read-token)29
b Fs(str)m(e)m(am)20 b Ft(&key)30 b Fs(input-wait-hand)s(ler)20
b(p)m(ointer-button-pr)m(ess-hand)s(le)q(r)i(click-only)31
b Fr([)p Fs(F)l(unction)t Fr(])149 409 y(Reads)15 b(c)n(haracters)f(from)h
(the)h Fm(in)n(teractiv)n(e)f(stream)f Fs(str)m(e)m(am)19 b
Fr(un)n(til)e(it)f(encoun)n(ters)e(a)j(delimiter)e(or)h(activ)m(ation)149
475 y(gesture,)d(or)g(a)h(p)r(oin)n(ter)f(gesture.)21 b(Returns)12
b(the)h(accum)n(ulated)e(string)i(that)g(w)n(as)h(delimited)f(b)n(y)i(the)e
(delimiter)149 542 y(or)k(activ)m(ation)g(gesture,)g(lea)n(ving)h(the)g
(delimiter)e(unread.)149 674 y(If)24 b(the)f(\014rst)g(c)n(haracter)f(of)i(t)
n(yp)r(ed)f(input)h(is)g(a)g(quotation)f(mark)g(\()p Ft(#\\")p
Fr(\),)i(then)e Ft(read-token)i Fr(will)g(ignore)149 741 y(delimiter)16
b(gestures)f(un)n(til)k(un)n(til)f(another)d(quotation)h(mark)h(is)h(seen.)24
b(When)16 b(the)h(closing)g(quotation)g(mark)149 807 y(is)h(seen,)g
Ft(read-token)h Fr(will)h(pro)r(ceed)15 b(as)j(ab)r(o)n(v)n(e.)149
940 y(If)e(the)f(b)r(o)r(olean)e Fs(click-only)18 b Fr(is)f
Fm(true)p Fr(,)e(then)g(no)g(k)n(eyb)r(oard)g(input)g(is)i(allo)n(w)n(ed.)24
b(In)16 b(this)g(case)e Ft(read-token)j Fr(will)149 1007 y(simply)h(ignore)f
(an)n(y)i(t)n(yp)r(ed)e(c)n(haracters.)149 1139 y Fs(input-wait-hand)s(ler)j
Fr(and)e Fs(p)m(ointer-button-pr)m(ess-hand)s(le)q(r)23 b Fr(are)17
b(as)h(for)g Ft(stream-read-gesture)p Fr(.)49 1272 y Fj(\))45
b Ft(write-token)29 b Fs(token)22 b(str)m(e)m(am)f Ft(&key)30
b Fs(ac)m(c)m(eptably)986 b Fr([)p Fs(F)l(unction)t Fr(])149
1391 y Ft(write-token)17 b Fr(is)g(the)f(opp)r(osite)f(of)h
Ft(read-token)i Fr(giv)n(en)f(the)f(string)f Fs(token)p Fr(,)20
b(it)d(writes)f(it)g(to)h(the)e Fm(in)n(teractiv)n(e)149 1458
y(stream)g Fs(str)m(e)m(am)p Fr(.)27 b(If)18 b Fs(ac)m(c)m(eptably)j
Fr(is)e Fm(true)d Fr(and)i(there)e(are)h(an)n(y)h(c)n(haracters)e(in)i(the)f
(tok)n(en)g(that)g(are)g(delimiter)149 1524 y(gestures)c(\(see)g(the)i(macro)
e Ft(with-delimiter-gestures)p Fr(\),)k(then)d Ft(write-token)i
Fr(will)h(surround)c(the)h(tok)n(en)149 1591 y(with)k(quotation)e(marks)h(\()
p Ft(#\\")p Fr(\).)149 1723 y(T)n(ypically)-5 b(,)20 b Ft(present)f
Fr(metho)r(ds)c(will)20 b(use)d Ft(write-token)i Fr(instead)e(of)h
Ft(write-string)p Fr(.)149 1973 y Fk(24.5)91 b(Completion)149
2160 y Fr(CLIM)15 b(pro)n(vides)h(a)g Fm(completion)e Fr(facilit)n(y)j(that)e
(completes)f(a)i(string)f(pro)n(vided)h(b)n(y)h(a)f(user)g(against)f(some)f
(set)149 2227 y(of)i(p)r(ossible)f(completions)e(\(whic)n(h)j(are)f(themselv)
n(es)f(strings\).)23 b(Eac)n(h)15 b(completion)f(is)j(asso)r(ciated)c(with)j
(some)149 2293 y(Lisp)22 b(ob)s(ject.)37 b(CLIM)22 b(implemen)n(tations)d
(are)j(encouraged)d(to)k(pro)n(vide)f(\\c)n(h)n(unkwise")g(completion,)g
(that)149 2360 y(is,)h(if)g(the)e(user)g(input)g(consists)g(of)h(sev)n(eral)f
(tok)n(ens)g(separated)f(b)n(y)i(\\partial)f(delimiters",)h(CLIM)f(should)149
2426 y(complete)15 b(eac)n(h)j(tok)n(en)g(separately)e(against)h(the)g(set)h
(of)g(p)r(ossibilities.)49 2559 y Fj(\))45 b Ft(*completion-gestures*)1448
b Fr([)p Fs(V)l(ariable)t Fr(])149 2678 y(A)18 b(list)h(of)f(the)f(gesture)g
(names)f(that)h(cause)g Ft(complete-input)j Fr(to)e(complete)d(the)j(user's)g
(input)f(as)h(fully)i(as)149 2744 y(p)r(ossible.)29 b(The)20
b(exact)f(global)h(con)n(ten)n(ts)f(of)h(this)g(list)h(is)f(unsp)r
(eci\014ed,)f(but)g(m)n(ust)h(include)f(the)h Ft(:complete)149
2811 y Fr(gesture)c(name.)49 2944 y Fj(\))45 b Ft(*help-gestures*)1622
b Fr([)p Fs(V)l(ariable)t Fr(])149 3063 y(A)16 b(list)h(of)g(the)f(gesture)f
(names)g(that)g(cause)h Ft(accept)h Fr(and)g Ft(complete-input)h
Fr(to)e(displa)n(y)h(a)g(\(p)r(ossibly)f(input)149 3129 y(con)n
(text-sensitiv)n(e\))k(help)i(message,)f(and)g(for)h(some)e(presen)n(tation)g
(t)n(yp)r(es)h(a)h(list)h(of)f(p)r(ossibilities)f(as)h(w)n(ell.)149
3195 y(The)17 b(exact)h(global)f(con)n(ten)n(ts)g(of)h(this)g(list)h(is)f
(unsp)r(eci\014ed,)e(but)i(m)n(ust)f(include)h(the)f Ft(:help)i
Fr(gesture)d(name.)49 3328 y Fj(\))45 b Ft(*possibilities-gestures*)1361
b Fr([)p Fs(V)l(ariable)t Fr(])149 3447 y(A)22 b(list)h(of)g(the)f(gesture)f
(names)g(that)g(cause)h Ft(complete-input)i Fr(to)e(displa)n(y)i(a)e(\(p)r
(ossibly)g(input)g(con)n(text-)p eop
%%Page: 252 267
bop 149 16 a Fm(CHAPTER)16 b(24.)43 b(INPUT)17 b(EDITING)h(AND)g(COMPLETION)f
(F)-6 b(A)n(CILITIES)488 b Fr(252)149 210 y(sensitiv)n(e\))21
b(help)g(message)f(and)h(a)h(list)g(of)f(p)r(ossibilities.)35
b(The)21 b(exact)g(global)h(con)n(ten)n(ts)e(of)h(this)h(list)g(is)g(un-)149
276 y(sp)r(eci\014ed,)16 b(but)i(m)n(ust)f(include)h(the)f
Ft(:possibilities)i Fr(gesture)d(name.)49 409 y Fj(\))45 b
Ft(complete-input)30 b Fs(str)m(e)m(am)15 b(function)h Ft(&key)29
b Fs(p)m(artial-c)m(ompleter)q(s)18 b(al)s(low-any-input)d(p)m
(ossibility-printer)h(\(help-)149 475 y(displays-p)m(ossibilities)k(t\))1520
b Fr([)p Fs(F)l(unction)t Fr(])149 674 y(Reads)16 b(input)h(from)f(the)h
(user)f(from)g(the)h Fm(input)g(editing)f(stream)g Fs(str)m(e)m(am)p
Fr(,)j(completing)d(o)n(v)n(er)h(a)h(set)e(of)i(p)r(ossi-)149
741 y(bilities.)24 b Ft(complete-input)15 b Fr(is)g(only)g(required)e(to)h(w)
n(ork)h(on)f(input)g(editing)g(streams,)f(but)h(implemen)n(tations)149
807 y(ma)n(y)k(extend)e(it)j(to)e(w)n(ork)i(on)f(in)n(teractiv)n(e)f(streams)
f(as)i(w)n(ell.)149 940 y Fs(function)g Fr(is)f(a)f(function)f(of)i(t)n(w)n
(o)g(argumen)n(ts.)k(It)16 b(is)i(called)e(to)g(generate)e(the)h(completion)g
(p)r(ossibilities)h(that)149 1007 y(matc)n(h)e(the)h(user's)g(input;)h(it)g
(has)f(dynamic)g(exten)n(t.)23 b(Usually)-5 b(,)17 b(programme)o(rs)12
b(will)17 b(pass)e(either)g Ft(complete-)149 1073 y(from-possibilities)i
Fr(or)f Ft(complete-from-generator)i Fr(as)e(the)f(v)m(alue)h(of)g
Fs(function)p Fr(.)25 b(Its)16 b(\014rst)f(argumen)n(t)149
1139 y(is)h(a)g(string)f(con)n(taining)g(the)g(user's)g(input)g(\\so)g(far".)
23 b(Its)16 b(second)e(argumen)n(t)g(is)i(the)f(completion)f(mo)r(de,)g(one)
149 1206 y(of)k(the)f(follo)n(wing:)232 1394 y Fj(\017)27 b
Ft(:complete-limited)p Fr(|the)19 b(function)d(m)n(ust)h(complete)f(the)h
(input)h(up)g(to)f(the)h(next)f(partial)h(delim-)287 1460 y(iter.)24
b(This)19 b(is)f(the)g(mo)r(de)e(used)h(when)h(the)f(user)g(t)n(yp)r(es)h
(one)f(of)h(the)f(partial)h(completers.)232 1571 y Fj(\017)27
b Ft(:complete-maximal)p Fr(|the)20 b(function)e(m)n(ust)h(complete)e(the)i
(input)g(as)h(m)n(uc)n(h)f(as)g(p)r(ossible.)28 b(This)20 b(is)287
1638 y(the)g(mo)r(de)f(used)i(when)f(the)h(user)f(issues)h(a)g(gesture)e
(that)h(matc)n(hes)f(an)n(y)i(of)g(the)g(gesture)e(names)g(in)287
1704 y Ft(*completion-gestures*)p Fr(.)232 1815 y Fj(\017)27
b Ft(:complete)p Fr(|the)18 b(function)f(m)n(ust)g(complete)f(the)h(input)h
(as)g(m)n(uc)n(h)f(as)h(p)r(ossible,)g(except)f(that)g(if)h(the)287
1881 y(user's)e(input)g(exactly)g(matc)n(hes)e(one)i(of)g(the)f(p)r
(ossibilities,)i(ev)n(en)f(if)h(it)g(is)g(a)f(left)g(substring)f(of)i
(another)287 1948 y(p)r(ossibilit)n(y)-5 b(,)23 b(the)e(shorter)e(p)r
(ossibilit)n(y)j(is)g(returned)d(as)i(the)f(result.)33 b(This)22
b(is)g(the)e(mo)r(de)g(used)g(when)287 2014 y(the)d(user)h(issues)f(a)h
(delimiter)f(or)h(activ)m(ation)f(gesture)f(that)h(is)i(not)e(a)h(partial)g
(completer.)232 2125 y Fj(\017)27 b Ft(:possibilities)p Fr(|the)17
b(function)d(m)n(ust)i(return)e(an)i(alist)g(of)h(the)e(p)r(ossible)g
(completions)f(as)i(its)g(\014fth)287 2191 y(v)m(alue.)40 b(This)23
b(is)h(the)e(mo)r(de)f(used)h(when)h(the)f(user)h(a)g(gesture)e(that)h(matc)n
(hes)f(an)n(y)i(of)g(the)g(gesture)287 2257 y(names)e(in)j
Ft(*possibilities-gestures*)h Fr(or)e Ft(*help-gestures*)h
Fr(\(if)f Fs(help-displays-p)m(ossibilities)287 2324 y Fr(is)c
Fm(true)p Fr(\).)149 2512 y Fs(function)g Fr(m)n(ust)e(return)g(\014v)n(e)h
(v)m(alues:)232 2700 y Fj(\017)27 b Fs(string)p Fr(|the)19
b(completed)c(input)j(string.)232 2811 y Fj(\017)27 b Fs(suc)m(c)m(ess)p
Fr(|)p Fm(true)18 b Fr(if)g(completion)e(w)n(as)j(successful,)e(otherwise)f
Fm(false)p Fr(.)232 2922 y Fj(\017)27 b Fs(obje)m(ct)p Fr(|the)c(ob)s(ject)c
(corresp)r(onding)e(to)k(the)f(completion,)f(or)i Ft(nil)g
Fr(if)g(the)f(completion)f(w)n(as)i(unsuc-)287 2988 y(cessful.)232
3099 y Fj(\017)27 b Fs(nmatches)p Fr(|the)20 b(n)n(um)n(b)r(er)c(of)i(p)r
(ossible)f(completions)f(of)i(the)f(input.)232 3209 y Fj(\017)27
b Fs(p)m(ossibilities)p Fr(|an)f(alist)e(of)h(completions)d(whose)i(en)n
(tries)g(are)g(a)g(list)h(of)g(a)f(string)g(and)g(an)h(ob)s(ject,)287
3276 y(returned)d(only)j(when)f(the)g(completion)f(mo)r(de)f(is)k
Ft(:possibilities)p Fr(.)45 b(This)25 b(list)g(will)h(b)r(e)e(freshly)287
3342 y(created.)p eop
%%Page: 253 268
bop 149 16 a Fm(CHAPTER)16 b(24.)43 b(INPUT)17 b(EDITING)h(AND)g(COMPLETION)f
(F)-6 b(A)n(CILITIES)488 b Fr(253)149 210 y Ft(complete-input)28
b Fr(returns)d(three)h(v)m(alues:)43 b Fs(obje)m(ct)p Fr(,)32
b Fs(suc)m(c)m(ess)p Fr(,)f(and)26 b Fs(string)p Fr(.)54 b(In)27
b(addition,)i(the)d(prin)n(ted)149 276 y(represen)n(tation)14
b(of)j(the)f(completed)e(input)j(will)i(b)r(e)d(inserted)g(in)n(to)h(the)f
(input)h(bu\013er)f(of)h Fs(str)m(e)m(am)j Fr(in)d(place)g(of)149
342 y(the)g(user-supplied)g(string)g(b)n(y)i(calling)f Ft(replace-input)p
Fr(.)149 475 y Fs(p)m(artial-c)m(ompleter)q(s)23 b Fr(is)d(a)f(list)h(of)f(c)
n(haracters)e(that)h(delimit)g(p)r(ortions)g(of)h(a)g(name)f(that)g(can)h(b)r
(e)f(completed)149 542 y(separately)-5 b(.)23 b(The)18 b(default)f(is)h(an)g
(empt)n(y)f(list.)149 674 y(If)24 b(the)g(b)r(o)r(olean)e Fs(al)s
(low-any-input)j Fr(is)g Fm(true)p Fr(,)g(then)f Ft(complete-input)h
Fr(will)h(return)c(as)j(so)r(on)e(as)h(the)f(user)149 741 y(issues)c(an)g
(activ)m(ation)f(gesture,)g(ev)n(en)h(if)h(the)f(input)f(is)i(not)f(an)n(y)h
(of)f(the)g(p)r(ossibilities.)27 b(If)20 b(the)f(input)f(is)i(not)149
807 y(one)h(of)h(the)f(p)r(ossibilities,)i(the)e(three)f(v)m(alues)i
(returned)d(b)n(y)k Ft(complete-input)g Fr(will)g(b)r(e)f Ft(nil)p
Fr(,)h Ft(t)p Fr(,)h(and)d(the)149 874 y(string.)i(The)18 b(default)f(for)h
Fs(al)s(low-any-input)h Fr(is)g Fm(false)p Fr(.)149 1007 y(If)i
Fs(p)m(ossibility-printer)i Fr(is)f(supplied,)f(it)g(m)n(ust)f(b)r(e)g(a)h
(function)e(of)i(three)e(argumen)n(ts,)g(a)i(p)r(ossibilit)n(y)-5
b(,)23 b(a)e(pre-)149 1073 y(sen)n(tation)f(t)n(yp)r(e,)i(and)e(a)i(stream;)f
(it)h(has)f(dynamic)f(exten)n(t.)33 b(The)21 b(function)f(displa)n(ys)i(the)f
(p)r(ossibilit)n(y)h(on)149 1139 y(the)16 b(stream.)22 b(The)17
b(p)r(ossibilit)n(y)g(will)h(b)r(e)e(a)h(list)h(of)f(t)n(w)n(o)g(elemen)n
(ts,)f(the)g(\014rst)g(b)r(eing)g(a)h(string)f(and)h(the)f(second)149
1206 y(b)r(eing)h(the)g(ob)s(ject)g(corresp)r(onding)d(to)k(the)f(string.)149
1339 y(If)25 b Fs(help-display-p)m(ossibilities)j Fr(is)e Fm(true)f
Fr(\(the)f(default\),)i(then)f(when)f(the)h(user)g(issues)g(a)g(help)h
(gesture)d(\(a)149 1405 y(gesture)16 b(that)g(matc)n(hes)g(one)i(of)g(the)f
(gesture)f(names)g(in)j Ft(*help-gestures*)p Fr(\),)g(CLIM)e(will)j(displa)n
(y)f(all)f(the)149 1472 y(matc)n(hing)f(p)r(ossibilities.)26
b(If)19 b(it)g(is)g Fm(false)p Fr(,)g(then)f(CLIM)g(will)i(not)e(displa)n(y)i
(the)e(p)r(ossibilities)g(unless)g(the)g(user)149 1538 y(issues)13
b(a)h(p)r(ossibilit)n(y)g(gesture)e(\(a)i(gesture)d(that)i(matc)n(hes)f(one)h
(of)h(the)f(gesture)f(names)g(in)i Ft(*possibilities-)149 1604
y(gestures*)p Fr(\).)49 1737 y Fj(\))45 b Ft(completing-from-suggestions)30
b Fs(\(str)m(e)m(am)16 b Ft(&key)29 b Fs(p)m(artial-c)m(omplete)q(rs)18
b(al)s(low-any-input)d(p)m(ossibility-printer\))149 1804 y
Ft(&body)29 b Fs(b)m(o)m(dy)1828 b Fr([)p Fs(Macr)m(o)s Fr(])149
1923 y(Reads)12 b(input)h(from)g(the)f Fm(input)i(editing)f(stream)e
Fs(str)m(e)m(am)p Fr(,)17 b(completing)11 b(o)n(v)n(er)j(a)g(set)f(of)g(p)r
(ossibilities)g(generated)149 1989 y(b)n(y)19 b(calls)f(to)g
Ft(suggest)g Fr(within)h Fs(b)m(o)m(dy)p Fr(.)26 b Fs(b)m(o)m(dy)19
b Fr(ma)n(y)f(ha)n(v)n(e)h(zero)e(or)h(more)e(declarations)g(as)i(its)g
(\014rst)g(forms.)149 2122 y Ft(completing-from-suggestions)i
Fr(returns)c(three)h(v)m(alues,)h Fs(obje)m(ct)p Fr(,)j Fs(suc)m(c)m(ess)p
Fr(,)e(and)f Fs(string)149 2255 y Fr(The)23 b Fs(str)m(e)m(am)i
Fr(argumen)n(t)c(is)j(not)e(ev)m(aluated,)h(and)g(m)n(ust)f(b)r(e)h(a)g(sym)n
(b)r(ol)g(that)f(is)i(b)r(ound)d(to)i(a)g(stream.)38 b(If)149
2321 y Fs(str)m(e)m(am)20 b Fr(is)f Ft(t)f Fr(\(the)f(default\),)g
Ft(*query-io*)i Fr(is)f(used.)149 2454 y Fs(p)m(artial-c)m(ompleter)q(s)p
Fr(,)k Fs(al)s(low-any-input)p Fr(,)e(and)d Fs(p)m(ossibility-printer)k
Fr(are)d(as)g(for)f Ft(complete-input)p Fr(.)149 2587 y(Implemen)n(tations)d
(will)20 b(probably)d(use)h Ft(complete-from-generator)i Fr(to)d(implemen)n
(t)f(this.)49 2720 y Fj(\))45 b Ft(suggest)29 b Fs(c)m(ompletion)23
b(obje)m(ct)1397 b Fr([)p Fs(F)l(unction)t Fr(])149 2839 y(Sp)r(eci\014es)15
b(one)h(p)r(ossibilit)n(y)i(for)f Ft(completing-from-suggestions)p
Fr(.)26 b Fs(c)m(ompletion)20 b Fr(is)e(a)f(string,)g(the)f(prin)n(ted)149
2905 y(represen)n(tation)f(of)j Fs(obje)m(ct)p Fr(.)27 b Fs(obje)m(ct)20
b Fr(is)f(the)e(in)n(ternal)h(represen)n(tation.)149 3038 y(It)j(is)g(p)r
(ermitted)d(for)i(this)h(function)f(to)g(ha)n(v)n(e)i(lexical)g(scop)r(e,)e
(and)g(b)r(e)h(de\014ned)e(only)j(within)f(the)f(b)r(o)r(dy)g(of)149
3104 y Ft(completing-from-suggestions)p Fr(.)49 3237 y Fj(\))45
b Ft(complete-from-generator)30 b Fs(string)15 b(function)g(delimiters)h
Ft(&key)30 b Fs(\(action)15 b Ft(:complete)p Fs(\))f(pr)m(e)m(dic)m(ate)33
b Fr([)p Fs(F)l(unction)t Fr(])149 3436 y(Giv)n(en)26 b(an)f(input)g(string)g
Fs(string)h Fr(and)f(a)h(list)f(of)h(delimiter)e(c)n(haracters)f
Fs(delimiters)k Fr(that)d(act)h(as)g(partial)p eop
%%Page: 254 269
bop 149 16 a Fm(CHAPTER)16 b(24.)43 b(INPUT)17 b(EDITING)h(AND)g(COMPLETION)f
(F)-6 b(A)n(CILITIES)488 b Fr(254)149 210 y(completion)19 b(c)n(haracters,)h
Ft(complete-from-generator)j Fr(completes)c(against)h(the)h(p)r(ossibilities)
g(that)f(are)149 276 y(generated)15 b(b)n(y)j(the)f(function)g
Fs(gener)m(ator)p Fr(.)28 b Fs(gener)m(ator)21 b Fr(is)e(a)e(function)g(of)h
(t)n(w)n(o)g(argumen)n(ts,)d(the)i(string)g Fs(string)149 342
y Fr(and)g(another)f(function)h(that)g(it)h(calls)h(in)f(order)f(to)h(pro)r
(cess)e(the)h(p)r(ossibilit)n(y;)i(it)f(has)g(dynamic)f(exten)n(t.)149
475 y Fs(action)e Fr(will)f(b)r(e)e(one)h(of)g Ft(:complete)p
Fr(,)i Ft(:complete-maximal)p Fr(,)h Ft(:complete-limited)p
Fr(,)f(or)e Ft(:possibilities)p Fr(.)149 542 y(These)k(are)g(describ)r(ed)f
(under)h(the)h(function)e Ft(complete-input)p Fr(.)149 674
y Fs(pr)m(e)m(dic)m(ate)28 b Fr(m)n(ust)c(b)r(e)h(a)g(function)e(of)i(one)f
(argumen)n(t,)h(an)g(ob)s(ject.)43 b(If)25 b(the)g(predicate)d(returns)h
Fm(true)p Fr(,)j(the)149 741 y(p)r(ossibilit)n(y)18 b(corresp)r(onding)d(to)j
(the)f(ob)s(ject)g(is)h(pro)r(cessed,)e(otherwise)g(it)j(is)f(not.)24
b(It)18 b(has)g(dynamic)f(exten)n(t.)149 874 y Ft(complete-from-generator)25
b Fr(returns)d(\014v)n(e)j(v)m(alues,)g(the)e(completed)f(input)h(string,)i
(the)e(success)g(v)m(alue)149 940 y(\()p Fm(true)17 b Fr(if)i(the)f
(completion)e(w)n(as)j(successful,)f(otherwise)f Fm(false)p
Fr(\),)h(the)g(ob)s(ject)f(matc)n(hing)g(the)h(completion)e(\(or)149
1007 y Ft(nil)24 b Fr(if)g(unsuccessful\),)f(the)g(n)n(um)n(b)r(er)f(of)i
(matc)n(hes,)f(and)g(a)h(list)g(of)f(p)r(ossible)g(completions)e(if)k
Fs(action)g Fr(w)n(as)149 1073 y Ft(:possibilities)p Fr(.)149
1206 y(This)18 b(function)f(is)i(one)e(that)g(will)i(t)n(ypically)g(b)r(e)f
(passed)f(as)h(the)f(second)g(argumen)n(t)e(to)j Ft(complete-input)p
Fr(.)49 1339 y Fj(\))45 b Ft(complete-from-possibilities)30
b Fs(string)22 b(c)m(ompletions)h(delimiters)f Ft(&key)29 b
Fs(\(action)22 b Ft(:complete)p Fs(\))f(pr)m(e)m(di-)149 1405
y(c)m(ate)g(name-key)h(value-key)1480 b Fr([)p Fs(F)l(unction)t
Fr(])149 1604 y(Giv)n(en)26 b(an)f(input)g(string)g Fs(string)h
Fr(and)f(a)h(list)f(of)h(delimiter)e(c)n(haracters)f Fs(delimiters)k
Fr(that)d(act)h(as)g(partial)149 1671 y(completion)11 b(c)n(haracters,)h
Ft(complete-from-possibilities)j Fr(completes)c(against)i(the)f(p)r
(ossibilities)h(in)h(the)149 1737 y(sequence)k Fs(c)m(ompletions)p
Fr(.)35 b(The)20 b(completion)e(string)i(is)g(extracted)e(from)i(the)f(p)r
(ossibilities)h(in)h(completions)149 1804 y(b)n(y)16 b(applying)g
Fs(name-key)p Fr(,)j(whic)n(h)d(is)g(a)g(function)f(of)h(one)f(argumen)n(t.)
21 b(The)16 b(ob)s(ject)e(is)j(extracted)c(b)n(y)k(applying)149
1870 y Fs(value-key)p Fr(,)29 b(whic)n(h)d(is)g(a)g(function)e(of)i(one)f
(argumen)n(t.)44 b Fs(name-key)28 b Fr(defaults)c(to)h Ft(first)p
Fr(,)j(and)e Fs(value-key)149 1936 y Fr(defaults)17 b(to)g
Ft(second)p Fr(.)149 2069 y Fs(action)e Fr(will)f(b)r(e)e(one)h(of)g
Ft(:complete)p Fr(,)i Ft(:complete-maximal)p Fr(,)h Ft(:complete-limited)p
Fr(,)f(or)e Ft(:possibilities)p Fr(.)149 2136 y(These)k(are)g(describ)r(ed)f
(under)h(the)h(function)e Ft(complete-input)p Fr(.)149 2269
y Fs(pr)m(e)m(dic)m(ate)28 b Fr(m)n(ust)c(b)r(e)h(a)g(function)e(of)i(one)f
(argumen)n(t,)h(an)g(ob)s(ject.)43 b(If)25 b(the)g(predicate)d(returns)h
Fm(true)p Fr(,)j(the)149 2335 y(p)r(ossibilit)n(y)18 b(corresp)r(onding)d(to)
j(the)f(ob)s(ject)g(is)h(pro)r(cessed,)e(otherwise)g(it)j(is)f(not.)149
2468 y Fs(pr)m(e)m(dic)m(ate)p Fr(,)k Fs(name-key)p Fr(,)f(and)c
Fs(value-key)j Fr(ha)n(v)n(e)f(dynamic)e(exten)n(t.)149 2601
y Ft(complete-from-possibilities)d Fr(returns)d(\014v)n(e)h(v)m(alues,)i(the)
e(completed)d(input)j(string,)h(the)f(success)f(v)m(alue)149
2667 y(\()p Fm(true)17 b Fr(if)i(the)f(completion)e(w)n(as)j(successful,)f
(otherwise)f Fm(false)p Fr(\),)h(the)g(ob)s(ject)f(matc)n(hing)g(the)h
(completion)e(\(or)149 2733 y Ft(nil)24 b Fr(if)g(unsuccessful\),)f(the)g(n)n
(um)n(b)r(er)f(of)i(matc)n(hes,)f(and)g(a)h(list)g(of)f(p)r(ossible)g
(completions)e(if)k Fs(action)g Fr(w)n(as)149 2800 y Ft(:possibilities)p
Fr(.)149 2933 y(This)18 b(function)f(is)i(one)e(that)g(will)i(t)n(ypically)g
(b)r(e)f(passed)f(as)h(the)f(second)g(argumen)n(t)e(to)j Ft(complete-input)p
Fr(.)49 3066 y Fj(\))45 b Ft(with-accept-help)30 b Fs(options)20
b Ft(&body)30 b Fs(b)m(o)m(dy)1140 b Fr([)p Fs(Macr)m(o)s Fr(])149
3185 y(Binds)15 b(the)f(dynamic)g(en)n(vironmen)n(t)g(to)g(con)n(trol)h(the)f
(do)r(cumen)n(tation)d(pro)r(duced)i(b)n(y)i(help)g(and)g(p)r(ossibilities)
149 3251 y(gestures)k(during)h(user)h(input)g(in)g(calls)h(to)f
Ft(accept)h Fr(with)f(the)f(dynamic)g(scop)r(e)g(of)h Fs(b)m(o)m(dy)p
Fr(.)36 b Fs(b)m(o)m(dy)23 b Fr(ma)n(y)e(ha)n(v)n(e)149 3317
y(zero)c(or)g(more)g(declarations)f(as)i(its)g(\014rst)f(forms.)149
3450 y Fs(options)g Fr(is)g(a)f(list)g(of)g(option)f(sp)r(eci\014cations.)21
b(Eac)n(h)16 b(sp)r(eci\014cation)d(is)k(itself)f(a)g(list)g(of)g(the)f(form)
g Fs(\(help-option)p eop
%%Page: 255 270
bop 149 16 a Fm(CHAPTER)16 b(24.)43 b(INPUT)17 b(EDITING)h(AND)g(COMPLETION)f
(F)-6 b(A)n(CILITIES)488 b Fr(255)149 210 y Fs(help-string\))p
Fr(.)39 b Fs(help-option)25 b Fr(is)e(either)e(a)h(sym)n(b)r(ol)g(that)f(is)i
(a)f Fs(help-typ)m(e)j Fr(or)d(a)h(list)f(of)h(the)e(form)g
Fs(\(help-typ)m(e)149 276 y(mo)m(de-\015ag\))p Fr(.)149 409
y Fs(help-typ)m(e)f Fr(m)n(ust)d(b)r(e)h(one)f(of:)232 597
y Fj(\017)27 b Ft(:top-level-help)p Fr(|sp)r(eci\014es)16 b(that)f
Fs(help-string)j Fr(b)r(e)e(used)f(instead)g(of)h(the)g(default)f(help)h(do)r
(cumen-)287 663 y(tation)h(pro)n(vided)h(b)n(y)h Ft(accept)p
Fr(.)232 774 y Fj(\017)27 b Ft(:subhelp)p Fr(|sp)r(eci\014es)14
b(that)f Fs(help-string)k Fr(b)r(e)d(used)h(in)g(addition)f(to)g(the)g
(default)g(help)g(do)r(cumen)n(tation)287 841 y(pro)n(vided)k(b)n(y)h
Ft(accept)p Fr(.)149 1029 y Fs(mo)m(de-\015ag)h Fr(m)n(ust)d(b)r(e)g(one)h
(of:)232 1217 y Fj(\017)27 b Ft(:append)p Fr(|sp)r(eci\014es)18
b(that)g(the)h(curren)n(t)f(help)h(string)f(b)r(e)h(app)r(ended)d(to)j(an)n
(y)h(previous)e(help)i(strings)287 1283 y(of)e(the)f(same)g(help)h(t)n(yp)r
(e.)24 b(This)18 b(is)h(the)e(default)g(mo)r(de.)232 1394 y
Fj(\017)27 b Ft(:override)p Fr(|sp)r(eci\014es)18 b(that)g(the)g(curren)n(t)f
(help)h(string)g(is)i(the)e(help)g(for)h(this)f(help)h(t)n(yp)r(e;)g(no)g(lo)
n(w)n(er-)287 1460 y(lev)n(el)k(calls)g(to)e Ft(with-accept-help)j
Fr(can)d(o)n(v)n(erride)h(this.)37 b(\()p Ft(:override)23 b
Fr(w)n(orks)f(from)f(the)g(out-side)287 1527 y(in.\))232 1638
y Fj(\017)27 b Ft(:establish-unless-overridden)p Fr(|sp)r(eci\014es)c(that)g
(the)f(curren)n(t)g(help)h(string)f(b)r(e)g(the)h(help)g(for)287
1704 y(this)g(help)f(t)n(yp)r(e)g(unless)h(a)f(higher-lev)n(el)h(call)h(to)e
Ft(with-accept-help)i Fr(has)e(already)g(established)g(a)287
1770 y(help)14 b(string)f(for)h(this)g(help)g(t)n(yp)r(e)f(in)i(the)e
Ft(:override)i Fr(mo)r(de.)21 b(This)15 b(is)f(what)g Ft(accept)g
Fr(uses)g(to)f(establish)287 1837 y(the)k(default)g(help.)149
2025 y Fs(help-string)j Fr(is)f(a)f(string)f(or)g(a)i(function)d(that)h
(returns)f(a)i(string.)24 b(If)18 b(it)h(is)f(a)g(function,)f(it)i(receiv)n
(es)e(three)f(ar-)149 2091 y(gumen)n(ts,)e(the)h(stream,)f(an)h(action)g
(\(either)f Ft(:help)i Fr(or)f Ft(:possibilities)p Fr(\))h(and)g(the)e(help)i
(string)e(generated)149 2158 y(so)k(far.)149 2291 y(None)f(of)h(the)f
(argumen)n(ts)f(is)i(ev)m(aluated.)p eop
%%Page: 256 271
bop 149 691 a Fl(Chapter)46 b(25)149 1034 y Fq(Men)l(u)52 b(F)-13
b(acilities)149 1388 y Fo(Ma)t(jor)28 b(issue:)79 b Fm(There)22
b(is)j(a)f(general)e(issue)i(ab)r(out)e(ho)n(w)i(these)f(men)n(us)f(\014t)i
(in)g(with)g(the)f(men)n(us)g(that)149 1455 y(migh)n(t)18 b(b)r(e)h(pro)n
(vided)g(b)n(y)h(the)e(underlying)h(to)r(olkit.)27 b(F)-5 b(or)20
b(example,)f(under)f(what)g(circumstances)e(is)k(CLIM)149 1521
y(allo)n(w)n(ed)13 b(to)f(directly)h(use)f(the)g(men)n(u)g(facilities)g(pro)n
(vided)h(b)n(y)g(the)f(host?)22 b(Should)12 b Ft(:leave-menu-visible)30
b(t)149 1588 y Fm(in)n(teract)16 b(with)i(the)g(\\pushpin")e(facilit)n(y)j
(pro)n(vided)f(b)n(y)h(Op)r(enLo)r(ok?)j(|)d(SWM)49 1721 y
Fj(\))45 b Ft(menu-choose)29 b Fs(items)20 b Ft(&key)30 b Fs(asso)m(ciate)m
(d-window)21 b(printer)g(pr)m(esentation-typ)m(e)i(default-item)f
(default-style)149 1787 y(lab)m(el)j(c)m(ache)g(unique-id)f(id-test)h(c)m
(ache-value)h(c)m(ache-test)g(max-width)f(max-height)g(n-r)m(ows)f(n-c)m
(olumns)g(x-)149 1853 y(sp)m(acing)d(y-sp)m(acing)g(c)m(el)s(l-align-x)g(c)m
(el)s(l-align-y)h(p)m(ointer-do)m(cumentation)316 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 2053 y(Displa)n(ys)17
b(a)g(men)n(u)f(whose)g(c)n(hoices)f(are)h(giv)n(en)h(b)n(y)h(the)e(elemen)n
(ts)e(of)j(the)f(sequence)f Fs(items)p Fr(.)25 b(It)16 b(returns)f(three)149
2119 y(v)m(alues:)23 b(the)16 b(v)m(alue)h(of)f(the)g(c)n(hosen)f(item,)i
(the)e(item)h(itself,)h(and)f(the)g(p)r(oin)n(ter)f(button)g(ev)n(en)n(t)i
(corresp)r(onding)149 2185 y(to)h(the)g(gesture)f(that)h(the)g(user)g(used)g
(to)g(select)g(it.)27 b(If)19 b(the)f(user)g(ab)r(orts)f(out)h(of)h(the)f
(men)n(u,)g(a)h(single)g(v)m(alue)149 2252 y(is)f(returned,)e
Ft(nil)p Fr(.)149 2385 y Fs(items)k Fr(is)g(a)f(sequence)e(of)i(men)n(u)g
(items.)26 b(Eac)n(h)19 b(men)n(u)f(item)g(has)h(a)g(visual)h(represen)n
(tation)c(deriv)n(ed)j(from)f(a)149 2451 y(displa)n(y)f(ob)s(ject,)f(an)g(in)
n(ternal)h(represen)n(tation)c(that)j(is)h(a)g(v)m(alue)f(ob)s(ject,)g(and)g
(a)h(set)f(of)h(men)n(u)f(item)f(options.)149 2518 y(The)i(form)g(of)h(a)g
(men)n(u)g(item)f(is)h(one)g(of)g(the)f(follo)n(wing:)232 2678
y Fj(\017)27 b Fr(An)18 b(atom.)23 b(The)18 b(item)f(is)h(b)r(oth)f(the)g
(displa)n(y)i(ob)s(ject)e(and)g(the)h(v)m(alue)g(ob)s(ject.)232
2778 y Fj(\017)27 b Fr(A)20 b(cons.)30 b(The)20 b Ft(car)h
Fr(is)f(the)g(displa)n(y)h(ob)s(ject)d(and)i(the)f Ft(cdr)i
Fr(is)g(the)e(v)m(alue)h(ob)s(ject.)29 b(The)20 b(v)m(alue)g(ob)s(ject)287
2845 y(m)n(ust)c(b)r(e)g(an)h(atom.)22 b(If)17 b(y)n(ou)h(need)e(to)g(return)
f(a)i(list)h(as)e(the)h(v)m(alue,)g(use)f(the)g(:v)m(alue)i(option)e(in)h
(the)f(list)287 2911 y(men)n(u)h(item)g(format)f(describ)r(ed)g(b)r(elo)n(w.)
232 3011 y Fj(\017)27 b Fr(A)20 b(list.)31 b(The)20 b Ft(car)h
Fr(is)f(the)g(displa)n(y)h(ob)s(ject)d(and)i(the)f(cdr)h(is)g(a)g(list)h(of)f
(alternating)e(option)h(k)n(eyw)n(ords)287 3077 y(and)k(v)m(alues.)39
b(The)23 b(v)m(alue)g(ob)s(ject)f(is)i(sp)r(eci\014ed)d(with)i(the)g(k)n(eyw)
n(ord)g Ft(:value)h Fr(and)f(defaults)f(to)g(the)287 3144 y(displa)n(y)d(ob)s
(ject)e(if)h Ft(:value)h Fr(is)g(not)e(presen)n(t.)149 3305
y(The)g(men)n(u)h(item)f(options)g(are:)232 3466 y Fj(\017)27
b Ft(:value)p Fr(|sp)r(eci\014es)17 b(the)g(v)m(alue)h(ob)s(ject.)1262
3632 y(256)p eop
%%Page: 257 272
bop 149 16 a Fm(CHAPTER)16 b(25.)43 b(MENU)17 b(F)-6 b(A)n(CILITIES)1311
b Fr(257)232 210 y Fj(\017)27 b Ft(:style)p Fr(|sp)r(eci\014es)11
b(the)h(text)g(st)n(yle)g(used)g(to)g Ft(princ)h Fr(the)f(displa)n(y)h(ob)s
(ject)e(when)g(neither)g Fs(pr)m(esentation-)287 276 y(typ)m(e)20
b Fr(nor)d Fs(printer)k Fr(is)d(supplied.)232 387 y Fj(\017)27
b Ft(:items)p Fr(|sp)r(eci\014es)17 b(a)h(sequence)f(of)h(men)n(u)f(items)g
(for)g(a)h(sub-men)n(u)f(used)h(if)h(this)e(item)h(is)g(selected.)232
497 y Fj(\017)27 b Ft(:documentation)p Fr(|asso)r(ciates)22
b(some)g(do)r(cumen)n(tation)d(with)24 b(the)e(men)n(u)h(item.)39
b(When)22 b Fs(:p)m(ointer-)287 564 y(do)m(cumentation)g Fr(is)c(not)g
Ft(nil)p Fr(,)h(this)f(will)h(b)r(e)f(used)f(as)h(p)r(oin)n(ter)f(do)r(cumen)
n(tation)d(for)k(the)f(item.)232 674 y Fj(\017)27 b Ft(:active)p
Fr(|when)22 b Fm(true)f Fr(\(the)f(default\),)i(this)g(item)f(is)h(activ)n
(e.)36 b(When)21 b Fm(false)p Fr(,)i(the)e(item)g(is)h(inactiv)n(e,)287
741 y(and)d(cannot)f(b)r(e)g(selected.)27 b(CLIM)19 b(will)h(generally)f(pro)
n(vide)g(some)f(visual)i(indication)e(that)g(an)i(item)287
807 y(is)f(inactiv)n(e,)f(suc)n(h)g(as)g(b)n(y)h(\\gra)n(ying)e(o)n(v)n(er")i
(the)e(item.)232 918 y Fj(\017)27 b Ft(:type)p Fr(|sp)r(eci\014es)22
b(the)h(t)n(yp)r(e)g(of)h(the)e(item.)40 b Ft(:item)24 b Fr(\(the)f
(default\))f(indicates)g(that)g(the)h(item)f(is)j(a)287 984
y(normal)18 b(men)n(u)g(item.)26 b Ft(:label)20 b Fr(indicates)e(that)g(the)g
(item)g(is)h(simply)g(an)g(inactiv)n(e)g(lab)r(el;)h(lab)r(els)e(will)287
1051 y(not)h(b)r(e)h(\\gra)n(y)n(ed)f(o)n(v)n(er".)31 b Ft(:separator)21
b Fr(indicates)e(that)g(the)h(item)f(serv)n(es)g(as)h(a)g(separator)e(b)r(et)
n(w)n(een)287 1117 y(groups)f(of)h(other)f(items;)g(separator)e(items)i(will)
j(usually)e(b)r(e)g(dra)n(wn)f(as)h(a)g(horizon)n(tal)f(line.)149
1305 y(The)26 b(visual)h(represen)n(tation)c(of)k(an)f(item)f(dep)r(ends)g
(on)h(the)g Fs(printer)i Fr(and)e Fs(pr)m(esentation-typ)m(e)31
b Fr(k)n(eyw)n(ord)149 1372 y(argumen)n(ts.)i(If)22 b Fs(pr)m(esentation-typ)
m(e)27 b Fr(is)22 b(supplied,)h(the)e(visual)h(represen)n(tation)d(is)k(pro)r
(duced)c(b)n(y)k Ft(present)149 1438 y Fr(of)j(the)f(men)n(u)g(item)g(with)h
(that)e(presen)n(tation)g(t)n(yp)r(e.)48 b(Otherwise,)27 b(if)f
Fs(printer)i Fr(is)f(supplied,)h(the)d(visual)149 1505 y(represen)n(tation)15
b(is)j(pro)r(duced)e(b)n(y)j(the)e Fs(printer)k Fr(function,)c(whic)n(h)h
(receiv)n(es)g(t)n(w)n(o)g(argumen)n(ts,)e(the)h Fs(item)j
Fr(and)149 1571 y(a)k Fs(str)m(e)m(am)i Fr(to)d(do)h(output)e(on.)42
b(The)24 b Fs(printer)i Fr(function)c(should)i(output)e(some)g(text)i(or)f
(graphics)g(at)g(the)149 1638 y(stream's)f(cursor)g(p)r(osition,)j(but)f
(need)f(not)g(call)i Ft(present)p Fr(.)43 b(If)25 b(neither)d
Fs(pr)m(esentation-typ)m(e)29 b Fr(nor)23 b Fs(printer)149
1704 y Fr(is)e(supplied,)g(the)f(visual)h(represen)n(tation)d(is)j(pro)r
(duced)d(b)n(y)k Ft(princ)f Fr(of)g(the)f(displa)n(y)h(ob)s(ject.)31
b(Note)19 b(that)h(if)149 1770 y Fs(pr)m(esentation-typ)m(e)27
b Fr(or)c Fs(printer)i Fr(is)f(supplied,)g(the)e(visual)i(represen)n(tation)c
(is)k(pro)r(duced)c(from)i(the)g(en)n(tire)149 1837 y(men)n(u)c(item,)h(not)f
(just)g(from)g(the)h(displa)n(y)h(ob)s(ject.)26 b(CLIM)18 b(implemen)n
(tations)e(are)j(free)f(to)h(use)f(the)h(men)n(us)149 1903
y(pro)n(vided)e(b)n(y)i(the)e(underlying)g(windo)n(w)h(system)e(when)h(p)r
(ossible;)g(this)h(is)g(lik)n(ely)i(to)d(b)r(e)g(the)g(case)g(when)g(the)149
1970 y(prin)n(ter)g(and)h(presen)n(tation-t)n(yp)r(e)d(are)i(the)g(default,)h
(and)f(no)h(other)f(options)g(are)g(supplied.)149 2102 y Fs(asso)m(ciate)m
(d-window)i Fr(is)f(the)f(CLIM)g(windo)n(w)g(with)h(whic)n(h)f(the)g(men)n(u)
f(is)i(asso)r(ciated.)k(This)17 b(defaults)f(to)h(the)149 2169
y(top-lev)n(el)h(windo)n(w)h(of)f(the)f(curren)n(t)f(application)h(frame.)149
2302 y Fs(default-item)j Fr(is)f(the)e(men)n(u)g(item)g(where)h(the)f(mouse)f
(will)k(app)r(ear.)149 2435 y Fs(default-style)g Fr(is)e(a)g(text)g(st)n(yle)
g(that)f(de\014nes)g(ho)n(w)h(the)g(men)n(u)f(items)g(are)g(presen)n(ted.)149
2567 y Fs(lab)m(el)j Fr(is)e(a)h(string)e(to)h(whic)n(h)g(the)f(men)n(u)g
(title)h(will)i(b)r(e)d(set.)149 2700 y Fs(printer)26 b Fr(is)f(a)f(function)
f(of)h(t)n(w)n(o)g(argumen)n(ts)e(used)h(to)h(prin)n(t)g(the)f(men)n(u)h
(items)f(in)h(the)g(men)n(u.)41 b(The)24 b(t)n(w)n(o)149 2767
y(argumen)n(ts)15 b(are)j(the)f(men)n(u)g(item)g(and)h(the)f(stream)f(to)i
(output)e(it)i(on.)25 b(It)18 b(has)f(dynamic)g(exten)n(t.)149
2899 y Fs(pr)m(esentation-typ)m(e)22 b Fr(sp)r(eci\014es)16
b(the)i(presen)n(tation)d(t)n(yp)r(e)j(of)g(the)f(men)n(u)g(items.)149
3032 y Fs(c)m(ache)j Fr(is)e(a)g(b)r(o)r(olean)e(that)h(indicates)f(whether)h
(CLIM)g(should)g(cac)n(he)g(this)h(men)n(u)f(for)g(later)g(use.)24
b(\(Cac)n(hing)149 3099 y(men)n(us)d(migh)n(t)g(sp)r(eed)g(up)h(later)f(uses)
h(of)g(the)f(same)g(men)n(u.\))36 b(If)22 b Fs(c)m(ache)j Fr(is)e
Fm(true)p Fr(,)f(then)f Fs(unique-id)i Fr(and)f Fs(id-)149
3165 y(test)f Fr(serv)n(e)f(to)f(uniquely)i(iden)n(tify)f(this)g(men)n(u.)29
b(When)20 b(cac)n(he)f(is)h Fm(true)p Fr(,)g Fs(unique-id)h
Fr(defaults)e(to)g Fs(items)p Fr(,)j(but)149 3232 y(programmer)o(s)f(will)27
b(generally)d(wish)h(to)f(sp)r(ecify)g(a)h(more)e(e\016cien)n(t)h(tag.)45
b Fs(id-test)26 b Fr(is)f(a)g(function)e(of)i(t)n(w)n(o)149
3298 y(argumen)n(ts)18 b(used)h(to)h(compare)e(unique-ids,)k(whic)n(h)f
(defaults)e(to)h Ft(equal)p Fr(.)33 b Fs(c)m(ache-value)24
b Fr(is)d(the)e(v)m(alue)i(that)149 3364 y(is)d(used)g(to)f(indicate)g(that)g
(a)h(cac)n(hed)f(men)n(u)g(is)i(still)g(v)m(alid.)25 b(It)18
b(defaults)f(to)h Fs(items)p Fr(,)h(but)f(programmer)o(s)d(ma)n(y)149
3431 y(wish)j(to)f(supply)h(a)g(more)e(e\016cien)n(t)h(cac)n(he)g(v)m(alue)h
(than)f(that.)23 b Fs(c)m(ache-test)e Fr(is)e(a)f(function)e(of)i(t)n(w)n(o)g
(argumen)n(ts)p eop
%%Page: 258 273
bop 149 16 a Fm(CHAPTER)16 b(25.)43 b(MENU)17 b(F)-6 b(A)n(CILITIES)1311
b Fr(258)149 210 y(that)17 b(is)i(used)f(to)h(compare)d(cac)n(he)i(v)m
(alues,)h(whic)n(h)f(defaults)g(to)g Ft(equal)p Fr(.)27 b(Both)18
b Fs(c)m(ache-value)k Fr(and)d Fs(unique-id)149 276 y Fr(ha)n(v)n(e)f
(dynamic)f(exten)n(t.)149 409 y Fs(max-width)i Fr(and)e Fs(max-height)j
Fr(sp)r(ecify)d(the)g(maxim)n(um)f(width)h(and)h(heigh)n(t)f(of)h(the)f(men)n
(u,)g(in)h(device)g(units.)149 475 y(They)g(can)f(b)r(e)g(o)n(v)n(erridden)h
(b)n(y)h Fs(n-r)m(ows)f Fr(and)g Fs(n-c)m(olumns)p Fr(.)149
608 y Fs(n-r)m(ows)g Fr(and)g Fs(n-c)m(olumns)h Fr(sp)r(ecify)e(the)h(n)n(um)
n(b)r(er)e(of)i(ro)n(ws)g(and)g(columns)e(in)j(the)e(men)n(u.)149
741 y Fs(x-sp)m(acing)h Fr(sp)r(eci\014es)e(the)h(amoun)n(t)f(of)h(space)f
(to)i(b)r(e)e(inserted)g(b)r(et)n(w)n(een)g(columns)g(of)i(the)f(table;)g
(the)g(default)149 807 y(is)24 b(the)e(width)i(of)f(a)h(space)e(c)n
(haracter.)38 b(It)24 b(is)g(sp)r(eci\014ed)d(the)i(same)f(w)n(a)n(y)j(as)e
(the)g Ft(:x-spacing)h Fr(option)f(to)149 874 y Ft(formatting-table)p
Fr(.)149 1007 y Fs(y-sp)m(acing)d Fr(sp)r(eci\014es)d(the)h(amoun)n(t)g(of)g
(blank)h(space)f(inserted)g(b)r(et)n(w)n(een)f(ro)n(ws)i(of)g(the)f(table;)h
(the)f(default)g(is)149 1073 y(the)h(v)n(ertical)g(spacing)g(for)g(the)g
(stream.)27 b(The)19 b(p)r(ossible)g(v)m(alues)g(for)g(this)h(option)f(are)g
(the)f(same)h(as)g(for)g(the)149 1139 y Fs(:y-sp)m(acing)g
Fr(option)e(to)h Ft(formatting-table)p Fr(.)149 1272 y Fs(c)m(el)s(l-align-x)
j Fr(sp)r(eci\014es)d(the)h(horizon)n(tal)f(placemen)n(t)g(of)h(the)g(con)n
(ten)n(ts)f(of)i(the)e(cell.)30 b(Can)19 b(b)r(e)g(one)g(of)h
Ft(:left)p Fr(,)149 1339 y Ft(:right)p Fr(,)k(or)e Ft(:center)p
Fr(.)37 b(The)22 b(default)f(is)i Ft(:left)p Fr(.)37 b(The)22
b(seman)n(tics)e(are)i(the)f(same)g(as)h(for)f(the)h Ft(:align-x)149
1405 y Fr(option)17 b(to)h Ft(formatting-cell)p Fr(.)149 1538
y Fs(c)m(el)s(l-align-y)27 b Fr(sp)r(eci\014es)c(the)h(v)n(ertical)h
(placemen)n(t)e(of)h(the)h(con)n(ten)n(ts)e(of)i(the)f(cell.)46
b(Can)24 b(b)r(e)g(one)h(of)g Ft(:top)p Fr(,)149 1604 y Ft(:bottom)p
Fr(,)f(or)e Ft(:center)p Fr(.)37 b(The)22 b(default)f(is)i
Ft(:top)p Fr(.)37 b(The)22 b(seman)n(tics)e(are)i(the)f(same)g(as)h(for)f
(the)h Ft(:align-y)149 1671 y Fr(option)17 b(to)h Ft(formatting-cell)p
Fr(.)149 1804 y Fs(p)m(ointer-do)m(cumentatio)q(n)f Fr(is)d(either)e
Ft(nil)i Fr(\(the)e(default\),)h(meaning)f(that)g(no)h(p)r(oin)n(ter)f(do)r
(cumen)n(tation)d(should)149 1870 y(b)r(e)17 b(computed,)f(or)h(a)i(stream)c
(on)j(whic)n(h)h(p)r(oin)n(ter)d(do)r(cumen)n(tation)f(should)i(b)r(e)h
(displa)n(y)n(ed.)49 2003 y Fj(\))45 b Ft(menu-choose-from-drawer)30
b Fs(menu)16 b(typ)m(e)g(dr)m(awer)g Ft(&key)30 b Fs(x-p)m(osition)15
b(y-p)m(osition)h(c)m(ache)h(unique-id)e(id-test)149 2069 y(c)m(ache-value)22
b(c)m(ache-test)h(default-pr)m(esentation)h(p)m(ointer-do)m(cumentatio)q(n)
252 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2188 y(This)k(is)h(a)g(a)
f(lo)n(w)n(er-lev)n(el)i(routine)d(for)h(displa)n(ying)h(men)n(us.)49
b(It)26 b(allo)n(ws)h(the)f(programmer)c(m)n(uc)n(h)k(more)149
2255 y(\015exibilit)n(y)15 b(in)g(the)f(men)n(u)f(la)n(y)n(out.)24
b(Unlik)n(e)15 b Ft(menu-choose)p Fr(,)h(whic)n(h)f(automatically)d(creates)g
(and)i(la)n(ys)h(out)e(the)149 2321 y(men)n(u,)k Ft(menu-choose-from-drawer)i
Fr(tak)n(es)e(a)g(programmer-pro)n(vided)d(windo)n(w)j(and)g(dra)n(wing)g
(function.)149 2388 y(The)g(dra)n(wing)h(function)e(is)j(resp)r(onsible)d
(for)h(dra)n(wing)h(the)f(con)n(ten)n(ts)f(of)i(the)f(men)n(u;)h(generally)f
(it)h(will)h(b)r(e)f(a)149 2454 y(lexical)g(closure)f(that)g(closes)h(o)n(v)n
(er)g(the)f(men)n(u)h(items.)149 2587 y Ft(menu-choose-from-drawer)f
Fr(dra)n(ws)e(the)g(men)n(u)g(items)g(in)n(to)g(that)g(windo)n(w)h(using)f
(the)g(dra)n(wing)g(function.)149 2653 y(The)20 b(dra)n(wing)g(function)g
(gets)f(called)i(with)f(t)n(w)n(o)h(argumen)n(ts,)f Fs(str)m(e)m(am)i
Fr(and)e Fs(typ)m(e)p Fr(.)34 b(It)21 b(can)f(use)g Fs(typ)m(e)i
Fr(for)e(its)149 2720 y(o)n(wn)e(purp)r(oses,)e(suc)n(h)i(as)g(using)g(it)g
(as)g(the)f(t)n(yp)r(e)h(argumen)n(t)e(in)i(a)g(call)h(to)f
Ft(present)p Fr(.)149 2852 y Ft(menu-choose-from-drawer)j Fr(returns)c(t)n(w)
n(o)j(v)m(alues:)27 b(the)19 b(ob)s(ject)f(the)g(user)h(clic)n(k)n(ed)h(on,)g
(and)f(the)g(p)r(oin)n(ter)149 2919 y(button)d(ev)n(en)n(t.)25
b(If)18 b(the)f(user)h(ab)r(orts)e(out)h(of)h(the)g(men)n(u,)f(a)h(single)g
(v)m(alue)g(is)h(returned,)d Ft(nil)p Fr(.)149 3052 y Fs(menu)21
b Fr(is)g(a)f(CLIM)g(windo)n(w)h(to)e(use)h(for)g(the)g(men)n(u.)30
b(This)20 b(argumen)n(t)e(ma)n(y)i(b)r(e)g(sp)r(ecialized)f(to)g(pro)n(vide)i
(a)149 3118 y(di\013eren)n(t)c(lo)r(ok-and-feel)h(for)f(di\013eren)n(t)h
(host)f(windo)n(w)h(systems.)149 3251 y Fs(typ)m(e)j Fr(is)g(a)f(presen)n
(tation)e(t)n(yp)r(e)i(sp)r(eci\014er)e(for)i(eac)n(h)f(of)i(the)e
(mouse-sensitiv)n(e)g(items)g(in)h(the)g(men)n(u.)30 b(This)20
b(is)149 3317 y(the)h(input)h(con)n(text)e(that)h(will)j(b)r(e)d(established)
f(once)i(the)f(men)n(u)g(is)i(displa)n(y)n(ed.)37 b(F)-5 b(or)22
b(programmers)c(who)149 3384 y(don't)f(need)g(to)h(de\014ne)f(their)g(o)n(wn)
i(t)n(yp)r(es,)e(a)h(useful)g(presen)n(tation)e(t)n(yp)r(e)h(is)i
Ft(menu-item)p Fr(.)p eop
%%Page: 259 274
bop 149 16 a Fm(CHAPTER)16 b(25.)43 b(MENU)17 b(F)-6 b(A)n(CILITIES)1311
b Fr(259)149 210 y Fs(dr)m(awer)18 b Fr(is)e(a)g(function)f(that)g(tak)n(es)h
(t)n(w)n(o)g(argumen)n(ts,)e Fs(str)m(e)m(am)k Fr(and)e Fs(typ)m(e)p
Fr(,)i(dra)n(ws)e(the)f(con)n(ten)n(ts)g(of)h(the)f(men)n(u.)149
276 y(It)j(has)f(dynamic)g(exten)n(t.)149 409 y Fs(x-p)m(osition)22
b Fr(and)e Fs(y-p)m(osition)i Fr(are)f(the)f(requested)f Fn(x)i
Fr(and)g Fn(y)i Fr(p)r(ositions)d(of)h(the)f(men)n(u.)33 b(They)21
b(ma)n(y)f(b)r(e)h Ft(nil)p Fr(,)149 475 y(meaning)16 b(that)h(the)g(p)r
(osition)g(is)i(unsp)r(eci\014ed.)149 608 y(If)26 b Fs(le)m(ave-menu-visible)
k Fr(is)d Fm(true)p Fr(,)h(the)d(windo)n(w)i(will)g(not)f(b)r(e)f(deexp)r
(osed)f(once)i(the)f(selection)g(has)h(b)r(een)149 674 y(made.)j(The)20
b(default)f(is)i Fm(false)p Fr(,)f(meaning)f(that)g(the)g(windo)n(w)i(will)g
(b)r(e)f(deexp)r(osed)e(once)h(the)g(selection)g(has)149 741
y(b)r(een)d(made.)149 874 y Fs(default-pr)m(esentation)22 b
Fr(is)e(used)d(to)h(iden)n(tify)h(the)f(presen)n(tation)e(that)h(the)h(mouse)
f(is)i(p)r(oin)n(ting)e(to)h(when)g(the)149 940 y(men)n(u)f(comes)f(up.)149
1073 y Fs(c)m(ache)p Fr(,)21 b Fs(unique-id)p Fr(,)e Fs(id-test)p
Fr(,)h Fs(c)m(ache-value)p Fr(,)i(and)17 b Fs(c)m(ache-test)k
Fr(are)d(as)g(for)f Ft(menu-choose)p Fr(.)49 1206 y Fj(\))45
b Ft(draw-standard-menu)30 b Fs(str)m(e)m(am)19 b(pr)m(esentation-typ)m(e)i
(items)d(default-item)i Ft(&key)29 b Fs(item-printer)20 b(max-width)149
1272 y(max-height)c(n-r)m(ows)e(n-c)m(olumns)h(inter-c)m(olumn-sp)m(acing)i
(inter-r)m(ow-sp)m(acing)g(c)m(el)s(l-align-x)f(c)m(el)s(l-align-y)31
b Fr([)p Fs(F)l(unction)t Fr(])149 1472 y Ft(draw-standard-menu)19
b Fr(is)g(the)e(function)g(used)g(b)n(y)i(CLIM)f(to)g(dra)n(w)g(the)f(con)n
(ten)n(ts)g(of)h(a)g(men)n(u,)g(unless)f(the)149 1538 y(curren)n(t)h(frame)h
(manager)e(determines)h(that)h(host)g(windo)n(w)h(to)r(olkit)g(should)g(b)r
(e)f(used)g(to)h(dra)n(w)g(the)g(men)n(u)149 1604 y(instead.)i
Fs(str)m(e)m(am)c Fr(is)d(the)g(stream)e(on)n(to)i(whic)n(h)g(to)g(dra)n(w)g
(the)g(men)n(u,)g Fs(pr)m(esentation-typ)m(e)20 b Fr(is)15
b(the)g(presen)n(tation)149 1671 y(t)n(yp)r(e)g(to)h(use)f(for)h(the)f(men)n
(u)g(items)g(\(usually)h Ft(menu-item)p Fr(\),)h(and)e Fs(item-printer)20
b Fr(is)c(a)g(function)f(used)g(to)h(dra)n(w)149 1737 y(eac)n(h)h(item.)24
b Fs(item-printer)d Fr(defaults)c(to)h Ft(print-menu-item)p
Fr(.)149 1870 y Fs(items)p Fr(,)h Fs(default-item)p Fr(,)j
Fs(max-width)p Fr(,)d Fs(max-height)p Fr(,)i Fs(n-r)m(ows)p
Fr(,)f Fs(n-c)m(olumns)p Fr(,)f Fs(inter-c)m(olumn-sp)m(acing)p
Fr(,)k Fs(inter-r)m(ow-)149 1936 y(sp)m(acing)p Fr(,)d Fs(c)m(el)s(l-align-x)
p Fr(,)g(and)e Fs(c)m(el)s(l-align-y)i Fr(are)d(as)h(for)g
Ft(menu-choose)49 2069 y Fj(\))45 b Ft(print-menu-item)30 b
Fs(menu-item)21 b Ft(&optional)29 b Fs(str)m(e)m(am)855 b Fr([)p
Fs(F)l(unction)t Fr(])149 2188 y(Giv)n(en)16 b(a)g(men)n(u)e(item)h
Fs(menu-item)p Fr(,)j(displa)n(ys)e(it)g(on)f(the)g(stream)e
Fs(str)m(e)m(am)p Fr(.)26 b(This)16 b(is)g(the)e(function)h(that)f
Ft(menu-)149 2255 y(choose)k Fr(uses)g(to)g(displa)n(y)g(men)n(u)g(items)f
(if)h(no)g(prin)n(ter)f(is)i(supplied.)49 2388 y Fj(\))45 b
Ft(menu-item-value)30 b Fs(menu-item)1322 b Fr([)p Fs(F)l(unction)t
Fr(])149 2507 y(Returns)18 b(the)i(v)m(alue)g(of)g(the)f(men)n(u)g(item)h
Fs(menu-item)p Fr(,)i(where)e(the)f(format)f(of)i(a)h(men)n(u)e(item)g(is)i
(describ)r(ed)149 2573 y(under)c Ft(menu-choose)p Fr(.)25 b(If)19
b Fs(menu-item)g Fr(is)g(not)f(a)g(men)n(u)f(item,)g(the)h(result)f(is)h
(unsp)r(eci\014ed.)49 2706 y Fj(\))45 b Ft(menu-item-display)30
b Fs(menu-item)1264 b Fr([)p Fs(F)l(unction)t Fr(])149 2825
y(Returns)20 b(the)i(displa)n(y)h(ob)s(ject)d(of)i(the)g(men)n(u)f(item)g
Fs(menu-item)p Fr(,)26 b(where)21 b(the)g(format)f(of)i(a)h(men)n(u)e(item)g
(is)149 2891 y(describ)r(ed)16 b(under)h Ft(menu-choose)p Fr(.)25
b(If)19 b Fs(menu-item)g Fr(is)g(not)e(a)i(men)n(u)e(item,)g(the)g(result)h
(is)g(unsp)r(eci\014ed.)49 3024 y Fj(\))45 b Ft(menu-item-options)30
b Fs(menu-item)1264 b Fr([)p Fs(F)l(unction)t Fr(])149 3143
y(Returns)15 b(the)h(options)g(of)h(the)f(men)n(u)g(item)g
Fs(menu-item)p Fr(,)k(where)c(the)g(format)f(of)i(a)g(men)n(u)f(item)g(is)i
(describ)r(ed)149 3209 y(under)f Ft(menu-choose)p Fr(.)25 b(If)19
b Fs(menu-item)g Fr(is)g(not)f(a)g(men)n(u)f(item,)g(the)h(result)f(is)h
(unsp)r(eci\014ed.)49 3342 y Fj(\))45 b Ft(with-menu)29 b Fs(\(menu)20
b Ft(&optional)30 b Fs(asso)m(ciate)m(d-window)22 b Ft(&key)29
b Fs(\(de)m(exp)m(ose)21 b(t\)\))f Ft(&body)29 b Fs(b)m(o)m(dy)141
b Fr([)p Fs(Macr)m(o)s Fr(])149 3461 y(Binds)15 b Fs(menu)g
Fr(to)f(a)h(\\temp)r(orary")c(windo)n(w,)16 b(exp)r(oses)d(the)h(windo)n(w)h
(on)g(the)f(same)f(screen)g(as)h(the)g Fs(asso)m(ciate)m(d-)p
eop
%%Page: 260 275
bop 149 16 a Fm(CHAPTER)16 b(25.)43 b(MENU)17 b(F)-6 b(A)n(CILITIES)1311
b Fr(260)149 210 y Fs(window)20 b Fr(and)g(runs)f(the)g(b)r(o)r(dy)-5
b(.)30 b(After)19 b(the)g(b)r(o)r(dy)g(has)g(b)r(een)g(run,)h(the)g(windo)n
(w)g(is)h(deexp)r(osed)c(only)k(if)f(the)149 276 y(b)r(o)r(olean)c
Fs(de)m(exp)m(ose)k Fr(is)f Fm(true)e Fr(\(the)g(default\).)149
409 y(The)f(v)m(alues)g(returned)f(b)n(y)i Ft(with-menu)h Fr(are)e(the)f(v)m
(alues)i(returned)d(b)n(y)k Fs(b)m(o)m(dy)p Fr(.)25 b Fs(b)m(o)m(dy)19
b Fr(ma)n(y)d(ha)n(v)n(e)h(zero)f(or)g(more)149 475 y(declarations)g(as)i
(its)g(\014rst)f(forms.)149 608 y Fs(menu)i Fr(m)n(ust)e(b)r(e)g(a)h(v)m
(ariable)g(name.)23 b Fs(asso)m(ciate)m(d-window)e Fr(is)d(as)g(for)g
Ft(menu-choose)p Fr(.)149 741 y(None)f(of)h(the)f(argumen)n(ts)f(is)i(ev)m
(aluated.)p eop
%%Page: 261 276
bop 149 691 a Fl(Chapter)46 b(26)149 1034 y Fq(Dialog)53 b(F)-13
b(acilities)149 1388 y Fo(Ma)t(jor)26 b(issue:)73 b Fm(There)21
b(is)i(a)g(general)e(issue)h(ab)r(out)f(ho)n(w)h(these)f(dialogs)i(\014t)f
(in)h(with)f(the)g(dialogs)g(that)149 1455 y(migh)n(t)c(b)r(e)h(pro)n(vided)g
(b)n(y)h(the)e(underlying)h(to)r(olkit.)27 b(F)-5 b(or)20 b(example,)f(under)
f(what)g(circumstances)e(is)k(CLIM)149 1521 y(allo)n(w)n(ed)e(to)g(directly)g
(use)f(the)h(dialog)g(facilit)n(y)h(pro)n(vided)e(b)n(y)i(the)e(host?)24
b(|)19 b(SWM)49 1654 y Fj(\))45 b Ft(accepting-values)30 b
Fs(\()p Ft(&optional)f Fs(str)m(e)m(am)16 b Ft(&key)29 b Fs(own-window)14
b(exit-b)m(oxes)h(initial)s(ly-sele)m(ct-query-identi\014e)q(r)149
1721 y(r)m(esynchr)m(onize-every-p)m(ass)23 b(lab)m(el)e(x-p)m(osition)g(y-p)
m(osition)f(fr)m(ame-class\))h Ft(&body)30 b Fs(b)m(o)m(dy)273
b Fr([)p Fs(Macr)m(o)s Fr(])149 1840 y(Builds)21 b(a)g(dialog)g(for)g(user)f
(in)n(teraction)g(based)g(on)g(calls)i(to)e Ft(accept)i Fr(within)f
Fs(b)m(o)m(dy)p Fr(.)35 b(The)21 b(user)f(can)h(select)149
1906 y(the)f(v)m(alues)h(and)f(c)n(hange)g(them,)h(or)f(use)h(defaults)f(if)i
(they)e(are)g(supplied.)33 b(The)21 b(dialog)g(will)h(also)f(con)n(tain)149
1972 y(some)e(sort)h(of)h(\\end")e(and)i(\\ab)r(ort")d(c)n(hoices.)32
b(If)21 b(\\end")f(is)h(selected,)f(then)g Ft(accepting-values)i
Fr(returns)149 2039 y(whatev)n(er)h(v)m(alues)h(the)f(b)r(o)r(dy)g(returns.)
41 b(If)25 b(\\ab)r(ort")c(is)k(selected,)f Ft(accepting-values)i
Fr(will)g(in)n(v)n(ok)n(e)f(the)149 2105 y Ft(abort)18 b Fr(restart.)149
2238 y Fs(str)m(e)m(am)25 b Fr(is)e(an)g(in)n(teractiv)n(e)f(stream)f(that)h
Ft(accepting-values)i Fr(will)h(use)d(to)h(build)g(up)g(the)g(dialog.)39
b(The)149 2304 y Fs(str)m(e)m(am)19 b Fr(argumen)n(t)14 b(is)k(not)e(ev)m
(aluated,)g(and)h(m)n(ust)f(b)r(e)g(a)h(sym)n(b)r(ol)f(that)g(is)i(b)r(ound)d
(to)i(a)g(stream.)22 b(If)17 b Fs(str)m(e)m(am)i Fr(is)149
2371 y Ft(t)f Fr(\(the)f(default\),)g Ft(*query-io*)i Fr(is)g(used.)149
2504 y Fs(b)m(o)m(dy)29 b Fr(is)f(the)f(b)r(o)r(dy)f(of)i(the)f(dialog,)j
(whic)n(h)e(con)n(tains)f(calls)h(to)f Ft(accept)h Fr(that)f(will)i(b)r(e)e
(in)n(tercepted)e(b)n(y)149 2570 y Ft(accepting-values)d Fr(and)e(used)g(to)g
(build)h(up)g(the)e(dialog.)33 b Fs(b)m(o)m(dy)22 b Fr(ma)n(y)e(ha)n(v)n(e)i
(zero)d(or)i(more)e(declarations)149 2637 y(as)f(its)g(\014rst)f(forms.)149
2769 y(An)22 b Ft(accepting-values)i Fr(dialog)e(is)h(implemen)n(ted)d(as)j
(a)g(lo)r(oping)e(structure.)36 b(First,)24 b Fs(b)m(o)m(dy)g
Fr(is)f(ev)m(aluated)149 2836 y(in)k(order)e(to)h(collect)g(the)f(output.)49
b(While)27 b(the)e(b)r(o)r(dy)h(is)h(b)r(eing)e(ev)m(aluated,)j(all)f(calls)g
(to)f Ft(accept)h Fr(call)149 2902 y(the)17 b Ft(accept-present-default)j
Fr(presen)n(tation)c(metho)r(ds)g(instead)h(of)i(calling)f(the)g
Ft(accept)h Fr(presen)n(tation)149 2969 y(metho)r(ds.)i(The)16
b(output)f(is)i(then)e(displa)n(y)n(ed)i(\(preferably)e(using)h(incremen)n
(tal)e(redispla)n(y)j(in)f(order)g(to)g(a)n(v)n(oid)149 3035
y(unnecessary)k(redispla)n(y)j(of)g(unc)n(hanged)e(output\).)37
b(Then)22 b Ft(accepting-values)i Fr(a)n(w)n(aits)f(a)g(user)f(gesture,)149
3102 y(suc)n(h)d(as)g(clic)n(king)h(on)f(one)g(of)g(the)g(\014elds)g(of)g
(the)f(dialog.)29 b(When)18 b(the)h(user)f(clic)n(ks)i(on)f(a)h(\014eld,)g
Ft(accepting-)149 3168 y(values)h Fr(reads)e(a)i(new)f(v)m(alue)h(for)f(that)
f(\014eld)i(using)f Ft(accept)h Fr(and)f(replaces)g(the)f(old)i(v)m(alue)g
(with)f(the)g(new)149 3234 y(v)m(alue.)k(Then)18 b(the)f(lo)r(op)g(is)i
(started)d(again,)i(un)n(til)h(the)e(user)g(either)g(exits)h(or)g(ab)r(orts)e
(from)h(the)h(dialog.)149 3367 y(Because)d(of)i(this)g(lo)r(oping)f
(structure,)f Ft(accepting-values)j Fr(needs)e(to)g(b)r(e)g(able)h(to)g
(uniquely)g(iden)n(tify)g(eac)n(h)149 3434 y(call)22 b(to)g
Ft(accept)i Fr(in)e(the)g(b)r(o)r(dy)f(of)i(the)e(dialog.)38
b(The)22 b Fm(query)g(iden)n(ti\014er)f Fr(is)i(used)f(to)g(iden)n(tify)h
(the)e(calls)i(to)1262 3632 y(261)p eop
%%Page: 262 277
bop 149 16 a Fm(CHAPTER)16 b(26.)43 b(DIALOG)18 b(F)-6 b(A)n(CILITIES)1258
b Fr(262)149 210 y Ft(accept)p Fr(.)26 b(The)18 b(query)g(iden)n(ti\014er)f
(for)h(a)h(call)f(to)g Ft(accept)h Fr(is)g(computed)d(on)i(eac)n(h)g(lo)r(op)
f(through)g(the)g(dialog,)149 276 y(and)c(should)g(therefore)f(b)r(e)h(free)g
(of)g(side-e\013ects.)22 b(Query)14 b(iden)n(ti\014ers)f(are)g(compared)e
(using)i Ft(equal)p Fr(.)24 b(Inside)14 b(of)149 342 y Ft(accepting-values)p
Fr(,)19 b(programmer)o(s)14 b(should)i(supply)h(the)g Ft(:query-identifier)h
Fr(argumen)n(t)d(to)i(eac)n(h)f(call)149 409 y(to)h Ft(accept)p
Fr(.)25 b(If)17 b Ft(:query-identifier)i Fr(is)f(not)f(explicitly)h
(supplied,)g(the)e(prompt)g(for)h(that)f(call)i(to)f Ft(accept)149
475 y Fr(is)h(used)f(as)g(the)g(query)h(iden)n(ti\014er.)24
b(Th)n(us,)18 b(if)g Ft(:query-identifier)h Fr(is)f(not)f(supplied,)h
(programmers)c(m)n(ust)149 542 y(ensure)19 b(that)g(all)i(of)f(the)f(prompts)
f(are)i(di\013eren)n(t.)31 b(If)20 b(there)f(is)i(more)e(than)g(one)h(call)g
(to)g Ft(accept)h Fr(with)f(the)149 608 y(same)c(query)i(iden)n(ti\014er,)g
(the)f(b)r(eha)n(vior)g(of)h Ft(accepting-values)i Fr(is)e(unsp)r(eci\014ed.)
149 741 y(While)g(inside)g Ft(accepting-values)p Fr(,)i(calls)f(to)e
Ft(accept)i Fr(return)e(a)h(third)g(v)m(alue,)g(a)g(b)r(o)r(olean)e(\(\\c)n
(hanged-p"\))149 807 y(that)f(indicates)h(whether)f(the)g(ob)s(ject)h(is)h
(the)f(result)f(of)i(new)f(input)g(b)n(y)i(the)e(user,)g(or)h(is)g(just)f
(the)g(previously)149 874 y(supplied)h(default.)24 b(The)18
b(third)f(v)m(alue)h(will)i(b)r(e)d Fm(true)g Fr(in)i(the)e(former)f(case,)i
Fm(false)f Fr(in)i(the)e(latter.)149 1007 y Fo(Implemen)n(tation)23
b(note:)i Fr(eac)n(h)17 b(in)n(v)n(o)r(cation)g(of)h Ft(accepting-values)h
Fr(will)h(probably)d(need)g(to)g(main)n(tain)149 1073 y(a)h(table)g(that)f
(maps)g(from)h(a)g(query)g(iden)n(ti\014er)g(to)g(the)g(output)e(record)h
(for)h(the)g(\014eld)g(that)f(used)h(the)g(query)149 1139 y(iden)n(ti\014er,)
g(and)g(the)f(output)g(record)g(for)h(eac)n(h)g(\014eld)g(in)h(the)f(dialog)g
(will)i(probably)e(need)f(a)i(mapping)e(bac)n(k)149 1206 y(to)i(the)g(query)h
(iden)n(ti\014er.)30 b(A)20 b(mediating)e(ob)s(ject)g(\(a)i(\\query)f(ob)s
(ject"\))f(is)i(also)g(useful,)h(for)e(instance,)h(as)g(a)149
1272 y(place)d(to)h(store)f(the)g(\\c)n(hanged-p")f(\015ag.)149
1405 y(When)j Fs(own-window)i Fr(is)g(non-)p Ft(nil)p Fr(,)g(the)f(dialog)g
(will)h(app)r(ear)d(in)j(its)f(o)n(wn)h(\\p)r(opp)r(ed-up")c(windo)n(w.)31
b(In)21 b(this)149 1472 y(case)c(the)g(initial)i(v)m(alue)f(of)g
Fs(str)m(e)m(am)j Fr(is)d(a)h(windo)n(w)f(with)g(whic)n(h)h(the)e(dialog)h
(is)h(asso)r(ciated.)j(\(This)c(is)h(similar)149 1538 y(to)f(the)g
Fs(asso)m(ciate)m(d-window)j Fr(argumen)n(t)16 b(to)j Ft(menu-choose)p
Fr(.\))27 b(Within)18 b(the)g Fs(b)m(o)m(dy)p Fr(,)j(the)d(v)m(alue)h(of)f
Fs(str)m(e)m(am)j Fr(will)149 1604 y(b)r(e)g(the)g(\\p)r(opp)r(ed-up")f
(windo)n(w.)37 b Fs(own-window)22 b Fr(is)h(either)e Ft(t)h
Fr(or)g(a)g(list)h(of)f(alternating)e(k)n(eyw)n(ord)j(options)149
1671 y(and)15 b(v)m(alues.)24 b(The)15 b(accepted)f(options)h(are)g
Ft(:right-margin)i Fr(and)e Ft(:bottom-margin)p Fr(;)k(their)c(v)m(alues)g
(con)n(trol)149 1737 y(the)21 b(amoun)n(t)f(of)i(extra)g(space)f(to)g(the)h
(righ)n(t)f(of)i(and)e(b)r(elo)n(w)h(the)f(dialog)h(\(useful)g(if)g(the)g
(user's)f(resp)r(onses)149 1804 y(to)e(the)h(dialog)g(tak)n(e)g(up)g(more)e
(space)h(than)g(the)g(initially)j(displa)n(y)n(ed)f(defaults\).)29
b(The)19 b(allo)n(w)n(ed)i(v)m(alues)f(for)149 1870 y Ft(:right-margin)g
Fr(are)f(the)g(same)f(as)h(for)g(the)g Ft(:x-spacing)i Fr(option)d(to)h
Ft(formatting-table)p Fr(;)j(the)d(allo)n(w)n(ed)149 1936 y(v)m(alues)f(for)f
Ft(:bottom-margin)i Fr(are)f(the)f(same)g(as)h(for)g(the)f
Ft(:y-spacing)i Fr(option.)149 2069 y Fo(Minor)29 b(issue:)77
b Fm(When)23 b(the)g(programmer)d(supplies)j Ft(:right-margin)i
Fm(or)e Ft(:bottom-margin)i Fm(options)149 2136 y(in)g(the)f(o)n(wn-windo)n
(w)h(argumen)n(t,)g(ho)n(w)g(is)g(he)f(supp)r(osed)f(to)h(determine)f(what's)
h(needed?)43 b(Ho)n(w)24 b(ab)r(out)149 2202 y(pro)n(viding)17
b(an)g(option)f(to)h(p)r(ermit)e(the)h(windo)n(w)i(to)e(resize)g(itself)i
(dynamically?)23 b(There)16 b(really)i(needs)e(to)g(b)r(e)149
2269 y(a)i(ho)r(ok)f(in)n(to)h Ft(note-space-requirements-changed)j
Fm(or)c(something.)23 b(|)18 b(barmar,)f(SWM)149 2401 y Fs(exit-b)m(oxes)24
b Fr(sp)r(eci\014es)e(what)h(the)g(exit)g(b)r(o)n(xes)g(should)g(lo)r(ok)g
(lik)n(e.)42 b(The)23 b(default)g(b)r(eha)n(vior)f(is)i(though)e(the)149
2468 y(follo)n(wing)c(w)n(ere)g(supplied:)149 2656 y Ft('\(\(:exit)29
b("<End>)h(uses)f(these)g(values"\))207 2722 y(\(:abort)g("<Abort>)h
(aborts"\)\))149 2911 y Fo(Minor)c(issue:)65 b Fm(W)-5 b(e)21
b(need)f(to)h(describ)r(e)d(the)j(in)n(terpretation)d(of)i(the)g
Fs(exit-b)m(oxes)j Fm(argumen)n(t.)30 b(Are)20 b(other)149
2977 y(k)n(eyw)n(ords)f(b)r(eside)f Ft(:exit)i Fm(and)e Ft(:abort)i
Fm(p)r(ermitted,)c(suc)n(h)j(as)g Ft(:help)p Fm(?)28 b(It's)19
b(prett)n(y)g(common)d(for)j(a)g(dialog)149 3043 y(to)j(ha)n(v)n(e)i(m)n
(ultiple)e(w)n(a)n(ys)i(to)f(exit;)j(p)r(erhaps)20 b Ft(accepting-values)25
b Fm(should)d(return)f(a)i(second)f(v)m(alue)h(that)149 3110
y(indicates)16 b(whic)n(h)i(exit)g(b)r(o)n(x)f(w)n(as)h(selected.)23
b(This)18 b(alist)g(lo)r(oks)f(sort)g(of)g(lik)n(e)i(a)f(men)n(u)f(item)f
(list;)j(p)r(erhaps)c(the)149 3176 y(full)j(generalit)n(y)e(should)h(b)r(e)g
(p)r(ermitted)d(\(so)j(that)f(the)h(st)n(yle)g(of)h(the)e(exit)i(b)r(o)n(x)f
(messages)e(can)i(b)r(e)g(sp)r(eci\014ed\).)149 3243 y(The)h(text)f(strings)g
(that)g(are)h(sho)n(wn)g(in)h(the)e(default)g(v)m(alue)h(lo)r(ok)g(more)f
(lik)n(e)j(do)r(cumen)n(tation)14 b(than)j(button)149 3309
y(lab)r(els;)f(I)f(think)g(b)r(oth)f(are)g(necessary)-5 b(,)15
b(and)f(the)h(programmer)c(m)n(ust)j(b)r(e)g(able)h(to)g(\014nd)g(out)f(what)
g(the)h(default)149 3375 y(lab)r(els)j(are)g(so)h(that)e(he)i(can)f(include)g
(them)f(in)i(the)f(do)r(cumen)n(tation)d(\(rather)i(than)g(hard-co)r(ding)g
("<End>")149 3442 y(and)g("<Ab)r(ort>"\).)22 b(|)d(barmar)p
eop
%%Page: 263 278
bop 149 16 a Fm(CHAPTER)16 b(26.)43 b(DIALOG)18 b(F)-6 b(A)n(CILITIES)1258
b Fr(263)149 210 y Fs(initial)s(ly-sele)m(ct-query-identi\014er)19
b Fr(sp)r(eci\014es)12 b(that)h(a)h(particular)f(\014eld)g(in)i(the)e(dialog)
h(should)g(b)r(e)f(pre-selected)149 276 y(when)k(the)g(user)g(in)n(teraction)
g(b)r(egins.)23 b(The)18 b(\014eld)g(to)f(b)r(e)g(selected)g(is)h(tagged)e(b)
n(y)j(the)e Ft(:query-identifier)149 342 y Fr(option)h(to)g
Ft(accept)p Fr(.)29 b(When)18 b(the)g(initial)i(displa)n(y)g(is)f(output,)f
(the)h(input)f(editor)g(cursor)g(app)r(ears)f(after)g(the)149
409 y(prompt)12 b(of)i(the)g(tagged)f(\014eld,)i(just)f(as)g(if)h(the)f(user)
g(had)g(selected)f(that)g(\014eld)h(b)n(y)h(clic)n(king)h(on)e(it.)23
b(The)15 b(default)149 475 y(v)m(alue,)j(if)h(an)n(y)-5 b(,)19
b(for)f(the)f(selected)f(\014eld)i(is)h(not)e(displa)n(y)n(ed.)149
608 y Fs(r)m(esynchr)m(onize-every-p)m(ass)23 b Fr(is)d(a)g(b)r(o)r(olean)d
(option)i(sp)r(ecifying)f(whether)g(earlier)h(queries)g(dep)r(end)e(on)i
(later)149 674 y(v)m(alues;)31 b(the)26 b(default)g(is)i Fm(false)p
Fr(.)51 b(When)26 b(it)i(is)f Fm(true)p Fr(,)i(the)d(con)n(ten)n(ts)g(of)g
(the)h(dialog)g(are)f(redispla)n(y)n(ed)h(an)149 741 y(additional)17
b(time)g(after)g(eac)n(h)g(user)g(in)n(teraction.)23 b(This)18
b(has)g(the)f(e\013ect)g(of)h(ensuring)f(that,)g(when)g(the)h(v)m(alue)149
807 y(of)g(some)f(\014eld)h(of)g(a)h(dialog)f(dep)r(ends)e(on)i(the)g(v)m
(alue)g(of)h(another)d(\014eld,)j(all)g(of)f(the)g(displa)n(y)n(ed)g
(\014elds)h(will)g(b)r(e)149 874 y(up)f(to)f(date.)149 1007
y Fs(lab)m(el)j Fr(is)e(as)g(for)g Ft(menu-choose)p Fr(.)26
b Fs(x-p)m(osition)19 b Fr(and)e Fs(y-p)m(osition)j Fr(are)d(as)h(for)g
Ft(menu-choose-from-drawer)p Fr(.)49 1139 y Fj(\))45 b Ft(accept-values)1433
b Fr([)p Fs(Applic)m(ation)23 b(F)l(r)m(ame)t Fr(])149 1258
y Ft(accepting-values)15 b Fr(m)n(ust)d(b)r(e)h(implemen)n(ted)f(as)h(a)h
(CLIM)f(application)g(frame)f(that)g(uses)h Ft(accept-values)149
1325 y Fr(as)18 b(the)f(name)g(of)h(the)f(frame)f(class.)49
1458 y Fj(\))45 b Ft(display-exit-boxes)30 b Fs(fr)m(ame)21
b(str)m(e)m(am)h(view)842 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1577 y(Displa)n(ys)17 b(the)d(exits)i(b)r(o)n(xes)f(for)h(the)e
Ft(accepting-values)j Fr(frame)d Fs(fr)m(ame)k Fr(on)e(the)e(stream)g
Fs(str)m(e)m(a,)k Fr(in)e(the)f(view)149 1643 y Fs(view)p Fr(.)24
b(The)14 b(exit)h(b)r(o)n(xes)f(sp)r(eci\014cation)e(is)j(not)f(passed)f(in)i
(directly)-5 b(,)15 b(but)f(is)h(a)g(slot)f(in)h(the)f(frame.)21
b(The)15 b(default)149 1710 y(metho)r(d)f(\(on)j Ft(accept-values)p
Fr(\))h(simply)g(writes)f(a)g(line)h(of)g(text)e(asso)r(ciating)g(the)g(Exit)
i(and)f(Ab)r(ort)f(strings)149 1776 y(with)i(presen)n(tations)d(that)i
(either)g(exit)h(or)g(ab)r(ort)e(from)h(the)h(dialog.)149 1909
y(The)h Fs(fr)m(ame)p Fr(,)k Fs(str)m(e)m(am)p Fr(,)g(and)c
Fs(view)i Fr(argumen)n(ts)c(ma)n(y)j(b)r(e)f(sp)r(ecialized)g(to)g(pro)n
(vide)h(a)g(di\013eren)n(t)f(lo)r(ok-and-feel)149 1975 y(for)e(di\013eren)n
(t)h(host)f(windo)n(w)i(systems.)49 2108 y Fj(\))45 b Ft
(accept-values-resynchronize)30 b Fs(str)m(e)m(am)863 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 2227 y(Causes)i Ft(accepting-values)i
Fr(to)e(resync)n(hronizes)f(the)h(dialog)h(once)f(on)h(the)f(accepting)f(v)m
(alues)i(stream)149 2293 y Fs(str)m(e)m(am)20 b Fr(b)r(efore)c(it)i(restarts)
e(the)i(dialog)f(lo)r(op.)49 2426 y Fj(\))45 b Ft
(accept-values-command-button)30 b Fs(\()p Ft(&optional)g Fs(str)m(e)m(am)15
b Ft(&key)30 b Fs(do)m(cumentation)17 b(query-identi\014er)g(c)m(ache-)149
2493 y(value)k(c)m(ache-test)h(r)m(esynchr)m(onize\))g(pr)m(ompt)g
Ft(&body)29 b Fs(b)m(o)m(dy)893 b Fr([)p Fs(Macr)m(o)s Fr(])149
2692 y(Displa)n(ys)19 b(the)f(prompt)e Fs(pr)m(ompt)k Fr(on)e(the)g(stream)e
Fs(str)m(e)m(am)k Fr(and)e(creates)e(an)i(area)g(\(the)f(\\button"\).)22
b(When)c(a)149 2758 y(p)r(oin)n(ter)e(button)h(is)i(clic)n(k)n(ed)f(in)h
(this)f(area)f(at)h(run)n(time,)f Fs(b)m(o)m(dy)i Fr(will)h(b)r(e)d(ev)m
(aluated.)149 2891 y Ft(accept-values-command-button)26 b Fr(m)n(ust)e(b)r(e)
f(implemen)n(ted)f(b)n(y)j(expanding)f(in)n(to)g(a)h(call)g(to)f
Ft(invoke-)149 2958 y(accept-values-command-button)p Fr(,)f(supplying)d(a)h
(function)e(that)g(executes)g Fs(b)m(o)m(dy)j Fr(as)e(the)g
Fs(c)m(ontinuation)149 3024 y Fr(argumen)n(t)15 b(to)j Ft
(accept-values-command-button)p Fr(.)149 3157 y(The)23 b Fs(str)m(e)m(am)i
Fr(argumen)n(t)c(is)j(not)e(ev)m(aluated,)h(and)g(m)n(ust)f(b)r(e)h(a)g(sym)n
(b)r(ol)g(that)f(is)i(b)r(ound)d(to)i(a)g(stream.)38 b(If)149
3223 y Fs(str)m(e)m(am)23 b Fr(is)e Ft(t)g Fr(\(the)f(default\),)g
Ft(*query-io*)i Fr(is)g(used.)32 b Fs(b)m(o)m(dy)22 b Fr(ma)n(y)f(ha)n(v)n(e)
g(zero)f(or)h(more)e(declarations)g(as)h(its)149 3290 y(\014rst)d(forms.)49
3423 y Fj(\))45 b Ft(invoke-accept-values-command-button)31
b Fs(str)m(e)m(am)e(c)m(ontinuation)g(view)f(pr)m(ompt)h Ft(&key)g
Fs(do)m(cumenta-)p eop
%%Page: 264 279
bop 149 16 a Fm(CHAPTER)16 b(26.)43 b(DIALOG)18 b(F)-6 b(A)n(CILITIES)1258
b Fr(264)149 210 y Fs(tion)20 b(query-identi\014er)j(c)m(ache-value)g(c)m
(ache-test)f(r)m(esynchr)m(onize)725 b Fr([)p Fs(Metho)m(d)6
b Fr(])149 409 y(Displa)n(ys)19 b(the)f(prompt)e Fs(pr)m(ompt)k
Fr(on)e(the)g(stream)e Fs(str)m(e)m(am)k Fr(and)e(creates)e(an)i(area)g
(\(the)f(\\button"\).)22 b(When)c(a)149 475 y(p)r(oin)n(ter)e(button)f(is)j
(clic)n(k)n(ed)g(in)g(this)f(area)f(at)h(run)n(time,)f(the)h(con)n(tin)n
(uation)f(will)j(b)r(e)d(called.)24 b Fs(c)m(ontinuation)c
Fr(is)149 542 y(a)e(function)f(that)g(tak)n(es)g(no)h(argumen)n(ts.)k
Fs(view)d Fr(is)g(a)f(view.)149 674 y Fs(pr)m(ompt)j Fr(ma)n(y)e(b)r(e)g
(either)f(a)h(string)g(\(whic)n(h)g(will)i(b)r(e)d(displa)n(y)n(ed)i(via)g
Ft(write-string)p Fr(\),)h(or)e(a)g(form)f(that)g(will)149
741 y(b)r(e)f(ev)m(aluated)g(to)g(dra)n(w)h(the)g(button.)149
874 y Fs(do)m(cumentation)k Fr(is)d(an)f(ob)s(ject)f(that)h(will)i(b)r(e)e
(used)f(to)i(pro)r(duce)d(p)r(oin)n(ter)h(do)r(cumen)n(tation)e(for)j(the)g
(button.)149 940 y(It)d(defaults)g(to)g Fs(pr)m(ompt)p Fr(.)26
b(If)16 b(it)g(is)g(a)g(string,)f(the)g(string)g(itself)h(will)h(b)r(e)d
(used)h(as)h(the)f(p)r(oin)n(ter)f(do)r(cumen)n(tation.)149
1007 y(Otherwise)g(it)h(m)n(ust)f(b)r(e)g(a)h(function)f(of)h(one)g(argumen)n
(t,)e(the)i(stream)e(to)h(whic)n(h)i(the)e(do)r(cumen)n(tation)d(should)149
1073 y(b)r(e)17 b(written.)149 1206 y(When)25 b Fs(r)m(esynchr)m(onize)k
Fr(is)e Fm(true)p Fr(,)g(the)e(dialog)h(will)i(b)r(e)d(redispla)n(y)n(ed)h
(an)g(additional)f(time)g(whenev)n(er)g(the)149 1272 y(command)9
b(button)h(is)j(clic)n(k)n(ed)g(on.)22 b(See)11 b(the)h Fs(r)m(esynchr)m
(onize-every-p)m(ass)k Fr(argumen)n(t)9 b(to)j Ft(accepting-values)p
Fr(.)149 1405 y Fs(c)m(ache-value)21 b Fr(and)c Fs(c)m(ache-test)j
Fr(are)d(as)h(for)f Ft(updating-output)p Fr(.)25 b(That)17
b(is,)i Fs(c)m(ache-value)i Fr(should)c(ev)m(aluate)f(to)149
1472 y(the)g(same)g(v)m(alue)h(if)h(and)e(only)i(if)f(the)g(output)e(pro)r
(duced)g(b)n(y)j Fs(pr)m(ompt)h Fr(do)r(es)d(not)h(ev)n(er)g(c)n(hange.)23
b Fs(c)m(ache-test)d Fr(is)149 1538 y(a)c(function)g(of)h(t)n(w)n(o)g
(argumen)n(ts)d(that)h(is)j(used)e(to)g(compare)e(cac)n(he)i(v)m(alues.)24
b Fs(c)m(ache-value)c Fr(defaults)c(to)g Ft(t)h Fr(and)149
1604 y Fs(c)m(ache-test)k Fr(defaults)c(to)g Ft(eql)p Fr(.)149
1737 y(This)h(function)f(ma)n(y)h(only)g(b)r(e)g(used)f(inside)h(the)f
(dynamic)g(con)n(text)g(of)h(an)g Ft(accepting-values)p Fr(.)p
eop
%%Page: 265 280
bop 1051 1308 a Fl(P)l(art)46 b(VI)t(I)550 1651 y Fq(Building)53
b(Applications)1262 3632 y Fr(265)p eop
%%Page: 266 281
bop 149 691 a Fl(Chapter)46 b(27)149 1034 y Fq(Command)51 b(Pro)t(cessing)149
1422 y Fk(27.1)91 b(Commands)149 1609 y Fr(A)23 b Fm(command)d
Fr(is)k(an)f(ob)s(ject)e(that)h(represen)n(ts)f(a)i(user)g(in)n(teraction.)38
b(Commands)20 b(are)j(stored)e(as)i(a)g(cons)149 1676 y(of)f(the)f(command)f
(name)g(and)i(a)g(list)h(of)f(the)g(command's)d(argumen)n(ts.)35
b(All)22 b(p)r(ositional)f(argumen)n(ts)f(will)149 1742 y(b)r(e)d(represen)n
(ted)e(in)j(the)g(command)d(ob)s(ject,)h(but)i(only)g(those)f(k)n(eyw)n(ords)
h(argumen)n(ts)d(that)i(w)n(ere)h(explicitly)149 1809 y(supplied)e(b)n(y)i
(the)e(user)g(will)i(b)r(e)e(included.)24 b(When)16 b(the)g(\014rst)g(elemen)
n(t)f(of)i(the)f(cons)g(is)i Ft(apply)p Fr('ed)f(to)f(the)h(rest)149
1875 y(of)h(the)f(cons,)h(the)f(co)r(de)g(represen)n(ting)e(that)i(in)n
(teraction)g(is)h(executed.)149 2008 y(A)f Fm(partial)g(command)d
Fr(is)k(a)g(command)c(ob)s(ject)i(with)h(the)g(v)m(alue)g(of)h
Ft(*unsupplied-argument-marker*)h Fr(in)149 2074 y(place)e(of)h(an)n(y)h
(argumen)n(t)c(that)i(needs)g(to)h(b)r(e)f(\014lled)i(in.)149
2207 y(Ev)n(ery)k(command)d(is)j(named)f(b)n(y)h Fm(command)d(name)p
Fr(,)j(whic)n(h)h(is)f(a)g(sym)n(b)r(ol.)39 b(T)-5 b(o)23 b(a)n(v)n(oid)h
(collisions)f(among)149 2274 y(command)16 b(names,)i(application)g(frames)f
(should)i(reside)f(in)i(their)e(o)n(wn)h(pac)n(k)m(age;)g(for)g(example,)g
(the)f Ft(com-)149 2340 y(show-chart)h Fr(command)c(migh)n(t)i(b)r(e)h
(de\014ned)e(for)i(b)r(oth)f(a)h(spreadsheet)d(and)i(a)h(medical)f
(application.)49 2473 y Fj(\))45 b Ft(command-name)29 b Fs(c)m(ommand)1439
b Fr([)p Fs(F)l(unction)t Fr(])149 2592 y(Giv)n(en)19 b(a)f(command)d(ob)s
(ject)i Fs(c)m(ommand)p Fr(,)k(returns)16 b(the)h(command)f(name.)49
2725 y Fj(\))45 b Ft(command-arguments)30 b Fs(c)m(ommand)1293
b Fr([)p Fs(F)l(unction)t Fr(])149 2844 y(Giv)n(en)19 b(a)f(command)d(ob)s
(ject)i Fs(c)m(ommand)p Fr(,)k(returns)16 b(the)h(command's)f(argumen)n(ts.)
49 2976 y Fj(\))45 b Ft(partial-command-p)30 b Fs(c)m(ommand)1293
b Fr([)p Fs(F)l(unction)t Fr(])149 3095 y(Returns)12 b Fm(true)g
Fr(if)j(the)e Fs(c)m(ommand)j Fr(is)f(a)e(partial)h(command,)e(that)g(is,)k
(has)d(an)n(y)i(o)r(ccurrences)10 b(of)k Ft(*unsupplied-)149
3162 y(argument-marker*)19 b Fr(in)g(it.)25 b(Otherwise,)17
b Ft(partial-command-p)i Fr(returns)d Fm(false)p Fr(.)49 3295
y Fj(\))45 b Ft(define-command)30 b Fs(name-and-options)22
b(ar)m(guments)f Ft(&body)30 b Fs(b)m(o)m(dy)674 b Fr([)p Fs(Macr)m(o)s
Fr(])149 3414 y(This)20 b(is)g(the)e(most)g(basic)i(command-de\014ning)15
b(form.)28 b(Usually)-5 b(,)21 b(the)d(programmer)e(will)21
b(not)e(use)g Ft(define-)1262 3632 y Fr(266)p eop
%%Page: 267 282
bop 149 16 a Fm(CHAPTER)16 b(27.)43 b(COMMAND)17 b(PR)n(OCESSING)1122
b Fr(267)149 210 y Ft(command)18 b Fr(directly)-5 b(,)17 b(but)g(will)h
(instead)e(use)h(a)g Ft(define-)p Fs(fr)m(ame)p Ft(-command)j
Fr(form)c(that)g(is)i(automatically)d(gen-)149 276 y(erated)j(b)n(y)i
Ft(define-application-frame)p Fr(.)32 b Ft(define-)p Fs(fr)m(ame)p
Ft(-command)22 b Fr(adds)d(the)g(command)e(to)i(the)g(ap-)149
342 y(plication)h(frame's)f(command)f(table.)31 b(By)22 b(default,)e
Ft(define-command)i Fr(do)r(es)d(not)h(add)g(the)g(command)e(to)149
409 y(an)n(y)g(command)d(table.)149 542 y Fs(name-and-options)27
b Fr(is)d(either)g(a)g(command)d(name,)k(or)f(a)g(cons)f(of)h(the)g(command)d
(name)i(and)h(a)g(list)h(of)149 608 y(k)n(eyw)n(ord-v)m(alue)18
b(pairs.)149 741 y Ft(define-command)i Fr(de\014nes)e(t)n(w)n(o)h(functions.)
27 b(The)18 b(\014rst)h(function)f(has)g(the)h(same)e(name)h(as)h(the)g
(command)149 807 y(name,)g(and)g(implemen)n(ts)f(the)h(b)r(o)r(dy)f(of)i(the)
f(command.)27 b(It)19 b(tak)n(es)h(as)g(argumen)n(ts)d(the)i(argumen)n(ts)e
(to)i(the)149 874 y(command)c(as)j(sp)r(eci\014ed)e(b)n(y)j(the)e
Ft(define-command)i Fr(form,)f(as)g(required)f(and)g(k)n(eyw)n(ord)i(argumen)
n(ts.)149 1007 y(The)h(name)g(of)h(the)f(other)f(function)h(de\014ned)g(b)n
(y)h Ft(define-command)h Fr(is)g(unsp)r(eci\014ed.)31 b(It)21
b(implemen)n(ts)d(the)149 1073 y(co)r(de)e(used)i(b)n(y)h(the)e(command)e
(pro)r(cessor)g(for)j(parsing)f(and)h(returning)e(the)h(command's)f(argumen)n
(ts.)149 1206 y(The)h(k)n(eyw)n(ords)i(from)e Fs(name-and-options)j
Fr(can)e(b)r(e:)232 1381 y Fj(\017)27 b Ft(:command-table)22
b Fs(c)m(ommand-table-nam)q(e)p Fr(,)27 b(where)20 b Fs(c)m
(ommand-table-name)26 b Fr(either)20 b(names)g(a)h(com-)287
1447 y(mand)d(table)g(to)h(whic)n(h)g(the)f(command)e(will)21
b(b)r(e)d(added,)h(or)g(is)g Ft(nil)h Fr(\(the)e(default\))f(to)i(indicate)f
(that)287 1513 y(the)k(command)e(should)j(not)f(b)r(e)h(added)f(to)g(an)n(y)i
(command)c(table.)39 b(If)23 b(the)f(command)e(table)j(do)r(es)287
1580 y(not)g(exist,)j(the)d Ft(command-table-not-found)i Fr(error)e(will)i(b)
r(e)e(signalled.)42 b(This)24 b(k)n(eyw)n(ord)g(is)g(only)287
1646 y(accepted)16 b(b)n(y)i Ft(define-command)p Fr(,)i(not)e(b)n(y)g
Ft(define-)p Fs(fr)m(ame)p Ft(-command)p Fr(.)232 1752 y Fj(\017)27
b Ft(:name)e Fs(string)p Fr(,)j(where)c Fs(string)i Fr(is)f(a)g(string)f
(that)f(will)j(b)r(e)e(used)g(as)h(the)f(command-line)e(name)h(for)287
1818 y(the)17 b(command)d(for)j(k)n(eyb)r(oard)f(in)n(teractions)g(in)i(the)e
(command)f(table)h(sp)r(eci\014ed)g(b)n(y)i(the)f Ft(:command-)287
1885 y(table)23 b Fr(option.)37 b(The)22 b(default)f(is)i Ft(nil)p
Fr(,)i(meaning)20 b(that)i(the)f(command)f(will)k(not)d(b)r(e)h(a)n(v)m
(ailable)h(via)287 1951 y(command-line)17 b(in)n(teractions.)28
b(If)20 b Fs(string)h Fr(is)f Ft(t)p Fr(,)h(then)e(the)g(command-line)e(name)
h(will)j(b)r(e)e(generated)287 2017 y(automatically)-5 b(,)17
b(as)h(describ)r(ed)e(in)i Ft(add-command-to-command-table)p
Fr(.)232 2123 y Fj(\017)27 b Ft(:menu)20 b Fs(menu-sp)m(e)m(c)p
Fr(,)j(where)c Fs(menu-sp)m(e)m(c)i Fr(describ)r(es)d(an)h(item)g(in)h(the)f
(men)n(u)g(of)h(the)f(command)d(table)287 2189 y(sp)r(eci\014ed)h(b)n(y)j
(the)e Ft(:command-table)i Fr(option.)25 b(The)19 b(default)f(is)h
Ft(nil)p Fr(,)h(meaning)d(that)g(the)i(command)287 2256 y(will)i(not)d(b)r(e)
h(a)n(v)m(ailable)g(via)h(men)n(u)e(in)n(teractions.)26 b(If)20
b Fs(menu-sp)m(e)m(c)h Fr(is)e(a)h(string,)f(then)f(that)g(string)g(will)287
2322 y(b)r(e)c(used)g(as)g(the)g(men)n(u)f(name.)22 b(If)15
b Fs(menu-sp)m(e)m(c)i Fr(is)e Ft(t)p Fr(,)h(then)d(if)j(a)e(command-line)e
(name)h(w)n(as)i(supplied,)g(it)287 2388 y(will)j(b)r(e)e(used)f(as)i(the)e
(men)n(u)h(name;)g(otherwise)f(the)g(men)n(u)h(name)f(will)j(b)r(e)d
(generated)f(automatically)-5 b(,)287 2455 y(as)21 b(describ)r(ed)e(in)i
Ft(add-command-to-command-table)p Fr(.)36 b(Otherwise,)21 b
Fs(menu-sp)m(e)m(c)i Fr(m)n(ust)d(b)r(e)g(a)h(cons)287 2521
y(of)d(the)g(form)f Ft(\()p Fs(string)30 b Ft(.)59 b Fs(menu)p
Ft(-)p Fs(options)p Ft(\))p Fr(,)21 b(where)c Fs(string)j Fr(is)f(the)e(men)n
(u)h(name)f(and)h Fs(menu-options)287 2588 y Fr(consists)k(of)i(k)n(eyw)n
(ord-v)m(alue)g(pairs.)40 b(The)23 b(v)m(alid)h(k)n(eyw)n(ords)g(are)f
Ft(:after)p Fr(,)j Ft(:documentation)p Fr(,)g(and)287 2654
y Ft(:text-style)p Fr(,)20 b(whic)n(h)e(are)f(in)n(terpreted)f(as)i(for)g
Ft(add-menu-item-to-command-table)p Fr(.)232 2759 y Fj(\017)27
b Ft(:keystroke)21 b Fs(gestur)m(e)p Fr(,)j(where)19 b Fs(gestur)m(e)j
Fr(is)f(a)f(k)n(eyb)r(oard)g(gesture)e(name)h(that)g(sp)r(eci\014es)f(a)j(k)n
(eystrok)n(e)287 2826 y(accelerator)g(to)i(use)h(for)f(this)h(command)d(in)k
(the)e(command)e(table)i(sp)r(eci\014ed)f(b)n(y)j(the)e Ft(:command-)287
2892 y(table)c Fr(option.)24 b(The)17 b(default)g(is)i Ft(nil)p
Fr(,)g(meaning)d(that)h(there)g(is)i(no)e(k)n(eystrok)n(e)h(accelerator.)149
3067 y(The)e Ft(:name)p Fr(,)i Ft(:menu)p Fr(,)h(and)d Ft(:keystroke)i
Fr(options)e(are)g(only)h(allo)n(w)n(ed)h(if)f(the)f Ft(:command-table)i
Fr(option)e(w)n(as)149 3133 y(supplied)h(explicitly)i(or)f(implicitly)-5
b(,)19 b(as)f(in)h Ft(define-)p Fs(fr)m(ame)p Ft(-command)p
Fr(.)149 3266 y Fs(ar)m(guments)h Fr(is)f(a)f(list)h(consisting)e(of)h
(argumen)n(t)e(descriptions.)24 b(A)18 b(single)g(o)r(ccurrence)d(of)j(the)f
(sym)n(b)r(ol)h Ft(&key)149 3333 y Fr(ma)n(y)j(app)r(ear)e(in)j
Fs(ar)m(guments)i Fr(to)c(separate)f(required)i(command)d(argumen)n(ts)h
(from)h(k)n(eyw)n(ord)i(argumen)n(ts.)149 3399 y(Eac)n(h)i(argumen)n(t)e
(description)h(consists)h(of)h(a)f(parameter)e(v)m(ariable,)k(follo)n(w)n(ed)
f(b)n(y)h(a)f(presen)n(tation)d(t)n(yp)r(e)149 3466 y(sp)r(eci\014er,)16
b(follo)n(w)n(ed)j(b)n(y)g(k)n(eyw)n(ord-v)m(alue)f(pairs.)25
b(The)17 b(k)n(eyw)n(ords)i(can)e(b)r(e:)p eop
%%Page: 268 283
bop 149 16 a Fm(CHAPTER)16 b(27.)43 b(COMMAND)17 b(PR)n(OCESSING)1122
b Fr(268)232 210 y Fj(\017)27 b Ft(:default)22 b Fs(value)p
Fr(,)i(where)c Fs(value)j Fr(is)f(the)f(default)f(that)g(should)h(b)r(e)f
(used)h(for)g(the)g(argumen)n(t,)f(as)h(for)287 276 y Ft(accept)p
Fr(.)232 386 y Fj(\017)27 b Ft(:default-type)19 b Fr(is)g(the)e(same)g(as)h
(for)g Ft(accept)p Fr(.)232 497 y Fj(\017)27 b Ft(:display-default)19
b Fr(is)g(the)e(same)g(as)h(for)g Ft(accept)p Fr(.)232 607
y Fj(\017)27 b Ft(:mentioned-default)14 b Fs(value)p Fr(,)h(where)d
Fs(value)i Fr(is)f(the)e(default)h(that)f(should)h(b)r(e)f(used)h(for)g(the)g
(argumen)n(t)287 673 y(when)24 b(a)h(k)n(eyw)n(ord)g(is)h(explicitly)f
(supplied)g(via)g(the)f(command-line)e(pro)r(cessor,)j(but)f(no)g(v)m(alue)h
(is)287 740 y(supplied)18 b(for)f(it.)25 b Ft(:mentioned-default)20
b Fr(is)e(only)h(allo)n(w)n(ed)g(on)f(k)n(eyw)n(ord)g(argumen)n(ts.)232
850 y Fj(\017)27 b Ft(:prompt)18 b Fs(string)p Fr(,)g(where)e
Fs(string)i Fr(is)g(a)f(prompt)e(to)h(prin)n(t)h(out)f(during)g(command-line)
f(parsing,)h(as)h(for)287 916 y Ft(accept)p Fr(.)232 1027 y
Fj(\017)27 b Ft(:documentation)d Fs(string)p Fr(,)h(where)c
Fs(string)j Fr(is)f(a)g(do)r(cumen)n(tation)18 b(string)k(that)f(describ)r
(es)g(what)g(the)287 1093 y(argumen)n(t)16 b(is.)232 1203 y
Fj(\017)27 b Ft(:when)21 b Fs(form)p Fr(.)31 b Fs(form)21 b
Fr(is)g(ev)m(aluated)d(in)j(a)e(scop)r(e)g(where)g(the)g(parameter)d(v)m
(ariables)k(for)f(the)h(required)287 1270 y(parameters)g(are)j(b)r(ound,)h
(and)g(if)g(the)f(result)g(is)h Ft(nil)p Fr(,)i(the)d(k)n(eyw)n(ord)h
(argumen)n(t)d(is)k(not)e(a)n(v)m(ailable.)287 1336 y Ft(:when)i
Fr(is)g(only)f(allo)n(w)n(ed)h(on)f(k)n(eyw)n(ord)h(argumen)n(ts,)e(and)h
Fs(form)h Fr(cannot)e(use)h(the)f(v)m(alues)h(of)g(other)287
1403 y(k)n(eyw)n(ord)19 b(argumen)n(ts.)232 1513 y Fj(\017)27
b Ft(:gesture)e Fs(gestur)m(e)p Fr(,)k(where)23 b Fs(gestur)m(e)j
Fr(is)f(either)f(a)g(p)r(oin)n(ter)f(gesture)g(name)g(or)h(a)g(list)h(of)f(a)
h(p)r(oin)n(ter)287 1579 y(gesture)15 b(name)h(follo)n(w)n(ed)i(b)n(y)g(k)n
(eyw)n(ord-v)m(alue)g(pairs.)24 b(When)17 b(a)g(gesture)e(is)j(supplied,)g(a)
f(presen)n(tation)287 1646 y(translator)23 b(will)j(b)r(e)e(de\014ned)g(that)
g(translates)e(from)i(this)h(argumen)n(t's)d(presen)n(tation)h(t)n(yp)r(e)h
(to)h(an)287 1712 y(instance)18 b(of)i(this)f(command)e(with)i(the)g
(selected)f(ob)s(ject)g(as)h(the)g(argumen)n(t;)f(the)h(other)f(argumen)n(ts)
287 1779 y(will)i(b)r(e)d(\014lled)i(in)f(with)h(their)e(default)g(v)m
(alues.)25 b(The)18 b(k)n(eyw)n(ord-v)m(alue)h(pairs)f(are)f(used)h(as)g
(options)f(for)287 1845 y(the)h(translator.)24 b(V)-5 b(alid)20
b(k)n(eyw)n(ords)f(are)f Ft(:tester)p Fr(,)i Ft(:menu)p Fr(,)g
Ft(:priority)p Fr(,)g Ft(:echo)p Fr(,)g Ft(:documentation)p
Fr(,)287 1912 y(and)d Ft(:pointer-documentation)p Fr(.)27 b(The)17
b(default)g(for)g Fs(gestur)m(e)j Fr(is)e Ft(nil)p Fr(,)h(meaning)d(no)i
(translator)d(will)287 1978 y(b)r(e)21 b(written.)32 b Ft(:gesture)22
b Fr(is)g(only)g(allo)n(w)n(ed)g(when)e(the)h Ft(:command-table)h
Fr(option)f(w)n(as)g(supplied)g(to)287 2044 y(the)c(command-de\014ning)e
(form.)149 2232 y Fs(b)m(o)m(dy)21 b Fr(implemen)n(ts)d(the)h(b)r(o)r(dy)f
(of)i(the)f(command.)27 b(It)20 b(has)f(lexical)h(access)f(to)g(all)i(of)e
(the)g(commands)e(argu-)149 2298 y(men)n(ts.)31 b(If)21 b(the)f(b)r(o)r(dy)g
(of)g(the)g(command)e(needs)i(access)f(to)h(the)g(application)g(frame)f
(itself,)j(it)f(should)f(use)149 2364 y Ft(*application-frame*)p
Fr(.)30 b(The)20 b(returned)d(v)m(alues)i(of)h(b)r(o)r(dy)e(are)h(ignored.)28
b Fs(b)m(o)m(dy)22 b Fr(ma)n(y)d(ha)n(v)n(e)h(zero)f(or)g(more)149
2431 y(declarations)d(as)i(its)g(\014rst)f(forms.)149 2564
y Ft(define-command)22 b Fr(m)n(ust)e(arrange)g(for)h(the)f(function)g(that)g
(implemen)n(ts)f(the)i(b)r(o)r(dy)f(of)h(the)g(command)d(to)149
2630 y(get)f(the)g(prop)r(er)f(v)m(alues)i(for)g(unsupplied)f(k)n(eyw)n(ord)h
(argumen)n(ts.)149 2763 y Fs(name-and-options)28 b Fr(and)d
Fs(b)m(o)m(dy)i Fr(are)d(not)h(ev)m(aluated.)45 b(In)25 b(the)g(argumen)n(t)e
(descriptions,)i(the)g(parameter)149 2829 y(v)m(ariable)e(name)g(is)i(not)e
(ev)m(aluated,)i(and)e(ev)n(erything)h(else)g(is)g(ev)m(aluated)f(at)h
(run-time)e(when)i(argumen)n(t)149 2896 y(parsing)13 b(reac)n(hes)f(that)h
(argumen)n(t,)g(except)f(that)h(the)g(v)m(alue)h(for)g Ft(:when)h
Fr(is)f(ev)m(aluated)f(when)g(parsing)g(reac)n(hes)149 2962
y(the)k(k)n(eyw)n(ord)h(argumen)n(ts,)e(and)i Ft(:gesture)h
Fr(isn't)f(ev)m(aluated)f(at)g(all.)149 3211 y Fk(27.2)91 b(Command)31
b(T)-8 b(ables)149 3399 y Fr(There)14 b(are)h(four)f(main)h(st)n(yles)g(of)h
(in)n(teraction:)21 b(k)n(eyb)r(oard)14 b(in)n(teraction)g(using)h(a)g
(command-)e(line)j(pro)r(cessor,)149 3466 y(k)n(eyb)r(oard)i(in)n(teraction)h
(using)g(k)n(eystrok)n(e)h(accelerators,)d(mouse)h(in)n(teraction)g(via)j
(command)c(men)n(us,)i(and)p eop
%%Page: 269 284
bop 149 16 a Fm(CHAPTER)16 b(27.)43 b(COMMAND)17 b(PR)n(OCESSING)1122
b Fr(269)149 210 y(mouse)14 b(in)n(teraction)g(via)i(translators.)22
b(A)15 b Fm(command)e(table)i Fr(is)h(an)g(ob)s(ject)e(that)h(serv)n(es)g(to)
g(mediate)f(b)r(et)n(w)n(een)149 276 y(an)25 b(application)f(frame,)i(a)f
(set)g(of)g(commands,)f(and)h(the)g(four)g(in)n(teraction)e(st)n(yles.)47
b(Command)22 b(tables)149 342 y(con)n(tain)17 b(the)g(follo)n(wing)i
(information:)232 531 y Fj(\017)27 b Fr(The)18 b(name)e(of)i(the)g(command)d
(table,)j(whic)n(h)g(is)h(a)f(sym)n(b)r(ol.)232 641 y Fj(\017)27
b Fr(An)18 b(ordered)e(list)j(of)f(command)d(tables)i(to)h(inherit)f(from.)
232 752 y Fj(\017)27 b Fr(The)18 b(set)f(of)h(commands)d(that)i(are)h(presen)
n(t)e(in)j(this)f(command)d(table.)232 863 y Fj(\017)27 b Fr(A)12
b(table)f(that)g(asso)r(ciates)e(command-line)h(names)g(to)i(command)d(names)
h(\(used)h(to)g(supp)r(ort)f(command-)287 929 y(line)19 b(pro)r(cessor)c(in)n
(teractions\).)232 1040 y Fj(\017)27 b Fr(A)i(set)g(of)g(presen)n(tation)e
(translators,)j(de\014ned)e(via)i Ft(define-presentation-translator)h
Fr(and)287 1106 y Ft(define-presentation-to-command-translator)p
Fr(.)232 1217 y Fj(\017)c Fr(A)17 b(table)f(that)g(asso)r(ciates)f(k)n(eyb)r
(oard)h(gesture)f(names)g(to)i(men)n(u)f(items)f(\(used)h(to)h(supp)r(ort)e
(k)n(eystrok)n(e)287 1283 y(accelerator)j(in)n(teractions\).)30
b(The)21 b(k)n(eystrok)n(e)f(accelerator)e(table)i(do)r(es)g(not)g(con)n
(tain)g(an)n(y)h(items)f(in-)287 1350 y(herited)d(from)g(sup)r(erior)f
(command)f(tables.)232 1460 y Fj(\017)27 b Fr(A)16 b(men)n(u)f(that)g(asso)r
(ciates)e(men)n(u)i(names)f(to)i(command)d(men)n(u)i(items)f(\(used)h(to)g
(supp)r(ort)f(in)n(teraction)287 1527 y(via)24 b(command)c(men)n(us\).)39
b(The)23 b(command)d(men)n(u)j(items)f(can)g(in)n(v)n(ok)n(e)j(commands)c(or)
i(sub-men)n(us.)287 1593 y(The)d(men)n(u)f(do)r(es)g(not)g(con)n(tain)g(an)n
(y)i(command)c(men)n(u)i(items)g(inherited)f(from)h(sup)r(erior)g(command)287
1660 y(tables.)149 1848 y(W)-5 b(e)15 b(sa)n(y)g(that)e(a)i(command)c(is)16
b Fm(presen)n(t)d Fr(in)i(a)g(command)c(table)j(when)g(it)h(has)f(b)r(een)f
(added)h(to)g(that)g(command)149 1914 y(table.)42 b(W)-5 b(e)25
b(sa)n(y)g(that)e(a)i(command)c(is)k Fm(accessible)e Fr(in)i(a)f(command)e
(table)h(when)h(it)h(is)g(presen)n(t)e(in)i(that)149 1981 y(command)20
b(table)j(or)g(is)i(presen)n(t)d(in)i(an)n(y)g(of)f(the)g(command)e(tables)h
(from)g(whic)n(h)i(that)f(command)d(table)149 2047 y(inherits.)49
2180 y Fj(\))45 b Ft(command-table)1536 b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23
b(Class)5 b Fr(])149 2299 y(The)25 b(proto)r(col)e(class)j(that)e(corresp)r
(onds)e(to)j(command)e(tables.)46 b(If)26 b(y)n(ou)g(w)n(an)n(t)f(to)h
(create)d(a)j(new)f(class)149 2365 y(that)c(b)r(eha)n(v)n(es)g(lik)n(e)j(a)e
(command)d(table,)k(it)g(should)f(b)r(e)f(a)h(sub)r(class)f(of)h
Ft(command-table)p Fr(.)38 b(Sub)r(classes)21 b(of)149 2432
y Ft(command-table)e Fr(m)n(ust)e(ob)r(ey)g(the)h(command)d(table)i(proto)r
(col.)f(Mem)n(b)r(ers)g(of)i(this)g(class)g(are)f(m)n(utable.)49
2565 y Fj(\))45 b Ft(command-table-p)30 b Fs(obje)m(ct)1443
b Fr([)p Fs(F)l(unction)t Fr(])149 2684 y(Returns)16 b Fm(true)h
Fr(if)i Fs(obje)m(ct)h Fr(is)f(a)f Fm(command)d(table)p Fr(,)j(otherwise)f
(returns)f Fm(false)p Fr(.)49 2816 y Fj(\))45 b Ft(standard-command-table)
1490 b Fr([)p Fs(Class)5 b Fr(])149 2935 y(The)20 b(instan)n(tiable)g(class)h
(that)f(implemen)n(ts)e(command)g(tables,)j(a)g(sub)r(class)f(of)h
Ft(command-table)p Fr(.)34 b Ft(make-)149 3002 y(command-table)19
b Fr(returns)d(ob)s(jects)h(that)f(are)i(mem)n(b)r(ers)d(of)j(this)g(class.)
149 3135 y Fo(Minor)25 b(issue:)64 b Fm(Do)21 b(w)n(e)g(really)g(w)n(an)n(t)f
(to)g(adv)n(ertise)g(these)f(classes,)h(since)g(all)h(the)f(functions)f(b)r
(elo)n(w)h(are)149 3201 y(v)m(anilla)j(functions)e(instead)h(of)g(generic)g
(functions?)36 b(Or)23 b(should)f(w)n(e)h(mak)n(e)f(those)g(functions)f(b)r
(e)h(generic)149 3268 y(functions?)h(|)18 b(SWM)49 3400 y Fj(\))45
b Ft(command-table-name)30 b Fs(c)m(ommand-table)923 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])p eop
%%Page: 270 285
bop 149 16 a Fm(CHAPTER)16 b(27.)43 b(COMMAND)17 b(PR)n(OCESSING)1122
b Fr(270)149 210 y(Returns)16 b(the)h(name)g(of)h(the)f Fm(command)e(table)j
Fs(c)m(ommand-table)p Fr(.)49 342 y Fj(\))45 b Ft(command-table-inherit-from)
30 b Fs(c)m(ommand-table)691 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 461 y(Returns)d(a)i(list)h(of)f(the)f(command)e(tables)i(from)g
(whic)n(h)h(the)f Fm(command)f(table)h Fs(c)m(ommand-table)25
b Fr(inherits.)149 528 y(This)18 b(function)f(returns)f(ob)s(jects)h(that)f
(rev)n(eal)i(CLIM's)g(in)n(ternal)g(state;)f(do)h(not)f(mo)r(dify)g(those)g
(ob)s(jects.)49 661 y Fj(\))45 b Ft(define-command-table)30
b Fs(name)21 b Ft(&key)29 b Fs(inherit-fr)m(om)22 b(menu)757
b Fr([)p Fs(Macr)m(o)s Fr(])149 780 y(De\014nes)12 b(a)h(command)d(table)i
(whose)h(name)e(is)j(the)e(sym)n(b)r(ol)g Fs(name)p Fr(.)25
b(The)12 b(new)h(command)d(table)j(inherits)f(from)149 846
y(all)k(of)f(the)g(command)d(tables)i(sp)r(eci\014ed)g(b)n(y)i
Fs(inherit-fr)m(om)p Fr(,)j(whic)n(h)d(is)f(a)h(list)g(of)f
Fm(command)d(table)j(designators)149 912 y Fr(\(that)h(is,)i(either)f(a)h
(command)c(table)j(or)h(a)g(sym)n(b)r(ol)f(that)f(names)g(a)i(command)d
(table\).)23 b(The)17 b(inheritance)f(is)149 979 y(done)i(b)n(y)i(union)f
(with)h(shado)n(wing.)28 b(If)19 b(no)g(inheritance)f(is)i(sp)r(eci\014ed,)e
(the)h(command)d(table)j(will)h(b)r(e)f(made)149 1045 y(to)c(inherit)g(from)f
(CLIM's)h(global)g(command)e(table.)23 b(\(This)15 b(command)e(table)i(con)n
(tains)f(suc)n(h)h(things)g(as)g(the)149 1112 y(\\men)n(u")h(translator)g
(that)h(is)i(asso)r(ciated)c(with)j(the)f(righ)n(t-hand)h(button)e(on)i(p)r
(oin)n(ters.\))149 1245 y Fs(menu)24 b Fr(can)f(b)r(e)f(used)h(to)g(sp)r
(ecify)f(a)h(men)n(u)g(for)g(the)f(command)f(table.)39 b(The)23
b(v)m(alue)g(of)g Fs(menu)i Fr(is)f(a)f(list)h(of)149 1311
y(clauses.)f(Eac)n(h)16 b(clause)h(is)g(a)g(list)h(with)f(the)f(syn)n(tax)h
Ft(\()p Fs(string)30 b(typ)m(e)g(value)g Ft(&key)f Fs(keystr)m(oke)j(do)m
(cumentation)149 1377 y(text)p Ft(-)p Fs(style)p Ft(\))p Fr(,)26
b(where)c Fs(string)p Fr(,)j Fs(typ)m(e)p Fr(,)h Fs(value)p
Fr(,)g Fs(keystr)m(oke)p Fr(,)h Fs(do)m(cumentation)p Fr(,)g(and)c
Fs(text-style)h Fr(are)e(as)h(for)f Ft(add-)149 1444 y
(menu-item-to-command-table)p Fr(.)149 1577 y(If)f(the)f(command)e(table)i
(named)f(b)n(y)j Fs(name)g Fr(already)e(exists,)i Ft(define-command-table)g
Fr(will)h(mo)r(dify)c(the)149 1643 y(existing)f(command)e(table)i(to)h(ha)n
(v)n(e)g(the)f(new)h(v)m(alue)f(for)h Fs(inherit-fr)m(om)i
Fr(and)e Fs(menu)p Fr(,)h(and)e(lea)n(v)n(es)i(the)e(other)149
1710 y(attributes)d(for)j(the)f(existing)h(command)d(table)j(alone.)149
1842 y(None)f(of)h Ft(define-command-table)p Fr('s)i(argumen)n(ts)15
b(are)i(ev)m(aluated.)49 1975 y Fj(\))45 b Ft(make-command-table)30
b Fs(name)21 b Ft(&key)29 b Fs(inherit-fr)m(om)22 b(menu)f(\(err)m(orp)g(t\))
501 b Fr([)p Fs(F)l(unction)t Fr(])149 2094 y(Creates)21 b(a)h(command)e
(table)i(named)f Fs(name)p Fr(.)40 b Fs(inherit-fr)m(om)26
b Fr(and)c Fs(menu)i Fr(are)e(the)g(same)f(as)h(for)h Ft(define-)149
2161 y(command-table)p Fr(.)53 b Ft(make-command-table)28 b
Fr(do)r(es)e(not)h(implicitly)h(include)e(CLIM's)h(global)h(command)149
2227 y(table)20 b(in)i(the)f(inheritance)e(list)j(for)f(the)g(new)g(command)d
(table.)34 b(If)21 b(the)g(command)d(table)j(already)g(exists)149
2293 y(and)15 b Fs(err)m(orp)i Fr(is)f Fm(true)p Fr(,)g(the)e
Ft(command-table-already-exists)j Fr(error)d(will)j(b)r(e)e(signalled.)23
b(If)16 b(the)f(command)149 2360 y(table)23 b(already)h(exists)f(and)h
Fs(err)m(orp)j Fr(is)e Fm(false)p Fr(,)g(then)e(the)h(old)g(command)d(table)j
(will)h(b)r(e)f(discarded.)41 b(The)149 2426 y(returned)15
b(v)m(alue)j(is)h(the)e(command)f(table.)49 2559 y Fj(\))45
b Ft(find-command-table)30 b Fs(name)21 b Ft(&key)29 b Fs(\(err)m(orp)22
b(t\))963 b Fr([)p Fs(F)l(unction)t Fr(])149 2678 y(Returns)17
b(the)g(command)f(table)i(named)f(b)n(y)i Fs(name)p Fr(.)28
b(If)19 b Fs(name)h Fr(is)f(itself)g(a)f(command)e(table,)i(it)h(is)g
(returned.)149 2745 y(If)e(the)g(command)e(table)h(is)j(not)d(found)h(and)g
Fs(err)m(orp)j Fr(is)e Fm(true)p Fr(,)f(the)g Ft(command-table-not-found)i
Fr(error)d(will)149 2811 y(b)r(e)h(signalled.)49 2944 y Fj(\))45
b Ft(command-table-error)1313 b Fr([)p Fs(Err)m(or)21 b(Condition)t
Fr(])149 3063 y(The)14 b(class)g(that)g(is)h(the)f(sup)r(erclass)f(of)h(the)g
(follo)n(wing)h(four)f(conditions.)22 b(This)15 b(class)g(is)g(a)g(sub)r
(class)e(of)i Ft(error)p Fr(.)49 3196 y Fj(\))45 b Ft
(command-table-not-found)1197 b Fr([)p Fs(Err)m(or)21 b(Condition)t
Fr(])149 3315 y(The)c(error)f(that)g(is)h(signalled)h(b)n(y)g(suc)n(h)f
(functions)e(as)i Ft(find-command-table)i Fr(when)e(a)g(command)d(table)j(is)
149 3381 y(not)g(found.)p eop
%%Page: 271 286
bop 149 16 a Fm(CHAPTER)16 b(27.)43 b(COMMAND)17 b(PR)n(OCESSING)1122
b Fr(271)49 210 y Fj(\))45 b Ft(command-table-already-exists)1052
b Fr([)p Fs(Err)m(or)21 b(Condition)t Fr(])149 329 y(The)d(error)g(that)g(is)
i(signalled)f(when)f(the)g(programmer)e(tries)i(to)h(create)e(a)i(command)d
(table)i(that)g(already)149 395 y(exists.)49 528 y Fj(\))45
b Ft(command-not-present)1313 b Fr([)p Fs(Err)m(or)21 b(Condition)t
Fr(])149 647 y(The)c(error)g(that)g(is)i(signalled)f(when)f(a)h(command)d(is)
k(not)e(presen)n(t)g(in)i(a)f(command)d(table.)49 780 y Fj(\))45
b Ft(command-not-accessible)1226 b Fr([)p Fs(Err)m(or)21 b(Condition)t
Fr(])149 899 y(The)c(error)g(that)g(is)i(signalled)f(when)f(a)h(command)d(is)
k(not)e(accessible)g(in)i(a)f(command)d(table.)49 1031 y Fj(\))45
b Ft(command-already-present)1197 b Fr([)p Fs(Err)m(or)21 b(Condition)t
Fr(])149 1150 y(The)e(error)f(that)g(is)i(signalled)f(when)g(a)g(function)f
(tries)h(to)g(add)g(a)g(command)e(to)i(a)g(command)d(table)j(when)149
1217 y(it)f(is)h(already)e(presen)n(t)g(in)h(the)g(command)d(table.)49
1350 y Fj(\))45 b Ft(add-command-to-command-table)30 b Fs(c)m(ommand-name)f
(c)m(ommand-table)g Ft(&key)g Fs(name)e(menu)f(keystr)m(oke)149
1416 y(\(err)m(orp)21 b(t\))1811 b Fr([)p Fs(F)l(unction)t
Fr(])149 1535 y(Adds)16 b(the)g(command)e(named)h(b)n(y)i Fs(c)m(ommand-name)
k Fr(to)16 b(the)g(command)e(table)i(sp)r(eci\014ed)f(b)n(y)i(the)g
Fm(command)149 1602 y(table)g(designator)f Fs(c)m(ommand-table)p
Fr(.)149 1734 y Fs(name)21 b Fr(is)g(the)e(command-line)f(name)h(for)h(the)f
(command,)f(and)i(can)f(b)r(e)h Ft(nil)p Fr(,)h Ft(t)p Fr(,)h(or)e(a)g
(string.)30 b(When)20 b(it)g(is)149 1801 y Ft(nil)p Fr(,)d(the)f(command)d
(will)k(not)f(b)r(e)f(a)n(v)m(ailable)i(via)g(command-line)d(in)n
(teractions.)22 b(When)15 b(it)i(is)f(a)h(string,)f(that)149
1867 y(string)21 b(is)i(the)e(command-line)f(name)h(for)h(the)f(command.)34
b(When)22 b(it)g(is)h Ft(t)p Fr(,)h(the)d(command-line)f(name)h(is)149
1934 y(generated)c(automatically)-5 b(.)30 b(\(The)19 b(automatically)f
(generated)g(name)h(consists)g(of)h(the)g(command's)d(name)149
2000 y(with)g(the)f(h)n(yphens)h(replaced)e(b)n(y)j(spaces,)e(and)h(the)f(w)n
(ords)h(capitalized;)f(furthermore,)e(if)k(there)d(is)j(a)f(pre\014x)149
2067 y(of)j(\\COM-",)h(the)e(pre\014x)h(is)h(remo)n(v)n(ed.)30
b(F)-5 b(or)20 b(example,)g(if)h(the)e(command)f(name)g(is)j
Ft(com-show-file)p Fr(,)h(the)149 2133 y(command-line)16 b(name)h(will)j(b)r
(e)d(\\Sho)n(w)h(File".\))26 b(F)-5 b(or)19 b(the)e(purp)r(oses)g(of)h
(command-line)e(name)h(lo)r(okup,)h(the)149 2199 y(c)n(haracter)d(case)j(of)g
Fs(name)h Fr(is)g(ignored.)149 2332 y Fs(menu)g Fr(is)h(a)e(men)n(u)g(item)g
(for)g(the)g(command,)e(and)i(can)g(b)r(e)g Ft(nil)p Fr(,)i
Ft(t)p Fr(,)g(a)e(string,)h(or)f(a)h(cons.)25 b(When)18 b(it)h(is)h
Ft(nil)p Fr(,)149 2399 y(the)h(command)d(will)24 b(not)d(b)r(e)g(a)n(v)m
(ailable)h(via)g(men)n(us.)34 b(When)22 b(it)f(is)i(a)f(string,)g(the)f
(string)g(will)i(b)r(e)e(used)g(as)149 2465 y(the)g(men)n(u)f(name.)34
b(When)21 b Fs(menu)i Fr(is)f Ft(t)g Fr(and)f Fs(name)i Fr(is)g(a)e(string,)h
(then)f Fs(name)i Fr(will)g(b)r(e)e(used)g(as)h(the)f(men)n(u)149
2531 y(name.)h(When)15 b Fs(menu)i Fr(is)f Ft(t)g Fr(and)f
Fs(name)i Fr(is)f(not)f(a)h(string,)g(an)f(automatically)f(generated)e(men)n
(u)j(name)f(will)j(b)r(e)149 2598 y(used.)23 b(When)14 b Fs(menu)j
Fr(is)f(a)f(cons)g(of)g(the)g(form)f Ft(\()p Fs(string)30 b
Ft(.)58 b Fs(menu)p Ft(-)p Fs(options)p Ft(\))p Fr(,)18 b Fs(string)f
Fr(is)f(the)f(men)n(u)f(name)g(and)149 2664 y Fs(menu-options)i
Fr(consists)e(of)g(k)n(eyw)n(ord-v)m(alue)h(pairs.)24 b(The)14
b(v)m(alid)h(k)n(eyw)n(ords)g(are)g Ft(:after)p Fr(,)h Ft(:documentation)p
Fr(,)149 2731 y(and)h Ft(:text-style)p Fr(,)j(whic)n(h)e(are)g(in)n
(terpreted)d(as)j(for)g Ft(add-menu-item-to-command-table)p
Fr(.)149 2864 y(The)h(v)m(alue)h(for)g Fs(keystr)m(oke)i Fr(is)f(either)e(k)n
(eyb)r(oard)g(gesture)f(name)g(or)i Ft(nil)p Fr(.)30 b(When)19
b(it)i(is)f(a)g(gesture)e(name,)h(it)149 2930 y(is)g(the)g(k)n(eystrok)n(e)f
(accelerator)f(for)h(the)h(command;)d(otherwise)i(the)g(command)e(will)21
b(not)d(b)r(e)g(a)n(v)m(ailable)i(via)149 2996 y(k)n(eystrok)n(e)e
(accelerators.)149 3129 y(If)26 b(the)f(command)e(is)k(already)e(presen)n(t)g
(in)i(the)e(command)e(table)i(and)h Fs(err)m(orp)i Fr(is)f
Fm(true)p Fr(,)g(the)f Ft(command-)149 3196 y(already-present)14
b Fr(error)f(will)i(b)r(e)d(signalled.)23 b(When)13 b(the)g(command)e(is)j
(already)f(presen)n(t)f(in)i(the)f(command)149 3262 y(table)j(and)g
Fs(err)m(orp)k Fr(is)d Fm(false)p Fr(,)g(then)f(the)g(old)h(command-line)e
(name,)h(men)n(u,)g(and)h(k)n(eystrok)n(e)f(accelerator)e(will)149
3328 y(\014rst)j(b)r(e)g(remo)n(v)n(ed)g(from)g(the)g(command)f(table.)p
eop
%%Page: 272 287
bop 149 16 a Fm(CHAPTER)16 b(27.)43 b(COMMAND)17 b(PR)n(OCESSING)1122
b Fr(272)49 210 y Fj(\))45 b Ft(remove-command-from-command-table)31
b Fs(c)m(ommand-name)17 b(c)m(ommand-table)h Ft(&key)29 b Fs(\(err)m(orp)16
b(t\))29 b Fr([)p Fs(F)l(unction)t Fr(])149 409 y(Remo)n(v)n(es)24
b(the)g(command)f(named)g(b)n(y)j Fs(c)m(ommand-name)j Fr(from)24
b(the)g(command)e(table)j(sp)r(eci\014ed)e(b)n(y)j(the)149
475 y Fm(command)15 b(table)i(designator)f Fs(c)m(ommand-table)p
Fr(.)149 608 y(If)25 b(the)f(command)e(is)j(not)f(presen)n(t)f(in)j(the)e
(command)e(table)i(and)g Fs(err)m(orp)j Fr(is)f Fm(true)p Fr(,)f(the)g
Ft(command-not-)149 674 y(present)19 b Fr(error)d(will)k(b)r(e)d(signalled.)
49 807 y Fj(\))45 b Ft(do-command-table-inheritance)30 b Fs(\(c)m
(ommand-table-var)24 b(c)m(ommand-table\))f Ft(&body)30 b Fs(b)m(o)m(dy)82
b Fr([)p Fs(Macr)m(o)s Fr(])149 926 y(Successiv)n(ely)18 b(executes)g
Fs(b)m(o)m(dy)j Fr(with)e Fs(c)m(ommand-table-var)24 b Fr(b)r(ound)18
b(\014rst)g(to)h(the)g(command)d(table)i(sp)r(eci\014ed)149
993 y(b)n(y)g(the)f Fm(command)e(table)i(designator)e Fs(c)m(ommand-table)p
Fr(,)23 b(and)17 b(then)g(\(recursiv)n(ely\))f(to)h(all)i(of)f(the)f(command)
149 1059 y(tables)g(from)g(whic)n(h)h Fs(c)m(ommand-table)k
Fr(inherits.)149 1192 y(The)17 b Fs(c)m(ommand-table-va)q(r)22
b Fr(argumen)n(t)16 b(is)i(not)g(ev)m(aluated.)23 b Fs(b)m(o)m(dy)c
Fr(ma)n(y)f(ha)n(v)n(e)h(zero)e(or)g(more)g(declarations)f(as)149
1258 y(its)i(\014rst)f(forms.)49 1391 y Fj(\))45 b Ft
(map-over-command-table-commands)31 b Fs(function)20 b(c)m(ommand-table)k
Ft(&key)29 b Fs(\(inherite)m(d)22 b(t\))75 b Fr([)p Fs(F)l(unction)t
Fr(])149 1510 y(Applies)18 b Fs(function)h Fr(to)f(all)i(of)e(the)g(commands)
d(accessible)i(in)i(the)f(command)d(table)j(sp)r(eci\014ed)e(b)n(y)k(the)d
Fm(com-)149 1577 y(mand)12 b(table)i(designator)e Fs(c)m(ommand-table)p
Fr(.)27 b Fs(function)16 b Fr(m)n(ust)d(b)r(e)g(a)h(function)f(that)g(tak)n
(es)g(a)i(single)f(argumen)n(t,)149 1643 y(the)j(command)e(name;)i(it)h(has)g
(dynamic)f(exten)n(t.)149 1776 y(If)e Fs(inherite)m(d)j Fr(is)d
Fm(false)p Fr(,)h(this)f(applies)g Fs(function)h Fr(only)f(to)g(those)f
(commands)e(presen)n(t)h(in)j Fs(c)m(ommand-table)p Fr(,)k(that)149
1842 y(is,)h(it)f(do)r(es)f(not)h(map)f(o)n(v)n(er)h(an)n(y)h(inherited)d
(command)f(tables.)30 b(If)20 b Fs(inherite)m(d)j Fr(is)e Fm(true)p
Fr(,)f(then)f(the)g(inherited)149 1909 y(command)c(tables)i(are)g(tra)n(v)n
(ersed)g(in)i(the)e(same)g(order)g(as)h(for)f Ft
(do-command-table-inheritance)p Fr(.)49 2042 y Fj(\))45 b Ft
(map-over-command-table-names)30 b Fs(function)21 b(c)m(ommand-table)j
Ft(&key)29 b Fs(\(inherite)m(d)22 b(t\))162 b Fr([)p Fs(F)l(unction)t
Fr(])149 2161 y(Applies)18 b Fs(function)i Fr(to)e(all)h(of)f(the)g
(command-line)e(name)h(accessible)g(in)i(the)f(command)d(table)j(sp)r
(eci\014ed)f(b)n(y)149 2227 y(the)i Fm(command)e(table)j(designator)e
Fs(c)m(ommand-table)p Fr(.)35 b Fs(function)21 b Fr(m)n(ust)f(b)r(e)f(a)h
(function)f(of)h(t)n(w)n(o)h(argumen)n(ts,)149 2293 y(the)c(command-line)f
(name)g(and)i(the)f(command)e(name;)i(it)i(has)e(dynamic)g(exten)n(t.)149
2426 y(If)e Fs(inherite)m(d)i Fr(is)e Fm(false)p Fr(,)h(this)e(applies)h
Fs(function)h Fr(only)f(to)f(those)g(command-line)e(names)h(presen)n(t)g(in)i
Fs(c)m(ommand-)149 2493 y(table)p Fr(,)h(that)d(is,)i(it)f(do)r(es)e(not)g
(map)h(o)n(v)n(er)h(an)n(y)f(inherited)g(command)d(tables.)22
b(If)14 b Fs(inherite)m(d)i Fr(is)e Fm(true)p Fr(,)g(then)e(the)h(in-)149
2559 y(herited)f(command)f(tables)i(are)g(tra)n(v)n(ersed)g(in)h(the)f(same)g
(order)f(as)i(for)f Ft(do-command-table-inheritance)p Fr(.)49
2692 y Fj(\))45 b Ft(command-present-in-command-table-p)31
b Fs(c)m(ommand-name)23 b(c)m(ommand-table)270 b Fr([)p Fs(F)l(unction)t
Fr(])149 2811 y(Returns)11 b Fm(true)h Fr(if)h(the)f(command)e(named)i(b)n(y)
h Fs(c)m(ommand-name)k Fr(is)c(presen)n(t)f(in)h(the)f(command)e(table)i(sp)r
(eci\014ed)149 2877 y(b)n(y)19 b(the)e Fm(command)e(table)i(designator)f
Fs(c)m(ommand-table)p Fr(,)23 b(otherwise)16 b(returns)h Fm(false)p
Fr(.)49 3010 y Fj(\))45 b Ft(command-accessible-in-command-table-p)31
b Fs(c)m(ommand-name)23 b(c)m(ommand-table)183 b Fr([)p Fs(F)l(unction)t
Fr(])149 3129 y(If)19 b(the)g(command)d(named)i(b)n(y)i Fs(c)m(ommand-name)j
Fr(is)d(not)f(accessible)f(in)i(the)e(command)f(table)h(sp)r(eci\014ed)g(b)n
(y)149 3196 y(the)23 b Fm(command)e(table)i(designator)f Fs(c)m(ommand-table)
p Fr(,)29 b(then)23 b(this)h(function)e(returns)g Ft(nil)p
Fr(.)43 b(Otherwise,)24 b(it)149 3262 y(returns)16 b(the)h(command)e(table)j
(in)g(whic)n(h)h(the)e(command)e(w)n(as)k(found.)49 3395 y
Fj(\))45 b Ft(find-command-from-command-line-name)31 b Fs(name)21
b(c)m(ommand-table)i Ft(&key)29 b Fs(\(err)m(orp)22 b(t\))89
b Fr([)p Fs(F)l(unction)t Fr(])p eop
%%Page: 273 288
bop 149 16 a Fm(CHAPTER)16 b(27.)43 b(COMMAND)17 b(PR)n(OCESSING)1122
b Fr(273)149 210 y(Giv)n(en)25 b(a)g(command-line)d(name)h
Fs(name)j Fr(and)e(a)g(command)e(table,)j(returns)e(t)n(w)n(o)i(v)m(alues,)h
(the)e(command)149 276 y(name)17 b(and)i(the)f(command)e(table)i(in)i(whic)n
(h)f(the)f(command)e(w)n(as)k(found.)26 b(If)19 b(the)g(command)d(is)j(not)f
(acces-)149 342 y(sible)f(in)g Fs(c)m(ommand-table)j Fr(and)d
Fs(err)m(orp)i Fr(is)e Fm(true)p Fr(,)f(the)g Ft(command-not-accessible)i
Fr(error)d(will)k(b)r(e)c(signalled.)149 409 y Fs(c)m(ommand-table)22
b Fr(is)c(a)h Fm(command)c(table)i(designator)p Fr(.)149 542
y Ft(find-command-from-command-line-name)j Fr(ignores)d(c)n(haracter)f(case.)
49 674 y Fj(\))45 b Ft(command-line-name-for-command)30 b Fs(c)m(ommand-name)
23 b(c)m(ommand-table)h Ft(&key)29 b Fs(\(err)m(orp)22 b(t\))32
b Fr([)p Fs(F)l(unction)t Fr(])149 874 y(Returns)10 b(the)h(command-line)f
(name)g(for)i Fs(c)m(ommand-name)j Fr(as)d(it)g(is)g(installed)g(in)g
Fs(c)m(ommand-table)p Fr(.)27 b Fs(c)m(ommand-)149 940 y(table)20
b Fr(is)f(a)f Fm(command)d(table)i(designator)p Fr(.)149 1073
y(If)e(the)f(command)e(is)k(not)e(accessible)g(in)h Fs(c)m(ommand-table)k
Fr(or)c(has)g(no)g(command-line)d(name,)j(then)f(there)f(are)149
1139 y(three)h(p)r(ossible)h(results.)23 b(If)17 b Fs(err)m(orp)h
Fr(is)f Ft(nil)p Fr(,)g(then)e(the)h(returned)d(v)m(alue)j(will)i(b)r(e)d
Ft(nil)p Fr(.)25 b(If)16 b Fs(err)m(orp)j Fr(is)d Ft(:create)p
Fr(,)149 1206 y(then)f(a)h(command-line)d(name)i(will)i(b)r(e)e(generated,)f
(as)i(describ)r(ed)e(in)i Ft(add-command-to-command-table)p
Fr(.)149 1272 y(Otherwise,)c(if)h Fs(err)m(orp)i Fr(is)e Ft(t)p
Fr(,)h(then)e(the)f Ft(command-not-accessible)j Fr(error)d(will)j(b)r(e)d
(signalled.)23 b(The)12 b(returned)149 1339 y(command-line)j(name)i(should)h
(not)f(b)r(e)g(mo)r(di\014ed.)149 1472 y(This)22 b(is)g(the)f(in)n(v)n(erse)h
(of)g Ft(find-command-from-command-line-name)p Fr(.)38 b(It)22
b(should)f(b)r(e)g(implemen)n(ted)e(in)149 1538 y(suc)n(h)g(as)g(w)n(a)n(y)h
(that)e(it)h(is)h(fast,)f(since)g(it)g(ma)n(y)g(b)r(e)g(used)f(b)n(y)i
(presen)n(tation)d(translators)f(to)j(pro)r(duce)e(p)r(oin)n(ter)149
1604 y(do)r(cumen)n(tation)o(.)49 1737 y Fj(\))45 b Ft
(command-table-complete-input)30 b Fs(c)m(ommand-table)24 b(string)d(action)g
Ft(&key)29 b Fs(fr)m(ame)214 b Fr([)p Fs(F)l(unction)t Fr(])149
1856 y(A)19 b(function)e(that)h(can)h(b)r(e)f(used)h(as)g(in)g(conjunction)e
(with)i Ft(complete-input)h Fr(in)g(order)e(to)g(complete)f(o)n(v)n(er)149
1923 y(all)k(of)f(the)g(command)d(lines)k(names)e(accessible)g(in)h(the)g
Fm(command)e(table)h Fs(c)m(ommand-table)p Fr(.)36 b Fs(string)21
b Fr(is)g(the)149 1989 y(input)c(string)h(to)f(complete)f(o)n(v)n(er,)j(and)e
Fs(action)j Fr(is)f(as)f(for)g Ft(complete-from-possibilities)p
Fr(.)149 2122 y Fs(fr)m(ame)h Fr(is)f(either)e(an)h(application)f(frame,)h
(or)g Ft(nil)p Fr(.)25 b(If)17 b Fs(fr)m(ame)j Fr(is)d(supplied,)h(no)f
(disabled)g(commands)d(should)149 2188 y(b)r(e)j(o\013ered)g(as)h(v)m(alid)h
(completions.)149 2321 y Ft(command-table-complete-input)k
Fr(could)d(b)r(e)h(implemen)n(ted)d(b)n(y)k(collecting)e(all)i(of)f(the)g
(command)d(line)149 2388 y(names)f(accessible)g(in)i(the)g(command)c(table)j
(and)h(then)f(calling)h Ft(complete-from-possibilities)p Fr(,)i(or)d(it)149
2454 y(could)h(b)r(e)h(implemen)n(ted)d(more)i(e\016cien)n(tly)h(than)f(that)
g(\(suc)n(h)h(as)g(b)n(y)h(cac)n(hing)e(a)h(sorted)f(list)h(of)h(command)149
2520 y(line)d(names)f(and)g(using)h(a)g(binary)g(searc)n(h\).)49
2653 y Fj(\))45 b Ft(global-command-table)1281 b Fr([)p Fs(Command)22
b(T)l(able)t Fr(])149 2772 y(The)i(command)e(table)i(from)g(whic)n(h)h(all)h
(other)d(command)f(tables)i(inherit)g(b)n(y)i(default.)44 b(Programmer)o(s)
149 2839 y(should)18 b(not)f(explicitly)i(add)f(an)n(ything)g(to)g(or)g(remo)
n(v)n(e)g(an)n(ything)g(from)f(this)h(command)d(table.)25 b(CLIM)18
b(can)149 2905 y(use)23 b(this)g(command)d(to)j(store)g(in)n(ternals)f(or)i
(system-wide)e(commands)e(and)j(translators)e(\(for)h(example,)149
2971 y(the)d(translator)g(that)g(implemen)n(ts)f(the)i(\\iden)n(tit)n(y")g
(translation)f(from)g(a)i(t)n(yp)r(e)f(to)g(itself)t(\).)32
b(Programmer)o(s)149 3038 y(should)17 b(not)h(casually)g(install)g(an)n(y)h
(commands)14 b(or)k(translators)e(in)n(to)i(this)g(command)d(table.)49
3171 y Fj(\))45 b Ft(user-command-table)1339 b Fr([)p Fs(Command)22
b(T)l(able)t Fr(])149 3290 y(A)c(command)e(table)i(that)f(can)i(b)r(e)e(used)
h(b)n(y)i(the)e(programmer)d(for)j(an)n(y)h(purp)r(ose.)24
b(CLIM)19 b(do)r(es)e(not)h(use)g(it)149 3356 y(for)f(an)n(ything,)h(and)g
(its)g(con)n(ten)n(ts)f(are)g(completely)g(unde\014ned.)p eop
%%Page: 274 289
bop 149 16 a Fm(CHAPTER)16 b(27.)43 b(COMMAND)17 b(PR)n(OCESSING)1122
b Fr(274)149 210 y Fk(27.3)91 b(Command)31 b(Men)m(us)149 397
y Fr(Eac)n(h)22 b(command)e(table)i(ma)n(y)h(ha)n(v)n(e)g(a)g(men)n(u)f
(consisting)g(of)h(an)g(ordered)d(sequence)i(of)h(command)d(men)n(u)149
464 y(items.)28 b(The)19 b(men)n(u)g(sp)r(eci\014es)f(a)i(mapping)e(from)h(a)
g(men)n(u)g(name)f(\(the)h(name)f(displa)n(y)n(ed)j(in)f(the)f(men)n(u\))f
(to)149 530 y(a)i(command)e(men)n(u)i(item.)31 b(The)21 b(men)n(u)e(of)i(an)f
(application)g(frame's)f(top-lev)n(el)i(command)d(table)i(ma)n(y)g(b)r(e)149
596 y(presen)n(ted)c(in)i(a)g(windo)n(w)h(system)d(sp)r(eci\014c)h(w)n(a)n(y)
-5 b(,)20 b(for)e(example,)f(as)h(a)g(men)n(u)f(bar.)149 729
y(Command)23 b(men)n(u)i(items)g(are)g(stored)f(as)i(a)g(list)g(of)g(the)f
(form)g Ft(\()p Fs(typ)m(e)30 b(value)g Ft(.)59 b Fs(options)p
Ft(\))p Fr(,)29 b(where)c Fs(typ)m(e)149 796 y Fr(and)20 b
Fs(value)i Fr(are)d(as)i(in)g Ft(add-menu-item-to-command-table)p
Fr(,)i(and)d Fs(options)i Fr(is)f(a)g(list)g(of)f(k)n(eyw)n(ord-v)m(alue)149
862 y(pairs.)35 b(The)21 b(allo)n(w)n(able)i(k)n(eyw)n(ords)f(are)f
Ft(:documentation)p Fr(,)j(whic)n(h)e(is)h(used)e(to)g(supply)h(optional)f(p)
r(oin)n(ter)149 929 y(do)r(cumen)n(tion)e(for)j(the)g(command)e(men)n(u)h
(item,)i(and)f Ft(:text-style)p Fr(,)j(whic)n(h)e(is)g(used)f(to)g(indicate)f
(what)149 995 y(text)15 b(st)n(yle)h(should)f(b)r(e)g(used)g(for)h(this)f
(command)e(men)n(u)i(item)g(when)g(it)h(is)h(displa)n(y)n(ed)f(in)g(a)g
(command)d(men)n(u.)149 1128 y Ft(add-menu-item-to-command-table)p
Fr(,)i Ft(remove-menu-item-from-command-table)p Fr(,)h(and)c
Ft(find-menu-)149 1194 y(item)19 b Fr(ignore)f(the)g(c)n(haracter)f(case)h
(of)h(the)f(command)e(men)n(u)i(item's)g(name)f(when)i(searc)n(hing)e
(through)g(the)149 1261 y(command)e(table's)i(men)n(u.)49 1393
y Fj(\))45 b Ft(add-menu-item-to-command-table)30 b Fs(c)m(ommand-table)25
b(string)d(typ)m(e)h(value)f Ft(&key)29 b Fs(do)m(cumentation)c(\(af-)149
1460 y(ter)c(':end\))f(keystr)m(oke)i(text-style)f(\(err)m(orp)h(t\))1107
b Fr([)p Fs(F)l(unction)t Fr(])149 1659 y(Adds)13 b(a)h(command)d(men)n(u)i
(item)g(to)h Fs(c)m(ommand-table)p Fr('s)k(men)n(u.)k Fs(string)16
b Fr(is)e(the)g(name)e(of)i(the)f(command)f(men)n(u)149 1726
y(item;)24 b(its)f(c)n(haracter)d(case)i(is)h(ignored.)37 b
Fs(typ)m(e)24 b Fr(is)g(either)d Ft(:command)p Fr(,)k Ft(:function)p
Fr(,)g Ft(:menu)p Fr(,)g(or)d Ft(:divider)p Fr(.)149 1792 y
Fs(c)m(ommand-table)g Fr(is)c(a)h Fm(command)c(table)i(designator)p
Fr(.)149 1925 y Fo(Minor)g(issue:)50 b Fm(Ho)n(w)13 b(do)h(w)n(e)g(mak)n(e)f
(iconic)g(command)e(men)n(us?)22 b(Probably)13 b(another)e(k)n(eyw)n(ord...)
24 b(|)15 b(SWM)149 2058 y Fr(When)22 b Fs(typ)m(e)j Fr(is)g
Ft(:command)p Fr(,)h Fs(value)e Fr(m)n(ust)f(b)r(e)g(a)g(command)e(\(a)i
(cons)f(of)i(a)f(command)e(name)h(follo)n(w)n(ed)i(b)n(y)149
2124 y(a)d(list)h(of)g(the)e(command's)f(argumen)n(ts\),)h(or)h(a)g(command)e
(name.)33 b(\(When)21 b Fs(value)i Fr(is)f(a)f(command)e(name,)149
2190 y(it)27 b(b)r(eha)n(v)n(es)f(as)h(though)f(a)h(command)d(with)j(no)g
(argumen)n(ts)e(w)n(as)i(supplied.\))51 b(In)27 b(the)g(case)f(where)g(all)
149 2257 y(of)e(the)f(command's)f(required)h(argumen)n(ts)e(are)j(supplied,)h
(clic)n(king)g(on)f(an)g(item)f(in)i(the)e(men)n(u)g(in)n(v)n(ok)n(es)149
2323 y(the)f(command)e(immediately)-5 b(.)38 b(Otherwise,)24
b(the)e(user)g(will)j(b)r(e)d(prompted)e(for)j(the)f(remaining)g(required)149
2390 y(argumen)n(ts.)149 2523 y(When)i Fs(typ)m(e)i Fr(is)f
Ft(:function)p Fr(,)i Fs(value)f Fr(m)n(ust)e(b)r(e)g(function)f(ha)n(ving)i
(inde\014nite)e(exten)n(t)h(that,)h(when)f(called,)149 2589
y(returns)c(a)i(command.)33 b(The)21 b(function)g(is)h(called)g(with)g(t)n(w)
n(o)g(argumen)n(ts,)f(the)g(gesture)f(the)h(user)g(used)g(to)149
2655 y(select)c(the)g(item)g(\(either)g(a)h(k)n(eyb)r(oard)f(or)g(button)g
(press)g(ev)n(en)n(t\))h(and)f(a)h(\\n)n(umeric)f(argumen)n(t".)149
2788 y(When)h Fs(typ)m(e)i Fr(is)f Ft(:menu)p Fr(,)h(this)e(item)g(indicates)
f(that)h(a)g(sub-men)n(u)g(will)i(b)r(e)e(in)n(v)n(ok)n(ed,)i(and)e(so)h
Fs(value)h Fr(m)n(ust)d(b)r(e)149 2855 y(another)f(command)f(table)i(or)h
(the)f(name)g(of)h(another)e(command)f(table.)149 2988 y(When)k
Fs(typ)m(e)i Fr(is)g Ft(:divider)p Fr(,)h(some)c(sort)h(of)h(a)g(dividing)g
(line)h(is)f(displa)n(y)n(ed)h(in)f(the)f(men)n(u)g(at)h(that)f(p)r(oin)n(t.)
29 b(If)149 3054 y Fs(string)15 b Fr(is)f(supplied,)h(it)f(will)i(b)r(e)d
(dra)n(wn)g(as)h(the)f(divider)h(instead)f(of)h(a)g(line.)24
b(If)14 b(the)f(lo)r(ok)h(and)f(feel)h(pro)n(vided)g(b)n(y)149
3120 y(the)k(underlying)h(windo)n(w)h(system)e(has)h(no)g(corresp)r(onding)d
(concept,)i Ft(:divider)i Fr(items)e(ma)n(y)i(b)r(e)e(ignored.)149
3187 y Fs(value)h Fr(is)g(ignored.)149 3320 y Fs(do)m(cumentation)25
b Fr(is)d(a)g(do)r(cumen)n(tation)c(string,)k(whic)n(h)g(can)f(b)r(e)g(used)g
(as)g(mouse)f(do)r(cumen)n(tation)e(for)j(the)149 3386 y(command)15
b(men)n(u)i(item.)p eop
%%Page: 275 290
bop 149 16 a Fm(CHAPTER)16 b(27.)43 b(COMMAND)17 b(PR)n(OCESSING)1122
b Fr(275)149 210 y Fs(text-style)20 b Fr(is)f(either)f(a)h(text)f(st)n(yle)h
(sp)r(ec)e(or)i Ft(nil)p Fr(.)27 b(It)18 b(is)h(used)f(to)h(indicate)f(that)f
(the)h(command)e(men)n(u)i(item)149 276 y(should)f(b)r(e)h(dra)n(wn)f(with)h
(the)g(supplied)f(text)h(st)n(yle)g(in)h(command)c(men)n(us.)149
409 y Fs(after)k Fr(m)n(ust)d(b)r(e)h(either)f Ft(:start)i
Fr(\(meaning)d(to)h(add)h(the)g(new)g(item)f(to)h(the)f(b)r(eginning)g(of)h
(the)g(men)n(u\),)f Ft(:end)149 475 y Fr(or)k Ft(nil)g Fr(\(meaning)e(to)i
(add)g(the)f(new)h(item)f(to)h(the)f(end)h(of)g(the)f(men)n(u\),)h(or)g(a)g
(string)f(naming)g(an)h(existing)149 542 y(en)n(try)15 b(\(meaning)e(to)j
(add)f(the)g(new)g(item)f(after)h(that)f(en)n(try\).)23 b(If)16
b Fs(after)i Fr(is)e Ft(:sort)p Fr(,)h(then)d(the)h(item)g(is)h(inserted)149
608 y(in)i(suc)n(h)g(as)g(w)n(a)n(y)h(as)f(to)g(main)n(tain)f(the)g(men)n(u)h
(in)g(alphab)r(etical)e(order.)149 741 y(If)23 b Fs(keystr)m(oke)i
Fr(is)f(supplied,)f(the)f(item)g(will)i(b)r(e)e(added)g(to)g(the)g(command)e
(table's)i(k)n(eystrok)n(e)h(accelerator)149 807 y(table.)31
b(The)21 b(v)m(alue)f(of)h Fs(keystr)m(oke)i Fr(m)n(ust)d(b)r(e)g(a)h(k)n
(eyb)r(oard)e(gesture)g(name.)31 b(This)21 b(is)g(exactly)g(equiv)m(alen)n(t)
f(to)149 874 y(calling)f Ft(add-keystroke-to-command-table)j
Fr(with)d(the)g(argumen)n(ts)e Fs(c)m(ommand-table)p Fr(,)24
b Fs(keystr)m(oke)p Fr(,)f Fs(typ)m(e)149 940 y Fr(and)17 b
Fs(value)p Fr(.)27 b(When)17 b Fs(keystr)m(oke)k Fr(is)e(supplied)f(and)g
Fs(typ)m(e)h Fr(is)g Ft(:command)g Fr(or)f Ft(:function)p Fr(,)i(t)n(yping)e
(a)g(k)n(ey)h(on)f(the)149 1007 y(k)n(eyb)r(oard)13 b(that)g(matc)n(hes)g(to)
h(the)f(k)n(eystrok)n(e)h(accelerator)e(gesture)g(will)k(in)n(v)n(ok)n(e)g
(the)e(command)d(sp)r(eci\014ed)i(b)n(y)149 1073 y Fs(value)p
Fr(.)26 b(When)17 b Fs(typ)m(e)i Fr(is)g Ft(:menu)p Fr(,)g(the)e(command)e
(will)k(con)n(tin)n(ue)f(to)f(b)r(e)g(read)g(from)g(the)g(sub-men)n(u)g
(indicated)149 1139 y(b)n(y)i Fs(value)g Fr(in)g(a)f(windo)n(w)g(system)f(sp)
r(eci\014c)f(manner.)149 1272 y(If)i(the)f(item)g(named)f(b)n(y)i
Fs(string)i Fr(is)e(already)f(presen)n(t)g(in)h(the)f(command)e(table's)i
(men)n(u)g(and)g Fs(err)m(orp)k Fr(is)d Fm(true)p Fr(,)149
1339 y(then)c(the)g Ft(command-already-present)j Fr(error)d(will)i(b)r(e)f
(signalled.)23 b(When)15 b(the)f(item)g(is)i(already)e(presen)n(t)g(in)149
1405 y(the)h(command)e(table's)j(men)n(u)f(and)g Fs(err)m(orp)k
Fr(is)e Fm(false)p Fr(,)f(the)g(old)g(item)f(will)i(\014rst)f(b)r(e)f(remo)n
(v)n(ed)g(from)g(the)g(men)n(u.)149 1472 y(Note)h(that)h(the)h(c)n(haracter)d
(case)j(of)g Fs(string)h Fr(is)g(ignored)e(when)g(searc)n(hing)g(the)g
(command)e(table's)j(men)n(u.)49 1604 y Fj(\))45 b Ft
(remove-menu-item-from-command-table)31 b Fs(c)m(ommand-table)23
b(string)e Ft(&key)29 b Fs(\(err)m(orp)22 b(t\))81 b Fr([)p
Fs(F)l(unction)t Fr(])149 1723 y(Remo)n(v)n(es)18 b(the)g(item)g(named)g(b)n
(y)h Fs(string)i Fr(from)d Fs(c)m(ommand-table)p Fr('s)23 b(men)n(u.)k
Fs(c)m(ommand-table)c Fr(is)c(a)h Fm(command)149 1790 y(table)d(designator)p
Fr(.)149 1923 y(If)j(the)f(item)g(is)i(not)e(presen)n(t)f(in)j(the)e(command)
e(table's)i(men)n(u)g(and)h Fs(err)m(orp)i Fr(is)f Fm(true)p
Fr(,)f(then)f(the)g Ft(command-)149 1989 y(not-present)25 b
Fr(error)e(will)j(b)r(e)e(signalled.)43 b(Note)23 b(that)g(the)h(c)n
(haracter)e(case)h(of)h Fs(string)i Fr(is)f(ignored)e(when)149
2055 y(searc)n(hing)17 b(the)g(command)e(table's)j(men)n(u.)49
2188 y Fj(\))45 b Ft(map-over-command-table-menu-items)31 b
Fs(function)20 b(c)m(ommand-table)481 b Fr([)p Fs(F)l(unction)t
Fr(])149 2307 y(Applies)21 b Fs(function)h Fr(to)f(all)h(of)g(the)e(items)g
(in)i Fs(c)m(ommand-table)p Fr('s)k(men)n(u.)33 b Fs(function)23
b Fr(m)n(ust)e(b)r(e)f(a)i(function)e(of)149 2374 y(three)e(argumen)n(ts,)g
(the)h(men)n(u)g(name,)g(the)g(k)n(eystrok)n(e)h(accelerator)d(gesture)g
(\(whic)n(h)j(will)h(b)r(e)e Ft(nil)i Fr(if)f(there)149 2440
y(is)g(none\),)g(and)f(the)h(command)d(men)n(u)i(item;)h(it)h(has)e(dynamic)g
(exten)n(t.)30 b(The)19 b(command)e(men)n(u)i(items)g(are)149
2507 y(mapp)r(ed)c(o)n(v)n(er)k(in)g(the)e(order)g(sp)r(eci\014ed)f(b)n(y)j
Ft(add-menu-item-to-command-table)p Fr(.)28 b Fs(c)m(ommand-table)22
b Fr(is)d(a)149 2573 y Fm(command)c(table)i(designator)p Fr(.)149
2706 y Ft(map-over-command-table-menu-items)25 b Fr(do)r(es)d(not)g(descend)g
(in)n(to)h(sub-men)n(us.)38 b(If)23 b(the)g(programmer)149
2772 y(requires)e(this)i(b)r(eha)n(vior,)g(he)g(should)f(examine)f(the)h(t)n
(yp)r(e)g(of)h(the)f(command)e(men)n(u)i(item)f(to)i(see)f(if)h(it)g(is)149
2839 y Ft(:menu)p Fr(.)49 2971 y Fj(\))45 b Ft(find-menu-item)30
b Fs(menu-name)21 b(c)m(ommand-table)i Ft(&key)30 b Fs(\(err)m(orp)21
b(t\))548 b Fr([)p Fs(F)l(unction)t Fr(])149 3090 y(Giv)n(en)17
b(a)e(men)n(u)g(name)f(and)i(a)g(command)c(table,)k(returns)e(t)n(w)n(o)i(v)m
(alues,)h(the)e(command)e(men)n(u)h(item)h(and)g(the)149 3157
y(command)d(table)i(in)i(whic)n(h)f(it)g(w)n(as)h(found.)23
b(\(Since)14 b(men)n(us)f(are)i(not)f(inherited,)h(the)f(second)g(returned)f
(v)m(alue)149 3223 y(will)22 b(alw)n(a)n(ys)g(b)r(e)f Fs(c)m(ommand-table)p
Fr(.\))37 b Fs(c)m(ommand-table)25 b Fr(is)c(a)h Fm(command)c(table)i
(designator)p Fr(.)32 b(This)21 b(function)149 3290 y(returns)16
b(ob)s(jects)g(that)h(rev)n(eal)h(CLIM's)g(in)n(ternal)g(state;)f(do)h(not)f
(mo)r(dify)g(those)g(ob)s(jects.)149 3423 y(If)h(there)f(is)i(no)f(command)e
(men)n(u)h(item)h(corresp)r(onding)d(to)j Fs(menu-name)i Fr(presen)n(t)d(in)i
Fs(c)m(ommand-table)j Fr(and)p eop
%%Page: 276 291
bop 149 16 a Fm(CHAPTER)16 b(27.)43 b(COMMAND)17 b(PR)n(OCESSING)1122
b Fr(276)149 210 y Fs(err)m(orp)15 b Fr(is)f Fm(true)p Fr(,)f(then)f(the)g
Ft(command-not-accessible)j Fr(error)c(will)k(b)r(e)d(signalled.)22
b(Note)12 b(that)g(the)g(c)n(haracter)149 276 y(case)17 b(of)h
Fs(string)h Fr(is)g(ignored)e(when)g(searc)n(hing)g(the)h(command)d(table's)i
(men)n(u.)49 409 y Fj(\))45 b Ft(command-menu-item-type)30
b Fs(menu-item)1119 b Fr([)p Fs(F)l(unction)t Fr(])149 528
y(Returns)19 b(the)h(t)n(yp)r(e)g(of)h(the)f(command)e(men)n(u)h(item)h
Fs(menu-item)p Fr(,)k(for)c(example,)h Ft(:menu)g Fr(or)g Ft(:command)p
Fr(.)33 b(If)149 594 y Fs(menu-item)20 b Fr(is)e(not)g(a)g(command)d(men)n(u)
i(item,)g(the)h(result)f(is)i(unsp)r(eci\014ed.)49 727 y Fj(\))45
b Ft(command-menu-item-value)30 b Fs(menu-item)1090 b Fr([)p
Fs(F)l(unction)t Fr(])149 846 y(Returns)13 b(the)h(v)m(alue)h(of)g(the)f
(command)e(men)n(u)i(item)g Fs(menu-item)p Fr(.)25 b(F)-5 b(or)15
b(example,)g(if)g(the)g(t)n(yp)r(e)f(of)h Fs(menu-item)149
912 y Fr(is)k Ft(:command)p Fr(,)h(this)e(will)i(return)d(a)h(command)e(or)i
(a)g(command)e(name.)24 b(If)19 b Fs(menu-item)h Fr(is)f(not)f(a)h(command)
149 979 y(men)n(u)e(item,)g(the)h(result)f(is)h(unsp)r(eci\014ed.)49
1112 y Fj(\))45 b Ft(command-menu-item-options)30 b Fs(menu-item)1032
b Fr([)p Fs(F)l(unction)t Fr(])149 1231 y(Returns)21 b(a)i(list)h(of)f(the)f
(options)g(for)h(the)f(command)e(men)n(u)j(item)f Fs(menu-item)p
Fr(.)41 b(If)24 b Fs(menu-item)g Fr(is)g(not)f(a)149 1297 y(command)15
b(men)n(u)i(item,)g(the)h(result)f(is)i(unsp)r(eci\014ed.)49
1430 y Fj(\))45 b Ft(display-command-table-menu)30 b Fs(c)m(ommand-table)i
(str)m(e)m(am)e Ft(&key)g Fs(max-width)f(max-height)h(n-r)m(ows)e(n-)149
1496 y(c)m(olumns)18 b(x-sp)m(acing)h(y-sp)m(acing)f(initial-sp)m(acing)i
(\(c)m(el)s(l-align-x)f Ft(:left)p Fs(\))e(\(c)m(el)s(l-align-y)i
Ft(:top)p Fs(\))f(\(move-cursor)149 1563 y Ft(t)p Fs(\))1780
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1682 y(Displa)n(ys)h
Fs(c)m(ommand-table)p Fr('s)j(men)n(u)21 b(on)h Fs(str)m(e)m(am)p
Fr(.)39 b(Implemen)n(tations)19 b(ma)n(y)j(c)n(ho)r(ose)e(to)i(use)g
Ft(formatting-)149 1748 y(item-list)c Fr(or)f(ma)n(y)g(displa)n(y)h(the)e
(command)e(table's)j(men)n(u)f(in)i(a)f(platform)e(dep)r(enden)n(t)g(manner,)
h(suc)n(h)h(as)149 1815 y(using)h(the)f(men)n(u)g(bar)h(on)f(a)i(Macin)n
(tosh.)k Fs(c)m(ommand-table)f Fr(is)d(a)f Fm(command)d(table)i(designator)p
Fr(.)149 1948 y Fs(max-width)p Fr(,)g Fs(max-height)p Fr(,)i
Fs(n-r)m(ows)p Fr(,)e Fs(n-c)m(olumns)p Fr(,)h Fs(x-sp)m(acing)p
Fr(,)g Fs(y-sp)m(acing)p Fr(,)g Fs(initial-sp)m(acing)p Fr(,)h
Fs(c)m(el)s(l-align-x)p Fr(,)f Fs(c)m(el)s(l-)149 2014 y(align-y)p
Fr(,)h(and)f Fs(move-cursor)i Fr(are)e(as)g(for)f Ft(formatting-item-list)p
Fr(.)49 2147 y Fj(\))45 b Ft(menu-choose-command-from-command-table)31
b Fs(c)m(ommand-table)f Ft(&key)f Fs(asso)m(ciate)m(d-window)f(default-)149
2213 y(style)20 b(lab)m(el)h(c)m(ache)h(unique-id)f(id-test)f(c)m(ache-value)
j(c)m(ache-test)722 b Fr([)p Fs(F)l(unction)t Fr(])149 2412
y(In)n(v)n(ok)n(es)23 b(a)g(windo)n(w)f(system)f(sp)r(eci\014c)g(routine)g
(that)g(displa)n(ys)i(a)g(men)n(u)e(of)i(commands)c(from)i
Fs(c)m(ommand-)149 2479 y(table)p Fr('s)e(men)n(u,)d(and)g(allo)n(ws)h(the)f
(user)g(to)g(c)n(ho)r(ose)g(one)g(of)g(the)g(commands.)21 b
Fs(c)m(ommand-table)g Fr(is)c(a)g Fm(command)149 2545 y(table)j(designator)p
Fr(.)31 b(The)21 b(returned)d(v)m(alue)j(is)h(a)f(command)d(ob)s(ject.)31
b(This)22 b(ma)n(y)e(in)n(v)n(ok)n(e)j(itself)e(recursiv)n(ely)149
2612 y(when)c(there)g(are)g(sub-men)n(us.)149 2745 y Fs(asso)m(ciate)m
(d-window)p Fr(,)24 b Fs(default-style)p Fr(,)g Fs(lab)m(el)p
Fr(,)g Fs(c)m(ache)p Fr(,)h Fs(unique-id)p Fr(,)e Fs(id-test)p
Fr(,)g Fs(c)m(ache-value)p Fr(,)j(and)20 b Fs(c)m(ache-test)k
Fr(are)149 2811 y(as)18 b(for)f Ft(menu-choose)p Fr(.)149 2944
y Fo(Minor)22 b(issue:)54 b Fm(Should)18 b(this)g(b)r(e)f(generic)g(on)h
(application)f(frames?)22 b(|)d(SWM)149 3193 y Fk(27.4)91 b(Keystrok)m(e)31
b(Accelerators)149 3381 y Fr(Eac)n(h)22 b(command)e(table)h(ma)n(y)i(ha)n(v)n
(e)g(a)g(mapping)e(from)g(k)n(eystrok)n(e)i(accelerator)c(gesture)i(names)g
(to)h(com-)149 3447 y(mand)d(men)n(u)h(items.)31 b(When)21
b(a)f(user)g(t)n(yp)r(es)g(a)h(k)n(ey)h(on)e(the)g(k)n(eyb)r(oard)g(that)g
(corresp)r(onds)d(to)k(the)f(gesture)p eop
%%Page: 277 292
bop 149 16 a Fm(CHAPTER)16 b(27.)43 b(COMMAND)17 b(PR)n(OCESSING)1122
b Fr(277)149 210 y(for)22 b(k)n(eystrok)n(e)h(accelerator,)e(the)h(corresp)r
(onding)e(command)g(men)n(u)i(item)g(will)i(b)r(e)e(in)n(v)n(ok)n(ed.)40
b(Note)22 b(that)149 276 y(command)17 b(men)n(u)i(items)f(are)h(shared)g
(among)f(the)h(command)e(table's)j(men)n(u)e(and)i(the)f(accelerator)e
(table.)149 342 y(There)e(are)g(sev)n(eral)h(reasons)e(for)i(this.)24
b(One)15 b(is)i(that)e(it)h(is)g(common)e(to)h(ha)n(v)n(e)i(men)n(us)e
(displa)n(y)i(the)e(k)n(eystrok)n(e)149 409 y(asso)r(ciated)g(with)j(a)g
(particular)f(item,)g(if)i(there)e(is)h(one.)149 542 y(Note)c(that,)h
(despite)f(the)g(fact)g(the)h(k)n(eystrok)n(e)g(accelerators)d(are)j(sp)r
(eci\014ed)e(using)i(k)n(eyb)r(oard)f(gesture)f(names)149 608
y(rather)19 b(than)g(c)n(haracters,)g(the)h(con)n(v)n(en)n(tions)g(for)g(t)n
(yp)r(ed)g(c)n(haracters)e(v)m(ary)j(widely)g(from)e(one)h(platform)f(to)149
674 y(another.)31 b(Therefore)19 b(the)i(programmer)c(m)n(ust)j(b)r(e)g
(careful)g(in)i(c)n(ho)r(osing)e(k)n(eystrok)n(e)h(accelerators.)30
b(Some)149 741 y(sort)17 b(of)h(p)r(er-platform)d(conditionalization)h(is)j
(to)e(b)r(e)h(exp)r(ected.)49 874 y Fj(\))45 b Ft
(add-keystroke-to-command-table)30 b Fs(c)m(ommand-table)19
b(gestur)m(e)d(typ)m(e)f(value)h Ft(&key)29 b Fs(do)m(cumentation)18
b(\(er-)149 940 y(r)m(orp)j(t\))1900 b Fr([)p Fs(F)l(unction)t
Fr(])149 1139 y(Adds)19 b(a)i(command)c(men)n(u)j(item)f(to)i
Fs(c)m(ommand-table)p Fr('s)j(k)n(eystrok)n(e)d(accelerator)c(table.)31
b Fs(gestur)m(e)23 b Fr(is)e(a)f(k)n(ey-)149 1206 y(b)r(oard)c(gesture)g
(name)g(to)h(b)r(e)g(used)g(as)h(the)f(accelerator.)k Fs(typ)m(e)f
Fr(and)d Fs(value)i Fr(are)e(as)h(in)g Ft(add-menu-item-to-)149
1272 y(command-table)p Fr(,)e(except)d(that)g Fs(typ)m(e)i
Fr(m)n(ust)e(b)r(e)h(either)f Ft(:command)p Fr(,)j Ft(:function)f
Fr(or)f Ft(:menu)p Fr(.)24 b Fs(c)m(ommand-table)149 1339 y
Fr(is)18 b(a)g Fm(command)e(table)h(designator)p Fr(.)149 1472
y Fo(Minor)25 b(issue:)64 b Fm(Should)20 b(w)n(e)h(allo)n(w)h
Fs(gestur)m(e)g Fm(to)e(b)r(e)g(a)g(gesture)f(sp)r(eci\014cation)f(as)i(w)n
(ell)i(as)e(just)g(a)h(gesture)149 1538 y(name?)26 b(It)19
b(simpli\014es)g(its)h(use)e(b)n(y)i(a)n(v)n(oiding)h(a)e(profusion)f(of)h
(de\014ned)f(gesture)f(names,)i(but)f(w)n(e)i(ma)n(y)f(w)n(an)n(t)149
1604 y(to)e(encourage)f(the)h(use)h(of)g(gesture)e(names.)23
b(|)c(SWM)149 1737 y Fs(do)m(cumentation)g Fr(is)e(a)f(do)r(cumen)n(tation)c
(string,)j(whic)n(h)i(can)e(b)r(e)g(used)g(as)h(do)r(cumen)n(tation)c(for)k
(the)f(k)n(eystrok)n(e)149 1804 y(accelerator.)149 1936 y(If)21
b(the)g(command)d(men)n(u)i(item)g(asso)r(ciated)f(with)i Fs(gestur)m(e)i
Fr(is)f(already)e(presen)n(t)g(in)h(the)g(command)d(table's)149
2003 y(accelerator)13 b(table)j(and)f Fs(err)m(orp)k Fr(is)e
Fm(true)p Fr(,)f(then)g(the)f Ft(command-already-present)j
Fr(error)d(will)j(b)r(e)d(signalled.)149 2069 y(When)k(the)g(item)f(is)j
(already)e(presen)n(t)f(in)i(the)f(command)e(table's)i(accelerator)e(table)i
(and)g Fs(err)m(orp)j Fr(is)e Fm(false)p Fr(,)149 2136 y(the)d(old)h(item)f
(will)j(\014rst)d(b)r(e)g(remo)n(v)n(ed.)49 2269 y Fj(\))45
b Ft(remove-keystroke-from-command-table)31 b Fs(c)m(ommand-table)23
b(gestur)m(e)f Ft(&key)29 b Fs(\(err)m(orp)22 b(t\))51 b Fr([)p
Fs(F)l(unction)t Fr(])149 2388 y(Remo)n(v)n(es)22 b(the)g(command)e(men)n(u)h
(item)h(named)f(b)n(y)j(k)n(eyb)r(oard)e(gesture)f(name)g Fs(gestur)m(e)k
Fr(from)c Fs(c)m(ommand-)149 2454 y(table)p Fr('s)f(accelerator)15
b(table.)24 b Fs(c)m(ommand-table)e Fr(is)d(a)f Fm(command)d(table)j
(designator)p Fr(.)149 2587 y(If)f(the)g(command)e(men)n(u)h(item)h(asso)r
(ciated)e(with)i Fs(gestur)m(e)i Fr(is)g(not)d(presen)n(t)g(in)i(the)f
(command)e(table's)i(men)n(u)149 2653 y(and)g Fs(err)m(orp)k
Fr(is)e Fm(true)p Fr(,)e(then)g(the)g Ft(command-not-present)j
Fr(error)d(will)i(b)r(e)f(signalled.)49 2786 y Fj(\))45 b Ft
(map-over-command-table-keystrokes)31 b Fs(function)20 b(c)m(ommand-table)481
b Fr([)p Fs(F)l(unction)t Fr(])149 2905 y(Applies)17 b Fs(function)j
Fr(to)e(all)h(of)f(the)f(k)n(eystrok)n(e)h(accelerators)d(in)k
Fs(c)m(ommand-table)p Fr('s)j(accelerator)15 b(table.)24 b
Fs(func-)149 2971 y(tion)18 b Fr(m)n(ust)d(b)r(e)h(a)h(function)e(of)i(three)
e(argumen)n(ts,)g(the)h(men)n(u)g(name)f(\(whic)n(h)h(will)j(b)r(e)c
Ft(nil)j Fr(if)f(there)e(is)j(none\),)149 3038 y(the)f(k)n(eystrok)n(e)h
(accelerator,)d(and)j(the)f(command)e(men)n(u)j(item;)f(it)h(has)g(dynamic)f
(exten)n(t.)24 b Fs(c)m(ommand-table)149 3104 y Fr(is)18 b(a)g
Fm(command)e(table)h(designator)p Fr(.)149 3237 y Ft
(map-over-command-table-keystrokes)25 b Fr(do)r(es)d(not)g(descend)g(in)n(to)
h(sub-men)n(us.)38 b(If)23 b(the)g(programmer)149 3304 y(requires)e(this)i(b)
r(eha)n(vior,)g(he)g(should)f(examine)f(the)h(t)n(yp)r(e)g(of)h(the)f
(command)e(men)n(u)i(item)f(to)i(see)f(if)h(it)g(is)149 3370
y Ft(:menu)p Fr(.)p eop
%%Page: 278 293
bop 149 16 a Fm(CHAPTER)16 b(27.)43 b(COMMAND)17 b(PR)n(OCESSING)1122
b Fr(278)49 210 y Fj(\))45 b Ft(find-keystroke-item)30 b Fs(gestur)m(e)21
b(c)m(ommand-table)j Ft(&key)29 b Fs(\(err)m(orp)22 b(t\))516
b Fr([)p Fs(F)l(unction)t Fr(])149 329 y(Giv)n(en)17 b(a)f(k)n(eyb)r(oard)f
(gesture)f Fs(gestur)m(e)k Fr(and)e(a)g(command)d(table,)j(returns)e(t)n(w)n
(o)j(v)m(alues,)f(the)f(command)f(men)n(u)149 395 y(item)g(asso)r(ciated)f
(with)i(the)g(gesture)e(and)i(the)f(command)f(table)h(in)i(whic)n(h)f(it)h(w)
n(as)g(found.)22 b(\(Since)15 b(k)n(eystrok)n(e)149 461 y(accelerators)g(are)
i(not)g(inherited,)h(the)f(second)g(returned)e(v)m(alue)j(will)i(alw)n(a)n
(ys)f(b)r(e)e Fs(c)m(ommand-table)p Fr(.\))149 594 y(This)h(function)f
(returns)f(ob)s(jects)h(that)f(rev)n(eal)i(CLIM's)g(in)n(ternal)g(state;)f
(do)h(not)f(mo)r(dify)g(those)g(ob)s(jects.)149 727 y(Note)22
b(that)g Fs(gestur)m(e)k Fr(ma)n(y)d(b)r(e)g(either)f(a)i(k)n(eyb)r(oard)e
(gesture)g(name)g(of)h(a)h(gesture)d(ob)s(ject.)40 b(When)23
b(it)g(is)i(a)149 793 y(gesture)17 b(name,)h Ft(eql)h Fr(will)h(b)r(e)f(used)
f(to)g(compare)f(the)h(supplied)g(gesture)f(to)h(the)h(gesture)e(names)g
(stored)g(in)149 860 y(the)g(command)f(table's)i(men)n(u.)25
b(When)17 b(it)i(is)g(a)g(gesture)d(ob)s(ject,)i Ft
(event-matches-gesture-name-p)i Fr(will)149 926 y(b)r(e)d(used)g(to)h(do)g
(the)f(comparison.)149 1059 y(If)c(the)f(k)n(eystrok)n(e)h(accelerator)d(is)k
(not)f(presen)n(t)e(in)j Fs(c)m(ommand-table)j Fr(and)c Fs(err)m(orp)i
Fr(is)f Fm(true)p Fr(,)f(then)f(the)h Ft(command-)149 1126
y(not-present)19 b Fr(error)e(will)i(b)r(e)e(signalled.)25
b Fs(c)m(ommand-table)d Fr(is)d(a)f Fm(command)d(table)i(designator)p
Fr(.)49 1258 y Fj(\))45 b Ft(lookup-keystroke-item)30 b Fs(gestur)m(e)21
b(c)m(ommand-table)860 b Fr([)p Fs(F)l(unction)t Fr(])149 1377
y(Giv)n(en)17 b(a)f(k)n(eyb)r(oard)f(gesture)f Fs(gestur)m(e)k
Fr(and)e(a)g(command)d(table,)j(returns)e(t)n(w)n(o)j(v)m(alues,)f(the)f
(command)f(men)n(u)149 1444 y(item)e(asso)r(ciated)f(with)j(the)f(gesture)e
(and)i(the)g(command)e(table)i(in)h(whic)n(h)g(it)g(w)n(as)g(found.)22
b(Note)12 b(that)h Fs(gestur)m(e)149 1510 y Fr(ma)n(y)19 b(b)r(e)f(either)g
(a)h(k)n(eyb)r(oard)f(gesture)f(name)g(of)i(a)g(gesture)e(ob)s(ject,)h(and)h
(is)g(handled)f(in)i(the)e(same)g(w)n(a)n(y)i(as)149 1577 y(in)h
Ft(find-keystroke-item)p Fr(.)33 b(This)21 b(function)f(returns)e(ob)s(jects)
h(that)h(rev)n(eal)g(CLIM's)h(in)n(ternal)f(state;)h(do)149
1643 y(not)c(mo)r(dify)g(those)g(ob)s(jects.)149 1776 y(Unlik)n(e)j
Ft(find-keystroke-item)p Fr(,)h(this)e(follo)n(ws)h(the)e(sub-men)n(u)g(c)n
(hains)h(that)f(can)g(b)r(e)h(created)e(with)i Ft(add-)149
1842 y(menu-item-to-command-table)p Fr(.)34 b(If)21 b(the)f(k)n(eystrok)n(e)h
(accelerator)d(cannot)h(b)r(e)h(found)g(in)h(the)g(command)149
1909 y(table)16 b(or)g(an)n(y)i(of)e(the)g(command)e(tables)i(from)g(whic)n
(h)h(it)g(inherits,)g Ft(lookup-keystroke-item)h Fr(will)g(return)149
1975 y Ft(nil)p Fr(.)25 b Fs(c)m(ommand-table)d Fr(is)d(a)f
Fm(command)d(table)i(designator)p Fr(.)49 2108 y Fj(\))45 b
Ft(lookup-keystroke-command-item)30 b Fs(gestur)m(e)22 b(c)m(ommand-table)h
Ft(&key)30 b Fs(numeric-ar)m(g)169 b Fr([)p Fs(F)l(unction)t
Fr(])149 2227 y(Giv)n(en)20 b(a)g(k)n(eyb)r(oard)e(gesture)f
Fs(gestur)m(e)k Fr(and)e(a)h(command)c(table,)j(returns)f(the)g(command)f
(asso)r(ciated)g(with)149 2293 y(the)i(k)n(eystrok)n(e,)h(or)f
Fs(gestur)m(e)j Fr(if)e(no)f(command)e(is)j(found.)29 b(Note)18
b(that)h Fs(gestur)m(e)i Fr(ma)n(y)f(b)r(e)e(either)h(a)h(k)n(eyb)r(oard)149
2360 y(gesture)c(name)h(of)h(a)h(gesture)d(ob)s(ject,)h(and)h(is)h(handled)f
(in)h(the)e(same)g(w)n(a)n(y)j(as)e(in)h Ft(find-keystroke-item)p
Fr(.)149 2426 y(This)f(function)f(returns)f(ob)s(jects)h(that)f(rev)n(eal)i
(CLIM's)g(in)n(ternal)g(state;)f(do)h(not)f(mo)r(dify)g(those)g(ob)s(jects.)
149 2559 y(This)j(is)h(lik)n(e)h Ft(find-keystroke-item)p Fr(,)h(except)c
(that)g(only)h(k)n(eystrok)n(es)g(that)f(map)h(to)g(an)g(enabled)f(appli-)149
2626 y(cation)e(command)e(will)k(b)r(e)f(matc)n(hed.)k Fs(c)m(ommand-table)g
Fr(is)d(a)f Fm(command)d(table)j(designator)p Fr(.)149 2758
y Fs(numeric-ar)m(g)i Fr(\(whic)n(h)e(defaults)f(to)g(1\))h(is)g(substituted)
d(in)n(to)j(the)g(resulting)e(command)f(for)j(an)n(y)g(o)r(ccurrence)149
2825 y(of)23 b Ft(*numeric-argument-marker*)h Fr(in)g(the)e(command.)37
b(This)23 b(is)h(in)n(tended)e(to)g(allo)n(w)i(programmers)19
b(to)149 2891 y(de\014ne)h(k)n(eystrok)n(e)h(accelerators)e(that)h(tak)n(e)h
(simple)g(n)n(umeric)g(argumen)n(ts,)f(whic)n(h)h(will)i(b)r(e)e(passed)f(on)
i(b)n(y)149 2958 y(the)17 b(input)h(editor.)149 3090 y Fo(Minor)34
b(issue:)99 b Fm(Do)29 b(the)f(ab)r(o)n(v)n(e)g(three)f(functions)g(need)h
(to)g(ha)n(v)n(e)h(their)e(hands)h(on)g(the)g(p)r(ort?)54 b(If)149
3157 y Ft(event-matches-gesture-name-p)21 b Fm(needs)e(the)f(p)r(ort,)h(then)
g(the)f(answ)n(er)h(is)h(y)n(es.)29 b(Otherwise,)19 b(if)i(gesture)149
3223 y(names)16 b(are)i(\\global")f(across)g(all)h(p)r(orts,)f(then)g(these)g
(don't)h(need)f(the)g(p)r(ort.)23 b(|)c(SWM)49 3356 y Fj(\))45
b Ft(substitute-numeric-argument-marker)31 b Fs(c)m(ommand)22
b(numeric-ar)m(g)488 b Fr([)p Fs(F)l(unction)t Fr(])p eop
%%Page: 279 294
bop 149 16 a Fm(CHAPTER)16 b(27.)43 b(COMMAND)17 b(PR)n(OCESSING)1122
b Fr(279)149 210 y(Giv)n(en)17 b(a)g(command)d(ob)s(ject)h
Fs(c)m(ommand)p Fr(,)k(this)e(substitutes)d(the)i(v)m(alue)g(of)h
Fs(numeric-ar)m(g)i Fr(for)d(all)h(o)r(ccurrences)149 276 y(of)j(the)f(v)m
(alue)i(of)f Ft(*numeric-argument-marker*)i Fr(in)f(the)e(command,)f(and)i
(returns)e(a)j(command)c(ob)s(ject)149 342 y(with)h(those)f(substitutions.)
149 592 y Fk(27.5)91 b(Presen)m(tation)29 b(T)-8 b(ranslator)28
b(Utilities)149 780 y Fr(These)17 b(are)h(some)f(utilities)i(for)f(main)n
(tain)f(presen)n(tation)g(translators)f(in)j(command)c(tables.)25
b(Presen)n(tation)149 846 y(translators)15 b(are)j(discussed)f(in)h(more)f
(detail)g(in)i(Chapter)d(23.)49 979 y Fj(\))45 b Ft
(add-presentation-translator-to-command-table)31 b Fs(c)m(ommand-table)18
b(tr)m(anslator-name)g Ft(&key)29 b Fs(\(er-)149 1045 y(r)m(orp)21
b(t\))1900 b Fr([)p Fs(F)l(unction)t Fr(])149 1244 y(Adds)23
b(the)g(translator)e(named)h(b)n(y)j Fs(tr)m(anslator-name)i
Fr(to)d Fs(c)m(ommand-table)p Fr(.)45 b(The)24 b(translator)d(m)n(ust)i(ha)n
(v)n(e)149 1311 y(b)r(een)12 b(previously)h(de\014ned)e(with)j
Ft(define-presentation-translator)h Fr(or)e Ft(define-presentation-to-)149
1377 y(command-translator)p Fr(.)26 b Fs(c)m(ommand-table)c
Fr(is)c(a)h Fm(command)c(table)i(designator)p Fr(.)149 1510
y(If)22 b Fs(tr)m(anslator-name)j Fr(is)d(already)f(presen)n(t)g(in)h
Fs(c)m(ommand-table)j Fr(and)d Fs(err)m(orp)i Fr(is)e Fm(true)p
Fr(,)g(then)f(the)g Ft(command-)149 1577 y(already-present)f
Fr(error)f(will)i(b)r(e)d(signalled.)29 b(When)19 b(the)g(translator)e(is)j
(already)f(presen)n(t)f(and)h Fs(err)m(orp)j Fr(is)149 1643
y Fm(false)p Fr(,)c(the)f(old)h(translator)e(will)k(\014rst)d(b)r(e)g(remo)n
(v)n(ed.)49 1776 y Fj(\))45 b Ft
(remove-presentation-translator-from-command-table)32 b Fs(c)m(ommand-table)
17 b(tr)m(anslator-name)h Ft(&key)149 1842 y Fs(\(err)m(orp)j(t\))1811
b Fr([)p Fs(F)l(unction)t Fr(])149 1961 y(Remo)n(v)n(es)23
b(the)h(translator)e(named)h(b)n(y)i Fs(tr)m(anslator-name)k
Fr(from)23 b Fs(c)m(ommand-table)p Fr(.)48 b Fs(c)m(ommand-table)28
b Fr(is)e(a)149 2028 y Fm(command)15 b(table)i(designator)p
Fr(.)149 2160 y(If)f(the)g(translator)e(is)j(not)f(presen)n(t)e(in)j(the)f
(command)d(table)j(and)g Fs(err)m(orp)j Fr(is)e Fm(true)p Fr(,)f(then)f(the)h
Ft(command-not-)149 2227 y(present)j Fr(error)d(will)k(b)r(e)d(signalled.)49
2360 y Fj(\))45 b Ft(map-over-command-table-translators)31
b Fs(function)15 b(c)m(ommand-table)j Ft(&key)29 b Fs(\(inherite)m(d)16
b(t\))29 b Fr([)p Fs(F)l(unction)t Fr(])149 2559 y(Applies)12
b Fs(function)i Fr(to)e(all)h(of)f(the)g(translators)e(accessible)h(in)i
Fs(c)m(ommand-table)p Fr(.)27 b Fs(function)14 b Fr(m)n(ust)e(b)r(e)f(a)i
(function)149 2625 y(of)24 b(one)f(argumen)n(t,)h(the)f(translator;)i(it)g
(has)e(dynamic)g(exten)n(t.)42 b Fs(c)m(ommand-table)28 b Fr(is)d(a)f
Fm(command)d(table)149 2692 y(designator)p Fr(.)149 2825 y(If)15
b Fs(inherite)m(d)i Fr(is)f Fm(false)p Fr(,)f(this)g(applies)f
Fs(function)i Fr(only)f(to)g(those)e(translators)f(presen)n(t)i(in)h
Fs(c)m(ommand-table)p Fr(,)20 b(that)149 2891 y(is,)h(it)f(do)r(es)f(not)h
(map)f(o)n(v)n(er)h(an)n(y)h(inherited)d(command)f(tables.)30
b(If)20 b Fs(inherite)m(d)j Fr(is)e Fm(true)p Fr(,)f(then)f(the)g(inherited)
149 2957 y(command)c(tables)i(are)g(tra)n(v)n(ersed)g(in)i(the)e(same)g
(order)g(as)h(for)f Ft(do-command-table-inheritance)p Fr(.)49
3090 y Fj(\))45 b Ft(find-presentation-translator)30 b Fs(tr)m(anslator-name)
23 b(c)m(ommand-table)h Ft(&key)29 b Fs(\(err)m(orp)22 b(t\))39
b Fr([)p Fs(F)l(unction)t Fr(])149 3209 y(Giv)n(en)20 b(a)f(translator)e
(name)h(and)h(a)g(command)e(table,)i(returns)e(t)n(w)n(o)j(v)m(alues,)g(the)e
(presen)n(tation)f(translator)149 3276 y(and)f(the)g(command)d(table)j(in)h
(whic)n(h)g(it)g(w)n(as)f(found.)24 b(If)16 b(the)g(translator)e(is)k(not)d
(presen)n(t)h(in)h Fs(c)m(ommand-table)149 3342 y Fr(and)f
Fs(err)m(orp)j Fr(is)f Fm(true)p Fr(,)e(then)g(the)g Ft
(command-not-accessible)i Fr(error)e(will)i(b)r(e)e(signalled.)24
b Fs(c)m(ommand-table)d Fr(is)149 3409 y(a)d Fm(command)d(table)i(designator)
p Fr(.)p eop
%%Page: 280 295
bop 149 16 a Fm(CHAPTER)16 b(27.)43 b(COMMAND)17 b(PR)n(OCESSING)1122
b Fr(280)149 210 y Fk(27.6)91 b(The)31 b(Command)f(Pro)s(cessor)149
397 y Fr(Once)13 b(a)h(set)g(of)g(commands)d(has)i(b)r(een)g(de\014ned,)h
(CLIM)g(pro)n(vides)f(a)i(v)m(ariet)n(y)f(of)g(means)e(to)i(read)f(a)h
(command.)149 464 y(These)j(are)g(all)i(mediated)d(b)n(y)j(the)e(Command)f
(Pro)r(cessor.)49 596 y Fj(\))45 b Ft(read-command)29 b Fs(c)m(ommand-table)k
Ft(&key)c Fs(\(str)m(e)m(am)h(*query-io*\))g(c)m(ommand-p)m(arser)i(c)m
(ommand-unp)m(arser)149 663 y(p)m(artial-c)m(ommand-p)m(arser)25
b(use-keystr)m(okes)1114 b Fr([)p Fs(F)l(unction)t Fr(])149
782 y Ft(read-command)23 b Fr(is)g(the)f(standard)e(in)n(terface)h(used)h(to)
g(read)f(a)h(command)e(line.)38 b Fs(str)m(e)m(am)24 b Fr(is)f(an)f(extended)
149 848 y(input)17 b(stream,)g(and)g Fs(c)m(ommand-table)22
b Fr(is)d(a)f Fm(command)d(table)j(designator)p Fr(.)149 981
y Fs(c)m(ommand-p)m(arser)j Fr(m)n(ust)16 b(b)r(e)g(a)h(function)f(of)h(t)n
(w)n(o)g(argumen)n(ts,)e(a)j(command)c(table)i(and)h(a)g(stream.)22
b(It)17 b(reads)149 1048 y(a)e(command)c(from)j(the)g(user)g(and)h(returns)e
(a)h(command)e(ob)s(ject.)22 b(The)15 b(default)f(v)m(alue)g(for)h
Fs(c)m(ommand-p)m(arser)149 1114 y Fr(is)j(the)g(v)m(alue)g(of)g
Ft(*command-parser*)p Fr(.)149 1247 y Fs(c)m(ommand-unp)m(arser)24
b Fr(m)n(ust)c(b)r(e)f(a)i(function)e(of)i(three)e(argumen)n(ts,)g(a)i
(command)c(table,)k(a)g(stream,)e(and)i(a)149 1313 y(command)16
b(to)i(\\unparse".)25 b(It)18 b(prin)n(ts)h(a)g(textual)f(description)f(of)i
(the)f(command)e(its)j(supplied)f(argumen)n(ts)149 1380 y(on)n(to)e(the)g
(stream.)22 b(The)17 b(default)f(v)m(alue)g(for)h Fs(c)m(ommand-unp)m(arser)k
Fr(is)c(the)f(v)m(alue)h(of)g Ft(*command-unparser*)p Fr(.)149
1512 y Fs(p)m(artial-c)m(ommand-p)m(arser)27 b Fr(m)n(ust)22
b(b)r(e)f(a)h(function)f(of)i(four)e(argumen)n(ts,)g(a)i(command)c(table,)k
(a)f(stream,)g(a)149 1579 y(partial)g(command,)f(and)h(a)h(start)f(p)r
(osition.)37 b(The)22 b(partial)h(command)c(is)24 b(a)f(command)c(ob)s(ject)j
(with)g(the)149 1645 y(v)m(alue)f(of)g Ft(*unsupplied-argument-marker*)i
Fr(in)e(place)g(of)g(an)n(y)h(argumen)n(t)c(that)i(needs)g(to)h(b)r(e)f
(\014lled)i(in.)149 1712 y(The)16 b(function)g(reads)g(the)h(remaining,)f
(unsupplied)g(argumen)n(ts)e(in)k(an)n(y)g(w)n(a)n(y)g(it)f(sees)g(\014t)f
(\(for)h(example,)f(via)149 1778 y(an)f Ft(accepting-values)j
Fr(dialog\),)e(and)f(returns)f(a)i(command)d(ob)s(ject.)22
b(The)16 b(start)e(p)r(osition)h(is)i(the)e(original)149 1845
y(input-editor)h(scan)i(p)r(osition)f(of)h(the)f(stream,)f(when)i(the)f
(stream)f(is)j(an)f(in)n(teractiv)n(e)f(stream.)23 b(The)18
b(default)149 1911 y(v)m(alue)g(for)f Fs(p)m(artial-c)m(ommand-p)m(a)q(rser)
23 b Fr(is)c(the)e(v)m(alue)h(of)g Ft(*partial-command-parser*)p
Fr(.)149 2044 y Fs(c)m(ommand-p)m(arser)p Fr(,)k Fs(c)m(ommand-unp)m(arser)p
Fr(,)g(and)c Fs(p)m(artial-c)m(ommand-p)m(arser)23 b Fr(ha)n(v)n(e)c(dynamic)
e(exten)n(t.)149 2177 y(When)g Fs(use-keystr)m(okes)k Fr(is)e
Fm(true)p Fr(,)e(the)h(command)d(reader)i(will)j(also)e(pro)r(cess)e(k)n
(eystrok)n(e)i(accelerators.)k(\(Im-)149 2243 y(plemen)n(tations)16
b(will)21 b(t)n(ypically)f(use)f Ft(with-command-table-keystrokes)i
Fr(and)e Ft(read-command-using-)149 2309 y(keystrokes)g Fr(to)e(implemen)n(t)
f(the)i(case)f(when)g Fs(use-keystr)m(okes)k Fr(is)d Fm(true)p
Fr(.\))149 2442 y(Input)c(editing,)i(while)f(conceptually)f(an)h(indep)r
(enden)n(t)d(facilit)n(y)-5 b(,)18 b(\014ts)c(in)n(to)i(the)e(command)e(pro)r
(cessor)h(via)i(its)149 2509 y(use)f(of)g Ft(accept)p Fr(.)24
b(That)14 b(is,)i Ft(read-command)f Fr(m)n(ust)e(b)r(e)h(implemen)n(ted)e(b)n
(y)j(calling)f Ft(accept)h Fr(to)f(read)g(command)149 2575
y(ob)s(jects,)i(and)i Ft(accept)h Fr(itself)f(mak)n(es)f(use)h(of)g(the)f
(input)h(editing)f(facilities.)49 2708 y Fj(\))45 b Ft
(with-command-table-keystrokes)30 b Fs(\(keystr)m(oke-var)23
b(c)m(ommand-table\))g Ft(&body)30 b Fs(b)m(o)m(dy)195 b Fr([)p
Fs(Macr)m(o)s Fr(])149 2827 y(Binds)21 b Fs(keystr)m(oke-var)26
b Fr(to)21 b(a)g(sequence)f(that)g(con)n(tains)h(all)h(of)f(the)g(k)n
(eystrok)n(e)g(accelerators)d(in)k Fs(c)m(ommand-)149 2893
y(table)p Fr('s)d(men)n(u,)e(and)g(then)f(executes)f Fs(b)m(o)m(dy)k
Fr(in)f(that)e(con)n(text.)23 b Fs(c)m(ommand-table)f Fr(is)17
b(a)h Fm(command)c(table)j(desig-)149 2960 y(nator)p Fr(.)23
b Fs(b)m(o)m(dy)d Fr(ma)n(y)e(ha)n(v)n(e)g(zero)f(or)h(more)f(declarations)e
(as)j(its)h(\014rst)e(forms.)49 3093 y Fj(\))45 b Ft
(read-command-using-keystrokes)30 b Fs(c)m(ommand-table)18
b(keystr)m(okes)f Ft(&key)29 b Fs(\(str)m(e)m(am)15 b(*query-io*\))h(c)m
(ommand-)149 3159 y(p)m(arser)21 b(c)m(ommand-unp)m(arser)i(p)m(artial-c)m
(ommand-p)m(ar)q(ser)847 b Fr([)p Fs(F)l(unction)t Fr(])149
3358 y(Reads)23 b(a)i(command)c(from)i(the)h(user)g(via)h(command)c(lines,)27
b(the)d(p)r(oin)n(ter,)h(or)f(a)g(single)h(k)n(eystrok)n(e,)h(and)149
3425 y(returns)13 b(either)h(a)i(command)c(ob)s(ject,)j(or)g(a)g(k)n(eyb)r
(oard)f(gesture)g(ob)s(ject)g(if)i(the)e(user)h(t)n(yp)r(ed)f(a)i(k)n
(eystrok)n(e)f(that)p eop
%%Page: 281 296
bop 149 16 a Fm(CHAPTER)16 b(27.)43 b(COMMAND)17 b(PR)n(OCESSING)1122
b Fr(281)149 210 y(is)18 b(in)h Fs(keystr)m(okes)i Fr(but)c(do)r(es)g(not)g
(ha)n(v)n(e)i(a)f(command)d(asso)r(ciated)h(with)i(it)g(in)h
Fs(c)m(ommand-table)p Fr(.)149 342 y Fs(keystr)m(okes)h Fr(is)f(a)f(sequence)
e(of)j(k)n(eyb)r(oard)e(gesture)f(names)g(that)h(are)g(the)h(k)n(eystrok)n(e)
g(accelerators.)149 475 y Fs(c)m(ommand-table)p Fr(,)27 b Fs(str)m(e)m(am)p
Fr(,)f Fs(c)m(ommand-p)m(arser)p Fr(,)h Fs(c)m(ommand-unp)m(arser)p
Fr(,)g(and)22 b Fs(p)m(artial-c)m(ommand-p)m(arser)27 b Fr(are)149
542 y(as)18 b(for)f Ft(read-command)p Fr(.)49 674 y Fj(\))45
b Ft(command-line-command-parser)30 b Fs(c)m(ommand-table)24
b(str)m(e)m(am)693 b Fr([)p Fs(F)l(unction)t Fr(])149 793 y(The)18
b(default)f(command-line)f(parser.)23 b(It)c(reads)e(a)h(command)d(name)i
(and)h(the)f(command's)f(argumen)n(ts)g(as)149 860 y(a)i(command)e(line)j
(from)e Fs(str)m(e)m(am)k Fr(\(with)d(completion)e(as)i(m)n(uc)n(h)g(as)h(is)
g(p)r(ossible\),)e(and)h(returns)f(a)i(command)149 926 y(ob)s(ject.)k
Fs(c)m(ommand-table)f Fr(is)d(a)f Fm(command)d(table)j(designator)e
Fr(that)h(sp)r(eci\014es)f(the)h(command)f(table)h(to)h(use;)149
993 y(the)f(commands)e(are)i(read)h(via)g(the)g(textual)f(command-line)e
(name.)49 1126 y Fj(\))45 b Ft(command-line-command-unparser)30
b Fs(c)m(ommand-table)24 b(str)m(e)m(am)d(c)m(ommand)387 b
Fr([)p Fs(F)l(unction)t Fr(])149 1245 y(The)16 b(default)g(command-line)f
(unparser.)22 b(It)17 b(prin)n(ts)g(the)f(command)e Fs(c)m(ommand)20
b Fr(as)c(a)h(command)e(name)g(and)149 1311 y(its)h(argumen)n(ts)e(as)i(a)g
(command)e(line)j(on)f Fs(str)m(e)m(am)p Fr(.)26 b Fs(c)m(ommand-table)20
b Fr(is)d(a)f Fm(command)e(table)i(designator)e Fr(that)149
1377 y(sp)r(eci\014es)f(the)h(command)e(table)i(to)h(use;)h(the)e(commands)d
(are)k(displa)n(y)n(ed)g(using)g(the)f(textual)g(command-line)149
1444 y(name.)49 1577 y Fj(\))45 b Ft
(command-line-read-remaining-arguments-for-partial-command)32
b Fs(c)m(ommand-table)18 b(str)m(e)m(am)e(p)m(artial-)149 1643
y(c)m(ommand)22 b(start-p)m(osition)1495 b Fr([)p Fs(F)l(unction)t
Fr(])149 1842 y(The)16 b(default)f(partial)g(command-line)f(parser.)23
b(If)16 b(the)f(remaining)g(argumen)n(ts)f(are)h(at)h(the)f(end)h(of)g(the)f
(com-)149 1909 y(mand)h(line,)j(it)f(reads)f(them)f(as)i(a)g(command)c(line,)
19 b(otherwise)d(it)i(constructs)d(a)j(dialog)g(using)g Ft(accepting-)149
1975 y(values)f Fr(and)e(reads)h(the)f(remaining)g(argumen)n(ts)e(from)i(the)
h(dialog.)24 b Fs(c)m(ommand-table)c Fr(is)d(a)f Fm(command)d(table)149
2042 y(designator)p Fr(.)49 2174 y Fj(\))45 b Ft(menu-command-parser)30
b Fs(c)m(ommand-table)23 b(str)m(e)m(am)926 b Fr([)p Fs(F)l(unction)t
Fr(])149 2293 y(The)18 b(default)f(men)n(u-driv)n(en)h(command)e(parser.)25
b(It)18 b(uses)g(only)h(p)r(oin)n(ter)e(clic)n(ks)j(to)e(construct)e(a)i
(command.)149 2360 y(It)j(relies)g(on)g(presen)n(tations)e(of)i(all)i
(argumen)n(ts)18 b(b)r(eing)j(visible.)35 b Fs(c)m(ommand-table)26
b Fr(and)21 b Fs(str)m(e)m(am)i Fr(are)e(as)g(for)149 2426
y Ft(command-line-parser)p Fr(.)149 2559 y(There)f(is)i(no)f(men)n(u-driv)n
(en)g(command)d(unparser,)j(since)g(it)g(mak)n(es)g(no)g(sense)f(to)h
(unparse)f(a)h(completely)149 2626 y(men)n(u-driv)n(en)c(command.)49
2758 y Fj(\))45 b Ft(menu-read-remaining-arguments-for-partial-command)32
b Fs(c)m(ommand-table)17 b(str)m(e)m(am)f(p)m(artial-c)m(ommand)149
2825 y(start-p)m(osition)1726 b Fr([)p Fs(F)l(unction)t Fr(])149
2944 y(The)27 b(default)f(men)n(u-driv)n(en)g(partial)h(command)d(parser.)51
b(It)27 b(uses)f(only)i(p)r(oin)n(ter)e(clic)n(ks)i(to)f(\014ll)h(in)f(the)
149 3010 y(command.)g(Again,)21 b(it)f(relies)g(on)g(presen)n(tations)d(of)j
(all)h(argumen)n(ts)c(b)r(eing)i(visible.)32 b Fs(c)m(ommand-table)24
b Fr(is)d(a)149 3077 y Fm(command)15 b(table)i(designator)p
Fr(.)49 3209 y Fj(\))45 b Ft(*command-parser*)1593 b Fr([)p
Fs(V)l(ariable)t Fr(])149 3328 y(Con)n(tains)25 b(the)g(curren)n(tly)g(activ)
n(e)g(command)e(parsing)i(function.)47 b(The)25 b(default)g(v)m(alue)g(is)i
(the)e(function)149 3395 y Ft(command-line-command-parser)p
Fr(,)20 b(whic)n(h)e(is)h(the)e(default)g(command-line)f(parser.)p
eop
%%Page: 282 297
bop 149 16 a Fm(CHAPTER)16 b(27.)43 b(COMMAND)17 b(PR)n(OCESSING)1122
b Fr(282)49 210 y Fj(\))45 b Ft(*command-unparser*)1535 b Fr([)p
Fs(V)l(ariable)t Fr(])149 329 y(Con)n(tains)20 b(the)h(curren)n(tly)g(activ)n
(e)g(command)d(unparsing)i(function.)33 b(The)22 b(default)e(v)m(alue)h(is)h
(the)f(function)149 395 y Ft(command-line-command-unparser)p
Fr(,)f(whic)n(h)f(is)f(the)g(default)f(command-line)e(unparser.)49
528 y Fj(\))45 b Ft(*partial-command-parser*)1361 b Fr([)p
Fs(V)l(ariable)t Fr(])149 647 y(Con)n(tains)11 b(the)h(curren)n(tly)f(activ)n
(e)i(partial)e(command)f(parsing)h(function.)22 b(The)12 b(default)f(v)m
(alue)h(is)h(the)f(function)149 713 y Ft
(command-line-read-remaining-arguments-for-partial-command)p
Fr(.)49 846 y Fj(\))45 b Ft(*unsupplied-argument-marker*)1245
b Fr([)p Fs(V)l(ariable)t Fr(])149 965 y(The)21 b(v)m(alue)h(of)g
Ft(*unsupplied-argument-marker*)i Fr(is)e(an)g(ob)s(ject)e(that)h(can)g(b)r
(e)g(uniquely)i(iden)n(ti\014ed)e(as)149 1031 y(standing)16
b(for)i(an)g(unsupplied)f(argumen)n(t)f(in)i(a)h(command)c(ob)s(ject.)49
1164 y Fj(\))45 b Ft(*numeric-argument-marker*)1332 b Fr([)p
Fs(V)l(ariable)t Fr(])149 1283 y(The)15 b(v)m(alue)g(of)g Ft
(*numeric-argument-marker*)i Fr(is)f(an)f(ob)s(ject)f(that)g(can)g(b)r(e)h
(uniquely)h(iden)n(ti\014ed)e(as)h(stand-)149 1350 y(ing)j(for)g(a)g(n)n
(umeric)f(argumen)n(t)e(in)k(a)f(command)d(ob)s(ject.)49 1483
y Fj(\))45 b Ft(*command-name-delimiters*)1332 b Fr([)p Fs(V)l(ariable)t
Fr(])149 1602 y(This)18 b(is)h(a)g(list)f(of)h(the)e(c)n(haracters)f(that)h
(separate)f(the)i(command)d(name)i(from)g(the)h(command)d(argumen)n(ts)149
1668 y(in)j(a)g(command)e(line.)25 b(The)17 b(standard)f(set)i(of)g(command)d
(name)i(delimiters)f(m)n(ust)h(include)h Ft(#\\Space)p Fr(.)49
1801 y Fj(\))45 b Ft(*command-argument-delimiters*)1216 b Fr([)p
Fs(V)l(ariable)t Fr(])149 1920 y(This)26 b(is)g(a)f(list)h(of)g(the)e(c)n
(haracters)f(that)i(separate)e(the)i(command)d(argumen)n(ts)h(from)h(eac)n(h)
h(other)g(in)h(a)149 1986 y(command)15 b(line.)25 b(The)18
b(standard)e(set)h(of)h(command)d(argumen)n(t)h(delimiters)h(m)n(ust)g
(include)g Ft(#\\Space)p Fr(.)149 2208 y Fp(27.6.1)75 b(Command)25
b(Presen)n(tation)h(T)n(yp)r(es)49 2376 y Fj(\))45 b Ft(command)29
b(&key)g Fs(c)m(ommand-table)1085 b Fr([)p Fs(Pr)m(esentation)22
b(T)l(yp)m(e)t Fr(])149 2495 y(The)c(presen)n(tation)f(t)n(yp)r(e)h(used)h
(to)f(represen)n(t)f(a)i(command)d(and)j(its)g(argumen)n(ts;)e(the)h(command)
e(m)n(ust)i(b)r(e)149 2562 y(accessible)j(in)h Fs(c)m(ommand-table)27
b Fr(and)22 b(enabled)f(in)i Ft(*application-frame*)p Fr(.)39
b Fs(c)m(ommand-table)26 b Fr(is)d(a)f Fm(com-)149 2628 y(mand)c(table)h
(designator)p Fr(.)26 b(If)20 b Fs(c)m(ommand-table)j Fr(is)d(not)f
(supplied,)h(it)g(defaults)e(to)h(the)g(command)d(table)j(for)149
2694 y(the)e(curren)n(t)g(application)f(frame,)h Ft(\(frame-command-table)30
b(*application-frame*\))p Fr(.)149 2827 y(The)13 b(ob)s(ject)f(returned)g(b)n
(y)i(the)f Ft(accept)i Fr(presen)n(tation)c(metho)r(d)g(for)j
Ft(command)g Fr(m)n(ust)f(b)r(e)g(a)h(command)d(ob)s(ject,)149
2894 y(that)17 b(is,)i(a)f(cons)f(of)h(the)f(command)f(name)g(and)i(the)f
(list)i(of)f(the)f(command's)e(argumen)n(ts.)149 3027 y(The)22
b Ft(accept)h Fr(presen)n(tation)d(metho)r(d)g(for)j(the)e
Ft(command)j Fr(t)n(yp)r(e)e(m)n(ust)f(call)i(the)f(command)e(parser)h
(stored)149 3093 y(in)i Ft(*command-parser*)i Fr(to)d(read)g(the)h(command.)
36 b(The)23 b(parser)e(will)k(recursiv)n(ely)e(call)g Ft(accept)h
Fr(to)e(read)149 3159 y(a)e Ft(command-name)h Fr(and)f(all)h(of)f(the)f
(command's)e(argumen)n(ts.)28 b(The)20 b(parsers)f(themselv)n(es)f(m)n(ust)h
(b)r(e)h(imple-)149 3226 y(men)n(ted)c(b)n(y)j(accepting)d(ob)s(jects)g
(whose)i(presen)n(tation)d(t)n(yp)r(e)j(is)g Ft(command)p Fr(.)149
3359 y(If)25 b(the)f(command)e(parser)h(returns)g(a)i(partial)g(command,)f
(the)g Ft(accept)h Fr(presen)n(tation)e(metho)r(d)f(for)i(the)149
3425 y Ft(command)19 b Fr(t)n(yp)r(e)e(m)n(ust)g(call)i(the)e(partial)h
(command)d(prser)i(stored)f(in)j Ft(*partial-command-parser*)p
Fr(.)p eop
%%Page: 283 298
bop 149 16 a Fm(CHAPTER)16 b(27.)43 b(COMMAND)17 b(PR)n(OCESSING)1122
b Fr(283)149 210 y(The)15 b Ft(present)h Fr(presen)n(tation)e(metho)r(d)f
(for)i(the)g Ft(command)h Fr(t)n(yp)r(e)f(m)n(ust)g(call)h(the)f(command)d
(unparser)i(stored)149 276 y(in)k Ft(*command-unparser*)p Fr(.)149
409 y(If)13 b(a)g(presen)n(tation)e(history)h(is)i(main)n(tained)d(for)i(the)
f Ft(command)i Fr(presen)n(tation)c(t)n(yp)r(e,)k(it)f(should)g(b)r(e)f(main)
n(tained)149 475 y(separately)k(for)i(eac)n(h)f(instance)g(of)h(an)g
(application)f(frame.)49 608 y Fj(\))45 b Ft(command-name)29
b(&key)h Fs(c)m(ommand-table)939 b Fr([)p Fs(Pr)m(esentation)22
b(T)l(yp)m(e)t Fr(])149 727 y(The)j(presen)n(tation)f(t)n(yp)r(e)h(used)g(to)
g(represen)n(t)f(the)h(name)g(of)g(a)h(command)d(that)i(is)h(b)r(oth)f
(accessible)f(in)149 793 y(the)18 b(command)f(table)h Fs(c)m(ommand-table)24
b Fr(and)18 b(enabled)h(in)g Ft(*application-frame*)p Fr(.)30
b Fs(c)m(ommand-table)24 b Fr(is)c(a)149 860 y Fm(command)15
b(table)j(designator)p Fr(.)25 b(If)18 b Fs(c)m(ommand-table)23
b Fr(is)c(not)f(supplied,)h(it)g(defaults)e(to)i(the)f(command)d(table)149
926 y(for)i(the)h(curren)n(t)e(application)h(frame,)g Ft
(\(frame-command-table)30 b(*application-frame*\))p Fr(.)149
1059 y(The)13 b(textual)f(represen)n(tation)e(of)j(a)h Ft(command-name)g
Fr(ob)s(ject)e(is)i(the)f(command-line)d(name)i(of)i(the)e(command,)149
1126 y(while)18 b(the)g(in)n(ternal)f(represen)n(tation)e(is)k(the)e(command)
e(name.)49 1258 y Fj(\))45 b Ft(command-or-form)30 b(&key)f
Fs(c)m(ommand-table)852 b Fr([)p Fs(Pr)m(esentation)22 b(T)l(yp)m(e)t
Fr(])149 1377 y(The)12 b(presen)n(tation)e(t)n(yp)r(e)i(used)g(to)g(represen)
n(t)e(an)i(ob)s(ject)f(that)g(is)i(either)f(a)g(Lisp)h(form,)f(or)g(a)h
(command)c(and)j(its)149 1444 y(argumen)n(ts.)22 b(The)17 b(command)d(m)n
(ust)j(b)r(e)g(accessible)f(in)i Fs(c)m(ommand-table)j Fr(and)c(enabled)f(in)
i Ft(*application-)149 1510 y(frame*)p Fr(.)51 b Fs(c)m(ommand-table)31
b Fr(is)c(a)g Fm(command)d(table)i(designator)p Fr(.)48 b(If)27
b Fs(c)m(ommand-table)k Fr(is)d(not)e(supplied,)149 1577 y(it)f(defaults)g
(to)g(the)f(command)f(table)h(for)h(the)g(curren)n(t)f(application)g(frame,)i
Ft(\(frame-command-table)149 1643 y(*application-frame*\))p
Fr(.)149 1776 y(The)13 b Ft(accept)i Fr(presen)n(tation)c(metho)r(d)g(for)j
(this)g(t)n(yp)r(e)f(reads)g(a)h(Lisp)f(form,)h(except)f(that)f(if)j(the)e
(\014rst)g(c)n(haracter)149 1842 y(in)18 b(the)f(user's)h(input)f(is)h(one)g
(of)f(the)h(c)n(haracters)d(in)j Ft(*command-dispatchers*)i
Fr(it)e(will)h(read)e(a)h(command.)149 1909 y(The)k(t)n(w)n(o)g(returned)e(v)
m(alues)i(from)f(the)h Ft(accept)h Fr(presen)n(tation)c(metho)r(d)h(will)k(b)
r(e)d(the)h(command)d(or)j(form)149 1975 y(ob)s(ject)16 b(and)i(a)g(presen)n
(tation)e(t)n(yp)r(e)h(sp)r(eci\014er)f(that)h(is)i(either)e
Ft(command)i Fr(or)f Ft(form)p Fr(.)149 2108 y(If)f(a)g(presen)n(tation)d
(history)j(is)g(main)n(tained)e(for)i(the)f Ft(command-or-form)i
Fr(presen)n(tation)d(t)n(yp)r(e,)i(it)g(should)f(b)r(e)149
2174 y(main)n(tained)g(separately)h(for)g(eac)n(h)h(instance)e(of)i(an)g
(application)f(frame.)49 2307 y Fj(\))45 b Ft(*command-dispatchers*)1448
b Fr([)p Fs(V)l(ariable)t Fr(])149 2426 y(This)18 b(is)h(a)g(list)g(of)f(the)
g(c)n(haracters)e(that)h(indicates)g(that)h(CLIM)g(reads)f(a)i(command)c
(when)j(it)h(is)g(accepting)149 2493 y(a)e Ft(command-or-form)p
Fr(.)25 b(The)17 b(standard)e(set)i(of)g(command)d(argumen)n(t)g(delimiters)i
(m)n(ust)g(include)h(the)f(colon)149 2559 y(c)n(haracter,)g
Ft(#\\:)p Fr(.)p eop
%%Page: 284 299
bop 149 691 a Fl(Chapter)46 b(28)149 1034 y Fq(Application)52
b(F)-13 b(rames)149 1422 y Fk(28.1)91 b(Ov)m(erview)31 b(of)g(Application)c
(F)-8 b(rames)149 1609 y Fm(Application)11 b(frames)g Fr(\(or)h(simply)-5
b(,)15 b Fm(frames)p Fr(\))10 b(are)i(the)g(cen)n(tral)g(abstraction)e
(de\014ned)i(b)n(y)h(CLIM)g(for)f(presen)n(ting)149 1676 y(an)17
b(application's)h(user)f(in)n(terface.)23 b(Man)n(y)18 b(of)g(the)f(other)g
(features)f(and)h(facilities)h(pro)n(vided)g(b)n(y)h(CLIM)e(\(for)149
1742 y(example,)i(the)g(generic)f(command)f(lo)r(op,)j(gadgets,)f(lo)r(ok)g
(and)h(feel)f(indep)r(endence\))d(can)j(b)r(e)g(con)n(v)n(enien)n(tly)149
1809 y(accessed)j(through)h(the)h(frame)f(facilit)n(y)-5 b(.)45
b(F)-5 b(rames)24 b(can)g(b)r(e)g(displa)n(y)n(ed)h(as)f(either)g(top-lev)n
(el)h(windo)n(ws)g(or)149 1875 y(regions)20 b(em)n(b)r(edded)e(within)j(the)g
(space)f(of)h(the)f(user)h(in)n(terfaces)e(of)i(other)f(applications.)32
b(In)22 b(addition)e(to)149 1941 y(con)n(trolling)h(the)h(screen)e(real)i
(estate)f(managed)f(b)n(y)j(an)f(application,)g(a)h(frame)d(k)n(eeps)i(trac)n
(k)g(of)g(the)g(Lisp)149 2008 y(state)16 b(v)m(ariables)i(that)f(con)n(tain)g
(the)g(state)g(of)h(the)f(application.)149 2141 y(The)c(con)n(ten)n(ts)g(of)h
(frame)f(is)h(established)f(b)n(y)i(de\014ning)e(a)h(hierarc)n(h)n(y)g(of)g
Fm(panes)p Fr(.)22 b(CLIM)14 b(panes)f(are)g(in)n(teractiv)n(e)149
2207 y(ob)s(jects)20 b(that)g(are)h(analogous)f(to)i(the)f(windo)n(ws,)i
(gadgets,)e(or)g(widgets)g(of)h(other)e(to)r(olkits.)35 b(Application)149
2274 y(builders)21 b(can)f(comp)r(ose)f(their)i(application's)f(user)h(in)n
(terface)f(from)g(a)h(library)h(of)f(standard)e(panes)i(or)g(b)n(y)149
2340 y(de\014ning)j(and)h(using)g(their)f(o)n(wn)i(pane)e(t)n(yp)r(es.)46
b(Application)24 b(frames)f(can)i(use)g(a)g(n)n(um)n(b)r(er)f(of)h
(di\013eren)n(t)149 2406 y(t)n(yp)r(es)20 b(of)g(panes)g(including)h
Fm(la)n(y)n(out)g(panes)f Fr(for)g(spatially)h(organizing)e(panes,)i
Fm(user)f(panes)g Fr(for)g(presen)n(ting)149 2473 y(application)c(sp)r
(eci\014c)f(information,)h(and)g Fm(gadget)f(panes)i Fr(for)f(displa)n(ying)i
(data)e(and)g(obtaining)g(user)h(input.)149 2539 y(P)n(anes)g(are)h(describ)r
(e)e(in)i(greater)e(detail)i(in)g(Chapter)f(29)h(and)f(Chapter)g(30.)149
2672 y(F)-5 b(rames)14 b(are)g(managed)f(b)n(y)j(sp)r(ecial)e(applications)g
(called)h Fm(frame)e(managers)p Fr(.)21 b(F)-5 b(rame)15 b(managers)d(con)n
(trol)i(the)149 2738 y(realization)h(of)h(the)f(lo)r(ok)h(and)g(feel)g(of)g
(a)g(frame.)23 b(The)16 b(frame)e(manager)g(in)n(terprets)g(the)i(sp)r
(eci\014cation)d(of)j(the)149 2805 y(application)k(frame)f(in)j(the)e(con)n
(text)g(of)h(the)f(a)n(v)m(ailable)h(windo)n(w)h(system)d(facilities,)j
(taking)f(in)n(to)g(accoun)n(t)149 2871 y(preferences)c(expressed)i(b)n(y)j
(the)e(user.)32 b(In)21 b(addition,)g(the)f(frame)f(manager)f(tak)n(es)j
(care)e(of)i(attac)n(hing)e(the)149 2938 y(pane)k(hierarc)n(h)n(y)i(of)f(an)g
(application)g(frame)f(to)h(an)g(appropriate)e(place)i(in)h(a)g(windo)n(w)g
(hierarc)n(h)n(y)-5 b(.)44 b(The)149 3004 y(most)24 b(common)g(t)n(yp)r(e)h
(of)h(frame)f(manager)e(is)k(one)e(that)g(allo)n(ws)i(the)e(user)g(to)h
(manipulate)e(the)h(frames)149 3071 y(of)d(other)e(applications.)36
b(This)22 b(t)n(yp)r(e)g(of)g(application)f(is)h(t)n(ypically)h(called)f(a)g
(desktop)f(manager,)g(or)h(in)h(X)149 3137 y(Windo)n(ws)d(terminology)-5
b(,)19 b(a)h(windo)n(w)g(manager.)27 b(In)20 b(man)n(y)g(cases,)f(the)h
(windo)n(w)g(manager)d(will)22 b(b)r(e)d(a)h(non-)149 3203
y(Lisp)j(application.)38 b(In)23 b(these)e(cases,)j(the)e(frame)f(manager)g
(will)j(act)e(as)h(a)g(mediator)e(b)r(et)n(w)n(een)g(the)i(Lisp)149
3270 y(application)17 b(and)g(the)h(host)f(desktop)g(manager.)149
3403 y(Some)f(applications)h(ma)n(y)g(act)g(as)h(frame)e(managers)f(that)i
(allo)n(w)i(the)e(frames)f(of)i(other)e(applications)h(to)g(b)r(e)1262
3632 y(284)p eop
%%Page: 285 300
bop 149 16 a Fm(CHAPTER)16 b(28.)43 b(APPLICA)-5 b(TION)16
b(FRAMES)1165 b Fr(285)149 210 y(displa)n(y)n(ed)22 b(with)f(their)g(o)n(wn)h
(frames.)32 b(F)-5 b(or)22 b(example,)f(a)h(text)f(editor)f(migh)n(t)h(allo)n
(w)h(\014gures)e(generated)f(b)n(y)149 276 y(a)i(graphic)f(editor)g(to)h(b)r
(e)f(edited)g(in)i(place)f(b)n(y)g(managing)f(the)g(graphics)g(editor's)g
(frame)g(within)h(its)g(o)n(wn)149 342 y(frame.)149 475 y(Application)j
(frames)f(pro)n(vide)i(supp)r(ort)e(for)i(a)g(standard)e(in)n(teraction)h
(pro)r(cessing)f(lo)r(op,)k(lik)n(e)f(the)f(Lisp)149 542 y(\\read-ev)m
(al-prin)n(t")18 b(lo)r(op,)i(called)f(a)h Fm(command)c(lo)r(op)p
Fr(.)29 b(The)19 b(application)g(programmer)d(has)j(to)g(write)g(only)149
608 y(the)k(co)r(de)f(that)g(implemen)n(ts)f(the)i(frame-sp)r(eci\014c)e
(commands)f(and)j(output)f(displa)n(y)j(functions.)39 b(A)24
b(k)n(ey)149 674 y(asp)r(ect)14 b(of)j(the)e(command)f(lo)r(op)i(is)h(the)f
(separation)e(of)i(the)g(sp)r(eci\014cation)e(of)j(the)e(frame's)g(commands)f
(from)149 741 y(the)j(sp)r(eci\014cation)e(of)k(the)e(end-user)g(in)n
(teraction)f(st)n(yle.)149 874 y(The)i(standard)e(in)n(teraction)h(lo)r(op)g
(consists)g(of)i(reading)e(an)h(input)g(\\sen)n(tence")d(\(the)i(command)f
(and)i(all)h(of)149 940 y(its)f(op)r(erands\),)f(executing)g(the)h(command,)e
(and)i(up)r(dating)f(the)h(displa)n(y)n(ed)h(information)d(as)j(appropriate.)
149 1007 y(CLIM)i(implemen)n(tations)d(are)i(free)h(to)g(run)g(the)f(displa)n
(y)i(up)r(date)e(part)g(of)h(the)g(lo)r(op)f(at)h(a)h(lo)n(w)n(er)f(priorit)n
(y)149 1073 y(than)h(command)f(execution,)j(for)f(example,)h(some)e(implemen)
n(tations)e(ma)n(y)k(c)n(ho)r(ose)e(not)h(to)g(up)r(date)e(the)149
1139 y(displa)n(y)d(if)g(there)e(is)i(t)n(yp)r(ed-ahead)e(input.)23
b(Note)17 b(that)f(b)n(y)i(default)e(command)f(execution)h(and)h(displa)n(y)h
(will)149 1206 y(not)e(o)r(ccur)g(sim)n(ultaneously)-5 b(,)17
b(so)h(user-de\014ned)d(functions)h(need)h(not)f(ha)n(v)n(e)i(to)f(cop)r(e)f
(with)i(m)n(ultipro)r(cessing.)149 1272 y(Of)h(course,)e(the)h(programmer)d
(can)j(use)g(m)n(ultiple)g(pro)r(cesses,)e(but)i(CLIM)h(neither)e(directly)h
(supp)r(orts)e(nor)149 1339 y(precludes)g(doing)i(so.)149 1472
y(T)-5 b(o)13 b(write)g(an)g(application)f(that)g(uses)h(the)f(standard)f(in)
n(teraction)h(lo)r(op)h(pro)n(vided)f(b)n(y)i(CLIM,)g(an)f(application)149
1538 y(programmer)h(do)r(es)j(the)g(follo)n(wing:)232 1726
y Fj(\017)27 b Fr(De\014nes)19 b(the)g(presen)n(tation)f(t)n(yp)r(es)h(that)g
(corresp)r(ond)e(to)i(the)h(user)f(in)n(terface)f(en)n(tities)i(of)g(the)f
(appli-)287 1793 y(cation.)232 1903 y Fj(\017)27 b Fr(De\014nes)18
b(the)g(commands)d(that)j(corresp)r(ond)d(to)j(the)g(visible)i(op)r(erations)
c(of)i(the)g(application,)g(sp)r(eci-)287 1970 y(fying)g(the)g(presen)n
(tation)d(t)n(yp)r(es)j(of)g(the)f(op)r(erands)f(in)n(v)n(olv)n(ed)k(in)e
(eac)n(h)g(command.)232 2080 y Fj(\017)27 b Fr(De\014nes)17
b(the)h(set)f(of)h(frames)e(and)i(panes)f(needed)g(to)g(supp)r(ort)f(the)h
(application.)232 2191 y Fj(\017)27 b Fr(De\014nes)13 b(the)g(output)f
(displa)n(y)i(functions)f(asso)r(ciated)e(with)i(eac)n(h)g(of)h(the)f(panes)g
(\(p)r(ossibly)g(using)g(other)287 2257 y(facilities)18 b(suc)n(h)g(as)g(the)
f(incremen)n(tal)f(redispla)n(y\).)149 2446 y(T)-5 b(aking)26
b(as)g(an)f(example)g(a)h(simple)f(ECAD)h(program,)f(the)h(programme)o(r)c(w)
n(ould)27 b(\014rst)e(de\014ne)f(the)h(ap-)149 2512 y(propriate)20
b(presen)n(tation)h(t)n(yp)r(es,)i(suc)n(h)f(as)h(wires,)h(input)e(and)g
(output)f(signals,)j(gates,)f(resistors,)g(and)f(so)149 2578
y(forth.)h(He)17 b(w)n(ould)h(then)e(de\014ne)g(the)h(program's)e(commands)f
(in)k(terms)e(of)h(these)f(t)n(yp)r(es.)24 b(F)-5 b(or)18 b(example,)e(the)
149 2645 y(\\Connect")g(command)f(migh)n(t)j(tak)n(e)g(t)n(w)n(o)h(op)r
(erands,)e(one)h(of)g(t)n(yp)r(e)g(\\comp)r(onen)n(t")d(and)j(the)g(other)f
(of)h(t)n(yp)r(e)149 2711 y(\\wire".)25 b(The)18 b(programmer)c(ma)n(y)k
(wish)h(to)f(sp)r(ecify)f(the)h(in)n(teraction)f(st)n(yle)i(for)f(in)n(v)n
(oking)h(eac)n(h)f(command,)149 2778 y(for)i(example,)g(direct)f
(manipulation)g(via)i(translators,)e(or)h(selection)f(of)i(commands)c(from)i
(men)n(us.)31 b(After)149 2844 y(de\014ning)19 b(an)h(application)f(frame)g
(that)g(includes)h(a)g(CLIM)g(stream)f(pane,)h(the)g(programmer)c(then)j
(writes)149 2911 y(the)e(frame-sp)r(eci\014c)f(displa)n(y)j(routine)e(that)g
(displa)n(ys)i(the)f(circuit)f(la)n(y)n(out.)26 b(No)n(w)18
b(the)g(application)f(is)i(ready)149 2977 y(to)14 b(go.)23
b(The)14 b(end-user)f(selects)g(a)i(command)c(\(via)k(a)g(men)n(u)e(or)h
(command-line,)f(or)i(whatev)n(er\),)e(the)h(top-lev)n(el)149
3043 y(lo)r(op)h(tak)n(es)h(care)g(of)g(collecting)f(the)g(op)r(erands)f(for)
i(that)f(command)f(\(via)i(a)h(v)m(ariet)n(y)f(of)g(user)g(gestures\),)e(and)
149 3110 y(then)h(the)h(application)f(in)n(v)n(ok)n(es)j(the)d(command.)22
b(The)16 b(command)d(ma)n(y)j(ha)n(v)n(e)h(a)g(side-e\013ect)e(on)h(the)g
(frame's)149 3176 y(\\database")d(of)j(information,)f(whic)n(h)h(can)g(in)g
(turn)f(a\013ect)g(the)h(output)e(displa)n(y)n(ed)j(b)n(y)g(the)e(redispla)n
(y)h(phase.)149 3309 y(Note)e(that)g(this)i(de\014nition)e(of)i(the)e
(standard)g(in)n(teraction)g(lo)r(op)h(do)r(es)f(not)h(constrain)f(the)g(in)n
(teraction)g(st)n(yle)149 3375 y(to)f(b)r(e)g(a)h(command-line)e(in)n
(terface.)22 b(The)14 b(input)f(sen)n(tence)f(ma)n(y)i(b)r(e)f(en)n(tered)f
(via)j(single)f(k)n(eystrok)n(es,)h(p)r(oin)n(ter)149 3442
y(input,)j(men)n(u)f(selection,)g(dialogs,)h(or)g(b)n(y)h(t)n(yping)f(full)h
(command)c(lines.)p eop
%%Page: 286 301
bop 149 16 a Fm(CHAPTER)16 b(28.)43 b(APPLICA)-5 b(TION)16
b(FRAMES)1165 b Fr(286)149 210 y Fk(28.2)91 b(De\014ning)30
b(and)g(Creating)f(Application)f(F)-8 b(rames)49 397 y Fj(\))45
b Ft(application-frame)1420 b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23
b(Class)5 b Fr(])149 516 y(The)19 b(proto)r(col)e(class)i(that)f(corresp)r
(onds)e(to)i(an)h(application)g(frame.)26 b(If)19 b(y)n(ou)h(w)n(an)n(t)g(to)
e(create)g(a)h(new)g(class)149 583 y(that)11 b(b)r(eha)n(v)n(es)h(lik)n(e)i
(an)e(application)f(frame,)i(it)g(should)f(b)r(e)f(a)i(sub)r(class)e(of)i
Ft(application-frame)p Fr(.)24 b(Sub)r(classes)149 649 y(of)18
b Ft(application-frame)h Fr(m)n(ust)e(ob)r(ey)h(the)f(application)g(frame)f
(proto)r(col.)149 782 y(All)i(application)f(frame)g(classes)g(are)g(m)n
(utable.)49 915 y Fj(\))45 b Ft(application-frame-p)30 b Fs(obje)m(ct)1327
b Fr([)p Fs(F)l(unction)t Fr(])149 1034 y(Returns)16 b Fm(true)h
Fr(if)i Fs(obje)m(ct)h Fr(is)f(an)f Fm(application)f(frame)p
Fr(,)g(otherwise)f(returns)g Fm(false)p Fr(.)49 1167 y Fj(\))45
b Ft(:name)1917 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])49
1233 y Fj(\))45 b Ft(:pretty-name)1714 b Fr([)p Fs(Init)21
b(A)o(r)m(g)5 b Fr(])49 1299 y Fj(\))45 b Ft(:command-table)1656
b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])49 1366 y Fj(\))45
b Ft(:disabled-commands)1540 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5
b Fr(])49 1432 y Fj(\))45 b Ft(:panes)1888 b Fr([)p Fs(Init)21
b(A)o(r)m(g)5 b Fr(])49 1499 y Fj(\))45 b Ft(:menu-bar)1801
b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])49 1565 y Fj(\))45
b Ft(:calling-frame)1656 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5
b Fr(])49 1631 y Fj(\))45 b Ft(:state)1888 b Fr([)p Fs(Init)21
b(A)o(r)m(g)5 b Fr(])49 1698 y Fj(\))45 b Ft(:properties)1743
b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])149 1817 y(All)26
b(sub)r(classes)d(of)i Ft(application-frame)i Fr(m)n(ust)d(handle)h(these)f
(initargs,)j(whic)n(h)e(are)g(used)g(to)g(sp)r(ecify)-5 b(,)149
1883 y(resp)r(ectiv)n(ely)g(,)28 b(the)e(name,)h(prett)n(y)f(name,)i(command)
23 b(table,)29 b(initial)e(set)f(of)g(disabled)g(commands,)g(the)149
1950 y(panes,)17 b(the)g(men)n(u)h(bar,)f(calling)i(frame,)e(state,)g(and)g
(initial)i(prop)r(erties)d(for)h(the)h(frame.)49 2083 y Fj(\))45
b Ft(standard-application-frame)1374 b Fr([)p Fs(Class)5 b
Fr(])149 2202 y(The)24 b(standard)f(class)i(that)e(implemen)n(ts)g
(application)h(frames.)43 b(By)25 b(default,)h(most)d(application)h(frame)149
2268 y(classes)15 b(will)i(inherit)e(from)g(this)h(class,)g(unless)f(a)h
(non-)p Ft(nil)g Fr(v)m(alue)g(for)f Fs(sup)m(er)m(classes)j
Fr(is)e(supplied)f(to)h Ft(define-)149 2334 y(application-frame)p
Fr(.)49 2467 y Fj(\))45 b Ft(define-application-frame)30 b
Fs(name)21 b(sup)m(er)m(classes)g(slots)f Ft(&rest)29 b Fs(options)450
b Fr([)p Fs(Macr)m(o)s Fr(])149 2586 y(De\014nes)15 b(a)i(frame)e(and)h(CLOS)
h(class)f(named)f(b)n(y)i(the)f(sym)n(b)r(ol)g Fs(name)i Fr(that)e(inherits)g
(from)f Fs(sup)m(er)m(classes)j Fr(and)149 2653 y(has)f(state)e(v)m(ariables)
i(sp)r(eci\014ed)e(b)n(y)j Fs(slots)p Fr(.)25 b Fs(sup)m(er)m(classes)19
b Fr(is)e(a)h(list)f(of)g(sup)r(erclasses)e(that)h(the)g(new)h(class)g(will)
149 2719 y(inherit)j(from)f(\(as)h(in)h Ft(defclass)p Fr(\).)32
b(When)20 b Fs(sup)m(er)m(classes)i Fr(is)f Ft(nil)p Fr(,)h(it)f(b)r(eha)n(v)
n(es)e(as)i(though)e(a)h(sup)r(erclass)f(of)149 2785 y Ft
(standard-application-frame)k Fr(w)n(as)f(supplied.)34 b Fs(slots)22
b Fr(is)g(a)f(list)h(of)g(additional)f(slot)g(sp)r(eci\014ers,)f(whose)149
2852 y(syn)n(tax)d(is)i(the)e(same)f(as)i(the)f(slot)g(sp)r(eci\014ers)f(in)i
Ft(defclass)p Fr(.)25 b(Eac)n(h)18 b(instance)e(of)h(the)g(frame)g(will)i(ha)
n(v)n(e)f(slots)149 2918 y(as)f(sp)r(eci\014ed)f(b)n(y)i(these)e(slot)h(sp)r
(eci\014ers.)23 b(These)16 b(slots)h(will)i(t)n(ypically)g(hold)e(an)n(y)h(p)
r(er-instance)d(frame)h(state.)149 3051 y Fs(options)h Fr(is)f(a)g(list)g(of)
g Ft(defclass)p Fr(-st)n(yle)h(options,)f(and)f(can)g(include)h(the)f(usual)g
Ft(defclass)i Fr(options,)e(plus)h(an)n(y)149 3118 y(of)i(the)f(follo)n
(wing:)232 3306 y Fj(\017)27 b Ft(:pane)22 b Fs(form)p Fr(,)h(where)d
Fs(form)i Fr(sp)r(eci\014es)d(the)h(single)h(pane)f(in)i(the)e(application.)
32 b(The)20 b(default)g(is)i Ft(nil)p Fr(,)287 3372 y(meaning)f(that)g(there)
g(is)i(no)f(single)g(pane.)36 b(This)23 b(is)g(the)f(simplest)f(w)n(a)n(y)i
(to)f(de\014ne)f(a)i(pane)e(hierar-)287 3439 y(c)n(h)n(y)-5
b(.)28 b(The)19 b Ft(:pane)h Fr(option)e(is)h(m)n(utually)g(exclusiv)n(e)g
(with)g(the)f Ft(:panes)i Fr(and)e Ft(:layouts)i Fr(options.)26
b(See)p eop
%%Page: 287 302
bop 149 16 a Fm(CHAPTER)16 b(28.)43 b(APPLICA)-5 b(TION)16
b(FRAMES)1165 b Fr(287)287 210 y(Section)17 b(28.2.1)h(for)f(a)i(complete)c
(description)i(of)h(the)f Ft(:pane)i Fr(option.)232 320 y Fj(\017)27
b Ft(:panes)16 b Fs(form)p Fr(,)h(where)d Fs(form)j Fr(is)f(an)f(alist)g
(that)f(sp)r(eci\014es)f(names)h(and)h(panes)f(of)h(the)f(application.)23
b(The)287 387 y(default)d(is)i Ft(nil)p Fr(,)h(meaning)c(that)h(there)f(are)i
(no)g(named)e(panes.)33 b(The)20 b Ft(:panes)i Fr(and)f Ft(:pane)h
Fr(options)287 453 y(are)15 b(m)n(utually)g(exclusiv)n(e.)25
b(See)15 b(Section)f(28.2.1)i(for)f(a)h(complete)d(description)h(of)i(the)f
Ft(:panes)h Fr(option.)232 564 y Fj(\017)27 b Ft(:layouts)18
b Fs(form)p Fr(,)h(where)d Fs(form)j Fr(sp)r(eci\014es)c(the)h(la)n(y)n(out.)
25 b(The)17 b(default)f(la)n(y)n(out)i(is)g(to)e(la)n(y)j(out)d(all)i(of)f
(the)287 630 y(named)12 b(panes)i(in)g(horizon)n(tal)f(strips.)23
b(The)14 b Ft(:layouts)h Fr(and)f Ft(:pane)g Fr(options)g(are)f(m)n(utually)h
(exclusiv)n(e.)287 697 y(See)j(Section)g(28.2.1)h(for)g(a)g(complete)e
(description)g(of)i(the)f Ft(:layouts)i Fr(option.)232 807
y Fj(\017)27 b Ft(:command-table)h Fs(name-and-options)p Fr(,)k(where)26
b Fs(name-and-options)k Fr(is)d(a)g(list)g(consisting)f(of)g(the)287
874 y(name)d(of)i(the)f(application)f(frame's)h(command)d(table)j(follo)n(w)n
(ed)i(b)n(y)f(some)e(k)n(eyw)n(ord-v)m(alue)j(pairs.)287 940
y(The)17 b(k)n(eyw)n(ords)g(can)g(b)r(e)f Ft(:inherit-from)i
Fr(or)f Ft(:menu)h Fr(\(whic)n(h)f(are)g(as)g(in)g Ft(define-command-table)p
Fr(\).)287 1007 y(The)h(default)f(is)i(to)e(create)f(a)i(command)e(table)h
(with)h(the)f(same)g(name)g(as)h(the)f(application)g(frame.)232
1117 y Fj(\017)27 b Ft(:menu-bar)14 b Fs(form)g Fr(is)f(used)f(to)g(sp)r
(ecify)g(what)g(commands)e(will)k(app)r(ear)d(in)i(a)g(\\men)n(u)e(bar".)22
b(It)13 b(t)n(ypically)287 1184 y(sp)r(eci\014es)18 b(the)i(top-lev)n(el)g
(commands)d(of)j(the)g(application.)29 b Fs(form)22 b Fr(is)e(either)f
Ft(nil)p Fr(,)j(meaning)c(there)h(is)287 1250 y(no)c(men)n(u)f(bar;)i
Ft(t)p Fr(,)g(meaning)e(that)g(the)g(men)n(u)g(from)g(frame's)g(command)e
(table)i(\(from)f(the)i Ft(:command-)287 1317 y(table)k Fr(option\))e(should)
g(b)r(e)h(used;)g(a)g(sym)n(b)r(ol)f(that)g(names)g(a)h(command)d(table,)j
(meaning)f(that)g(that)287 1383 y(command)i(table's)i(men)n(u)g(should)g(b)r
(e)g(used;)i(or)f(a)g(list,)h(whic)n(h)f(is)h(in)n(terpreted)c(the)i(same)f
(w)n(a)n(y)j(the)287 1449 y Ft(:menu)c Fr(option)e(to)h Ft
(define-command-table)h Fr(is)g(in)n(terpreted.)j(The)c(default)f(is)i
Ft(t)p Fr(.)232 1560 y Fj(\017)27 b Ft(:disabled-commands)c
Fs(c)m(ommands)p Fr(,)i(where)c Fs(c)m(ommands)j Fr(is)e(a)g(list)g(of)g
(command)d(names)h(that)g(are)287 1626 y(initially)g(disabled)d(in)i(the)e
(application)g(frame.)232 1737 y Fj(\017)27 b Ft(:command-definer)16
b Fs(value)p Fr(,)h(where)c Fs(value)j Fr(either)e Ft(nil)p
Fr(,)i Ft(t)p Fr(,)g(or)e(another)e(sym)n(b)r(ol.)23 b(When)14
b(it)h(is)g Ft(nil)p Fr(,)h(no)287 1804 y(command-de\014ning)g(macro)i(is)i
(de\014ned.)28 b(When)19 b(it)h(is)h Ft(t)p Fr(,)g(a)f(command-de\014ning)15
b(macro)j(is)j(de\014ned,)287 1870 y(whose)14 b(name)g(is)h(of)g(the)g(form)e
Ft(define-)p Fs(name)p Ft(-command)p Fr(.)26 b(When)15 b(it)g(is)h(another)d
(sym)n(b)r(ol,)i(the)f(sym)n(b)r(ol)287 1936 y(names)i(the)i
(command-de\014ning)c(macro.)23 b(The)18 b(default)f(is)h Ft(t)p
Fr(.)232 2047 y Fj(\017)27 b Ft(:top-level)19 b Fs(form)p Fr(,)g(where)e
Fs(form)i Fr(is)g(a)f(list)g(whose)f(\014rst)g(elemen)n(t)g(is)h(the)f(name)g
(of)g(a)h(function)f(to)g(b)r(e)287 2114 y(called)22 b(to)f(execute)f(the)h
(top-lev)n(el)h(lo)r(op.)35 b(The)21 b(function)g(m)n(ust)g(tak)n(e)g(at)g
(least)h(one)f(argumen)n(t,)f(the)287 2180 y(frame.)28 b(The)19
b(rest)g(of)h(the)f(list)h(consists)f(of)g(additional)g(argumen)n(ts)e(to)j
(b)r(e)f(passed)f(to)i(the)e(function.)287 2246 y(The)g(default)f(function)g
(is)h Ft(default-frame-top-level)p Fr(.)149 2435 y(The)c Fs(name)p
Fr(,)j Fs(sup)m(er)m(classes)p Fr(,)g(and)d Fs(slots)h Fr(argumen)n(ts)d(are)
i(not)g(ev)m(aluated.)22 b(The)14 b(v)m(alues)h(of)f(eac)n(h)g(of)h(the)f
(options)149 2501 y(are)j(ev)m(aluated.)49 2634 y Fj(\))45
b Ft(make-application-frame)30 b Fs(fr)m(ame-name)17 b Ft(&rest)30
b Fs(options)16 b Ft(&key)29 b Fs(pr)m(etty-name)18 b(fr)m(ame-manager)g
(enable)149 2700 y(state)i(left)g(top)g(right)h(b)m(ottom)g(width)f(height)h
(save-under)g(fr)m(ame-class)f Ft(&allow-other-keys)59 b Fr([)p
Fs(F)l(unction)t Fr(])149 2899 y(Mak)n(es)16 b(an)h(instance)e(of)i(the)f
(application)f(frame)h(of)g(t)n(yp)r(e)g Fs(fr)m(ame-class)p
Fr(.)26 b(If)17 b Fs(fr)m(ame-class)i Fr(is)e(not)f(supplied,)h(it)149
2966 y(defaults)g(to)g Fs(fr)m(ame-name)p Fr(.)149 3099 y(The)h(size)h
(options)e Fs(left)p Fr(,)k Fs(top)p Fr(,)f Fs(right)p Fr(,)i
Fs(b)m(ottom)p Fr(,)f Fs(width)p Fr(,)g(and)d Fs(height)j Fr(can)d(b)r(e)g
(used)g(to)g(sp)r(ecify)g(the)g(size)h(of)f(the)149 3165 y(frame.)149
3298 y Fs(options)25 b Fr(are)e(passed)g(as)h(additional)f(argumen)n(ts)e(to)
i Ft(make-instance)p Fr(,)k(after)c(the)g Fs(pr)m(etty-name)p
Fr(,)29 b Fs(fr)m(ame-)149 3364 y(manager)p Fr(,)21 b Fs(enable)p
Fr(,)f Fs(state)p Fr(,)g Fs(save-under)p Fr(,)h Fs(fr)m(ame-class)p
Fr(,)f(and)e(size)g(options)f(ha)n(v)n(e)h(b)r(een)f(remo)n(v)n(ed.)p
eop
%%Page: 288 303
bop 149 16 a Fm(CHAPTER)16 b(28.)37 b(APPLICA)-5 b(TION)16
b(FRAMES)1171 b Fr(288)149 210 y(If)16 b Fs(save-under)j Fr(is)e
Fm(true)p Fr(,)f(then)f(the)h(sheets)f(used)h(to)g(implemen)n(t)e(the)i(user)
f(in)n(terface)g(of)i(the)e(frame)g(will)j(ha)n(v)n(e)149 276
y(the)f(\\sa)n(v)n(e)h(under")f(prop)r(ert)n(y)-5 b(,)17 b(if)i(the)e(host)g
(windo)n(w)i(system)d(supp)r(orts)g(it.)149 409 y(If)i Fs(fr)m(ame-manager)k
Fr(is)d(pro)n(vided,)f(then)f(the)g(frame)f(is)j(adopted)d(b)n(y)j(the)e(sp)r
(eci\014ed)f(frame)h(manager.)22 b(If)c(the)149 475 y(frame)g(is)i(adopted)e
(and)h(either)g(of)g Fs(enable)j Fr(or)d Fs(state)j Fr(are)d(pro)n(vided,)h
(the)f(frame)f(is)i(pushed)e(in)n(to)i(the)f(giv)n(en)149 542
y(state.)149 674 y(Once)h(a)h(frame)e(has)h(b)r(een)g(create,)g
Ft(run-frame-top-level)i Fr(can)e(b)r(e)g(called)h(to)f(mak)n(e)g(the)h
(frame)e(visible)149 741 y(and)e(run)h(its)g(top-lev)n(el)h(function.)49
874 y Fj(\))45 b Ft(*application-frame*)1506 b Fr([)p Fs(V)l(ariable)t
Fr(])149 993 y(The)23 b(curren)n(t)f(application)g(frame.)39
b(The)23 b(global)g(v)m(alue)h(is)g(CLIM's)f(default)f(application,)i(whic)n
(h)g(serv)n(es)149 1059 y(only)d(as)h(a)f(rep)r(ository)f(for)h(whatev)n(er)f
(in)n(ternal)h(state)f(is)i(needed)e(b)n(y)i(CLIM)f(to)g(op)r(erate)e(prop)r
(erly)-5 b(.)33 b(This)149 1126 y(v)m(ariable)19 b(is)h(t)n(ypically)h(used)e
(in)h(the)f(b)r(o)r(dies)f(of)i(command)c(to)k(gain)f(access)f(to)h(the)g
(state)g(v)m(ariables)g(of)g(the)149 1192 y(application)e(frame,)f(usually)j
(in)f(conjunction)e(with)i Ft(with-slots)h Fr(or)f Ft(slot-value)p
Fr(.)49 1325 y Fj(\))45 b Ft(with-application-frame)30 b Fs(\(fr)m(ame\))21
b Ft(&body)29 b Fs(b)m(o)m(dy)958 b Fr([)p Fs(Macr)m(o)s Fr(])149
1444 y(This)19 b(macro)f(pro)n(vides)h(lexical)h(access)e(to)g(the)h
(\\curren)n(t")e(frame)h(for)h(use)g(with)g(the)g Ft(:pane)p
Fr(,)h Ft(:panes)p Fr(,)h(and)149 1510 y Ft(:layouts)14 b Fr(options.)21
b Fs(fr)m(ame)15 b Fr(is)f(b)r(ound)e(to)g(the)h(curren)n(t)e(frame)h(within)
h(the)f(con)n(text)g(of)h(one)f(of)h(those)f(options.)149 1643
y Fs(fr)m(ame)17 b Fr(is)g(a)e(sym)n(b)r(ol;)i(it)f(is)g(not)f(ev)m(aluated.)
22 b Fs(b)m(o)m(dy)c Fr(ma)n(y)d(ha)n(v)n(e)h(zero)f(or)h(more)e
(declarations)f(as)j(its)g(\014rst)f(forms.)149 1862 y Fp(28.2.1)75
b(Sp)r(ecifying)26 b(the)f(P)n(anes)g(of)g(a)g(F)-6 b(rame)149
2030 y Fr(The)21 b(panes)g(of)h(a)g(frame)f(can)g(b)r(e)h(sp)r(eci\014ed)e
(in)i(one)g(of)g(t)n(w)n(o)g(di\013eren)n(t)g(w)n(a)n(ys.)37
b(If)22 b(the)g(frame)e(has)i(a)g(single)149 2097 y(la)n(y)n(out)g(and)f(no)g
(need)g(of)g(named)f(panes,)i(then)e(the)h Ft(:pane)h Fr(option)f(can)g(b)r
(e)g(used.)34 b(Otherwise)20 b(if)i(named)149 2163 y(panes)f(or)i(m)n
(ultiple)f(la)n(y)n(outs)h(are)f(required,)i(the)e Ft(:panes)h
Fr(and)g Ft(:layouts)g Fr(options)f(can)g(b)r(e)g(used.)38
b(Note)149 2230 y(that)22 b(the)h Ft(:pane)h Fr(option)f(is)h(m)n(utually)f
(exclusiv)n(e)h(with)g Ft(:panes)g Fr(and)f Ft(:layouts)p Fr(.)42
b(It)24 b(is)g(meaningful)e(to)149 2296 y(de\014ne)15 b(frames)g(that)h(ha)n
(v)n(e)h(no)g(panes)f(at)g(all;)i(the)e(frame)f(will)k(simply)e(serv)n(e)f
(as)h(a)g(rep)r(ository)d(for)j(state)e(and)149 2363 y(commands.)149
2495 y(The)f(v)m(alue)g(of)g(the)f Ft(:pane)i Fr(option)e(is)i(a)f(form)f
(that)g(is)i(used)f(to)f(create)g(a)h(single)g(\(alb)r(eit)f(arbitrarily)g
(complex\))149 2562 y(pane.)23 b(F)-5 b(or)19 b(example:)149
2735 y Ft(\(vertically)29 b(\(\))207 2801 y(\(tabling)g(\(\))265
2868 y(\(\(horizontally)h(\(\))352 2934 y(\(make-pane)g('toggle-button\))352
3001 y(\(make-pane)g('toggle-button\))352 3067 y(\(make-pane)g
('toggle-button\)\))294 3133 y(\(make-pane)g('text-field\)\))265
3200 y(\(\(make-pane)g('push-button)f(:label)h("a)f(button"\))294
3266 y(\(make-pane)h('slider\)\)\))207 3333 y(\(scrolling)f(\(\))265
3399 y(\(make-pane)h('application-pane)585 3466 y(:display-function)g
('a-display-function\)\))p eop
%%Page: 289 304
bop 149 16 a Fm(CHAPTER)16 b(28.)43 b(APPLICA)-5 b(TION)16
b(FRAMES)1165 b Fr(289)207 210 y Ft(\(scrolling)29 b(\(\))265
276 y(\(make-pane)h('interactor-pane\)\)\))149 460 y Fr(If)19
b(the)f Ft(:pane)i Fr(option)e(is)h(not)g(used,)f(a)h(set)g(of)g(named)e
(panes)h(can)g(b)r(e)g(sp)r(eci\014ed)f(with)i(the)f Ft(:panes)i
Fr(option.)149 526 y(Optionally)-5 b(,)19 b Ft(:layouts)g Fr(can)e(also)h(b)r
(e)f(used)h(to)f(describ)r(e)g(di\013eren)n(t)g(la)n(y)n(outs)h(of)g(the)g
(set)f(of)h(panes.)149 659 y(The)j(v)m(alue)g(of)g(the)g Ft(:panes)h
Fr(option)f(is)h(an)f(alist,)i(eac)n(h)e(en)n(try)g(of)g(whic)n(h)h(is)g(of)f
(the)g(form)f Fs(\(name)j(.)35 b(b)m(o)m(dy\))p Fr(.)149 725
y Fs(name)18 b Fr(is)g(a)f(sym)n(b)r(ol)f(that)g(names)g(the)g(pane,)h(and)g
Fs(b)m(o)m(dy)h Fr(sp)r(eci\014es)e(ho)n(w)h(to)f(create)g(the)g(pane.)23
b Fs(b)m(o)m(dy)c Fr(is)f(either)149 792 y(a)g(list)g(con)n(taining)f(a)i
(single)f(elemen)n(t)e(that)h(is)i(itself)f(a)g(list,)h(or)f(a)g(list)h
(consisting)d(of)i(a)h(sym)n(b)r(ol)e(follo)n(w)n(ed)i(b)n(y)149
858 y(zero)d(or)g(more)g(k)n(eyw)n(ord-v)m(alue)h(pairs.)24
b(In)17 b(the)f(\014rst)g(case,)h(the)f Fs(b)m(o)m(dy)i Fr(is)g(a)f(form)f
(exactly)g(lik)n(e)i(the)f(form)e(used)149 925 y(in)21 b(the)f
Ft(:pane)i Fr(option.)32 b(In)22 b(the)e(second)f(case,)j Fs(b)m(o)m(dy)g
Fr(is)g(a)f Fm(pane)f(abbreviation)f Fr(where)h(the)g(initial)i(sym)n(b)r(ol)
149 991 y(names)d(the)h(t)n(yp)r(e)g(of)g(pane,)h(and)f(the)g(k)n(eyw)n
(ord-v)m(alue)h(pairs)g(are)f(pane)g(options.)31 b(F)-5 b(or)21
b(gadgets,)f(the)f(pane)149 1057 y(t)n(yp)r(e)d(is)h(the)f(class)g(name)f(of)
i(the)f(abstract)e(gadget)h(\(for)h(example,)g Ft(slider)h
Fr(or)f Ft(push-button)p Fr(\).)25 b(F)-5 b(or)17 b(CLIM)149
1124 y(stream)f(panes,)h(the)g(follo)n(wing)i(abbreviations)d(are)i
(de\014ned:)232 1307 y Fj(\017)27 b Ft(:interactor)p Fr(|a)19
b(pane)e(of)h(t)n(yp)r(e)g Ft(interactor-pane)232 1416 y Fj(\017)27
b Ft(:application)p Fr(|a)19 b(pane)e(of)h(t)n(yp)r(e)g Ft(application-pane)
232 1525 y Fj(\017)27 b Ft(:command-menu)p Fr(|a)19 b(pane)f(of)g(t)n(yp)r(e)
f Ft(command-menu-pane)232 1634 y Fj(\017)27 b Ft(:pointer-documentation)p
Fr(|a)d(pane)d(suitable)h(for)f(displa)n(ying)i(p)r(oin)n(ter)e(do)r(cumen)n
(tation,)f(if)i(the)287 1701 y(host)17 b(windo)n(w)i(system)d(do)r(es)h(not)h
(pro)n(vide)f(this)232 1809 y Fj(\017)27 b Ft(:title)p Fr(|a)f(pane)e
(suitable)g(for)g(displa)n(ying)i(the)e(title)g(of)h(the)f(application,)i(if)
f(the)f(host)g(windo)n(w)287 1876 y(system)17 b(do)r(es)f(not)i(pro)n(vide)g
(this.)232 1985 y Fj(\017)27 b Ft(:accept-values)p Fr(|a)19
b(pane)f(that)e(can)i(hold)g(a)g(\\mo)r(deless")d Ft(accepting-values)20
b Fr(dialog.)149 2168 y(See)c(Chapter)f(29)h(and)g(Chapter)f(30)i(for)f(more)
f(information)f(on)j(the)f(individual)h(pane)f(and)g(gadget)f(classes,)149
2235 y(and)i(the)h(options)f(they)g(supp)r(ort.)149 2368 y(An)g(example)g(of)
h(the)g(use)f(of)h Ft(:panes)h Fr(is:)149 2551 y Ft(\(:panes)207
2618 y(\(buttons)29 b(\(horizontally)h(\(\))526 2684 y(\(make-pane)g
('push-button)g(:label)f("Press)h(me"\))526 2751 y(\(make-pane)g
('push-button)g(:label)f("Squeeze)h(me"\)\)\))207 2817 y(\(toggle)f
(toggle-button)439 2883 y(:label)h("Toggle)f(me"\))207 2950
y(\(interactor)g(:interactor)555 3016 y(:width)h(300)f(:height)h(300\))207
3083 y(\(application)g(:application)585 3149 y(:display-function)g
('another-display-function)585 3215 y(:incremental-redisplay)g(t\)\))149
3399 y Fr(The)18 b(v)m(alue)h(of)f(the)g Ft(:layouts)i Fr(option)e(is)h(an)f
(alist,)i(eac)n(h)e(en)n(try)g(of)h(whic)n(h)g(is)g(of)g(the)f(form)f
Fs(\(name)22 b(layout\))p Fr(.)149 3466 y Fs(name)17 b Fr(is)f(a)f(sym)n(b)r
(ol)g(that)g(names)f(the)g(la)n(y)n(out,)j(and)e Fs(layout)i
Fr(sp)r(eci\014es)d(the)h(la)n(y)n(out.)24 b Fs(layout)16 b
Fr(is)h(a)e(form)f(lik)n(e)j(the)p eop
%%Page: 290 305
bop 149 16 a Fm(CHAPTER)16 b(28.)43 b(APPLICA)-5 b(TION)16
b(FRAMES)1165 b Fr(290)149 210 y(form)15 b(used)h(in)i(the)e
Ft(:pane)h Fr(option,)g(with)g(the)f(extension)f(to)i(the)f(syn)n(tax)h(suc)n
(h)f(that)g(the)g(name)g(of)g(a)h(named)149 276 y(pane)j(can)g(b)r(e)g(used)g
(wherev)n(er)g(a)g(pane)g(ma)n(y)h(app)r(ear.)31 b(F)-5 b(or)21
b(example,)f(assuming)g(a)g(frame)g(that)f(uses)h(the)149 342
y Ft(:panes)e Fr(example)f(ab)r(o)n(v)n(e,)h(the)g(follo)n(wing)g(la)n(y)n
(outs)h(could)e(b)r(e)h(sp)r(eci\014ed:)149 523 y Ft(\(:layouts)207
589 y(\(default)265 655 y(\(vertically)30 b(\(\))323 722 y(button)f(toggle)
323 788 y(\(scrolling)h(\(\))f(application\))323 855 y(interactor\)\))207
921 y(\(alternate)265 987 y(\(vertically)h(\(\))323 1054 y(\(scrolling)g
(\(\))f(application\))323 1120 y(\(scrolling)h(\(\))f(interactor\))323
1187 y(\(horizontally)h(\(\))381 1253 y(button)g(toggle\)\)\)\))149
1501 y Fk(28.3)91 b(Application)28 b(F)-8 b(rame)30 b(F)-8
b(unctions)149 1689 y Fr(The)22 b(generic)g(functions)f(describ)r(ed)g(in)j
(this)e(section)g(are)g(the)g(functions)g(that)g(can)g(b)r(e)g(used)g(to)h
(read)f(or)149 1755 y(mo)r(dify)15 b(the)h(attributes)e(of)i(a)h(frame.)22
b(All)c(classes)d(that)h(inherit)f(from)h Ft(application-frame)i
Fr(m)n(ust)d(inherit)149 1822 y(or)i(implemen)n(t)g(metho)r(ds)e(for)j(all)g
(of)g(these)f(functions.)49 1955 y Fj(\))45 b Ft(frame-name)29
b Fs(fr)m(ame)1378 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
2074 y(Returns)16 b(the)h(name)g(of)h(the)f Fm(frame)g Fs(fr)m(ame)p
Fr(,)j(whic)n(h)e(is)h(a)f(sym)n(b)r(ol.)49 2206 y Fj(\))45
b Ft(frame-pretty-name)30 b Fs(fr)m(ame)1174 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 2325 y(Returns)16 b(the)h(\\prett)n(y)g(name")f(of)j
(the)e Fm(frame)f Fs(fr)m(ame)p Fr(,)21 b(whic)n(h)d(is)h(a)f(string.)49
2458 y Fj(\))45 b Ft(\(setf)29 b(frame-pretty-name\))h Fs(name)21
b(fr)m(ame)821 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
2577 y(Sets)17 b(the)g(prett)n(y)g(name)g(of)h(the)f Fm(frame)g
Fs(fr)m(ame)j Fr(to)d Fs(name)p Fr(,)j(whic)n(h)f(m)n(ust)e(b)r(e)g(a)h
(string.)49 2710 y Fj(\))45 b Ft(frame-command-table)30 b Fs(fr)m(ame)1116
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2829 y(Returns)16
b(the)h(command)e(table)j(for)g(the)f Fm(frame)f Fs(fr)m(ame)p
Fr(.)49 2962 y Fj(\))45 b Ft(\(setf)29 b(frame-command-table\))h
Fs(c)m(ommand-table)24 b(fr)m(ame)532 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 3081 y(Sets)15 b(the)g(command)f(table)h(for)h(the)g
Fm(frame)e Fs(fr)m(ame)k Fr(to)e Fs(c)m(ommand-table)p Fr(.)28
b(Changing)15 b(the)h(frame's)f(command)149 3147 y(table)g(will)i(redispla)n
(y)e(the)g(command)e(men)n(us)h(\(or)h(men)n(u)g(bar\))f(as)i(needed.)22
b Fs(c)m(ommand-table)e Fr(is)c(a)g Fm(command)149 3214 y(table)h(designator)
p Fr(.)49 3347 y Fj(\))45 b Ft(frame-standard-output)30 b Fs(fr)m(ame)1058
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 3466 y(Returns)16
b(the)i(stream)e(that)h(will)j(b)r(e)e(used)g(for)g Ft(*standard-output*)i
Fr(for)e(the)f Fm(frame)g Fs(fr)m(ame)p Fr(.)28 b(The)18 b(default)p
eop
%%Page: 291 306
bop 149 16 a Fm(CHAPTER)16 b(28.)43 b(APPLICA)-5 b(TION)16
b(FRAMES)1165 b Fr(291)149 210 y(metho)r(d)12 b(\(on)i Ft
(standard-application-frame)p Fr(\))i(returns)d(the)h(\014rst)g(named)f(pane)
h(of)g(t)n(yp)r(e)h Ft(application-)149 276 y(pane)20 b Fr(that)e(is)i(exp)r
(osed)d(in)j(the)f(curren)n(t)e(la)n(y)n(out;)k(if)f(there)e(is)i(no)f(suc)n
(h)g(pane,)g(it)h(returns)d(the)i(\014rst)f(pane)h(of)149 342
y(t)n(yp)r(e)e Ft(interactor-pane)j Fr(that)c(is)j(exp)r(osed)e(in)h(the)f
(curren)n(t)g(la)n(y)n(out.)49 475 y Fj(\))45 b Ft(frame-standard-input)30
b Fs(fr)m(ame)1087 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
594 y(Returns)c(the)i(stream)e(that)h(will)i(b)r(e)f(used)f(for)h
Ft(*standard-input*)i Fr(for)e(the)f Fm(frame)g Fs(fr)m(ame)p
Fr(.)33 b(The)20 b(default)149 661 y(metho)r(d)15 b(\(on)i
Ft(standard-application-frame)p Fr(\))i(returns)c(the)i(\014rst)g(named)f
(pane)h(of)g(t)n(yp)r(e)h Ft(interactor-)149 727 y(pane)26
b Fr(that)f(is)h(exp)r(osed)e(in)i(the)f(curren)n(t)f(la)n(y)n(out;)31
b(if)26 b(there)e(is)j(no)e(suc)n(h)h(pane,)h(the)e(v)m(alue)g(returned)f(b)n
(y)149 793 y(frame-standard-out)o(put)14 b(is)k(used.)49 926
y Fj(\))45 b Ft(frame-query-io)30 b Fs(fr)m(ame)1261 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 1045 y(Returns)16 b(the)i(stream)f
(that)g(will)j(b)r(e)e(used)f(for)i Ft(*query-io*)g Fr(for)f(the)g
Fm(frame)f Fs(fr)m(ame)p Fr(.)28 b(The)18 b(default)f(metho)r(d)149
1112 y(\(on)k Ft(standard-application-frame)p Fr(\))j(returns)d(the)h(v)m
(alue)g(returned)e(b)n(y)j Ft(frame-standard-input)p Fr(;)k(if)149
1178 y(that)17 b(is)h Ft(nil)p Fr(,)h(it)g(returns)d(the)h(v)m(alue)h
(returned)e(b)n(y)j Ft(frame-standard-output)p Fr(.)49 1311
y Fj(\))45 b Ft(frame-error-output)30 b Fs(fr)m(ame)1145 b
Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1430 y(Returns)g(the)h(stream)f
(that)g(will)k(b)r(e)d(used)g(for)g Ft(*error-output*)i Fr(for)f(the)f
Fm(frame)f Fs(fr)m(ame)p Fr(.)44 b(The)24 b(default)149 1496
y(metho)r(d)9 b(\(on)j Ft(standard-application-frame)p Fr(\))h(returns)d(the)
i(same)f(v)m(alue)h(as)g Ft(frame-standard-output)p Fr(.)49
1629 y Fj(\))45 b Ft(*pointer-documentation-output*)1187 b
Fr([)p Fs(V)l(ariable)t Fr(])149 1748 y(This)13 b(will)i(b)r(e)d(b)r(ound)g
(either)g(to)h Ft(nil)g Fr(or)g(to)g(a)g(stream)e(on)i(whic)n(h)g(p)r(oin)n
(ter)f(do)r(cumen)n(tation)e(will)k(b)r(e)f(displa)n(y)n(ed.)49
1881 y Fj(\))45 b Ft(frame-pointer-documentation-output)31
b Fs(fr)m(ame)680 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
2000 y(Returns)10 b(the)i(stream)f(that)g(will)j(b)r(e)e(used)g(for)g
Ft(*pointer-documentation-output*)i Fr(for)f(the)e Fm(frame)g
Fs(fr)m(ame)p Fr(.)149 2067 y(The)j(default)f(metho)r(d)f(\(on)i
Ft(standard-application-frame)p Fr(\))i(returns)d(the)h(\014rst)f(pane)h(of)h
(t)n(yp)r(e)f Ft(pointer-)149 2133 y(documentation-pane)p Fr(.)30
b(If)19 b(this)h(returns)d Ft(nil)p Fr(,)k(no)e(p)r(oin)n(ter)f(do)r(cumen)n
(tation)e(will)k(b)r(e)f(generated)e(for)i(this)149 2199 y(frame.)49
2332 y Fj(\))45 b Ft(frame-calling-frame)30 b Fs(fr)m(ame)1116
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2451 y(Returns)16
b(the)h(application)g(frame)g(that)g(in)n(v)n(ok)n(ed)i(the)e
Fm(frame)g Fs(fr)m(ame)p Fr(.)49 2584 y Fj(\))45 b Ft(frame-parent)29
b Fs(fr)m(ame)1320 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
2703 y(Returns)f(the)i(ob)s(ject)f(that)g(acts)h(as)g(the)g(paren)n(t)f(for)h
(the)g Fm(frame)e Fs(fr)m(ame)p Fr(.)43 b(This)24 b(often,)g(but)e(not)h(alw)
n(a)n(ys,)149 2769 y(returns)16 b(the)h(same)g(v)m(alue)h(as)g
Ft(frame-manager)p Fr(.)49 2902 y Fj(\))45 b Ft(frame-panes)29
b Fs(fr)m(ame)1349 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
3021 y(Returns)13 b(a)i(list)h(of)f(all)h(of)f(the)f Fm(frame)f
Fs(fr)m(ame)p Fr('s)18 b(named)13 b(panes.)22 b(This)16 b(includes)e(panes)g
(in)i(the)e(curren)n(t)g(la)n(y)n(out,)149 3088 y(and)24 b(panes)f(in)i
(other)e(la)n(y)n(outs)i(as)f(w)n(ell.)46 b(If)24 b(there)f(are)h(no)g(named)
f(panes)h(\(that)f(is,)k(the)c Ft(:pane)i Fr(option)149 3154
y(w)n(as)19 b(used\),)f(only)h(the)e(single,)j(top)e(lev)n(el)h(pane)f(is)h
(returned.)24 b(This)19 b(function)e(returns)g(ob)s(jects)g(that)h(rev)n(eal)
149 3221 y(CLIM's)g(in)n(ternal)f(state;)g(do)h(not)g(mo)r(dify)f(those)f(ob)
s(jects.)49 3353 y Fj(\))45 b Ft(frame-current-panes)30 b Fs(fr)m(ame)1116
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])p eop
%%Page: 292 307
bop 149 16 a Fm(CHAPTER)16 b(28.)43 b(APPLICA)-5 b(TION)16
b(FRAMES)1165 b Fr(292)149 210 y(Returns)16 b(a)j(list)f(of)h(those)e(named)f
(panes)i(in)h(the)e Fm(frame)g Fs(fr)m(ame)p Fr('s)j(curren)n(t)d(la)n(y)n
(out.)26 b(If)19 b(there)d(are)i(no)g(named)149 276 y(panes)k(\(that)f(is,)k
(the)d Ft(:pane)h Fr(option)f(w)n(as)h(used\),)h(only)f(the)f(single,)i(top)e
(lev)n(el)i(pane)e(is)i(returned.)36 b(This)149 342 y(function)16
b(returns)h(ob)s(jects)f(that)h(rev)n(eal)h(CLIM's)g(in)n(ternal)g(state;)f
(do)h(not)f(mo)r(dify)g(those)g(ob)s(jects.)49 475 y Fj(\))45
b Ft(get-frame-pane)30 b Fs(fr)m(ame)21 b(p)m(ane-name)982
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 594 y(Returns)16
b(the)h(named)g(CLIM)g(stream)f(pane)i(in)g(the)f Fm(frame)g
Fs(fr)m(ame)j Fr(whose)d(name)g(is)h Fs(p)m(ane-name)p Fr(.)49
727 y Fj(\))45 b Ft(find-pane-named)30 b Fs(fr)m(ame)21 b(p)m(ane-name)953
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 846 y(Returns)e(the)g(pane)h
(in)h(the)f Fm(frame)f Fs(fr)m(ame)k Fr(whose)c(name)h(is)h
Fs(p)m(ane-name)p Fr(.)38 b(This)21 b(can)g(return)f(an)n(y)j(t)n(yp)r(e)e
(of)149 912 y(pane,)c(not)h(just)f(CLIM)h(stream)e(panes.)49
1045 y Fj(\))45 b Ft(frame-top-level-sheet)30 b Fs(fr)m(ame)1058
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1164 y(Returns)17
b(the)i(sheet)f(that)g(is)i(the)f(top-lev)n(el)g(sheet)g(for)g(the)f
Fm(frame)g Fs(fr)m(ame)p Fr(.)30 b(This)20 b(is)g(the)e(sheet)g(that)h(has)g
(as)149 1231 y(its)f(descenden)n(ts)d(all)k(of)f(the)g(panes)f(of)h
Fs(fr)m(ame)p Fr(.)49 1364 y Fj(\))45 b Ft(frame-pane)29 b
Fs(fr)m(ame)1378 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
1483 y(Returns)16 b(the)h(pane)h(that)e(is)j(the)e(top)h(lev)n(el)h(pane)e
(of)h(the)g(curren)n(t)e(la)n(y)n(out)j(of)f(the)f(frame.)49
1615 y Fj(\))45 b Ft(frame-current-layout)30 b Fs(fr)m(ame)1087
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1734 y(Returns)16
b(the)h(curren)n(t)g(la)n(y)n(out)h(for)g(the)f Fm(frame)g
Fs(fr)m(ame)p Fr(.)26 b(The)18 b(la)n(y)n(out)h(is)f(named)f(b)n(y)i(a)f(sym)
n(b)r(ol.)49 1867 y Fj(\))45 b Ft(\(setf)29 b(frame-current-layout\))h
Fs(layout)21 b(fr)m(ame)718 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1986 y(Sets)16 b(the)g(la)n(y)n(out)i(of)f(the)f Fm(frame)g
Fs(fr)m(ame)j Fr(to)d(b)r(e)h(the)f(new)h(la)n(y)n(out)g(sp)r(eci\014ed)f(b)n
(y)i Fs(new-layout)p Fr(.)25 b Fs(layout)18 b Fr(m)n(ust)e(b)r(e)149
2053 y(a)i(sym)n(b)r(ol)f(that)g(names)g(one)g(of)h(the)f(p)r(ossible)h(la)n
(y)n(outs.)149 2185 y(Changing)g(the)h(la)n(y)n(out)h(of)f(the)g(frame)f(m)n
(ust)h(recompute)d(what)j(panes)f(are)h(used)g(for)g(the)g(bindings)g(of)g
(the)149 2252 y(standard)g(stream)f(v)m(ariables)j(\(suc)n(h)f(as)g
Ft(*standard-input*)p Fr(\).)34 b(Some)20 b(implemen)n(tations)d(of)k(CLIM)g
(ma)n(y)149 2318 y(cause)16 b(the)g(application)h(to)f(\\thro)n(w")g(all)j
(the)d(w)n(a)n(y)j(bac)n(k)e(to)g Ft(run-frame-top-level)i
Fr(in)e(order)f(to)h(do)g(this.)149 2385 y(After)e(the)g(new)h(la)n(y)n(out)h
(has)f(b)r(een)f(computed,)f(the)i(con)n(ten)n(ts)f(of)h(eac)n(h)g(of)g(the)g
(panes)f(m)n(ust)g(b)r(e)h(displa)n(y)n(ed)h(to)149 2451 y(the)g(degree)f
(necessary)h(to)g(ensure)g(that)g(all)i(output)d(is)j(visible.)49
2584 y Fj(\))45 b Ft(layout-frame)29 b Fs(fr)m(ame)22 b Ft(&optional)29
b Fs(width)21 b(height)718 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 2703 y(Resizes)17 b(the)h(frame)f(and)h(la)n(ys)h(out)f(the)g
(curren)n(t)e(pane)i(hierarc)n(h)n(y)g(using)g(the)g(la)n(y)n(out)h(sp)r
(eci\014ed)e(b)n(y)i Ft(frame-)149 2769 y(current-layout)p
Fr(,)k(according)c(to)i(the)f(la)n(y)n(out)i(proto)r(col.)31
b(The)21 b(basics)f(of)h(the)g(la)n(y)n(out)g(proto)r(cols)e(are)h(de-)149
2836 y(scrib)r(ed)15 b(in)j(Section)e(29.3.4.)24 b(This)18
b(function)e(is)h(automatically)f(in)n(v)n(ok)n(ed)i(on)f(a)h(frame)d(when)i
(it)g(is)h(adopted,)149 2902 y(after)f(its)h(pane)f(hierarc)n(h)n(y)h(has)f
(b)r(een)g(generated.)149 3035 y(If)i Fs(width)h Fr(and)f Fs(height)i
Fr(are)d(pro)n(vided,)i(then)e(this)g(function)g(resizes)g(the)g(frame)g(to)g
(the)h(sp)r(eci\014ed)e(size.)27 b(It)19 b(is)149 3102 y(an)f(error)e(to)i
(pro)n(vide)g(just)f Fs(width)p Fr(.)149 3234 y(If)f(no)g(optional)f(argumen)
n(ts)e(are)i(pro)n(vided,)h(this)g(function)f(resizes)f(the)i(frame)e(to)h
(the)g(preferred)f(size)h(of)h(the)149 3301 y(top-lev)n(el)i(pane)f(as)h
(determined)e(b)n(y)i(the)g(space)f(comp)r(osition)e(pass)i(of)i(the)e(la)n
(y)n(out)h(proto)r(col.)149 3434 y(In)25 b(either)f(case,)j(after)d(the)g
(frame)g(is)i(resized,)g(the)f(space)f(allo)r(cation)g(pass)g(of)i(the)e(la)n
(y)n(out)i(proto)r(col)d(is)p eop
%%Page: 293 308
bop 149 16 a Fm(CHAPTER)16 b(28.)43 b(APPLICA)-5 b(TION)16
b(FRAMES)1165 b Fr(293)149 210 y(in)n(v)n(ok)n(ed)19 b(on)f(the)f(top-lev)n
(el)i(pane.)49 342 y Fj(\))45 b Ft(frame-exit)1791 b Fr([)p
Fs(R)m(estart)5 b Fr(])149 461 y(The)17 b(restart)f(that)h(is)i(in)n(v)n(ok)n
(ed)g(when)f Ft(frame-exit)h Fr(is)g(called.)49 594 y Fj(\))45
b Ft(frame-exit)29 b Fs(fr)m(ame)1378 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 713 y(Exits)f(from)f(the)g Fm(frame)g
Fs(fr)m(ame)p Fr(.)36 b(The)21 b(default)f(metho)r(d)f(\(on)i
Ft(standard-application-frame)p Fr(\))h(in)n(v)n(ok)n(es)149
780 y(the)17 b Ft(frame-exit)i Fr(restart.)49 912 y Fj(\))45
b Ft(panes-need-redisplay)30 b Fs(fr)m(ame)1087 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])49 979 y Fj(\))45 b Ft(pane-needs-redisplay)30
b Fs(fr)m(ame)21 b(p)m(ane)957 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1098 y Ft(panes-need-redisplay)c Fr(indicates)d(that)g(all)j(of)e
(the)g(panes)f(in)i(the)f Fm(frame)f Fs(fr)m(ame)j Fr(should)e(b)r(e)g
(redispla)n(y)n(ed)149 1164 y(the)21 b(next)h(time)f(around)g(the)g(command)e
(lo)r(op.)36 b Ft(pane-needs-redisplay)24 b Fr(causes)d(only)h(the)g(pane)f
Fs(p)m(ane)149 1231 y Fr(within)h Fs(fr)m(ame)h Fr(to)f(b)r(e)f(redispla)n(y)
n(ed)g(the)g(next)h(time)f(around)f(the)h(command)e(lo)r(op;)k(in)g(this)e
(case,)h Fs(p)m(ane)i Fr(is)149 1297 y(either)17 b(a)h(pane)f(or)h(the)f
(name)g(of)h(a)g(named)e(pane.)49 1430 y Fj(\))45 b Ft(redisplay-frame-pane)
30 b Fs(fr)m(ame)21 b(p)m(ane)g Ft(&key)30 b Fs(for)m(c)m(e-p)630
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1549 y(Causes)e(the)h(pane)g
Fs(p)m(ane)i Fr(within)e(the)g Fm(frame)f Fs(fr)m(ame)j Fr(to)e(b)r(e)g
(redispla)n(y)n(ed)h(immediately)-5 b(.)33 b Fs(p)m(ane)23
b Fr(is)f(either)f(a)149 1615 y(pane)g(or)g(the)g(name)f(of)i(a)g(named)e
(pane.)34 b(When)21 b(the)g(b)r(o)r(olean)f Fs(for)m(c)m(e-p)k
Fr(is)e Fm(true)p Fr(,)g(the)f(maxim)n(um)f(lev)n(el)j(of)149
1682 y(redispla)n(y)18 b(is)h(forced)d(\(that)h(is,)i(the)e(pane)g(is)i
(displa)n(y)n(ed)g(\\from)d(scratc)n(h"\).)49 1815 y Fj(\))45
b Ft(redisplay-frame-panes)30 b Fs(fr)m(ame)21 b Ft(&key)30
b Fs(for)m(c)m(e-p)731 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1934 y Ft(redisplay-frame-panes)13 b Fr(causes)e(all)i(of)g(the)e
(panes)g(in)i(the)e Fm(frame)g Fs(fr)m(ame)j Fr(to)e(b)r(e)f(redispla)n(y)n
(ed)h(immediately)149 2000 y(b)n(y)19 b(calling)g Ft(redisplay-frame-pane)h
Fr(on)e(eac)n(h)g(of)h(the)f(panes)f(in)i Fs(fr)m(ame)i Fr(that)c(are)h
(visible)h(in)g(the)f(curren)n(t)149 2067 y(la)n(y)n(out.)25
b(When)18 b(the)f(b)r(o)r(olean)f Fs(for)m(c)m(e-p)21 b Fr(is)e
Fm(true)p Fr(,)e(the)h(maxim)n(um)e(lev)n(el)j(of)g(redispla)n(y)f(is)h
(forced)e(\(that)f(is,)j(the)149 2133 y(pane)e(is)i(displa)n(y)n(ed)f(\\from)
f(scratc)n(h"\).)49 2266 y Fj(\))45 b Ft(frame-replay)29 b
Fs(fr)m(ame)22 b(str)m(e)m(am)f Ft(&optional)30 b Fs(r)m(e)m(gion)687
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2385 y(Repla)n(ys)j(the)f
(con)n(ten)n(ts)f(of)i Fs(str)m(e)m(am)i Fr(in)e(the)f Fm(frame)g
Fs(fr)m(ame)i Fr(within)f(the)g(region)f(sp)r(eci\014ed)f(b)n(y)i(the)f
(region)149 2451 y Fs(r)m(e)m(gion)p Fr(,)c(whic)n(h)f(defaults)e(to)g(viewp)
r(ort)g(of)h Fs(str)m(e)m(am)p Fr(.)49 2584 y Fj(\))45 b Ft(notify-user)29
b Fs(fr)m(ame)22 b(format-string)g Ft(&rest)29 b Fs(format-ar)m(gs)540
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2703 y(Noti\014es)16
b(the)i(user)f(of)h(some)f(ev)n(en)n(t)h(on)g(b)r(ehalf)f(of)h(the)f
Fm(frame)g Fs(fr)m(ame)p Fr(.)26 b Fs(format-string)21 b Fr(and)d
Fs(format-ar)m(gs)i Fr(are)149 2769 y(argumen)n(ts)15 b(allo)n(w)n(able)k(b)n
(y)g Ft(format)p Fr(.)149 2902 y(This)d(function)f(is)h(in)n(tended)f(to)h
(pro)n(vide)f(a)h(lo)r(ok)g(and)g(feel)g(indep)r(enden)n(t)d(w)n(a)n(y)k(for)
f(applications)e(to)i(comm)n(u-)149 2969 y(nicate)j(messages)e(to)j(the)f
(user.)30 b(F)-5 b(or)20 b(example,)g(a)g(frame)e(manager)g(migh)n(t)h(pro)n
(vide)h(a)g(top-lev)n(el)h(message)149 3035 y(windo)n(w)d(or)g(a)g(message)e
(windo)n(w)i(for)g(eac)n(h)f(frame,)g(or)h(migh)n(t)f(p)r(op)h(up)g(an)f
(alert)h(b)r(o)n(x.)49 3168 y Fj(\))45 b Ft(frame-properties)30
b Fs(fr)m(ame)21 b(pr)m(op)m(erty)988 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])49 3234 y Fj(\))45 b Ft(\(setf)29 b(frame-properties\))h
Fs(value)21 b(fr)m(ame)g(pr)m(op)m(erty)642 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 3353 y(F)-5 b(rame)16 b(prop)r(erties)e(can)j(b)r(e)
f(used)h(to)g(asso)r(ciate)e(frame)g(sp)r(eci\014c)h(data)g(with)h(frames)f
(without)g(adding)g(addi-)149 3420 y(tional)h(slots)g(to)g(the)f(frame's)g
(class.)24 b(CLIM)17 b(ma)n(y)g(use)g(frame)f(prop)r(erties)e(in)n(ternally)k
(to)f(store)f(information)p eop
%%Page: 294 309
bop 149 16 a Fm(CHAPTER)16 b(28.)43 b(APPLICA)-5 b(TION)16
b(FRAMES)1165 b Fr(294)149 210 y(for)17 b(its)i(o)n(wn)f(purp)r(oses.)149
431 y Fp(28.3.1)75 b(In)n(terface)25 b(with)g(Presen)n(tation)g(T)n(yp)r(es)
149 600 y Fr(This)e(section)e(describ)r(es)g(the)h(functions)g(that)g
(connect)e(application)i(frames)f(to)i(the)f(presen)n(tation)e(t)n(yp)r(e)149
666 y(system.)31 b(All)21 b(classes)f(that)g(inherit)g(from)g
Ft(application-frame)i Fr(m)n(ust)e(inherit)g(or)h(implemen)n(t)d(metho)r(ds)
149 732 y(for)f(all)i(of)f(these)f(functions.)49 865 y Fj(\))45
b Ft(frame-maintain-presentation-histories)31 b Fs(fr)m(ame)593
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 984 y(Returns)14
b Fm(true)i Fr(if)h(the)e Fm(frame)g Fs(fr)m(ame)j Fr(main)n(tains)e
(histories)f(for)h(its)h(presen)n(tations,)d(otherwise)h(returns)f
Fm(false)p Fr(.)149 1051 y(The)21 b(default)g(metho)r(d)e(\(on)i
Ft(standard-application-frame)p Fr(\))i(returns)d Fm(true)g
Fr(if)j(and)e(only)h(if)g(the)f(frame)149 1117 y(has)c(at)h(least)f(one)h(in)
n(teractor)e(pane.)49 1250 y Fj(\))45 b Ft
(frame-find-innermost-applicable-presentation)31 b Fs(fr)m(ame)16
b(input-c)m(ontext)g(str)m(e)m(am)g(x)e(y)g Ft(&key)29 b Fs(event)149
1316 y Fr([)p Fs(Generic)21 b(F)l(unction)t Fr(])149 1435 y(Lo)r(cates)g(and)
i(returns)f(the)h(innermost)f(applicable)h(presen)n(tation)e(on)j(the)f
(windo)n(w)h Fs(str)m(e)m(am)i Fr(whose)d(sen-)149 1502 y(sitivit)n(y)28
b(region)f(con)n(tains)f(the)g(p)r(oin)n(t)h(\()p Fn(x;)9 b(y)r
Fr(\),)30 b(on)d(b)r(ehalf)f(of)h(the)g Fm(frame)f Fs(fr)m(ame)j
Fr(in)f(the)e(input)h(con)n(text)149 1568 y Fs(input-c)m(ontext)p
Fr(.)g Fs(event)20 b Fr(defaults)d(to)h Ft(nil)p Fr(,)h(and)e(is)i(as)f(for)g
(\014nd-innermost-applicable-pres)o(en)n(ta)o(tion)149 1701
y(The)11 b(default)g(metho)r(d)e(\(on)j Ft(standard-application-frame)p
Fr(\))h(will)g(simply)f(call)h Ft(find-innermost-applicable-)149
1767 y(presentation)p Fr(.)49 1900 y Fj(\))45 b Ft
(frame-input-context-button-press-handler)31 b Fs(fr)m(ame)16
b(str)m(e)m(am)g(button-pr)m(ess-event)32 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 2099 y(This)17 b(function)f(is)i(resp)r(onsible)d
(for)h(handling)h(user)f(p)r(oin)n(ter)g(ev)n(en)n(ts)h(on)g(b)r(ehalf)f(of)h
(the)f Fm(frame)g Fs(fr)m(ame)j Fr(in)e(the)149 2166 y(input)g(con)n(text)g
Ft(*input-context*)p Fr(.)26 b Fs(str)m(e)m(am)20 b Fr(is)f(the)e(windo)n(w)h
(on)g(whic)n(h)h Fs(button-pr)m(ess-event)i Fr(to)r(ok)d(place.)149
2299 y(The)k(default)g(implemen)n(tation)d(\(on)j Ft
(standard-application-frame)p Fr(\))i(unhighligh)n(ts)e(an)n(y)h(highligh)n
(ted)149 2365 y(presen)n(tations,)12 b(\014nds)h(the)g(applicable)g(presen)n
(tation)e(b)n(y)k(calling)e Ft(frame-find-innermost-applicable-)149
2432 y(presentation-at-position)p Fr(,)19 b(and)c(then)h(calls)g
Ft(throw-highlighted-presentation)j Fr(to)d(execute)e(the)149
2498 y(translator)i(on)h(that)g(presen)n(tation)f(that)h(corresp)r(onds)e(to)
i(the)h(user's)f(gesture.)149 2631 y(If)25 b Ft
(frame-input-context-button-press-handler)j Fr(is)e(called)f(when)g(the)f(p)r
(oin)n(ter)g(is)i(not)e(o)n(v)n(er)i(an)n(y)149 2697 y(applicable)16
b(presen)n(tation,)e Ft(throw-highlighted-presentation)19 b
Fr(m)n(ust)d(b)r(e)g(called)g(with)g(a)h(presen)n(tation)149
2764 y(of)h Ft(*null-presentation*)p Fr(.)49 2896 y Fj(\))45
b Ft(frame-document-highlighted-presentation)31 b Fs(fr)m(ame)16
b(pr)m(esentation)h(input-c)m(ontext)f(window)e(x)g(y)g(str)m(e)m(am)149
2963 y Fr([)p Fs(Generic)21 b(F)l(unction)t Fr(])149 3082 y(This)15
b(function)e(is)j(resp)r(onsible)d(for)h(pro)r(ducing)f(p)r(oin)n(ter)g(do)r
(cumen)n(tation)e(on)k(b)r(ehalf)e(of)i(the)f Fm(frame)f Fs(fr)m(ame)k
Fr(in)149 3148 y(the)h(input)h(con)n(text)f Fs(input-c)m(ontext)k
Fr(on)d(the)f(windo)n(w)i Fs(window)g Fr(at)e(the)h(p)r(oin)n(t)g(\()p
Fn(x;)9 b(y)r Fr(\).)28 b(The)18 b(do)r(cumen)n(tation)149
3215 y(is)g(displa)n(y)n(ed)h(on)f(the)f Fm(stream)f Fs(str)m(e)m(am)p
Fr(.)149 3348 y(The)24 b(default)f(metho)r(d)e(\(on)i Ft
(standard-application-frame)p Fr(\))j(should)e(pro)r(duce)d(do)r(cumen)n
(tation)g(that)149 3414 y(corresp)r(onds)12 b(to)k(calling)g
Ft(document-presentation-translator)j Fr(on)c(all)i(of)f(the)g(applicable)f
(translators)p eop
%%Page: 295 310
bop 149 16 a Fm(CHAPTER)16 b(28.)43 b(APPLICA)-5 b(TION)16
b(FRAMES)1165 b Fr(295)149 210 y(in)18 b(the)g(input)f(con)n(text)g
Fs(input-c)m(ontext)p Fr(.)27 b Fs(pr)m(esentation)p Fr(,)22
b Fs(window)p Fr(,)d Fs(x)p Fr(,)f Fs(y)p Fr(,)h(and)f Fs(str)m(e)m(am)i
Fr(are)d(as)h(for)g Ft(document-)149 276 y(presentation-translator)p
Fr(.)149 409 y(T)n(ypically)26 b(p)r(oin)n(ter)e(do)r(cumen)n(tation)d(will)
26 b(consist)e(of)h(a)g(brief)f(description)f(of)i(eac)n(h)g(translator)d
(that)i(is)149 475 y(applicable)16 b(to)h(the)f(sp)r(eci\014ed)g(presen)n
(tation)e(in)k(the)e(sp)r(eci\014ed)g(input)g(con)n(text)g(giv)n(en)i(the)e
(curren)n(t)g(mo)r(di\014er)149 542 y(state)j(for)h(the)f(windo)n(w.)32
b(F)-5 b(or)21 b(example,)f(the)g(follo)n(wing)h(do)r(cumen)n(tation)16
b(migh)n(t)k(b)r(e)g(pro)r(duced)d(when)j(the)149 608 y(p)r(oin)n(ter)c(is)j
(p)r(oin)n(ting)e(to)h(a)g(Lisp)g(expression)f(when)g(the)h(input)f(con)n
(text)g(is)i Ft(form)p Fr(:)149 787 y Ft(Left:)29 b('\(1)g(2)g(3\);)h
(Middle:)f(\(DESCRIBE)h('\(1)f(2)g(3\)\);)g(Right:)h(Menu)49
965 y Fj(\))45 b Ft(frame-drag-and-drop-feedback)30 b Fs(fr)m(ame)17
b(pr)m(esentation)i(str)m(e)m(am)e(initial-x)e(initial-y)h(new-x)g(new-y)f
(state)149 1031 y Fr([)p Fs(Generic)21 b(F)l(unction)t Fr(])149
1150 y(The)f(default)g(feedbac)n(k)f(function)h(for)g(translators)e
(de\014ned)i(b)n(y)h Ft(define-drag-and-drop-translator)p Fr(,)149
1217 y(whic)n(h)g(pro)n(vides)h(visual)g(feedbac)n(k)e(during)h(the)f
(dragging)g(phase)h(of)g(suc)n(h)g(translators)e(on)j(b)r(ehalf)e(of)h(the)
149 1283 y Fm(frame)14 b Fs(fr)m(ame)p Fr(.)26 b Fs(pr)m(esentation)19
b Fr(is)d(the)f(presen)n(tation)f(b)r(eing)h(dragged)f(on)h(the)g(stream)f
Fs(str)m(e)m(am)p Fr(.)26 b(The)15 b(p)r(oin)n(ting)149 1350
y(device)24 b(w)n(as)h(initially)h(at)e(the)g(p)r(osition)g(sp)r(eci\014ed)e
(b)n(y)k Fs(initial-x)f Fr(and)f Fs(initial-y)p Fr(,)k(and)c(is)i(at)e(the)g
(p)r(osition)149 1416 y(sp)r(eci\014ed)11 b(b)n(y)k Fs(new-x)e
Fr(and)g Fs(new-y)h Fr(when)f Ft(frame-drag-and-drop-feedback)j
Fr(is)e(in)n(v)n(ok)n(ed.)24 b(\(Both)13 b(p)r(ositions)149
1482 y(are)20 b(supplied)g(for)h(\\rubb)r(er-banding",)d(if)k(that)d(is)j
(the)e(sort)g(of)h(desired)f(feedbac)n(k.\))31 b Fs(state)22
b Fr(will)h(b)r(e)d(either)149 1549 y Ft(:highlight)p Fr(,)h(meaning)d(that)g
(the)h(feedbac)n(k)g(should)g(b)r(e)g(dra)n(wn,)h(or)f Ft(:unhighlight)p
Fr(,)j(meaning)c(that)g(the)149 1615 y(feedbac)n(k)f(should)g(b)r(e)h
(erased.)49 1748 y Fj(\))45 b Ft(frame-drag-and-drop-highlighting)31
b Fs(fr)m(ame)21 b(pr)m(esentation)i(str)m(e)m(am)e(state)113
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1867 y(The)11
b(default)g(highligh)n(ting)h(function)f(for)g(translators)f(de\014ned)g(b)n
(y)j Ft(define-drag-and-drop-translator)p Fr(,)149 1934 y(whic)n(h)22
b(is)g(in)n(v)n(ok)n(ed)h(when)e(a)g(\\to)g(ob)s(ject")f(should)h(b)r(e)g
(highligh)n(ted)g(during)g(the)g(dragging)f(phase)g(of)i(suc)n(h)149
2000 y(translators)11 b(on)j(b)r(ehalf)f(of)h(the)g Fm(frame)e
Fs(fr)m(ame)p Fr(.)25 b Fs(pr)m(esentation)18 b Fr(is)c(the)f(presen)n
(tation)f(o)n(v)n(er)j(whic)n(h)f(the)f(p)r(oin)n(ting)149
2066 y(device)k(is)g(lo)r(cated)f(on)h(the)g(stream)e Fs(str)m(e)m(am)p
Fr(.)26 b Fs(state)19 b Fr(will)g(b)r(e)e(either)f Ft(:highlight)p
Fr(,)j(meaning)c(that)i(the)f(high-)149 2133 y(ligh)n(ting)i(for)g(the)g
(presen)n(tation)e(should)i(b)r(e)g(dra)n(wn,)g(or)g Ft(:unhighlight)p
Fr(,)i(meaning)d(that)g(the)h(highligh)n(ting)149 2199 y(should)f(b)r(e)h
(erased.)149 2447 y Fk(28.4)91 b(The)31 b(Generic)e(Command)i(Lo)s(op)149
2635 y Fr(The)17 b(default)g(application)g(command)f(lo)r(op)h(pro)n(vided)h
(b)n(y)h(CLIM)e(p)r(erforms)f(the)h(follo)n(wing)i(steps:)216
2813 y(1.)28 b(Prompts)16 b(the)h(user)g(for)h(input.)216 2920
y(2.)28 b(Reads)d(a)h(command.)45 b(Eac)n(h)25 b(application)g(frame)g(has)g
(a)h(command)d(table)i(that)g(con)n(tains)g(those)287 2986
y(commands)14 b(that)i(the)g(author)g(of)h(the)f(application)g(wishes)h(to)g
(allo)n(w)h(the)e(user)h(to)g(in)n(v)n(ok)n(e)h(at)f(a)g(giv)n(en)287
3053 y(time.)36 b(Since)21 b(commands)e(ma)n(y)j(b)r(e)g(read)f(in)h(an)n(y)h
(n)n(um)n(b)r(er)d(of)i(w)n(a)n(ys,)j(the)c(generic)g(command)e(lo)r(op)287
3119 y(enforces)d(no)i(particular)f(in)n(terface)f(st)n(yle.)216
3226 y(3.)28 b(Executes)19 b(the)h(command.)30 b(The)20 b(de\014nition)g(of)h
(eac)n(h)f(command)e(ma)n(y)i(refer)g(to)g(\(and)g(up)r(date\))e(the)287
3292 y(state)f(v)m(ariables)g(of)h(the)g(frame,)e(to)i(whic)n(h)g
Ft(*application-frame*)i Fr(will)f(b)r(e)f(b)r(ound.)216 3399
y(4.)28 b(Runs)20 b(the)g(displa)n(y)i(function)d(for)h(eac)n(h)g(pane)g(in)h
(the)f(frame)f(as)i(necessary)-5 b(.)31 b(The)20 b(displa)n(y)i(function)287
3466 y(ma)n(y)k(refer)e(to)h(the)g(frame's)f(state)h(v)m(ariables.)46
b(Displa)n(y)27 b(functions)d(are)h(usually)h(written)f(b)n(y)h(the)p
eop
%%Page: 296 311
bop 149 16 a Fm(CHAPTER)16 b(28.)43 b(APPLICA)-5 b(TION)16
b(FRAMES)1165 b Fr(296)287 210 y(application)20 b(writer,)i(although)e
(certain)f(displa)n(y)k(functions)c(are)i(supplied)g(b)n(y)h(CLIM)f(itself.)
34 b(Note)287 276 y(that)17 b(an)h(application)f(frame)f(is)j(free)e(to)h(ha)
n(v)n(e)g(no)g(panes.)149 464 y Fo(Ma)t(jor)24 b(issue:)65
b Fm(R)-6 b(WK)21 b(has)f(a)h(reasonable)d(prop)r(osal)h(for)i(breaking)e(do)
n(wn)i(command)d(lo)r(ops)h(in)n(to)i(their)149 531 y(comp)r(onen)n(t)15
b(pieces.)23 b(It)18 b(should)g(b)r(e)f(in)n(tegrated)f(here.)24
b(|)19 b(SWM)149 663 y Fr(All)h(classes)e(that)g(inherit)h(from)f
Ft(application-frame)j Fr(m)n(ust)d(inherit)h(or)g(implemen)n(t)e(metho)r(ds)
g(for)i(all)h(of)149 730 y(the)d(follo)n(wing)i(functions.)49
863 y Fj(\))45 b Ft(run-frame-top-level)30 b Fs(fr)m(ame)1116
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 982 y(Runs)f(the)f(top-lev)n
(el)i(function)e(for)h(the)g Fm(frame)e Fs(fr)m(ame)p Fr(.)37
b(The)21 b(default)f(metho)r(d)f(on)i Ft(application-frame)149
1048 y Fr(simply)26 b(in)n(v)n(ok)n(es)i(the)d(top-lev)n(el)i(function)e(for)
g(the)h(frame)e(\(whic)n(h)i(defaults)f(to)h Ft(default-frame-top-)149
1115 y(level)p Fr(\).)49 1247 y Fj(\))45 b Ft(run-frame-top-level)30
b Fs(\(fr)m(ame)21 b Ft(application-frame)p Fs(\))588 b Fr([)p
Fs(:A)o(r)m(ound)21 b(Metho)m(d)6 b Fr(])149 1366 y(The)18
b Ft(:around)h Fr(metho)r(d)c(of)k Ft(run-frame-top-level)g
Fr(on)f(the)g Ft(application-frame)i Fr(class)e(is)g(resp)r(onsible)149
1433 y(for)25 b(establish)f(the)h(initial)h(dynamic)e(bindings)h(for)g(the)f
(application,)j(including)e(\(but)f(not)h(limited)f(to\))149
1499 y(binding)f Ft(*application-frame*)j Fr(to)d Fs(fr)m(ame)p
Fr(,)28 b(binding)c Ft(*input-context*)h Fr(to)e Ft(nil)p Fr(,)j(resetting)c
(the)h(de-)149 1566 y(limiter)17 b(and)h(activ)m(ation)e(gestures,)g(and)i
(binding)f Ft(*input-wait-test*)p Fr(,)j Ft(*input-wait-handler*)p
Fr(,)g(and)149 1632 y Ft(*pointer-button-press-handler*)g Fr(to)e
Ft(nil)p Fr(.)49 1765 y Fj(\))45 b Ft(default-frame-top-level)30
b Fs(fr)m(ame)19 b Ft(&key)29 b Fs(c)m(ommand-p)m(arser)20
b(c)m(ommand-unp)m(arser)h(p)m(artial-c)m(ommand-)149 1831
y(p)m(arser)g(pr)m(ompt)1516 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 2031 y(The)g(default)f(top-lev)n(el)h(function)f(for)h(application)f
(frames.)35 b(This)22 b(function)f(implemen)n(ts)f(a)i(\\read-ev)m(al-)149
2097 y(prin)n(t")27 b(lo)r(op)g(that)f(displa)n(ys)i(a)g(prompt,)g(calls)g
Ft(read-frame-command)p Fr(,)j(then)c(calls)g Ft(execute-frame-)149
2163 y(command)p Fr(,)19 b(and)f(\014nally)g(redispla)n(ys)g(all)h(of)f(the)f
(panes)g(that)g(need)g(to)h(b)r(e)f(redispla)n(y)n(ed.)149
2296 y Ft(default-frame-top-level)g Fr(will)h(also)e(establish)f(a)h(simple)g
(restart)e(for)h Ft(abort)p Fr(,)j(and)d(bind)h(the)g(standard)149
2363 y(stream)g(v)m(ariables)j(as)f(follo)n(ws.)28 b Ft(*standard-input*)20
b Fr(will)g(b)r(e)e(b)r(ound)g(to)g(the)g(v)m(alue)h(returned)d(b)n(y)k
Ft(frame-)149 2429 y(standard-input)p Fr(.)k Ft(*standard-output*)15
b Fr(will)g(b)r(e)d(b)r(ound)g(to)h(the)g(v)m(alue)g(returned)e(b)n(y)j
Ft(frame-standard-)149 2495 y(output)p Fr(.)24 b Ft(*query-io*)17
b Fr(will)f(b)r(e)f(b)r(ound)f(to)h(the)g(v)m(alue)g(returned)e(b)n(y)j
Ft(frame-query-io)p Fr(.)25 b Ft(*error-output*)149 2562 y
Fr(will)16 b(b)r(e)e(b)r(ound)f(to)i(the)f(v)m(alue)g(returned)f(b)n(y)i
Ft(frame-error-output)p Fr(.)25 b(It)15 b(is)g(unsp)r(eci\014ed)e(what)h
Ft(*terminal-)149 2628 y(io*)p Fr(,)19 b Ft(*debug-io*)p Fr(,)g(and)f
Ft(*trace-output*)h Fr(will)h(b)r(e)d(b)r(ound)f(to.)149 2761
y Fs(pr)m(ompt)24 b Fr(is)d(either)g(a)g(string)g(to)g(use)g(as)g(the)g
(prompt)e(\(defaulting)h(to)h Ft("Command:)58 b(")p Fr(\),)23
b(or)e(a)g(function)g(of)149 2828 y(t)n(w)n(o)d(argumen)n(ts,)e(a)i(stream)e
(and)i(the)f(frame.)149 2960 y Fs(c)m(ommand-p)m(arser)p Fr(,)30
b Fs(c)m(ommand-unp)m(arser)p Fr(,)h(and)24 b Fs(p)m(artial-c)m(ommand-p)m
(ar)q(ser)29 b Fr(are)24 b(the)g(same)g(as)h(for)f Ft(read-)149
3027 y(command)p Fr(.)57 b Fs(c)m(ommand-p)m(arser)32 b Fr(defaults)c(to)g
Ft(command-line-command-parser)i Fr(if)g(there)d(is)i(an)f(in)n(ter-)149
3093 y(actor,)h(otherwise)e(it)h(defaults)f(to)h Ft(menu-only-command-parser)
p Fr(.)57 b Fs(c)m(ommand-unp)m(arser)32 b Fr(defaults)27 b(to)149
3160 y Ft(command-line-command-unparser)p Fr(.)45 b Fs(p)m(artial-c)m
(ommand-p)m(a)q(rser)29 b Fr(defaults)23 b(to)h Ft(command-line-read-)149
3226 y(remaining-arguments-for-partial-command)d Fr(if)e(there)e(is)i(an)g
(in)n(teractor,)e(otherwise)g(it)i(defaults)e(to)149 3292 y
Ft(menu-only-read-remaining-arguments-for-partial-command)p
Fr(.)60 b Ft(default-frame-top-level)149 3359 y Fr(binds)14
b Ft(*command-parser*)p Fr(,)i Ft(*command-unparser*)p Fr(,)h(and)c
Ft(*partial-command-parser*)j Fr(to)e(the)f(v)m(alues)149 3425
y(of)18 b Fs(c)m(ommand-p)m(arser)p Fr(,)k Fs(c)m(ommand-unp)m(arser)p
Fr(,)g(and)c Fs(p)m(artial-c)m(ommand-p)m(arse)q(r)p Fr(.)p
eop
%%Page: 297 312
bop 149 16 a Fm(CHAPTER)16 b(28.)43 b(APPLICA)-5 b(TION)16
b(FRAMES)1165 b Fr(297)49 210 y Fj(\))45 b Ft(read-frame-command)30
b Fs(fr)m(ame)21 b(str)m(e)m(am)968 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 329 y(Reads)17 b(a)i(command)d(from)h(the)h(stream)f
Fs(str)m(e)m(am)k Fr(on)d(b)r(ehalf)g(of)g(the)g Fm(frame)f
Fs(fr)m(ame)p Fr(.)29 b(The)18 b(returned)e(v)m(alue)j(is)149
395 y(a)f(command)d(ob)s(ject.)149 528 y(The)j(default)g(metho)r(d)e(\(on)i
Ft(standard-application-frame)p Fr(\))j(for)d Ft(read-frame-command)i
Fr(simply)f(calls)149 594 y Ft(read-command)p Fr(,)g(supplying)f
Fs(fr)m(ame)p Fr('s)i(curren)n(t)d(command)e(table)i(as)h(the)g(command)d
(table.)49 727 y Fj(\))45 b Ft(execute-frame-command)30 b Fs(fr)m(ame)21
b(c)m(ommand)810 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
846 y(Executes)15 b(the)h(command)d Fs(c)m(ommand)20 b Fr(on)c(b)r(ehalf)g
(of)g(the)g Fm(frame)g Fs(fr)m(ame)p Fr(.)26 b Fs(c)m(ommand)19
b Fr(is)e(a)g(command)d(ob)s(ject,)149 912 y(that)j(is,)i(a)f(cons)f(of)h(a)g
(command)d(name)i(and)h(a)g(list)g(of)g(the)g(command's)d(argumen)n(ts.)149
1045 y(The)24 b(default)f(metho)r(d)e(\(on)j Ft(standard-application-frame)p
Fr(\))h(for)f Ft(execute-frame-command)i Fr(simply)149 1112
y(applies)17 b(the)h Ft(command-name)h Fr(of)f Fs(c)m(ommand)j
Fr(to)c Ft(command-arguments)j Fr(of)e Fs(c)m(ommand)p Fr(.)49
1245 y Fj(\))45 b Ft(command-enabled)30 b Fs(c)m(ommand-name)22
b(fr)m(ame)834 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
1364 y(Returns)14 b Fm(true)g Fr(if)j(the)e(command)e(named)h(b)n(y)j
Fs(c)m(ommand-name)i Fr(is)d(presen)n(tly)f(enabled)g(in)h(the)f
Fm(frame)f Fs(fr)m(ame)p Fr(,)149 1430 y(otherwise)h(returns)g
Fm(false)p Fr(.)24 b(If)16 b Fs(c)m(ommand-name)21 b Fr(is)c(not)f
(accessible)f(to)h(the)g(command)e(table)i(b)r(eing)g(used)g(b)n(y)149
1496 y Fs(fr)m(ame)p Fr(,)k Ft(command-enabled)f Fr(returns)e
Fm(false)p Fr(.)149 1629 y(Whether)23 b(or)i(not)g(a)g(particular)f(command)e
(is)k(curren)n(tly)e(enabled)g(is)i(stored)e(indep)r(enden)n(tly)f(for)i(eac)
n(h)149 1696 y(instance)10 b(of)i(an)g(application)f(frame;)i(this)f(status)e
(can)i(v)m(ary)g(b)r(et)n(w)n(een)e(frames)h(that)f(share)h(a)h(single)h
(command)149 1762 y(table.)49 1895 y Fj(\))45 b Ft(\(setf)29
b(command-enabled\))h Fs(enable)m(d)22 b(c)m(ommand-name)h(fr)m(ame)435
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2014 y(If)j
Fs(enable)m(d)j Fr(is)d Fm(false)p Fr(,)i(this)e(disables)f(the)h(use)f(of)h
(the)f(command)e(named)h(b)n(y)j Fs(c)m(ommand-name)j Fr(while)c(in)149
2080 y(the)c Fm(frame)g Fs(fr)m(ame)p Fr(.)39 b(Otherwise)21
b(if)i Fs(enable)m(d)i Fr(is)e Fm(true)p Fr(,)f(the)g(use)g(of)g(the)f
(command)f(is)i(enabled.)36 b(After)21 b(the)149 2147 y(command)10
b(has)j(b)r(een)f(enabled)g(\(or)h(disabled\),)g Ft(note-command-enabled)i
Fr(\(or)d Ft(note-command-disabled)p Fr(\))149 2213 y(is)18
b(in)n(v)n(ok)n(ed)i(on)e(the)f(frame)f(manager)g(in)j(order)d(to)i(up)r
(date)e(the)h(app)r(earance)e(of)j(the)f(in)n(terface.)149
2346 y(If)k Fs(c)m(ommand-name)j Fr(is)d(not)f(accessible)f(to)h(the)g
(command)e(table)i(b)r(eing)f(used)h(b)n(y)i Fs(fr)m(ame)p
Fr(,)h(using)e Ft(setf)g Fr(on)149 2412 y Ft(command-enabled)e
Fr(do)r(es)e(nothing.)49 2545 y Fj(\))45 b Ft(display-command-menu)30
b Fs(fr)m(ame)16 b(str)m(e)m(am)f Ft(&key)30 b Fs(c)m(ommand-table)18
b(initial-sp)m(acing)e(max-width)f(max-height)149 2612 y(n-r)m(ows)20
b(n-c)m(olumns)g(\(c)m(el)s(l-align-x)h Ft(:left)p Fs(\))f(\(c)m(el)s
(l-align-y)h Ft(:top)p Fs(\))455 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 2731 y(Displa)n(ys)e(the)d(men)n(u)h(asso)r(ciated)e(with)j(the)f
(sp)r(eci\014ed)f(command)e(table)j(on)h Fs(str)m(e)m(am)h
Fr(b)n(y)g(calling)f Ft(display-)149 2797 y(command-table-menu)p
Fr(.)29 b(If)19 b Fs(c)m(ommand-table)k Fr(is)d(not)f(supplied,)g(it)g
(defaults)f(to)h Ft(\(frame-command-table)149 2864 y Fs(str)m(e)m(am)p
Ft(\))p Fr(.)26 b(This)15 b(function)g(is)h(generally)f(used)g(as)g(the)g
(displa)n(y)h(function)f(for)g(panes)f(that)h(con)n(tain)g(command)149
2930 y(men)n(us.)149 3063 y Fs(initial-sp)m(acing)p Fr(,)k
Fs(max-width)p Fr(,)f Fs(max-height)p Fr(,)g Fs(n-r)m(ows)p
Fr(,)g Fs(n-c)m(olumns)p Fr(,)f Fs(c)m(el)s(l-align-x)p Fr(,)i(and)c
Fs(c)m(el)s(l-align-y)j Fr(are)d(as)h(for)149 3129 y Ft(formatting-item-list)
p Fr(.)p eop
%%Page: 298 313
bop 149 16 a Fm(CHAPTER)16 b(28.)43 b(APPLICA)-5 b(TION)16
b(FRAMES)1165 b Fr(298)149 210 y Fk(28.5)91 b(F)-8 b(rame)31
b(Managers)149 397 y Fr(F)-5 b(rames)17 b(ma)n(y)h(b)r(e)g
Fm(adopted)e Fr(b)n(y)j(a)g(frame)d(manager,)h(whic)n(h)h(in)n(v)n(olv)n(es)j
(in)n(v)n(oking)e(a)g(proto)r(col)d(for)i(generating)149 464
y(the)k(pane)f(hierarc)n(h)n(y)i(of)f(the)g(frame.)37 b(This)23
b(proto)r(col)d(pro)n(vides)i(for)h(selecting)e(pane)h(t)n(yp)r(es)g(for)g
(abstract)149 530 y(gadget)13 b(panes)h(based)g(on)h(the)g(st)n(yle)g
(requiremen)n(ts)e(imp)r(osed)g(b)n(y)j(the)f(frame)e(manager.)22
b(That)14 b(is,)j(the)d(frame)149 596 y(manager)h(is)k(resp)r(onsible)d(for)i
(the)f(\\lo)r(ok)h(and)f(feel")h(of)g(a)g(frame.)149 729 y(After)j(a)h(frame)
f(is)j(adopted)c(it)j(can)f(b)r(e)g(in)h(an)n(y)g(of)f(the)g(three)f(follo)n
(wing)i(states:)32 b Fm(enabled)p Fr(,)23 b Fm(disabled)p Fr(,)h(or)149
796 y Fm(shrunk)p Fr(.)f(An)16 b(enabled)g(frame)f(is)i(visible)h(unless)e
(it)h(is)g(o)r(ccluded)d(b)n(y)k(other)d(frames)g(or)h(the)g(user)g(is)h(bro)
n(wsing)149 862 y(outside)f(of)i(the)f(p)r(ortion)f(of)i(the)f(frame)f
(manager's)f(space)i(that)f(the)h(frame)f(o)r(ccupies.)23 b(A)17
b(shrunk)n(en)g(frame)149 929 y(pro)n(vides)k(a)h(cue)f(or)g(handle)g(for)h
(the)f(frame,)g(but)g(generally)g(will)i(not)f(sho)n(w)f(the)g(en)n(tire)g
(con)n(ten)n(ts)g(of)g(the)149 995 y(frame.)33 b(F)-5 b(or)22
b(example,)f(the)g(frame)f(ma)n(y)i(b)r(e)e(iconi\014ed)h(or)h(an)f(item)g
(for)g(the)g(frame)f(ma)n(y)h(b)r(e)g(placed)f(in)j(a)149 1061
y(sp)r(ecial)18 b(susp)r(ended)e(frame)i(men)n(u.)26 b(A)19
b(disabled)g(frame)e(is)j(not)e(visible,)j(nor)d(is)i(there)d(an)n(y)j(user)e
(accessible)149 1128 y(handle)f(for)h(enabling)f(the)g(frame.)149
1261 y(F)-5 b(rames)13 b(ma)n(y)i(also)g(b)r(e)f Fm(diso)n(wned)p
Fr(,)h(whic)n(h)g(in)n(v)n(olv)n(es)i(releasing)c(the)h(frame's)g(panes)f(as)
i(w)n(ell)h(as)f(all)g(asso)r(ciated)149 1327 y(foreign)i(resources.)49
1460 y Fj(\))45 b Ft(frame-manager)1536 b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23
b(Class)5 b Fr(])149 1579 y(The)24 b(proto)r(col)e(class)i(that)f(corresp)r
(onds)e(to)j(a)h(frame)d(manager.)41 b(If)25 b(y)n(ou)g(w)n(an)n(t)f(to)g
(create)e(a)j(new)f(class)149 1645 y(that)d(b)r(eha)n(v)n(es)i(lik)n(e)h(a)f
(frame)e(manager,)h(it)h(should)f(b)r(e)h(a)f(sub)r(class)g(of)h
Ft(frame-manager)p Fr(.)40 b(Sub)r(classes)21 b(of)149 1712
y Ft(frame-manager)e Fr(m)n(ust)e(ob)r(ey)g(the)h(frame)e(manager)g(proto)r
(col.)149 1845 y(There)f(are)h(no)h(adv)n(ertised)e(standard)g(frame)g
(manager)f(classes.)23 b(Eac)n(h)17 b(p)r(ort)e(will)j(implemen)n(t)d(one)h
(or)g(more)149 1911 y(frame)g(managers)g(that)h(corresp)r(ond)d(to)k(the)f
(lo)r(ok)h(and)g(feel)g(for)g(the)f(p)r(ort.)49 2044 y Fj(\))45
b Ft(frame-mananger-p)30 b Fs(obje)m(ct)1414 b Fr([)p Fs(F)l(unction)t
Fr(])149 2163 y(Returns)16 b Fm(true)h Fr(if)i Fs(obje)m(ct)h
Fr(is)f(a)f Fm(frame)f(manager)p Fr(,)f(otherwise)g(returns)g
Fm(false)p Fr(.)149 2384 y Fp(28.5.1)75 b(Finding)26 b(F)-6
b(rame)24 b(Managers)149 2553 y Fr(Most)16 b(frames)f(need)h(only)i(deal)f
(directly)f(with)h(frame)f(managers)e(to)j(the)f(exten)n(t)g(that)g(they)h
(need)f(to)h(\014nd)g(a)149 2619 y(frame)h(manager)f(in)n(to)j(whic)n(h)h
(they)e(can)g(insert)g(themselv)n(es.)28 b(Since)20 b(frames)e(will)j
(usually)f(b)r(e)g(in)n(v)n(ok)n(ed)h(b)n(y)149 2686 y(some)14
b(user)h(action)g(that)g(is)i(handled)d(b)n(y)j(some)e(frame)f(manager,)g
(\014nding)i(an)f(appropriate)f(frame)g(manager)149 2752 y(is)k(usually)h
(straigh)n(tforw)n(ard.)149 2885 y(Some)c(frames)h(will)j(supp)r(ort)c(the)h
(em)n(b)r(edding)f(of)j(other)d(frames)h(within)h(themselv)n(es.)23
b(Suc)n(h)17 b(frames)e(w)n(ould)149 2951 y(not)20 b(only)h(use)f(frames)f
(but)h(also)g(act)g(as)g(frame)f(managers,)g(so)i(that)e(other)g(frames)g
(could)h(insert)g(frames.)149 3018 y(In)c(this)g(case,)g(the)g(em)n(b)r
(edded)e(frames)g(are)i(mostly)f(una)n(w)n(are)h(that)f(they)h(are)g(nested)f
(within)h(other)f(frames,)149 3084 y(but)i(only)i(kno)n(w)f(that)f(they)h
(are)f(con)n(trolled)g(b)n(y)i(a)f(particular)e(frame)h(manager.)149
3217 y Fo(Minor)i(issue:)51 b Fm(Ho)n(w)15 b(do)r(es)e(one)i(write)f(a)i
(frame)d(that)h(supp)r(orts)f(an)h(em)n(b)r(edded)f(frame,)h(suc)n(h)h(as)g
(an)g(editor)149 3283 y(frame)h(within)i(a)g(do)r(cumen)n(tation-writing)c
(frame?)23 b(|)c(SWM)149 3416 y Fr(The)g Ft(find-frame-manager)h
Fr(function)e(pro)n(vides)h(a)g(\015exible)g(means)e(for)i(lo)r(cating)f(an)h
(frame)e(manager)g(to)p eop
%%Page: 299 314
bop 149 16 a Fm(CHAPTER)16 b(28.)43 b(APPLICA)-5 b(TION)16
b(FRAMES)1165 b Fr(299)149 210 y(adopt)16 b(an)i(application's)f(frames)g(in)
n(to.)24 b(There)18 b(are)f(a)h(v)m(ariet)n(y)g(of)g(w)n(a)n(ys)h(that)e(the)
g(user)h(or)f(the)h(application)149 276 y(can)f(in\015uence)g(where)g(an)h
(application's)f(frame)f(is)j(adopted.)149 409 y(An)e(application)f(can)g
(establish)g(an)h(application)f(default)h(frame)e(manager)g(using)i
Ft(with-frame-manager)p Fr(.)149 475 y(A)h(frame's)e(top-lev)n(el)j(lo)r(op)e
(automatically)f(establishes)h(the)g(frame's)g(frame)f(manager.)149
608 y(The)d(programmer)c(or)14 b(user)e(can)h(in\015uence)f(what)h(frame)f
(manager)f(is)j(found)f(b)n(y)h(setting)e Ft(*default-frame-)149
674 y(manager*)19 b Fr(or)e Ft(*default-server-path*)p Fr(.)149
807 y(Eac)n(h)25 b(frame)f(manager)f(is)j(asso)r(ciated)d(with)i(one)g(sp)r
(eci\014c)f(p)r(ort.)45 b(Ho)n(w)n(ev)n(er,)28 b(a)d(single)h(p)r(ort)e(ma)n
(y)h(ha)n(v)n(e)149 874 y(m)n(ultiple)17 b(frame)g(managers)e(managing)i(v)m
(arious)g(frames)f(asso)r(ciated)g(with)i(the)f(p)r(ort.)49
1007 y Fj(\))45 b Ft(find-frame-manager)30 b(&rest)f Fs(options)21
b Ft(&key)29 b Fs(p)m(ort)21 b Ft(&allow-other-keys)370 b Fr([)p
Fs(F)l(unction)t Fr(])149 1126 y(Finds)16 b(an)h(appropriate)d(frame)g
(manager)g(that)i(conforms)e(to)i(the)f(options,)h(including)h(the)e
Fs(p)m(ort)k Fr(argumen)n(t.)149 1192 y(F)-5 b(urthermore,)20
b(CLIM)i(applications)f(ma)n(y)h(set)g(up)g(dynamic)f(con)n(texts)g(that)g
(a\013ect)g(what)h Ft(find-frame-)149 1258 y(manager)d Fr(will)g(return.)149
1391 y Fs(p)m(ort)h Fr(defaults)c(to)i(the)f(v)m(alue)h(returned)e(b)n(y)j
Ft(find-port)g Fr(applied)f(to)f(the)h(remaining)e(options.)149
1524 y(A)i(frame)e(manager)g(is)i(found)g(using)f(the)h(follo)n(wing)g(rules)
g(in)h(the)e(order)g(listed:)216 1704 y(1.)28 b(If)14 b(a)g(curren)n(t)e
(frame)g(manager)f(has)j(b)r(een)e(established)g(via)i(an)g(in)n(v)n(o)r
(cation)f(of)h Ft(with-frame-manager)p Fr(,)287 1770 y(as)j(is)h(the)e(case)h
(within)g(a)g(frame's)f(top-lev)n(el,)i(and)f(that)f(frame)f(manager)g
(conforms)g(to)i(the)f(options,)287 1837 y(it)h(is)h(returned.)k(The)17
b(exact)f(de\014nition)g(of)h(\\conforming)d(to)j(the)f(options")g(v)m(aries)
h(from)f(one)g(p)r(ort)g(to)287 1903 y(another,)d(but)g(it)h(ma)n(y)g
(include)f(suc)n(h)h(things)f(as)g(matc)n(hing)f(the)h(console)g(n)n(um)n(b)r
(er,)g(color)h(or)f(resolution)287 1970 y(prop)r(erties,)j(and)i(so)f(forth.)
24 b(If)18 b(the)g(options)f(are)g(empt)n(y)-5 b(,)18 b(then)f(an)n(y)i
(frame)d(manager)g(will)j(conform.)216 2077 y(2.)28 b(If)13
b Ft(*default-frame-manager*)h Fr(is)f(b)r(ound)e(to)h(a)g(curren)n(tly)f
(activ)n(e)i(frame)d(manager)g(and)i(it)h(conforms)287 2143
y(to)18 b(the)f(options,)g(it)i(is)f(returned.)216 2251 y(3.)28
b(If)d Fs(p)m(ort)i Fr(is)e Ft(nil)p Fr(,)j(a)c(p)r(ort)g(is)h(found)f(and)h
(an)f(appropriate)e(frame)i(manager)e(is)j(constructed)d(using)287
2317 y Ft(*default-server-path*)p Fr(.)49 2497 y Fj(\))45 b
Ft(*default-frame-manager*)1390 b Fr([)p Fs(V)l(ariable)t Fr(])149
2616 y(This)21 b(v)m(ariable)g(pro)n(vides)h(a)f(con)n(v)n(enien)n(t)g(p)r
(oin)n(t)g(for)g(allo)n(wing)h(a)g(programmer)17 b(or)k(user)g(to)g(o)n(v)n
(erride)g(what)149 2682 y(frame)15 b(manager)f(t)n(yp)r(e)j(w)n(ould)g
(normally)f(b)r(e)g(selected.)22 b(Most)16 b(users)g(will)i(not)f(set)f(this)
g(v)m(ariable)h(since)f(they)149 2749 y(can)k(set)h Ft(*default-server-path*)
i Fr(to)d(indicate)h(whic)n(h)g(host)f(windo)n(w)i(system)d(they)i(w)n(an)n
(t)h(to)e(use)h(and)149 2815 y(are)16 b(willing)i(to)f(use)f(whatev)n(er)g
(frame)f(manager)g(is)i(the)g(default)e(for)i(the)f(particular)g(p)r(ort.)22
b(Ho)n(w)n(ev)n(er,)c(some)149 2882 y(users)h(ma)n(y)i(w)n(an)n(t)f(to)h(use)
f(a)g(frame)f(manager)f(that)i(isn't)g(the)g(t)n(ypical)h(frame)e(manager.)30
b(F)-5 b(or)20 b(example,)h(a)149 2948 y(user)15 b(ma)n(y)i(w)n(an)n(t)f(to)h
(use)f(b)r(oth)f(an)h(Op)r(enLo)r(ok)e(frame)h(manager)f(and)i(a)h(Motif)f
(frame)f(manager)f(on)i(a)h(single)149 3014 y(p)r(ort.)49 3147
y Fj(\))45 b Ft(with-frame-manager)30 b Fs(\(fr)m(ame-manager\))22
b Ft(&body)30 b Fs(b)m(o)m(dy)847 b Fr([)p Fs(Macr)m(o)s Fr(])149
3266 y(Generates)24 b(a)h(dynamic)g(con)n(text)f(that)h(causes)f(all)j(calls)
f(to)f Ft(find-frame-manager)i Fr(to)f(return)e Fs(fr)m(ame-)149
3333 y(manager)d Fr(if)e(the)f Fs(wher)m(e)j Fr(argumen)n(t)16
b(passed)i(to)g(it)h(conforms)d(to)i Fs(fr)m(ame-manager)p
Fr(.)31 b(Nested)17 b(calls)i(to)f Ft(with-)149 3399 y(frame-manager)g
Fr(will)g(shado)n(w)f(outer)f(con)n(texts.)23 b Fs(b)m(o)m(dy)18
b Fr(ma)n(y)f(ha)n(v)n(e)h(zero)e(or)h(more)e(declarations)g(as)i(its)g
(\014rst)149 3466 y(forms.)p eop
%%Page: 300 315
bop 149 16 a Fm(CHAPTER)16 b(28.)43 b(APPLICA)-5 b(TION)16
b(FRAMES)1165 b Fr(300)149 210 y Fp(28.5.2)75 b(F)-6 b(rame)25
b(Manager)g(Op)r(erations)49 378 y Fj(\))45 b Ft(frame-manager)29
b Fs(fr)m(ame)1291 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
497 y(Returns)16 b(the)h(curren)n(t)g(frame)f(manager)g(of)i
Fs(fr)m(ame)i Fr(if)f(it)f(is)h(adopted,)d(otherwise)h(returns)f
Ft(nil)p Fr(.)49 630 y Fj(\))45 b Ft(\(setf)29 b(frame-manager\))h
Fs(fr)m(ame-manager)23 b(fr)m(ame)704 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 749 y(Changes)13 b(the)i(frame)e(manager)g(of)i
Fs(fr)m(ame)i Fr(to)e Fs(fr)m(ame-manager)p Fr(.)27 b(In)15
b(e\013ect,)g(the)g(frame)e(is)j(diso)n(wned)f(from)e(its)149
815 y(old)18 b(frame)f(manager)f(and)i(is)g(adopted)f(in)n(to)h(the)g(new)g
(frame)e(manager.)23 b(T)-5 b(ransferring)17 b(a)h(frame)f(preserv)n(es)149
882 y(its)g Ft(frame-state)p Fr(,)j(for)d(example,)g(if)h(the)f(frame)f(w)n
(as)i(previously)f(enabled)g(it)g(will)j(b)r(e)c(enabled)h(in)h(the)f(new)149
948 y(frame)f(manager.)49 1081 y Fj(\))45 b Ft(frame-manager-frames)30
b Fs(fr)m(ame-manager)862 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1200 y(Returns)h(a)h(list)i(of)e(all)i(of)e(the)g(frames)f(b)r(eing)
h(managed)e(b)n(y)k Fs(fr)m(ame-manager)p Fr(.)48 b(This)25
b(function)e(returns)149 1266 y(ob)s(jects)16 b(that)h(rev)n(eal)h(CLIM's)g
(in)n(ternal)g(state;)f(do)h(not)f(mo)r(dify)g(those)g(ob)s(jects.)49
1399 y Fj(\))45 b Ft(adopt-frame)29 b Fs(fr)m(ame-manager)24
b(fr)m(ame)965 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49
1466 y Fj(\))45 b Ft(disown-frame)29 b Fs(fr)m(ame-manager)24
b(fr)m(ame)936 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
1585 y(These)15 b(functions)f(insert)i(or)f(remo)n(v)n(e)g(a)i(frame)d(from)h
(a)h(frame)e(manager's)g(con)n(trol.)23 b(These)15 b(functions)g(allo)n(w)149
1651 y(a)23 b(frame)f(manager)f(to)i(allo)r(cate)f(and)h(deallo)r(cate)e
(resources)g(asso)r(ciated)g(with)i(a)h(frame.)39 b(F)-5 b(or)23
b(example,)149 1718 y(remo)n(ving)c(a)i(frame)e(from)g(a)i(frame)e(manager)f
(that)h(is)i(talking)g(to)f(a)g(remote)f(serv)n(er)h(allo)n(ws)h(it)g(to)f
(release)149 1784 y(all)f(remote)c(resources)h(used)h(b)n(y)i(the)e(frame.)49
1917 y Fj(\))45 b Ft(frame-state)29 b Fs(fr)m(ame)1349 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 2036 y(Returns)e(one)h(of)g
Ft(:disowned)p Fr(,)j Ft(:enabled)p Fr(,)g Ft(:disabled)p Fr(,)g(or)d
Ft(:shrunk)p Fr(,)j(indicating)c(the)h(curren)n(t)f(state)h(of)149
2102 y(frame.)49 2235 y Fj(\))45 b Ft(enable-frame)29 b Fs(fr)m(ame)1320
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49 2301 y Fj(\))45
b Ft(disable-frame)29 b Fs(fr)m(ame)1291 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])49 2368 y Fj(\))45 b Ft(shrink-frame)29
b Fs(fr)m(ame)1320 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
2487 y(These)f(functions)g(force)h(a)g(frame)f(in)n(to)i(the)f(enabled,)g
(disabled,)i(or)e(shrunk)n(en)g(states.)36 b(A)22 b(frame)f(in)i(the)149
2553 y(enabled)18 b(state)g(ma)n(y)h(b)r(e)g(visible)h(if)g(it)g(is)g(not)f
(o)r(ccluded)e(or)i(placed)g(out)g(of)g(the)g(user's)f(fo)r(cus)h(of)g(atten)
n(tion.)149 2620 y(A)g(disabled)g(frame)f(is)j(nev)n(er)e(visible.)30
b(A)20 b(shrunk)f(frame)f(is)i(accessible)e(to)i(the)e(user)h(for)h
(re-enabling,)f(but)149 2686 y(ma)n(y)f(b)r(e)f(represen)n(ted)e(in)k(some)d
(abbreviated)g(form,)i(suc)n(h)g(as)g(an)f(icon)h(or)g(a)g(men)n(u)f(item.)
149 2819 y(These)f(functions)h(call)h Ft(note-frame-state-changed)h
Fr(to)e(notify)h(the)f(frame)f(manager)f(that)i(the)f(state)h(of)149
2885 y(the)g(frame)f(c)n(hanged.)49 3018 y Fj(\))45 b Ft
(note-frame-state-changed)30 b Fs(fr)m(ame-manager)23 b(fr)m(ame)f(new-state)
341 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 3137 y(Noti\014es)16
b(the)i(frame)e(manager)g Fs(fr)m(ame-manager)22 b Fr(that)17
b(the)g(frame)f Fs(fr)m(ame)k Fr(has)e(c)n(hanged)f(its)h(state)f(to)g
Fs(state)p Fr(.)49 3270 y Fj(\))45 b Ft(generate-panes)30 b
Fs(fr)m(ame-manager)23 b(fr)m(ame)878 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 3389 y(This)e(function)g(is)h(in)n(v)n(ok)n(ed)g(b)n
(y)g(a)g(standard)d(metho)r(d)g(of)i Ft(adopt-frame)p Fr(.)33
b(It)20 b(is)h(the)f(resp)r(onsibilit)n(y)g(of)g(the)149 3456
y(frame)h(implemen)n(tor)f(to)i(pro)n(vide)h(a)g(metho)r(d)d(that)i(in)n(v)n
(ok)n(es)i Ft(setf)f Fr(of)g Ft(frame-pane)h Fr(on)e(the)g(frame)g(with)p
eop
%%Page: 301 316
bop 149 16 a Fm(CHAPTER)16 b(28.)43 b(APPLICA)-5 b(TION)16
b(FRAMES)1165 b Fr(301)149 210 y(a)22 b(v)m(alue)h(of)f(t)n(yp)r(e)g
Ft(pane)p Fr(.)39 b Ft(define-application-frame)24 b Fr(automatically)d
(supplies)h(a)g Ft(generate-panes)149 276 y Fr(metho)r(d)15
b(if)k(either)e(the)g Ft(:pane)i Fr(or)f Ft(:panes)g Fr(option)g(is)g(used)g
(in)g(the)g Ft(define-application-frame)p Fr(.)49 409 y Fj(\))45
b Ft(find-pane-for-frame)30 b Fs(fr)m(ame-manager)23 b(fr)m(ame)733
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 528 y(This)e(function)f(is)i
(in)n(v)n(ok)n(ed)h(b)n(y)f(a)f(standard)e(metho)r(d)g(of)i
Ft(adopt-frame)p Fr(.)32 b(It)20 b(m)n(ust)g(return)e(the)i(ro)r(ot)e(pane)
149 594 y(of)23 b(the)g(frame's)e(la)n(y)n(out.)41 b(It)23
b(is)h(the)f(resp)r(onsibilit)n(y)g(of)g(the)f(frame)g(implemen)n(tor)f(to)i
(pro)n(vide)g(a)g(metho)r(d)149 661 y(that)j(constructs)e(the)j(frame's)e
(top-lev)n(el)j(pane.)51 b Ft(define-application-frame)29 b
Fr(automatically)c(sup-)149 727 y(plies)20 b(a)g(a)g(metho)r(d)e(for)h(this)h
(function)f(if)i(either)d(the)i Ft(:pane)g Fr(or)g Ft(:panes)h
Fr(option)e(is)i(used)e(in)i(the)e Ft(define-)149 793 y(application-frame)p
Fr(.)49 926 y Fj(\))45 b Ft(note-command-enabled)30 b Fs(fr)m(ame-manager)23
b(fr)m(ame)f(c)m(ommand-name)306 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])49 993 y Fj(\))45 b Ft(note-command-disabled)30 b Fs(fr)m(ame-manager)23
b(fr)m(ame)f(c)m(ommand-name)277 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1112 y(Noti\014es)f(the)h(frame)f(manager)f Fs(fr)m(ame-manager)27
b Fr(that)21 b(the)h(command)e(named)g(b)n(y)k Fs(c)m(ommand-name)i
Fr(has)149 1178 y(b)r(een)16 b(enabled)h(or)h(disabled)f(\(resp)r(ectiv)n
(ely\))f(in)i(the)f(frame)f Fs(fr)m(ame)p Fr(.)27 b(The)17
b(frame)g(manager)e(can)i(up)r(date)f(the)149 1245 y(app)r(earance)e(of)j
(the)g(user)g(in)n(terface)f(as)h(appropriate,)f(for)h(instance,)f(b)n(y)i
(\\gra)n(ying)f(out")g(a)g(newly)h(disabled)149 1311 y(command)d(from)i(a)h
(command)d(men)n(u)i(or)h(men)n(u)f(bar.)149 1532 y Fp(28.5.3)75
b(F)-6 b(rame)25 b(Manager)g(Settings)149 1701 y Fr(CLIM)20
b(pro)n(vides)h(frame)e(manager)f(settings)i(in)h(order)f(to)g(allo)n(w)i(a)f
(frame)e(to)h(comm)n(unicate)e(information)149 1767 y(to)f(its)i(frame)d
(manager.)49 1900 y Fj(\))45 b Ft(\(setf)29 b(client-setting\))h
Fs(value)21 b(fr)m(ame)g(setting)737 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 2019 y(Sets)17 b(the)g(setting)g Fs(setting)j
Fr(to)d Fs(value)j Fr(for)e(the)f(frame)f Fs(fr)m(ame)p Fr(.)49
2152 y Fj(\))45 b Ft(reset-frame)29 b Fs(fr)m(ame)22 b Ft(&rest)29
b Fs(new-client-settings)710 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 2271 y(Resets)16 b(the)i(settings)f(of)h(frame.)24
b Ft(reset-frame)19 b Fr(in)n(v)n(ok)n(es)h(a)e(proto)r(col)e(that)h(forces)g
(the)h(frame)e(manager)g(to)149 2337 y(notice)21 b(that)g(the)g(settings)g
(ha)n(v)n(e)h(c)n(hanged,)h(where)e(the)g(setf)h(generic)e(function)h(just)h
(up)r(dates)e(the)h(frame)149 2404 y(data.)i(F)-5 b(or)19 b(example,)e(the)g
(width)h(and)g(heigh)n(t)f(can)h(b)r(e)f(reset)g(to)g(force)g(resizing)g(of)i
(the)e(windo)n(w.)p eop
%%Page: 302 317
bop 149 16 a Fm(CHAPTER)16 b(28.)37 b(APPLICA)-5 b(TION)16
b(FRAMES)1171 b Fr(302)149 210 y Fk(28.6)91 b(Examples)31 b(of)f
(Applications)149 397 y Fr(The)17 b(follo)n(wing)i(is)g(an)f(example)e(that)h
(outlines)h(a)g(simple)f(4-b)n(y-4)i(sliding)g(piece)e(puzzle:)149
585 y Ft(\(define-application-frame)30 b(puzzle)g(\(\))265
652 y(\(\(puzzle-array)g(:initform)f(\(make-array)h('\(4)f(4\)\)\)\))207
718 y(\(:menu-bar)g(t\))207 785 y(\(:panes)265 851 y(\(display)323
917 y(\(outlining)h(\(\))381 984 y(\(make-pane)g('application-pane)701
1050 y(:text-cursor)g(nil)701 1117 y(:width)f(:compute)701
1183 y(:height)g(:compute)701 1250 y(:incremental-redisplay)h(T)701
1316 y(:display-function)g('draw-puzzle\)\)\)\))207 1382 y(\(:layout)265
1449 y(\(:default)f(display\)\)\))149 1582 y(\(defmethod)g
(run-frame-top-level)h(:before)g(\(\(puzzle)f(puzzle\)\))207
1648 y(;;)g(Initialize)h(the)f(puzzle)207 1715 y(...\))149
1847 y(\(define-presentation-type)h(puzzle-cell)g(\(\))207
1914 y(:inherit-from)g('\(integer)f(1)g(15\)\))149 2047 y(\(defmethod)g
(draw-puzzle)h(\(\(puzzle)g(puzzle\))f(stream)g(&key)h(max-width)f
(max-height\))207 2113 y(\(declare)g(\(ignore)h(max-width)f(max-height\)\))
207 2179 y(;;)g(Draw)g(the)g(puzzle,)h(presenting)g(each)f(cell)g(as)g(a)g
(PUZZLE-CELL)207 2246 y(...\))149 2379 y(\(define-puzzle-command)h
(com-move-cell)265 2445 y(\(\(cell)f('puzzle-cell)h(:gesture)g(:select\)\))
207 2512 y(;;)f(Move)g(the)g(selected)h(cell)f(to)g(the)h(adjacent)f(open)h
(cell,)207 2578 y(;;)f(if)g(there)g(is)h(one)207 2644 y(...\))149
2777 y(\(define-puzzle-command)g(\(com-scramble)g(:menu)f(t\))265
2844 y(\(\))207 2910 y(;;)g(Scramble)g(the)h(pieces)f(of)g(the)h(puzzle)207
2976 y(...\))149 3109 y(\(define-puzzle-command)g(\(com-exit-puzzle)g(:menu)f
("Exit"\))265 3176 y(\(\))207 3242 y(\(frame-exit)g(*application-frame*\)\))
149 3375 y(\(defun)g(puzzle)g(\(\))207 3441 y(\(let)g(\(\(puzzle)p
eop
%%Page: 303 318
bop 149 16 a Fm(CHAPTER)16 b(28.)43 b(APPLICA)-5 b(TION)16
b(FRAMES)1165 b Fr(303)439 210 y Ft(\(make-application-frame)31
b('puzzle)497 276 y(:width)f(80)f(:height)g(80\)\)\))265 342
y(\(run-frame-top-level)h(puzzle\)\)\))149 531 y Fr(The)17
b(follo)n(wing)i(is)g(an)f(application)f(frame)f(with)i(t)n(w)n(o)h(la)n(y)n
(outs:)149 719 y Ft(\(define-application-frame)30 b(test-frame)g(\(\))f(\(\))
207 785 y(\(:panes)265 852 y(\(a)g(\(horizontally)h(\(\))410
918 y(\(make-pane)g('push-button)g(:label)f("Press)g(me"\))410
984 y(\(make-pane)h('push-button)g(:label)f("Squeeze)h(me"\)\)\))265
1051 y(\(b)f(toggle-button\))265 1117 y(\(c)g(slider\))265
1184 y(\(d)g(text-field\))265 1250 y(\(e)g(:interactor-pane)352
1317 y(:width)g(300)h(:max-width)f(+fill+)352 1383 y(:height)h(300)f
(:max-height)g(+fill+\)\))207 1449 y(\(:layout)265 1516 y(\(default)323
1582 y(\(vertically)h(\(\))381 1649 y(a)f(b)g(c)g(\(scrolling)h(\(\))f
(e\)\)\))265 1715 y(\(other)323 1781 y(\(vertically)h(\(\))381
1848 y(a)f(\(scrolling)h(\(\))f(e\))g(b)g(d\)\)\)\))149 1981
y(\(define-test-frame-command)h(\(com-switch)g(:name)f(t)g(:menu)h(t\))265
2047 y(\(\))207 2114 y(\(setf)f(\(frame-current-layout)h
(*application-frame*\))381 2180 y(\(ecase)g(\(frame-current-layout)g
(*application-frame*\))439 2246 y(\(default)g(other\))439 2313
y(\(other)g(default\)\)\)\))149 2446 y(\(let)f(\(\(test-frame)381
2512 y(\(make-application-frame)i('test-frame\)\)\))207 2578
y(\(run-frame-top-level)f(test-frame\)\))p eop
%%Page: 304 319
bop 149 691 a Fl(Chapter)46 b(29)149 1034 y Fq(P)l(anes)149
1422 y Fk(29.1)91 b(Ov)m(erview)31 b(of)g(P)m(anes)149 1609
y Fr(CLIM)26 b(panes)f(are)h(similar)h(to)f(the)f(gadgets)g(or)h(widgets)g
(of)h(other)e(to)r(olkits.)49 b(They)26 b(can)g(b)r(e)g(used)g(b)n(y)149
1676 y(application)21 b(programmers)e(to)j(comp)r(ose)d(the)j(top-lev)n(el)h
(user)f(in)n(terface)f(of)h(their)g(applications,)h(as)f(w)n(ell)149
1742 y(as)e(auxiliary)i(comp)r(onen)n(ts)17 b(suc)n(h)k(as)f(men)n(us)g(and)g
(dialogs.)32 b(The)21 b(application)f(programmer)c(pro)n(vides)21
b(an)149 1809 y(abstract)9 b(sp)r(eci\014cation)h(of)h(the)h(pane)f(hierarc)n
(h)n(y)-5 b(,)13 b(whic)n(h)g(CLIM)e(uses)g(in)i(conjunction)d(with)h(user)h
(preferences)149 1875 y(and)18 b(other)f(factors)g(to)h(select)f(a)i(sp)r
(eci\014c)e(\\lo)r(ok)h(and)g(feel")g(for)g(the)g(application.)25
b(In)18 b(man)n(y)g(en)n(vironmen)n(ts)149 1941 y(a)e(CLIM)g(application)f
(can)h(use)g(the)f(facilities)i(of)f(the)f(host)h(windo)n(w)h(system)d(to)r
(olkit)i(via)h(a)f(set)g(of)g Fm(adaptiv)n(e)149 2008 y(panes)p
Fr(,)g(allo)n(wing)h(a)g(p)r(ortable)e(CLIM)h(application)f(to)i(tak)n(e)f
(on)h(the)f(lo)r(ok)g(and)g(feel)h(of)f(a)h(nativ)n(e)g(application)149
2074 y(user)g(in)n(terface.)149 2207 y(P)n(anes)f(are)g(rectangular)e(ob)s
(jects)i(that)f(are)i(implemen)n(ted)d(as)j(sp)r(ecial)f(sheet)f(classes.)24
b(An)16 b(application)g(will)149 2274 y(t)n(ypically)k(construct)e(a)h(tree)g
(of)h(panes)f(that)f(divide)j(up)e(the)g(screen)g(space)f(allo)r(cated)g(to)i
(the)f(application)149 2340 y(frame.)j(The)17 b(v)m(arious)f(CLIM)h(pane)f(t)
n(yp)r(es)g(can)h(b)r(e)f(c)n(haracterized)e(b)n(y)k(whether)d(they)h(ha)n(v)
n(e)i(c)n(hildren)f(panes)149 2406 y(or)25 b(not:)40 b(panes)25
b(that)g(can)g(ha)n(v)n(e)i(other)d(panes)h(as)h(c)n(hildren)g(are)f(called)h
Fm(comp)r(osite)d(panes)p Fr(,)k(and)f(those)149 2473 y(that)15
b(don't)i(are)f(called)h Fm(leaf)g(panes)p Fr(.)23 b(Comp)r(osite)14
b(panes)i(are)h(used)f(to)g(pro)n(vide)h(a)g(mec)n(hanism)e(for)h(spatially)
149 2539 y(organizing)c(\(\\la)n(ying)j(out"\))d(other)h(panes.)22
b(Leaf)13 b(panes)g(implemen)n(t)g(gadgets)f(that)h(ha)n(v)n(e)h(some)f(app)r
(earance)149 2606 y(and)i(react)f(to)h(user)f(input)h(b)n(y)i(in)n(v)n(oking)
g(application)d(co)r(de.)22 b(Another)14 b(kind)i(of)f(leaf)g(pane)g(pro)n
(vides)g(an)h(area)149 2672 y(of)h(the)f(application's)g(screen)g(real)g
(estate)f(that)h(can)h(b)r(e)f(used)g(b)n(y)i(the)f(application)e(to)i
(presen)n(t)f(application)149 2738 y(sp)r(eci\014c)k(information.)34
b(CLIM)21 b(pro)n(vides)h(a)g(n)n(um)n(b)r(er)e(of)i(these)e
Fm(application)h(pane)g Fr(t)n(yp)r(es)g(that)g(allo)n(w)h(the)149
2805 y(application)17 b(to)g(use)h(CLIM's)g(graphics)f(and)g(extended)g
(stream)e(facilities.)149 2938 y Fm(Abstract)j(panes)i Fr(are)g(panes)g(that)
g(are)g(de\014ned)g(only)h(in)g(terms)f(of)g(their)h(programmer)c(in)n
(terface,)j(or)h(b)r(e-)149 3004 y(ha)n(vior.)40 b(The)23 b(proto)r(col)e
(for)i(an)g(abstract)e(pane)h(\(that)g(is,)j(the)e(sp)r(eci\014ed)e(set)i(of)
g(initialization)g(options,)149 3071 y(accessors,)18 b(and)i(callbac)n(ks\))f
(is)i(designed)e(to)g(sp)r(ecify)g(the)h(pane)f(in)h(terms)e(of)i(its)h(o)n
(v)n(erall)f(purp)r(ose,)f(rather)149 3137 y(then)i(in)j(terms)c(of)j(its)g
(sp)r(eci\014c)e(app)r(earance)e(or)k(particular)e(in)n(teractiv)n(e)h
(details.)38 b(The)22 b(purp)r(ose)f(of)i(this)149 3203 y(abstract)18
b(de\014nition)h(is)j(to)e(allo)n(w)h(m)n(ultiple)g(implemen)n(tations)c(of)k
(the)f(abstract)e(pane,)j(eac)n(h)f(de\014ning)f(its)149 3270
y(o)n(wn)j(sp)r(eci\014c)e(lo)r(ok)h(and)g(feel.)36 b(CLIM)21
b(can)g(then)g(select)f(the)h(appropriate)e(pane)i(implemen)n(tation)e(based)
149 3336 y(on)e(factors)f(outside)g(the)h(con)n(trol)f(of)i(the)e
(application,)h(suc)n(h)h(as)f(user)g(preferences)d(or)j(the)g(lo)r(ok)g(and)
g(feel)h(of)149 3403 y(the)f(host)h(op)r(erating)e(en)n(vironmen)n(t.)23
b(A)c(subset)e(of)h(the)f(abstract)f(panes,)i(the)g Fm(adaptiv)n(e)f(panes)p
Fr(,)h(ha)n(v)n(e)h(b)r(een)1262 3632 y(304)p eop
%%Page: 305 320
bop 149 16 a Fm(CHAPTER)16 b(29.)43 b(P)-5 b(ANES)1629 b Fr(305)149
210 y(de\014ned)16 b(to)i(in)n(tegrate)e(w)n(ell)k(across)c(all)j(CLIM)f(op)r
(erating)e(platforms.)149 342 y(CLIM)j(pro)n(vides)h(a)g(general)f(mec)n
(hanism)f(for)h(automatically)f(selecting)h(the)g(particular)g(implemen)n
(tation)149 409 y(of)f(an)g(abstract)e(pane)h(selected)g(b)n(y)i(an)f
(application)f(based)g(on)h(the)g(curren)n(t)f(frame)f(manager.)23
b(The)18 b(appli-)149 475 y(cation)h(programmer)d(can)k(o)n(v)n(erride)g(the)
g(selection)f(mec)n(hanism)f(b)n(y)j(using)f(the)g(name)f(of)h(a)h(sp)r
(eci\014c)d(pane)149 542 y(implemen)n(tation)c(in)k(place)e(of)i(the)e
(abstract)f(pane)i(name)e(when)i(sp)r(ecifying)f(the)h(application)f(frame's)
g(la)n(y-)149 608 y(out.)31 b(By)21 b(con)n(v)n(en)n(tion,)h(the)d(name)h(of)
g(the)g(basic,)h(p)r(ortable)e(implemen)n(tation)e(of)k(an)f(abstract)e(pane)
i(class)149 674 y(can)d(b)r(e)g(determined)f(b)n(y)j(adding)e(the)g(su\016x)i
(\\)p Ft(-pane)p Fr(")f(to)f(the)h(name)e(of)i(the)g(abstract)d(class.)149
924 y Fk(29.2)91 b(Basic)30 b(P)m(ane)g(Construction)149 1112
y Fr(Applications)23 b(t)n(ypically)j(de\014ne)d(the)h(hierarc)n(h)n(y)h(of)g
(panes)e(used)h(in)i(their)e(frames)f(using)h(the)g Ft(:pane)i
Fr(or)149 1178 y Ft(:panes)c Fr(options)f(of)g Ft(define-application-frame)p
Fr(.)38 b(These)20 b(options)h(generate)e(the)i(b)r(o)r(dy)g(of)g(metho)r(ds)
149 1244 y(on)16 b(functions)f(that)h(are)f(in)n(v)n(ok)n(ed)j(when)e(the)g
(frame)f(is)i(b)r(eing)f(adopted)e(in)n(to)j(a)g(particular)e(frame)g
(manager,)149 1311 y(so)j(the)f(frame)f(manager)g(can)h(select)g(the)h(sp)r
(eci\014c)e(implemen)n(tations)f(of)j(the)g(abstract)d(panes.)149
1444 y(There)e(are)g(t)n(w)n(o)h(basic)g(in)n(terfaces)e(to)i(constructing)d
(a)j(pane:)22 b Ft(make-pane)15 b Fr(of)f(an)f(abstract)f(pane)h(class)h
(name,)149 1510 y(or)25 b Ft(make-instance)i Fr(of)e(a)h(\\concrete")c(pane)j
(class.)46 b(The)26 b(former)d(approac)n(h)h(is)i(generally)f(preferable,)149
1577 y(since)d(it)h(results)f(in)i(more)d(p)r(ortable)g(co)r(de.)38
b(Ho)n(w)n(ev)n(er,)25 b(in)e(some)f(cases)g(the)g(programmer)d(ma)n(y)k
(wish)g(to)149 1643 y(instan)n(tiate)16 b(panes)i(of)g(a)g(sp)r(eci\014c)f
(class)h(\(suc)n(h)g(as)g(an)g Ft(hbox-pane)h Fr(or)f(a)h Ft(vbox-pane)p
Fr(\).)25 b(In)19 b(this)f(case,)g(using)149 1709 y Ft(make-instance)c
Fr(directly)e(circum)n(v)n(en)n(ts)g(the)g(abstract)f(pane)h(selection)g(mec)
n(hanism.)20 b(Ho)n(w)n(ev)n(er,)15 b(the)d Ft(make-)149 1776
y(instance)18 b Fr(approac)n(h)f(requires)g(the)g(application)f(programmer)e
(to)k(kno)n(w)g(the)f(name)f(of)i(the)f(sp)r(eci\014c)f(pane)149
1842 y(implemen)n(tation)j(class)j(that)f(is)i(desired,)f(and)g(so)g(is)h
(inheren)n(tly)f(less)g(p)r(ortable.)35 b(By)23 b(con)n(v)n(en)n(tion,)h(all)
f(of)149 1909 y(the)15 b(concrete)f(pane)i(class)g(names,)g(including)g
(those)f(of)h(the)g(implemen)n(tations)e(of)i(abstract)e(pane)i(proto)r(col)
149 1975 y(sp)r(eci\014cations,)f(end)j(in)h(\\)p Ft(-pane)p
Fr(".)149 2108 y(Using)i Ft(make-pane)h Fr(instead)e(of)i Ft(make-instance)g
Fr(in)n(v)n(ok)n(es)h(the)e(\\lo)r(ok)g(and)g(feel")g(realization)f(pro)r
(cess)f(to)149 2174 y(select)c(and)h(construct)d(a)k(pane.)23
b(Normally)15 b(this)h(pro)r(cess)e(is)j(implemen)n(ted)d(b)n(y)j(the)e
(frame)g(manager,)g(but)g(it)149 2241 y(is)j(p)r(ossible)e(for)i(other)e
(\\realizers")f(to)j(implemen)n(t)d(this)j(pro)r(cess.)k Ft(make-pane)c
Fr(is)g(t)n(ypically)h(in)n(v)n(ok)n(ed)g(using)149 2307 y(an)c(abstract)f
(pane)h(class)g(name,)h(whic)n(h)g(b)n(y)g(con)n(v)n(en)n(tion)g(is)g(a)g
(sym)n(b)r(ol)g(in)g(the)f(CLIM)h(pac)n(k)m(age)e(that)h(do)r(esn't)149
2374 y(include)d(the)g(\\)p Ft(-pane)p Fr(")h(su\016x.)23 b(\(This)13
b(naming)f(con)n(v)n(en)n(tion)g(distinguishes)g(the)g(names)f(of)i(the)f
(abstract)e(pane)149 2440 y(proto)r(cols)16 b(from)h(the)g(names)g(of)h
(classes)f(that)h(implemen)n(t)e(them.\))23 b(Programmer)o(s,)15
b(ho)n(w)n(ev)n(er,)k(are)f(allo)n(w)n(ed)149 2506 y(to)24
b(pass)h(an)n(y)h(pane)e(class)h(name)e(to)i Ft(make-pane)p
Fr(,)j(in)e(whic)n(h)f(case)f(the)h(frame)e(manager)g(will)j(generally)149
2573 y(instan)n(tiate)16 b(that)h(sp)r(eci\014c)g(class.)49
2706 y Fj(\))45 b Ft(pane)1797 b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23
b(Class)5 b Fr(])149 2825 y(The)18 b(proto)r(col)f(class)h(that)f(corresp)r
(onds)f(to)i(a)h(pane,)f(a)h(sub)r(class)e(of)h Ft(sheet)p
Fr(.)27 b(A)19 b(pane)f(is)h(a)g(sp)r(ecial)f(kind)h(of)149
2891 y(sheet)e(that)g(implemen)n(ts)f(the)h(pane)g(proto)r(cols,)g(including)
h(the)f(la)n(y)n(out)i(proto)r(cols.)j(If)d(y)n(ou)f(w)n(an)n(t)h(to)f
(create)149 2957 y(a)h(new)g(class)g(that)f(b)r(eha)n(v)n(es)h(lik)n(e)i(a)e
(pane,)g(it)h(should)f(b)r(e)f(a)i(sub)r(class)e(of)h Ft(pane)p
Fr(.)29 b(Sub)r(classes)17 b(of)j Ft(pane)g Fr(m)n(ust)149
3024 y(ob)r(ey)d(the)g(pane)g(proto)r(col.)149 3157 y(All)h(of)g(the)g(sub)r
(classes)e(of)i Ft(pane)h Fr(are)e(m)n(utable.)49 3290 y Fj(\))45
b Ft(panep)29 b Fs(obje)m(ct)1734 b Fr([)p Fs(F)l(unction)t
Fr(])149 3409 y(Returns)16 b Fm(true)h Fr(if)i Fs(obje)m(ct)h
Fr(is)f(a)f Fm(pane)p Fr(,)g(otherwise)e(returns)g Fm(false)p
Fr(.)p eop
%%Page: 306 321
bop 149 16 a Fm(CHAPTER)16 b(29.)43 b(P)-5 b(ANES)1629 b Fr(306)49
210 y Fj(\))45 b Ft(make-pane)29 b Fs(abstr)m(act-class-name)23
b Ft(&rest)30 b Fs(initar)m(gs)909 b Fr([)p Fs(F)l(unction)t
Fr(])149 329 y(Selects)17 b(a)i(class)g(that)f(implemen)n(ts)f(the)h(b)r(eha)
n(vior)g(of)h(the)g(abstract)d(pane)i Fs(abstr)m(act-class-name)23
b Fr(and)c(con-)149 395 y(structs)j(a)i(pane)f(of)h(that)f(class.)43
b Ft(make-pane)25 b Fr(m)n(ust)e(b)r(e)g(used)h(either)f(within)h(the)f
(dynamic)g(scop)r(e)f(of)j(a)149 461 y(call)16 b(to)e Ft
(with-look-and-feel-realization)p Fr(,)19 b(or)c(within)h(the)e
Ft(:pane)i Fr(or)f Ft(:panes)i Fr(options)d(of)h(a)h Ft(define-)149
528 y(application-frame)j Fr(\(whic)n(h)f(implicitly)h(in)n(v)n(ok)n(es)g
Ft(with-look-and-feel-realization)p Fr(\).)49 661 y Fj(\))45
b Ft(make-pane-1)29 b Fs(r)m(e)m(alizer)22 b(fr)m(ame)f(abstr)m
(act-class-name)j Ft(&rest)29 b Fs(initar)m(gs)290 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 780 y(The)k(generic)g(function)f(that)
h(is)h(in)n(v)n(ok)n(ed)h(b)n(y)g(a)f(call)g(to)f Ft(make-pane)p
Fr(.)52 b(The)26 b(ob)s(ject)g(that)f(realizes)h(the)149 846
y(pane,)16 b Fs(r)m(e)m(alizer)p Fr(,)j(is)e(established)e(b)n(y)i
Ft(with-look-and-feel-realization)p Fr(.)26 b(Usually)-5 b(,)17
b Fs(r)m(e)m(alizer)i Fr(is)e(a)f(frame)149 912 y(manager,)i(but)i(it)g
(could)g(b)r(e)f(another)g(ob)s(ject)f(that)h(implemen)n(ts)f(the)i(pane)f
(realization)g(proto)r(col.)29 b Fs(fr)m(ame)149 979 y Fr(is)20
b(the)f(frame)f(for)h(whic)n(h)h(the)f(pane)g(will)i(b)r(e)e(created,)f(and)h
Fs(abstr)m(act-class-name)k Fr(is)e(the)e(t)n(yp)r(e)g(of)g(pane)g(to)149
1045 y(create.)49 1178 y Fj(\))45 b Ft(with-look-and-feel-realization)30
b Fs(\(r)m(e)m(alizer)22 b(fr)m(ame\))f Ft(&body)29 b Fs(forms)498
b Fr([)p Fs(Macr)m(o)s Fr(])149 1297 y(Establishes)15 b(a)i(dynamic)e(con)n
(text)h(that)f(installs)i Fs(r)m(e)m(alizer)i Fr(as)e(the)f(ob)s(ject)f(resp)
r(onsible)g(for)h(realizing)g(panes.)149 1364 y(All)f(calls)h(to)e
Ft(make-pane)i Fr(within)f(the)f(con)n(text)g(of)h Ft
(with-look-and-feel-realization)i Fr(result)d(in)i Ft(make-)149
1430 y(pane-1)23 b Fr(b)r(eing)f(in)n(v)n(ok)n(ed)i(on)e Fs(r)m(e)m(alizer)p
Fr(.)41 b(This)23 b(macro)e(can)h(b)r(e)g(nested)f(dynamically;)k(inner)d
(uses)g(shado)n(w)149 1496 y(outer)16 b(uses.)24 b Fs(b)m(o)m(dy)c
Fr(ma)n(y)e(ha)n(v)n(e)h(zero)e(or)g(more)g(declarations)f(as)i(its)g
(\014rst)f(forms.)149 1629 y(T)n(ypically)25 b Fs(r)m(e)m(alizer)i
Fr(is)e(a)g(frame)d(manager,)i(but)g(in)h(some)e(cases)g Fs(r)m(e)m(alizer)k
Fr(ma)n(y)d(b)r(e)g(some)f(other)g(ob)s(ject.)149 1696 y(F)-5
b(or)23 b(example,)h(within)f(the)g(implemen)n(tation)d(of)j(pane)f(that)h
(is)g(uses)g(its)g(o)n(wn)h(subpanes)d(to)i(ac)n(hiev)n(e)g(its)149
1762 y(functionalit)n(y)-5 b(,)18 b(this)g(form)f(migh)n(t)g(b)r(e)g(used)h
(with)g Fs(r)m(e)m(alizer)i Fr(b)r(eing)d(the)h(pane)f(itself.)149
1983 y Fp(29.2.1)75 b(P)n(ane)25 b(Initializatio)q(n)j(Options)149
2152 y Fr(The)17 b(follo)n(wing)i(options)e(m)n(ust)g(b)r(e)h(accepted)d(b)n
(y)k(all)g(pane)e(classes.)49 2285 y Fj(\))45 b Ft(:foreground)1771
b Fr([)p Fs(Option)t Fr(])49 2351 y Fj(\))45 b Ft(:background)1771
b Fr([)p Fs(Option)t Fr(])149 2470 y(These)14 b(options)f(sp)r(ecify)h(the)g
(default)g(foreground)f(and)h(bac)n(kground)f(inks)i(for)g(a)g(pane.)22
b(Clien)n(t)16 b(co)r(de)d(should)149 2537 y(b)r(e)18 b(cautious)f(ab)r(out)g
(passing)h(v)m(alues)h(for)g(these)e(t)n(w)n(o)i(options,)g(since)f(the)g
(desktop's)g(lo)r(ok)h(and)f(feel)h(or)f(the)149 2603 y(user's)f(preferences)
e(should)j(usually)g(determine)e(these)g(v)m(alues.)49 2736
y Fj(\))45 b Ft(:text-style)1771 b Fr([)p Fs(Option)t Fr(])149
2855 y(This)15 b(option)f(sp)r(eci\014es)g(the)g(default)g(text)g(st)n(yle)i
(that)e(should)g(b)r(e)h(used)f(for)h(an)n(y)g(sort)g(of)g(pane)f(that)g
(supp)r(orts)149 2921 y(text)19 b(output.)30 b(P)n(anes)20
b(that)f(do)h(not)f(supp)r(ort)g(text)g(output)g(ignore)g(this)h(option.)31
b(Clien)n(t)21 b(co)r(de)d(should)i(b)r(e)149 2988 y(cautious)i(ab)r(out)h
(passing)g(v)m(alues)h(for)g(this)g(option,)i(since)d(the)h(desktop's)f(lo)r
(ok)h(and)g(feel)g(or)g(the)f(user's)149 3054 y(preferences)15
b(should)i(usually)i(determine)c(this)j(v)m(alue.)49 3187 y
Fj(\))45 b Ft(:name)1945 b Fr([)p Fs(Option)t Fr(])149 3306
y(This)18 b(option)f(sp)r(eci\014es)g(the)g(name)g(of)h(the)f(pane.)24
b(It)18 b(defaults)e(to)i Ft(nil)p Fr(.)p eop
%%Page: 307 322
bop 149 16 a Fm(CHAPTER)16 b(29.)43 b(P)-5 b(ANES)1629 b Fr(307)149
210 y Fp(29.2.2)75 b(P)n(ane)25 b(Prop)r(erties)49 378 y Fj(\))45
b Ft(pane-frame)29 b Fs(p)m(ane)1404 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 497 y(Returns)16 b(the)h(frame)g(that)g(\\o)n(wns")h
(the)f(pane.)24 b Ft(pane-frame)19 b Fr(can)e(b)r(e)h(in)n(v)n(ok)n(ed)h(on)f
(an)n(y)h(pane)e(in)i(a)f(frame's)149 564 y(pane)24 b(hierarc)n(h)n(y)-5
b(,)28 b(but)d(it)g(can)g(only)h(b)r(e)f(in)n(v)n(ok)n(ed)h(on)g(\\activ)n
(e")e(panes,)j(that)d(is,)k(those)d(panes)f(that)g(are)149
630 y(curren)n(tly)17 b(adopted)f(in)n(to)i(the)f(frame's)g(pane)g(hierarc)n
(h)n(y)-5 b(.)49 763 y Fj(\))45 b Ft(pane-name)29 b Fs(p)m(ane)1433
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 882 y(Returns)16
b(the)h(name)g(of)h(the)f(pane.)49 1015 y Fj(\))45 b Ft(pane-foreground)30
b Fs(p)m(ane)1258 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49
1081 y Fj(\))45 b Ft(pane-background)30 b Fs(p)m(ane)1258 b
Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1200 y(Return)16
b(the)i(curren)n(t)e(foreground)g(and)h(bac)n(kground)g(inks)h(of)g(the)g
(pane,)f(resp)r(ectiv)n(ely)-5 b(.)149 1333 y Fo(Minor)28 b(issue:)74
b Fm(Wh)n(y)23 b(aren't)f(these)f Ft(medium-foreground)j Fm(and)f
Ft(medium-background)p Fm(,)i(since)e(panes)149 1399 y(ob)r(ey)17
b(the)g(medium)f(proto)r(col)g(to)i(this)g(exten)n(t?)23 b(|)c(SWM)149
1649 y Fk(29.3)91 b(Comp)s(osite)30 b(and)g(La)m(y)m(out)h(P)m(anes)149
1836 y Fr(This)c(section)f(describ)r(es)g(the)g(v)m(arious)h(comp)r(osite)d
(and)j(la)n(y)n(out)h(panes)e(pro)n(vided)h(b)n(y)h(CLIM,)f(and)g(the)149
1903 y(proto)r(col)16 b(that)h(the)g(la)n(y)n(out)h(panes)g(ob)r(ey)-5
b(.)149 2036 y(The)21 b(la)n(y)n(out)i(panes)e(describ)r(e)f(in)i(this)g
(section)f(are)g(all)i(comp)r(osite)c(panes)i(that)g(are)g(resp)r(onsible)f
(for)i(p)r(o-)149 2102 y(sitioning)e(their)h(c)n(hildren)g(according)e(to)h
(v)m(arious)h(la)n(y)n(out)h(rules.)33 b(La)n(y)n(out)21 b(panes)f(can)g(b)r
(e)g(selected)g(in)h(the)149 2169 y(same)g(w)n(a)n(y)i(as)f(other)f(panes)h
(using)g Ft(make-pane)h Fr(or)f Ft(make-instance)p Fr(.)38
b(F)-5 b(or)23 b(con)n(v)n(enience)e(and)h(readabil-)149 2235
y(it)n(y)f(of)f(application)g(pane)f(la)n(y)n(outs,)j(man)n(y)e(of)g(these)f
(panes)g(also)h(pro)n(vide)h(a)f(macro)f(that)g(expands)g(in)n(to)i(a)149
2301 y Ft(make-pane)d Fr(form,)f(passing)g(a)h(list)g(of)g(the)f(panes)g
(created)e(in)k(the)e(b)r(o)r(dy)f(of)i(the)f(macro)f(as)i(the)f
Ft(:contents)149 2368 y Fr(argumen)n(t)f(\(describ)r(ed)f(b)r(elo)n(w\).)24
b(F)-5 b(or)19 b(example,)e(y)n(ou)i(can)e(express)h(a)g(la)n(y)n(out)h(of)f
(a)g(v)n(ertical)g(column)f(of)h(t)n(w)n(o)149 2434 y(lab)r(el)f(panes)h
(either)e(as:)149 2622 y Ft(\(make-instance)30 b('vbox-pane)207
2689 y(:contents)f(\(list)h(\(make-instance)g('label-pane)f(:text)h("One"\))
672 2755 y(\(make-instance)g('label-pane)f(:text)h("Two"\)\)\))149
2943 y Fr(or)17 b(as:)149 3132 y Ft(\(vertically)29 b(\(\))207
3198 y(\(make-instance)h('label-pane)f(:text)h("One"\))207
3264 y(\(make-instance)g('label-pane)f(:text)h("Two"\)\))p
eop
%%Page: 308 323
bop 149 16 a Fm(CHAPTER)16 b(29.)43 b(P)-5 b(ANES)1629 b Fr(308)149
210 y Fp(29.3.1)75 b(La)n(y)n(out)26 b(P)n(ane)e(Options)49
378 y Fj(\))45 b Ft(:contents)1829 b Fr([)p Fs(Option)t Fr(])149
497 y(All)20 b(of)g(the)e(la)n(y)n(out)j(pane)d(classes)h(accept)f(the)h
Ft(:contents)h Fr(options,)g(whic)n(h)g(is)g(used)f(to)g(sp)r(ecify)g(the)g
(c)n(hild)149 564 y(panes)e(to)g(b)r(e)h(laid)g(out.)49 696
y Fj(\))45 b Ft(:width)1916 b Fr([)p Fs(Option)t Fr(])49 763
y Fj(\))45 b Ft(:max-width)1800 b Fr([)p Fs(Option)t Fr(])49
829 y Fj(\))45 b Ft(:min-width)1800 b Fr([)p Fs(Option)t Fr(])49
896 y Fj(\))45 b Ft(:height)1887 b Fr([)p Fs(Option)t Fr(])49
962 y Fj(\))45 b Ft(:max-height)1771 b Fr([)p Fs(Option)t Fr(])49
1028 y Fj(\))45 b Ft(:min-height)1771 b Fr([)p Fs(Option)t
Fr(])149 1147 y(These)20 b(options)g(con)n(trol)g(the)g(space)g(requiremen)n
(t)f(paramaters)f(for)j(la)n(ying)h(out)e(the)g(pane.)33 b(The)21
b Ft(:width)149 1214 y Fr(and)g Ft(:height)h Fr(options)e(sp)r(ecify)h(the)g
(preferred)e(horizon)n(tal)h(and)h(v)n(ertical)g(sizes.)35
b(The)21 b Ft(:max-width)h Fr(and)149 1280 y Ft(:max-height)27
b Fr(options)e(sp)r(ecify)g(the)g(maxim)n(um)g(amoun)n(t)f(of)i(space)f(that)
g(ma)n(y)h(b)r(e)f(consumed)e(b)n(y)k(the)149 1347 y(pane,)22
b(and)g(giv)n(e)h(CLIM's)f(pane)f(la)n(y)n(out)i(engine)e(p)r(ermission)f(to)
i(gro)n(w)g(the)f(pane)g(b)r(ey)n(ond)h(the)f(preferred)149
1413 y(size.)i(The)15 b Ft(:min-width)g Fr(and)g Ft(:min-height)h
Fr(options)e(sp)r(ecify)g(the)g(minim)n(um)f(amoun)n(t)g(of)i(space)f(that)g
(ma)n(y)149 1480 y(b)r(e)20 b(consumed)e(b)n(y)k(the)e(pane,)h(and)g(giv)n(e)
h(CLIM's)e(pane)g(la)n(y)n(out)i(engine)e(p)r(ermission)f(to)h(shrink)h(the)f
(pane)149 1546 y(b)r(elo)n(w)e(the)f(preferred)f(size.)149
1679 y(If)g(either)e(of)i(the)f Ft(:max-width)i Fr(or)f Ft(:min-width)g
Fr(options)f(is)h(not)g(supplied,)g(it)g(defaults)e(to)i(the)f(v)m(alue)h(of)
f(the)149 1745 y Ft(:width)i Fr(option.)23 b(If)17 b(either)f(of)g(the)g
Ft(:max-height)i Fr(or)e Ft(:min-height)i Fr(options)e(is)h(not)f(supplied,)h
(it)g(defaults)149 1812 y(to)g(the)h(v)m(alue)g(of)g(the)f
Ft(:height)i Fr(option.)149 1945 y Ft(:max-width)p Fr(,)25
b Ft(:min-width)p Fr(,)h Ft(:max-height)p Fr(,)f(and)e Ft(:min-height)h
Fr(can)e(also)h(b)r(e)g(sp)r(eci\014ed)e(as)i(a)g(relativ)n(e)149
2011 y(size)15 b(b)n(y)i(supplying)f(a)g(list)g(of)g(the)f(form)f
Ft(\()p Fs(numb)m(er)31 b Ft(:relative\))p Fr(.)25 b(In)16
b(this)f(case,)h(the)f(n)n(um)n(b)r(er)g(indicates)f(the)149
2077 y(n)n(um)n(b)r(er)i(of)i(device)g(units)g(that)e(the)i(pane)f(is)i
(willing)g(to)f(stretc)n(h)e(or)i(shrink.)149 2210 y(The)i(v)m(alues)g(of)g
(these)f(options)h(are)g(sp)r(eci\014ed)e(in)j(the)f(same)f(w)n(a)n(y)i(as)g
(the)e Ft(:x-spacing)j Fr(and)e Ft(:y-spacing)149 2277 y Fr(options)f(to)i
Ft(formatting-table)p Fr(.)34 b(\(Note)19 b(that)h Ft(:character)h
Fr(and)g Ft(:line)g Fr(ma)n(y)g(only)g(b)r(e)f(used)g(on)h(those)149
2343 y(panes)c(that)g(displa)n(y)i(text,)e(suc)n(h)h(as)g(a)g
Ft(clim-stream-pane)i Fr(or)d(a)h Ft(label-pane)p Fr(.\))49
2476 y Fj(\))45 b Ft(+fill+)1863 b Fr([)p Fs(Constant)5 b Fr(])149
2595 y(This)17 b(constan)n(t)f(can)h(b)r(e)g(used)g(as)g(a)h(v)m(alue)f(to)g
(an)n(y)h(of)f(the)g(relativ)n(e)h(size)f(options.)23 b(It)18
b(indicates)e(that)g(pane's)149 2661 y(willingness)i(to)g(adjust)f(an)g
(arbitrary)g(amoun)n(t)g(in)h(the)f(sp)r(eci\014ed)g(direction.)49
2794 y Fj(\))45 b Ft(:align-x)1858 b Fr([)p Fs(Option)t Fr(])49
2861 y Fj(\))45 b Ft(:align-y)1858 b Fr([)p Fs(Option)t Fr(])149
2980 y(The)15 b Ft(:align-x)i Fr(option)e(is)h(one)f(of)h Ft(:right)p
Fr(,)h Ft(:center)p Fr(,)h(or)d Ft(:left)p Fr(.)24 b(The)16
b Ft(:align-y)h Fr(option)d(is)j(one)e(of)h Ft(:top)p Fr(,)149
3046 y Ft(:center)p Fr(,)21 b(or)e Ft(:bottom)p Fr(.)29 b(These)18
b(are)h(used)g(to)g(sp)r(ecify)f(ho)n(w)i(c)n(hild)g(panes)e(are)h(aligned)g
(within)g(the)g(paren)n(t)149 3112 y(pane.)k(These)18 b(ha)n(v)n(e)g(the)g
(same)e(seman)n(tics)g(as)i(for)g Ft(formatting-cell)p Fr(.)49
3245 y Fj(\))45 b Ft(:x-spacing)1800 b Fr([)p Fs(Option)t Fr(])49
3312 y Fj(\))45 b Ft(:y-spacing)1800 b Fr([)p Fs(Option)t Fr(])49
3378 y Fj(\))45 b Ft(:spacing)1858 b Fr([)p Fs(Option)t Fr(])p
eop
%%Page: 309 324
bop 149 16 a Fm(CHAPTER)16 b(29.)43 b(P)-5 b(ANES)1629 b Fr(309)149
210 y(These)17 b(spacing)g(options)h(apply)g(to)g Ft(hbox-pane)p
Fr(,)h Ft(vbox-pane)p Fr(,)h Ft(table-pane)p Fr(,)f(and)f Ft(grid-pane)p
Fr(,)i(and)e(indi-)149 276 y(cate)g(the)h(amoun)n(t)e(of)j(horizon)n(tal)e
(and)h(v)n(ertical)g(spacing)g(\(resp)r(ectiv)n(ely\))e(to)i(lea)n(v)n(e)h(b)
r(et)n(w)n(een)e(the)h(items)f(in)149 342 y(b)r(o)n(xes)h(or)g(ro)n(ws)h(and)
f(columns)f(in)i(table.)28 b(The)19 b(v)m(alues)h(of)f(these)f(options)h(are)
g(sp)r(eci\014ed)e(in)j(the)f(same)f(w)n(a)n(y)149 409 y(as)e(the)f
Ft(:x-spacing)j Fr(and)d Ft(:y-spacing)j Fr(options)d(to)h
Ft(formatting-table)p Fr(.)25 b Ft(:spacing)17 b Fr(sp)r(eci\014es)d(b)r(oth)
h(the)149 475 y Fn(x)j Fr(and)f Fn(y)k Fr(spacing)c(sim)n(ultaneously)-5
b(.)149 697 y Fp(29.3.2)75 b(La)n(y)n(out)26 b(P)n(ane)e(Classes)49
865 y Fj(\))45 b Ft(hbox-pane)1689 b Fr([)p Fs(L)m(ayout)21
b(Pane)t Fr(])49 932 y Fj(\))45 b Ft(horizontally)29 b Fs(\()p
Ft(&rest)g Fs(options\))21 b Ft(&body)29 b Fs(c)m(ontents)943
b Fr([)p Fs(Macr)m(o)s Fr(])149 1051 y(The)11 b Ft(hbox-pane)i
Fr(class)f(la)n(ys)h(out)e(all)i(of)e(its)h(c)n(hild)h(panes)e(horizon)n
(tally)-5 b(,)13 b(from)e(left)h(to)f(righ)n(t.)23 b(The)11
b Ft(horizontally)149 1117 y Fr(macro)16 b(serv)n(es)i(as)g(a)g(con)n(v)n
(enien)n(t)f(in)n(terface)g(for)h(creating)e(an)i Ft(hbox-pane)p
Fr(.)149 1250 y Fs(c)m(ontents)i Fr(is)f(one)e(or)h(more)f(forms)f(that)h
(are)h(the)f(c)n(hild)i(panes.)k(Eac)n(h)18 b(form)f(in)h Fs(c)m(ontents)j
Fr(is)d(of)g(the)g(form:)232 1438 y Fj(\017)27 b Fr(A)16 b(pane.)23
b(The)16 b(pane)g(is)g(inserted)f(at)h(this)g(p)r(oin)n(t)f(and)h(its)h
(space)e(requiremen)n(ts)e(are)j(used)f(to)h(compute)287 1504
y(the)h(size.)232 1615 y Fj(\017)27 b Fr(A)18 b(n)n(um)n(b)r(er.)23
b(The)18 b(sp)r(eci\014ed)e(n)n(um)n(b)r(er)h(of)h(device)f(units)h(should)g
(b)r(e)f(allo)r(cated)f(at)i(this)g(p)r(oin)n(t.)232 1726 y
Fj(\017)27 b Fr(The)21 b(sym)n(b)r(ol)g Ft(+fill+)p Fr(.)35
b(This)21 b(means)f(that)g(an)h(arbitrary)f(amoun)n(t)g(of)h(space)f(can)h(b)
r(e)f(absorb)r(ed)f(at)287 1792 y(this)f(p)r(oin)n(t)g(in)g(the)f(la)n(y)n
(out.)232 1903 y Fj(\017)27 b Fr(A)20 b(list)h(whose)e(\014rst)g(elemen)n(t)g
(is)h(a)g(n)n(um)n(b)r(er)f(and)h(whose)f(second)g(elemen)n(t)f(ev)m(aluates)
h(to)g(a)i(pane.)29 b(If)287 1969 y(the)21 b(n)n(um)n(b)r(er)g(is)i(less)f
(than)f(1,)j(then)d(it)i(means)d(that)h(that)g(p)r(ercen)n(tage)e(of)j
(excess)g(space)f(or)h(de\014cit)287 2036 y(should)f(b)r(e)h(allo)r(cated)e
(to)h(the)g(pane.)35 b(If)22 b(the)f(n)n(um)n(b)r(er)g(is)h(greater)e(than)h
(or)g(equal)h(to)g(1,)h(then)e(that)287 2102 y(man)n(y)d(device)f(units)h
(are)f(allo)r(cated)g(to)g(the)h(pane.)23 b(F)-5 b(or)19 b(example:)287
2246 y Ft(\(horizontally)30 b(\(\))345 2313 y(\(1/3)f(\(make-pane)h
('label-button-pane\)\))345 2379 y(\(2/3)f(\(make-pane)h
('label-button-pane\)\)\))287 2523 y Fr(w)n(ould)21 b(create)d(a)j(horizon)n
(tal)e(stac)n(k)h(of)h(t)n(w)n(o)g(button)e(panes.)30 b(The)21
b(\014rst)e(button)g(tak)n(es)h(one-third)g(of)287 2589 y(the)d(space,)h
(then)f(second)f(tak)n(es)i(t)n(w)n(o-thirds)g(of)g(the)f(space.)49
2777 y Fj(\))45 b Ft(vbox-pane)1689 b Fr([)p Fs(L)m(ayout)21
b(Pane)t Fr(])49 2844 y Fj(\))45 b Ft(vertically)29 b Fs(\()p
Ft(&rest)g Fs(options\))21 b Ft(&body)29 b Fs(c)m(ontents)1001
b Fr([)p Fs(Macr)m(o)s Fr(])149 2963 y(The)11 b Ft(vbox-pane)i
Fr(class)f(la)n(ys)h(out)e(all)i(of)e(its)h(c)n(hild)h(panes)e(v)n(ertically)
-5 b(,)14 b(from)d(top)g(to)h(b)r(ottom.)20 b(The)11 b Ft(vertically)149
3029 y Fr(macro)16 b(serv)n(es)i(as)g(a)g(con)n(v)n(enien)n(t)f(in)n(terface)
g(for)h(creating)e(an)i Ft(vbox-pane)p Fr(.)149 3162 y Fs(c)m(ontents)i
Fr(is)f(as)f(for)f Ft(horizontally)p Fr(.)49 3295 y Fj(\))45
b Ft(hrack-pane)1660 b Fr([)p Fs(L)m(ayout)21 b(Pane)t Fr(])49
3361 y Fj(\))45 b Ft(vrack-pane)1660 b Fr([)p Fs(L)m(ayout)21
b(Pane)t Fr(])p eop
%%Page: 310 325
bop 149 16 a Fm(CHAPTER)16 b(29.)43 b(P)-5 b(ANES)1629 b Fr(310)149
210 y(Similar)18 b(to)g(the)g Ft(hbox-pane)h Fr(and)g Ft(vbox-pane)g
Fr(classes,)f(except)f(that)h(these)f(ensure)g(that)h(all)h(c)n(hildren)f
(are)149 276 y(the)g(same)g(size)i(in)g(the)e(minor)h(dimension.)27
b(In)19 b(other)f(w)n(ords,)i(these)e(panes)h(are)f(used)h(to)g(create)f
(stac)n(ks)h(of)149 342 y(same-sized)d(items,)h(suc)n(h)h(as)g(men)n(u)f
(items.)149 475 y(An)24 b Ft(hrack-pane)i Fr(is)f(created)e(when)h(the)g
Ft(:equalize-height)i Fr(option)e(to)h Ft(horizontally)h Fr(is)f
Fm(true)p Fr(.)44 b(A)149 542 y Ft(vrack-pane)19 b Fr(is)f(created)e(when)i
(the)f Ft(:equalize-width)i Fr(option)f(to)f Ft(vertically)i
Fr(is)g Fm(true)p Fr(.)49 674 y Fj(\))45 b Ft(table-pane)1660
b Fr([)p Fs(L)m(ayout)21 b(Pane)t Fr(])49 741 y Fj(\))45 b
Ft(tabling)29 b Fs(\()p Ft(&rest)g Fs(options\))21 b Ft(&body)29
b Fs(c)m(ontents)1088 b Fr([)p Fs(Macr)m(o)s Fr(])149 860 y(This)18
b(pane)g(la)n(ys)h(out)e(its)i(c)n(hild)g(panes)e(in)i(a)f(t)n(w)n
(o-dimensional)g(table)f(arrangemen)n(t.)22 b(Eac)n(h)c(of)g(the)f(table)h
(is)149 926 y(sp)r(eci\014ed)e(b)n(y)j(an)f(extra)f(lev)n(el)i(of)f(list)g
(in)h Fs(c)m(ontents)p Fr(.)27 b(F)-5 b(or)18 b(example,)149
1095 y Ft(\(tabling)29 b(\(\))207 1161 y(\(list)265 1227 y(\(make-pane)h
('label)f(:text)g("Red"\))265 1294 y(\(make-pane)h('label)f(:text)g
("Green"\))265 1360 y(\(make-pane)h('label)f(:text)g("Blue"\)\))207
1427 y(\(list)265 1493 y(\(make-pane)h('label)f(:text)g("Intensity"\))265
1559 y(\(make-pane)h('label)f(:text)g("Hue"\))265 1626 y(\(make-pane)h
('label)f(:text)g("Saturation"\)\)\))49 1794 y Fj(\))45 b Ft(grid-pane)1689
b Fr([)p Fs(L)m(ayout)21 b(Pane)t Fr(])149 1913 y(A)i Ft(grid-pane)h
Fr(is)g(lik)n(e)h(a)f Ft(table-pane)p Fr(,)i(except)c(that)g(eac)n(h)h(cell)g
(is)h(the)f(same)f(size)h(in)h(eac)n(h)f(of)g(the)g(t)n(w)n(o)149
1979 y(dimensions.)49 2112 y Fj(\))45 b Ft(spacer-pane)1631
b Fr([)p Fs(L)m(ayout)21 b(Pane)t Fr(])49 2179 y Fj(\))45 b
Ft(spacing)29 b Fs(\()p Ft(&rest)g Fs(options\))21 b Ft(&body)29
b Fs(c)m(ontents)1088 b Fr([)p Fs(Macr)m(o)s Fr(])149 2298
y(This)19 b(pane)g(reserv)n(es)f(some)g(margin)g(space)h(around)f(a)h(single)
h(c)n(hild)g(pane.)27 b(The)19 b(space)g(requiremen)n(t)e(k)n(eys)149
2364 y(that)22 b(are)g(passed)g(in)i(indicate)e(the)h(requiremen)n(ts)d(for)j
(the)g(surrounding)e(space,)j(not)e(including)h(the)f(re-)149
2431 y(quiremen)n(ts)16 b(of)i(the)f(c)n(hild.)49 2563 y Fj(\))45
b Ft(border-pane)1631 b Fr([)p Fs(L)m(ayout)21 b(Pane)t Fr(])49
2630 y Fj(\))45 b Ft(bordering)29 b Fs(\()p Ft(&rest)g Fs(options\))21
b Ft(&body)29 b Fs(c)m(ontents)1030 b Fr([)p Fs(Macr)m(o)s
Fr(])149 2749 y(This)18 b(la)n(y)n(out)h(pane)e(puts)g(a)h(b)r(order)e
(around)h(its)h(con)n(ten)n(ts.)149 2882 y(The)f Ft(:background)j
Fr(option)d(can)g(b)r(e)h(used)f(to)h(con)n(trol)f(the)g(ink)i(used)e(to)h
(dra)n(w)g(the)f(bac)n(kground.)49 3014 y Fj(\))45 b Ft(restraining-pane)1486
b Fr([)p Fs(L)m(ayout)21 b(Pane)t Fr(])49 3081 y Fj(\))45 b
Ft(restraining)29 b Fs(\()p Ft(&rest)g Fs(options\))21 b Ft(&body)29
b Fs(c)m(ontents)972 b Fr([)p Fs(Macr)m(o)s Fr(])149 3200 y(W)-5
b(raps)21 b(the)g(con)n(ten)n(ts)f(with)h(a)h(pane)e(that)h(prev)n(en)n(ts)f
(c)n(hanges)h(to)g(the)f(space)h(requiremen)n(ts)e(for)i(con)n(ten)n(ts)149
3266 y(from)14 b(causing)h(rela)n(y)n(out)g(of)h(panes)e(outside)h(of)g(the)g
(restraining)f(con)n(text.)22 b(In)16 b(other)e(w)n(ords,)j(it)e(prev)n(en)n
(ts)g(the)149 3333 y(size)j(constrain)n(ts)e(of)i(the)f(c)n(hild)i(from)e
(propagating)e(up)j(b)r(ey)n(ond)f(this)h(p)r(oin)n(t.)49 3466
y Fj(\))45 b Ft(bboard-pane)1631 b Fr([)p Fs(L)m(ayout)21 b(Pane)t
Fr(])p eop
%%Page: 311 326
bop 149 16 a Fm(CHAPTER)16 b(29.)43 b(P)-5 b(ANES)1629 b Fr(311)149
210 y(A)18 b(pane)g(that)f(allo)n(ws)j(its)e(c)n(hildren)g(to)h(b)r(e)e(an)n
(y)i(size)g(and)f(la)n(ys)h(them)e(out)h(wherev)n(er)g(they)g(w)n(an)n(t)g
(to)h(b)r(e)e(\(for)149 276 y(example,)g(a)h(desktop)f(manager\).)149
497 y Fp(29.3.3)75 b(Other)25 b(Comp)r(osite)h(P)n(ane)f(Classes)149
666 y Fr(CLIM)17 b(de\014nes)g(the)g(follo)n(wing)i(additional)f(pane)f
(classes,)g(eac)n(h)h(ha)n(ving)g(at)g(least)f(one)h(implemen)n(tation.)49
799 y Fj(\))45 b Ft(scroller-pane)1566 b Fr([)p Fs(Servic)m(e)23
b(Pane)t Fr(])49 865 y Fj(\))45 b Ft(scrolling)29 b Fs(\()p
Ft(&rest)g Fs(options\))21 b Ft(&body)29 b Fs(c)m(ontents)1030
b Fr([)p Fs(Macr)m(o)s Fr(])149 984 y(Creates)12 b(a)j(comp)r(osite)c(pane)j
(that)f(allo)n(ws)i(the)f(single)g(c)n(hild)h(sp)r(eci\014ed)e(b)n(y)i
Fs(c)m(ontents)i Fr(to)d(b)r(e)g(scrolled.)22 b Fs(options)149
1051 y Fr(ma)n(y)h(include)h(a)g Ft(:scroll-bar)g Fr(option.)41
b(The)24 b(v)m(alue)f(of)h(this)g(option)f(ma)n(y)g(b)r(e)g
Ft(t)i Fr(\(the)d(default\),)i(whic)n(h)149 1117 y(indicates)h(that)g(b)r
(oth)f(horizon)n(tal)h(and)h(v)n(ertical)g(scroll)g(bars)g(should)f(b)r(e)h
(created;)i Ft(:vertical)p Fr(,)h(whic)n(h)149 1183 y(indicates)15
b(that)g(only)i(a)g(v)n(ertical)f(scroll)g(bar)g(should)g(b)r(e)g(created;)f
(or)h Ft(:horizontal)p Fr(,)j(whic)n(h)d(indicates)g(that)149
1250 y(only)i(a)g(horizon)n(tal)f(scroll)h(bar)g(should)f(b)r(e)h(created.)
149 1383 y(The)d(pane)f(created)g(b)n(y)i(the)f Ft(scrolling)h
Fr(will)h(include)e(a)g Ft(scroller-pane)i Fr(that)d(has)h(as)h(c)n(hildren)f
(the)g(scroll)149 1449 y(bars)j(and)g(a)h Fm(viewp)r(ort)p
Fr(.)25 b(The)19 b(viewp)r(ort)e(of)i(a)g(pane)f(is)h(the)f(area)g(of)g(the)g
(windo)n(w's)i(dra)n(wing)e(plane)g(that)g(is)149 1516 y(curren)n(tly)f
(visible)i(to)e(the)h(user.)24 b(The)17 b(viewp)r(ort)g(has)h(as)g(its)g(c)n
(hild)h(the)e(sp)r(eci\014ed)f(con)n(ten)n(ts.)149 1648 y Fo(Minor)22
b(issue:)54 b Fm(Supply)18 b(the)g(follo)n(wing)g(four)g(de\014nitions.)23
b(|)c(SWM)49 1781 y Fj(\))45 b Ft(pane-viewport)29 b Fs(p)m(ane)1317
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49 1900 y Fj(\))45
b Ft(pane-viewport-region)30 b Fs(p)m(ane)1113 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])49 2019 y Fj(\))45 b Ft(pane-scroller)29
b Fs(p)m(ane)1317 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49
2138 y Fj(\))45 b Ft(scroll-extent)29 b Fs(p)m(ane)22 b(x)d(y)1223
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49 2257 y Fj(\))45
b Ft(label-pane)1653 b Fr([)p Fs(Servic)m(e)23 b(Pane)t Fr(])49
2324 y Fj(\))45 b Ft(labelled)29 b Fs(\()p Ft(&rest)g Fs(options\))21
b Ft(&body)29 b Fs(c)m(ontents)1059 b Fr([)p Fs(Macr)m(o)s
Fr(])149 2443 y(Creates)16 b(a)i(pane)f(that)g(consists)g(of)h(the)g(sp)r
(eci\014ed)e(lab)r(el,)i(whic)n(h)g(is)h(a)f(string.)149 2664
y Fp(29.3.4)75 b(The)25 b(La)n(y)n(out)g(Proto)r(col)149 2833
y Fr(The)19 b(la)n(y)n(out)h(proto)r(col)d(is)j(triggered)d(b)n(y)j
Ft(layout-frame)p Fr(,)h(whic)n(h)f(is)g(called)f(when)f(a)i(frame)d(is)j
(adopted)e(b)n(y)149 2899 y(a)g(frame)e(manager.)149 3032 y(CLIM)23
b(uses)f(a)h(t)n(w)n(o)h(pass)f(algorithm)e(to)i(la)n(y)h(out)e(a)i(pane)e
(hierarc)n(h)n(y)-5 b(.)40 b(In)23 b(the)f(\014rst)h(pass)f(\(called)h
(called)149 3098 y Fm(space)c(comp)r(osition)p Fr(\),)g(the)h(top-lev)n(el)h
(pane)f(is)h(ask)n(ed)g(ho)n(w)f(m)n(uc)n(h)h(space)e(it)i(requires.)32
b(This)21 b(ma)n(y)f(in)h(turn)149 3165 y(lead)i(to)g(same)g(the)f(question)h
(b)r(eing)g(ask)n(ed)g(recursiv)n(ely)h(of)f(all)i(the)e(panes)f(in)i(the)f
(hierarc)n(h)n(y)-5 b(,)26 b(with)d(the)149 3231 y(answ)n(ers)18
b(b)r(eing)h(comp)r(osed)e(to)i(pro)r(duce)e(the)i(top-lev)n(el)h(pane's)f
(answ)n(er.)28 b(Eac)n(h)19 b(pane)g(answ)n(ers)g(the)g(query)149
3297 y(b)n(y)24 b(returning)e(a)i Fm(space)e(requiremen)n(t)f
Fr(\(or)i Ft(space-requirement)p Fr(\))i(ob)s(ject,)f(whic)n(h)f(sp)r
(eci\014es)f(the)h(pane's)149 3364 y(desired)16 b(width)i(and)f(heigh)n(t)h
(as)f(w)n(ell)i(as)f(its)g(willingness)g(to)g(shrink)f(or)h(gro)n(w)f(along)h
(its)g(width)f(and)h(heigh)n(t.)p eop
%%Page: 312 327
bop 149 16 a Fm(CHAPTER)16 b(29.)43 b(P)-5 b(ANES)1629 b Fr(312)149
210 y(In)17 b(the)f(second)g(pass)g(\(called)h Fm(space)e(allo)r(cation)p
Fr(\),)h(the)h(frame)e(manager)g(attempts)e(to)k(obtain)f(the)h(required)149
276 y(amoun)n(t)e(of)i(space)f(from)f(the)i(host)f(windo)n(w)h(system.)23
b(The)16 b(top-lev)n(el)i(pane)e(is)h(allo)r(cated)e(the)h(space)g(that)g(is)
149 342 y(actually)j(a)n(v)m(ailable.)30 b(Eac)n(h)19 b(pane,)h(in)g(turn,)f
(allo)r(cates)f(space)h(recursiv)n(ely)g(to)g(eac)n(h)g(of)h(its)g(descendan)
n(ts)d(in)149 409 y(the)g(hierarc)n(h)n(y)h(according)e(to)i(the)f(pane's)g
(rules)h(of)g(comp)r(osition.)149 542 y Fo(Minor)29 b(issue:)78
b Fm(It)23 b(isn't)h(alw)n(a)n(y)h(p)r(ossible)e(to)g(allo)r(cate)f(the)h
(required)g(space.)40 b(What)23 b(is)h(the)f(proto)r(col)149
608 y(for)e(handling)g(these)g(space)f(allo)r(cation)g(failures?)35
b(Some)20 b(kind)j(of)e(error)g(should)g(b)r(e)g(signalled)g(when)g(the)149
674 y(constrain)n(ts)f(can't)i(b)r(e)g(satis\014ed,)h(whic)n(h)g(can)f(b)r(e)
g(handled)f(b)n(y)j(the)d(application.)37 b(Otherwise)22 b(the)g(panes)149
741 y(will)17 b(fall)f(where)e(they)h(ma)n(y)-5 b(.)24 b(The)16
b Ft(define-application-frame)h Fm(macro)c(should)i(pro)n(vide)h(an)f(option)
g(that)149 807 y(allo)n(ws)k(programme)o(rs)14 b(to)k(con)n(v)n(enien)n(tly)g
(sp)r(ecify)g(a)g(condition)f(handler.)23 b(|)c(ILA)149 940
y Fr(F)-5 b(or)15 b(man)n(y)g(t)n(yp)r(es)g(of)g(panes,)g(the)g(application)f
(programmer)d(can)k(indicate)f(the)h(space)f(requiremen)n(ts)f(of)i(the)149
1007 y(pane)k(at)i(creation)d(time)i(b)n(y)h(using)g(the)e(space)h
(requiremen)n(t)e(options)h(\(describ)r(ed)f(ab)r(o)n(v)n(e\),)j(as)g(w)n
(ell)g(as)g(b)n(y)149 1073 y(calling)e(the)g Ft(change-space-requirements)i
Fr(function)d(\(describ)r(ed)e(b)r(elo)n(w\).)28 b(F)-5 b(or)19
b(example,)g(application)149 1139 y(panes)c(are)h(used)g(to)g(displa)n(y)h
(application-sp)r(eci\014c)d(information,)h(so)h(the)g(application)g(can)f
(determine)f(ho)n(w)149 1206 y(m)n(uc)n(h)j(space)g(should)h(normally)f(b)r
(e)g(giv)n(en)i(to)f(them.)149 1339 y(Other)g(pane)h(t)n(yp)r(es)g
(automatically)e(calculate)h(ho)n(w)i(m)n(uc)n(h)f(space)f(they)h(need)g
(based)g(on)g(the)g(information)149 1405 y(they)f(need)g(to)h(displa)n(y)-5
b(.)29 b(F)-5 b(or)19 b(example,)g(lab)r(el)g(panes)f(automatically)f
(calculate)g(their)i(space)f(requiremen)n(t)149 1472 y(based)f(on)h(the)f
(text)g(they)h(need)f(to)h(displa)n(y)-5 b(.)149 1604 y(A)16
b(comp)r(osite)d(pane)j(calculates)f(its)h(space)f(requiremen)n(t)f(based)i
(on)g(the)f(requiremen)n(ts)f(of)j(its)f(c)n(hildren)g(and)149
1671 y(its)22 b(o)n(wn)g(particular)e(rule)i(for)g(arranging)e(them.)35
b(F)-5 b(or)22 b(example,)g(a)g(pane)f(that)g(arranges)f(its)i(c)n(hildren)g
(in)149 1737 y(a)e(v)n(ertical)g(stac)n(k)h(w)n(ould)f(return)f(as)i(its)f
(desired)f(heigh)n(t)h(the)g(sum)g(of)g(the)g(heigh)n(ts)g(of)g(its)g(c)n
(hildren.)32 b(Note)149 1804 y(ho)n(w)n(ev)n(er)17 b(that)f(a)h(comp)r(osite)
d(is)k(not)e(required)g(b)n(y)i(the)e(la)n(y)n(out)i(proto)r(col)d(to)h(resp)
r(ect)f(the)h(space)g(requests)g(of)149 1870 y(its)i(c)n(hildren;)g(in)h
(fact,)e(comp)r(osite)e(panes)i(aren't)g(ev)n(en)h(required)g(to)f(ask)h
(their)g(c)n(hildren.)149 2003 y(Space)e(requiremen)n(ts)g(are)h(expressed)f
(for)h(eac)n(h)h(of)g(the)f(t)n(w)n(o)h(dimensions)e(as)i(a)g(preferred)e
(size,)i(a)f(minin)n(um)149 2069 y(size)i(b)r(elo)n(w)h(whic)n(h)g(the)f
(pane)g(cannot)f(b)r(e)h(shrunk,)h(and)g(a)f(maxium)g(size)h(ab)r(o)n(v)n(e)f
(whic)n(h)h(the)f(pane)g(cannot)149 2136 y(b)r(e)h(gro)n(wn.)34
b(\(The)21 b(minim)n(um)e(and)i(maxim)n(um)f(sizes)h(can)f(also)i(b)r(e)e(sp)
r(eci\014ed)g(as)h(relativ)n(e)g(amoun)n(ts.\))32 b(All)149
2202 y(sizes)17 b(are)h(sp)r(eci\014ed)e(as)i(a)g(real)g(n)n(um)n(b)r(er)e
(indicating)i(the)f(n)n(um)n(b)r(er)g(of)h(device)f(units)h(\(suc)n(h)f(as)h
(pixels\).)49 2335 y Fj(\))45 b Ft(change-space-requirements)30
b Fs(p)m(ane)16 b Ft(&key)29 b Fs(r)m(esize-fr)m(ame)16 b Ft(&rest)29
b Fs(sp)m(ac)m(e-r)m(e)m(q-keys)k Fr([)p Fs(Generic)21 b(F)l(unction)t
Fr(])149 2534 y(This)i(function)e(can)i(b)r(e)f(in)n(v)n(ok)n(ed)i(to)e
(indicate)g(that)g(the)g(space)g(requiremen)n(ts)e(for)j Fs(p)m(ane)h
Fr(ha)n(v)n(e)g(c)n(hanged.)149 2601 y(An)n(y)17 b(of)g(the)g(options)f(that)
g(applied)h(to)g(the)f(pane)h(at)f(creation)g(time)g(can)h(b)r(e)f(passed)g
(in)n(to)i(this)f(function)f(as)149 2667 y(w)n(ell.)149 2800
y Fs(r)m(esize-fr)m(ame)26 b Fr(determines)21 b(whether)h(the)h(frame)g
(should)g(b)r(e)g(resized)g(to)g(accommo)r(dat)o(e)d(the)j(new)h(space)149
2866 y(requiremen)n(t)16 b(of)i(the)g(hierarc)n(h)n(y)-5 b(.)25
b(If)19 b Fs(r)m(esize-fr)m(ame)i Fr(is)d Fm(true)p Fr(,)g(then)g
Ft(layout-frame)h Fr(will)h(b)r(e)d(in)n(v)n(ok)n(ed)j(on)e(the)149
2933 y(frame.)k(If)16 b Fs(r)m(esize-fr)m(ame)i Fr(is)f Fm(false)p
Fr(,)f(then)f(the)g(frame)f(ma)n(y)i(or)f(ma)n(y)h(not)f(get)g(resized)g(dep)
r(ending)f(on)h(the)g(pane)149 2999 y(hierarc)n(h)n(y)i(and)h(the)f
Ft(:resize-frame)j Fr(option)d(that)g(w)n(as)h(supplied)g(to)f
Ft(define-application-frame)p Fr(.)49 3132 y Fj(\))45 b Ft
(note-space-requirements-changed)31 b Fs(she)m(et)21 b(p)m(ane)656
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 3251 y(This)e(function)f(is)i
(in)n(v)n(ok)n(ed)h(whenev)n(er)e Fs(p)m(ane)p Fr('s)i(space)d(requiremen)n
(ts)f(ha)n(v)n(e)j(c)n(hanged.)30 b Fs(she)m(et)22 b Fr(m)n(ust)e(b)r(e)f
(the)149 3317 y(paren)n(t)14 b(of)i Fs(p)m(ane)p Fr(.)25 b(In)n(v)n(oking)17
b(this)e(function)g(essen)n(tially)h(means)e(that)g Fs(c)m(omp)m(ose-sp)m(ac)
m(e)19 b Fr(will)f(b)r(e)c(rein)n(v)n(ok)n(ed)j(on)149 3384
y Fs(p)m(ane)p Fr(,)22 b(then)d(it)i(will)g(reply)f(with)g(a)g(space)f
(requiremen)n(t)f(that)h(is)i(not)e(equal)h(to)g(the)f(reply)h(that)f(w)n(as)
h(giv)n(en)149 3450 y(on)e(the)f(last)h(call)g(to)g Fs(c)m(omp)m(ose-sp)m(ac)
m(e)p Fr(.)p eop
%%Page: 313 328
bop 149 16 a Fm(CHAPTER)16 b(29.)43 b(P)-5 b(ANES)1629 b Fr(313)149
210 y(This)12 b(function)f(is)h(automatically)e(in)n(v)n(ok)n(ed)j(b)n(y)g
Ft(change-space-requirements)h Fr(in)e(the)f(cases)g(that)g
Ft(layout-)149 276 y(frame)20 b Fr(isn't)f(in)n(v)n(ok)n(ed.)29
b(In)20 b(the)e(case)h(that)f Ft(layout-frame)i Fr(is)g(in)n(v)n(ok)n(ed,)h
(it)f(isn't)f(necessary)e(to)i(call)h Ft(note-)149 342 y
(space-requirements-changed)g Fr(since)d(a)h(complete)e(re-la)n(y)n(out)i(of)
g(the)g(frame)e(will)k(b)r(e)d(executed.)49 475 y Fj(\))45
b Ft(changing-space-requirements)30 b Fs(\()p Ft(&key)f Fs(r)m(esize-fr)m
(ame\))22 b Ft(&body)29 b Fs(b)m(o)m(dy)514 b Fr([)p Fs(Macr)m(o)s
Fr(])149 594 y(This)19 b(macro)e(supp)r(orts)g(batc)n(hing)h(the)g(in)n(v)n
(o)r(cation)h(of)g(the)f(la)n(y)n(out)i(proto)r(col)d(b)n(y)j(calls)f(to)f
Ft(change-space-)149 661 y(requirements)p Fr(.)27 b(Within)19
b(the)f(b)r(o)r(dy)-5 b(,)19 b(all)g(calls)g(to)g Ft
(change-space-requirements)h Fr(c)n(hange)e(the)g(in)n(ternal)149
727 y(structures)12 b(of)k(the)f(pane)g(and)g(are)g(recorded.)21
b(When)15 b(the)g(b)r(o)r(dy)f(is)j(exited,)f(the)e(la)n(y)n(out)j(proto)r
(col)c(is)j(in)n(v)n(ok)n(ed)149 793 y(appropriately)-5 b(.)23
b Fs(b)m(o)m(dy)c Fr(ma)n(y)f(ha)n(v)n(e)h(zero)e(or)h(more)e(declarations)g
(as)i(its)g(\014rst)g(forms.)49 926 y Fj(\))45 b Ft(compose-space)29
b Fs(p)m(ane)1317 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
1045 y(During)17 b(the)g(space)g(comp)r(osition)e(pass,)j(a)f(comp)r(osite)e
(pane)i(will)i(t)n(ypically)g(ask)f(eac)n(h)f(of)h(its)g(c)n(hildren)f(ho)n
(w)149 1112 y(m)n(uc)n(h)11 b(space)h(it)g(requires)g(b)n(y)h(calling)f
Ft(compose-space)p Fr(.)24 b(They)12 b(answ)n(er)g(b)n(y)h(returning)d
Ft(space-requirement)149 1178 y Fr(ob)s(jects.)33 b(The)22
b(comp)r(osite)d(will)k(then)d(form)h(its)h(o)n(wn)g(space)e(requiremen)n(t)f
(b)n(y)k(comp)r(osing)c(the)i(space)f(re-)149 1245 y(quiremen)n(ts)c(of)i
(its)g(c)n(hildren)g(according)e(to)i(its)g(o)n(wn)g(rules)g(for)g(la)n(ying)
h(out)e(its)h(c)n(hildren.)49 1377 y Fj(\))45 b Ft(allocate-space)30
b Fs(p)m(ane)21 b(width)f(height)977 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 1496 y(During)16 b(the)g(space)g(allo)r(cation)f
(pass,)i(a)g(comp)r(osite)d(pane)i(will)i(arrange)d(its)i(c)n(hildren)f
(within)h(the)f(a)n(v)m(ailable)149 1563 y(space)f(and)h(allo)r(cate)e(space)
h(to)h(them)f(according)f(to)i(their)g(space)f(requiremen)n(ts)f(and)h(its)i
(o)n(wn)f(comp)r(osition)149 1629 y(rules)g(b)n(y)i(calling)f
Ft(allocate-space)h Fr(on)e(eac)n(h)h(of)f(the)g(c)n(hild)i(panes.)23
b Fs(width)18 b Fr(and)e Fs(height)j Fr(are)d(the)g(width)h(and)149
1696 y(heigh)n(t)g(of)h Fs(p)m(ane)i Fr(in)f(device)e(units.)49
1829 y Fj(\))45 b Ft(make-space-requirement)30 b(&key)f Fs(\(width)20
b Ft(0)p Fs(\))f(\(max-width)g Ft(0)p Fs(\))g(\(min-width)g
Ft(0)p Fs(\))g(\(height)i Ft(0)p Fs(\))e(\(max-height)149 1895
y Ft(0)p Fs(\))g(\(min-height)j Ft(0)p Fs(\))1621 b Fr([)p
Fs(F)l(unction)t Fr(])149 2014 y(Constructs)16 b(a)k(space)d(requiremen)n(t)g
(ob)s(ject)h(with)h(the)f(giv)n(en)i(c)n(haracteristics,)d
Ft(:width)p Fr(,)j Ft(:height)p Fr(,)h(and)e(so)149 2080 y(on.)49
2213 y Fj(\))45 b Ft(space-requirement-width)30 b Fs(sp)m(ac)m(e-r)m(e)m(q)
1136 b Fr([)p Fs(F)l(unction)t Fr(])49 2280 y Fj(\))45 b Ft(\(setf)29
b(space-requirement-width\))h Fs(size)20 b(sp)m(ac)m(e-r)m(e)m(q)825
b Fr([)p Fs(F)l(unction)t Fr(])49 2346 y Fj(\))45 b Ft
(space-requirement-max-width)30 b Fs(sp)m(ac)m(e-r)m(e)m(q)1020
b Fr([)p Fs(F)l(unction)t Fr(])49 2412 y Fj(\))45 b Ft(\(setf)29
b(space-requirement-max-width\))i Fs(size)19 b(sp)m(ac)m(e-r)m(e)m(q)709
b Fr([)p Fs(F)l(unction)t Fr(])49 2479 y Fj(\))45 b Ft
(space-requirement-min-width)30 b Fs(sp)m(ac)m(e-r)m(e)m(q)1020
b Fr([)p Fs(F)l(unction)t Fr(])49 2545 y Fj(\))45 b Ft(\(setf)29
b(space-requirement-min-width\))i Fs(size)19 b(sp)m(ac)m(e-r)m(e)m(q)709
b Fr([)p Fs(F)l(unction)t Fr(])49 2612 y Fj(\))45 b Ft
(space-requirement-height)30 b Fs(sp)m(ac)m(e-r)m(e)m(q)1107
b Fr([)p Fs(F)l(unction)t Fr(])49 2678 y Fj(\))45 b Ft(\(setf)29
b(space-requirement-height\))i Fs(size)19 b(sp)m(ac)m(e-r)m(e)m(q)796
b Fr([)p Fs(F)l(unction)t Fr(])49 2745 y Fj(\))45 b Ft
(space-requirement-max-height)30 b Fs(sp)m(ac)m(e-r)m(e)m(q)991
b Fr([)p Fs(F)l(unction)t Fr(])49 2811 y Fj(\))45 b Ft(\(setf)29
b(space-requirement-max-height\))i Fs(size)19 b(sp)m(ac)m(e-r)m(e)m(q)680
b Fr([)p Fs(F)l(unction)t Fr(])49 2877 y Fj(\))45 b Ft
(space-requirement-min-height)30 b Fs(sp)m(ac)m(e-r)m(e)m(q)991
b Fr([)p Fs(F)l(unction)t Fr(])49 2944 y Fj(\))45 b Ft(\(setf)29
b(space-requirement-min-height\))i Fs(size)19 b(sp)m(ac)m(e-r)m(e)m(q)680
b Fr([)p Fs(F)l(unction)t Fr(])149 3063 y(These)17 b(functions)g(read)g(or)g
(mo)r(dify)g(the)h(comp)r(onen)n(ts)d(of)j(the)f(space)g(requiremen)n(t)f
Fs(sp)m(ac)m(e-r)m(e)m(q)p Fr(.)p eop
%%Page: 314 329
bop 149 16 a Fm(CHAPTER)16 b(29.)43 b(P)-5 b(ANES)1629 b Fr(314)149
210 y Fk(29.4)91 b(Application)28 b(P)m(anes)149 397 y Fr(In)22
b(addition)f(to)g(the)g(v)m(arious)g(la)n(y)n(out)i(panes)e(and)g(gadgets,)g
(an)h(application)e(usually)j(needs)d(some)h(space)149 464
y(to)f(displa)n(y)h(application-sp)r(eci\014c)d(output)h(and)h(receiv)n(e)h
(application-sp)r(eci\014c)d(input)i(from)f(the)h(user.)31
b(F)-5 b(or)149 530 y(example,)15 b(a)i(pain)n(t)f(program)d(needs)i(a)i
(\\can)n(v)m(as")e(pane)g(on)h(whic)n(h)g(to)g(displa)n(y)h(the)e(picture)g
(and)h(handle)f(the)149 596 y(\\mouse)g(strok)n(es".)23 b(An)17
b(application)f(frame)g(can)h(use)g(the)f(basic)h(CLIM)g(input)g(and)g
(output)f(services)g(in)i(an)149 663 y(application-sp)r(eci\014c)d(w)n(a)n(y)
k(through)e(use)g(of)h(an)g Fm(application)f(pane)p Fr(.)149
796 y(This)c(section)e(describ)r(es)f(the)i(basic)g(CLIM)h(application)e
(pane)h(t)n(yp)r(es.)22 b(Programmers)8 b(are)k(free)g(to)g(customize)149
862 y(pane)i(b)r(eha)n(vior)g(b)n(y)i(de\014ning)f(sub)r(classes)e(of)i
(these)f(pane)g(classes)h(writing)g(metho)r(ds)d(to)j(c)n(hange)f(the)g
(repain)n(t)149 929 y(or)j(ev)n(en)n(t-handling)h(b)r(eha)n(vior.)149
1147 y Fp(29.4.1)75 b(Application)27 b(P)n(ane)e(Options)149
1315 y Fr(CLIM)14 b(application)f(frames)g(accept)f(the)i Ft(:foreground)p
Fr(,)i Ft(:background)p Fr(,)h Ft(:text-style)p Fr(,)g(and)c(la)n(y)n(out)i
(pane)149 1382 y(options.)35 b(The)22 b(space)e(requiremen)n(t)g(options)h
(\()p Ft(:width)p Fr(,)j Ft(:height)p Fr(,)g(and)d(so)h(forth\))f(can)g(also)
h(tak)n(e)g(a)g(size)149 1448 y(sp)r(eci\014cation)11 b(of)j
Ft(:compute)p Fr(,)i(whic)n(h)f(causes)e(CLIM)g(to)h(run)g(the)f(displa)n(y)i
(function)e(for)h(the)f(pane,)h(and)g(mak)n(e)149 1515 y(the)j(pane)g(large)h
(enough)e(to)i(hold)g(the)f(output)g(of)h(the)f(displa)n(y)i(function.)149
1647 y(In)f(addition)f(to)h(the)f(ab)r(o)n(v)n(e,)h(CLIM)g(application)f
(frames)f(accept)h(the)g(follo)n(wing)i(options:)49 1780 y
Fj(\))45 b Ft(:display-function)1597 b Fr([)p Fs(Option)t Fr(])149
1899 y(This)17 b(is)g(used)f(to)g(sp)r(ecify)g(a)g(function)g(to)g(b)r(e)g
(called)g(in)h(order)f(to)g(displa)n(y)h(the)f(con)n(ten)n(ts)f(of)i(a)f
(CLIM)h(stream)149 1966 y(pane.)33 b(CLIM's)22 b(default)e(top)h(lev)n(el)h
(function,)f Ft(default-frame-top-level)p Fr(,)j(function)d(will)h(in)n(v)n
(ok)n(e)h(the)149 2032 y(pane's)c(displa)n(y)i(function)e(at)g(the)g
(appropriate)f(time)h(\(see)g(the)g Ft(:display-time)i Fr(option\).)29
b(The)20 b(v)m(alue)g(of)149 2098 y(this)j(option)g(is)h(either)f(the)f(name)
h(of)g(a)h(function)e(to)h(in)n(v)n(ok)n(e,)k(or)d(a)f(cons)g(whose)g(car)g
(is)h(the)f(name)f(of)i(a)149 2165 y(function)14 b(and)i(whose)f(cdr)g(is)h
(additional)g(argumen)n(ts)d(to)i(the)g(function.)23 b(The)16
b(function)e(will)j(b)r(e)f(in)n(v)n(ok)n(ed)h(on)149 2231
y(the)h(frame,)g(the)g(pane,)h(and)f(the)h(additional)f(function)g(argumen)n
(ts,)f(if)i(an)n(y)-5 b(.)28 b(The)19 b(default)f(for)h(this)f(option)149
2298 y(is)g Ft(nil)p Fr(.)49 2431 y Fj(\))45 b Ft(:display-time)1713
b Fr([)p Fs(Option)t Fr(])149 2550 y(This)26 b(is)h(used)f(to)g(indicate)f
(to)h(CLIM)g(when)g(the)f(pane's)h(displa)n(y)h(function)e(should)h(b)r(e)g
(run.)49 b(If)26 b(it)h(is)149 2616 y Ft(:command-loop)p Fr(,)e(CLIM)d(will)j
(erase)c(the)h(pane's)g(con)n(ten)n(ts)f(and)i(run)f(the)g(displa)n(y)h
(function)f(after)f(eac)n(h)149 2682 y(time)g(a)h(frame)f(command)e(is)k
(executed.)35 b(If)22 b(it)h(is)g Ft(t)p Fr(,)h(the)d(pane)h(will)h(b)r(e)f
(displa)n(y)n(ed)h(once)e(and)h(not)f(again)149 2749 y(un)n(til)16
b Ft(pane-needs-redisplay)i Fr(is)f(called)f(on)g(the)f(pane.)23
b(If)17 b(it)f(is)h Ft(nil)p Fr(,)g(CLIM)f(will)i(nev)n(er)e(run)f(the)h
(displa)n(y)149 2815 y(function)d(un)n(til)j(it)f(is)g(explicitly)h
(requested,)d(either)h(via)h Ft(pane-needs-redisplay)i Fr(or)d
Ft(redisplay-frame-)149 2882 y(pane)p Fr(.)25 b(The)18 b(default)f(for)g
(this)h(option)g(v)m(aries.)49 3014 y Fj(\))45 b Ft(:incremental-redisplay)
1452 b Fr([)p Fs(Option)t Fr(])149 3133 y(When)14 b Fm(true)p
Fr(,)i(the)e(redispla)n(y)i(function)e(will)i(initially)h(b)r(e)e(executed)e
(inside)j(of)f(an)g(in)n(v)n(o)r(cation)g(to)g Ft(updating-)149
3200 y(output)21 b Fr(and)f(the)g(resulting)g(output)f(record)g(will)j(b)r(e)
e(sa)n(v)n(ed.)32 b(Subsequen)n(t)19 b(calls)i(to)f Ft(redisplay-frame-)149
3266 y(pane)e Fr(will)i(simply)e(use)g Ft(redisplay)h Fr(to)e(redispla)n(y)h
(the)g(pane.)23 b(The)18 b(default)f(for)h(this)g(option)f(is)i
Ft(nil)p Fr(.)49 3399 y Fj(\))45 b Ft(:text-margin)1742 b Fr([)p
Fs(Option)t Fr(])49 3466 y Fj(\))45 b Ft(:vertical-spacing)1597
b Fr([)p Fs(Option)t Fr(])p eop
%%Page: 315 330
bop 149 16 a Fm(CHAPTER)16 b(29.)43 b(P)-5 b(ANES)1629 b Fr(315)149
210 y(These)16 b(options)h(sp)r(ecify)f(the)h(default)f(text)h(margin)f
(\(that)g(is,)j(ho)n(w)e(m)n(uc)n(h)g(space)f(is)i(left)g(around)e(the)h
(inside)149 276 y(edge)d(of)h(the)g(pane\))f(and)g(v)n(ertical)h(spacing)g
(\(that)e(is,)k(ho)n(w)f(m)n(uc)n(h)e(space)g(is)i(b)r(et)n(w)n(een)e(eac)n
(h)h(text)f(line\))h(for)g(the)149 342 y(pane.)22 b(The)15
b(default)f(for)h Ft(:text-margin)h Fr(is)f(the)g(width)g(of)g(the)f(windo)n
(w,)i(and)f(the)f(default)g(for)h Ft(:vertical-)149 409 y(spacing)k
Fr(is)f(2.)49 542 y Fj(\))45 b Ft(:end-of-line-action)1539
b Fr([)p Fs(Option)t Fr(])49 608 y Fj(\))45 b Ft(:end-of-page-action)1539
b Fr([)p Fs(Option)t Fr(])149 727 y(These)24 b(options)g(sp)r(ecify)h(the)f
(end-of-line)h(and)g(end-of-page)f(actions)g(to)h(b)r(e)f(used)h(for)f(the)h
(pane.)45 b(The)149 793 y(default)17 b(for)g(these)g(options)g(are)h
Ft(:wrap)g Fr(and)g Ft(:scroll)p Fr(,)h(resp)r(ectiv)n(ely)-5
b(.)49 926 y Fj(\))45 b Ft(:output-history)1655 b Fr([)p Fs(Option)t
Fr(])149 1045 y(This)25 b(option)f(names)f(the)h(class)h(to)f(b)r(e)g(used)g
(for)h(the)f(output)f(history)h(for)h(the)f(pane.)44 b(The)24
b(default)g(is)149 1112 y Ft(standard-tree-output-history)p
Fr(.)149 1333 y Fp(29.4.2)75 b(Application)27 b(P)n(ane)e(Classes)49
1502 y Fj(\))45 b Ft(clim-stream-pane)1479 b Fr([)p Fs(Servic)m(e)23
b(Pane)t Fr(])149 1621 y(This)15 b(class)h(implemen)n(ts)d(a)j(pane)e(that)h
(supp)r(orts)e(the)h(CLIM)i(graphics,)f(extended)e(input)i(and)g(output,)g
(and)149 1687 y(output)h(recording)g(proto)r(cols.)23 b(Most)17
b(application)g(panes)g(will)i(b)r(e)f(sub)r(classes)e(of)i(this)g(class.)49
1820 y Fj(\))45 b Ft(interactor-pane)1508 b Fr([)p Fs(Servic)m(e)23
b(Pane)t Fr(])149 1939 y(The)d(pane)h(class)f(that)g(is)i(used)e(to)h
(implemen)n(t)e(\\in)n(teractor")f(panes.)32 b(The)21 b(default)f(metho)r(d)e
(for)j Ft(frame-)149 2005 y(standard-input)e Fr(will)g(return)e(the)g
(\014rst)g(pane)h(of)g(this)g(t)n(yp)r(e.)149 2138 y(F)-5 b(or)18
b Ft(interactor-pane)p Fr(,)h(the)e(default)f(for)i Ft(:display-time)g
Fr(is)g Ft(nil)h Fr(and)e(the)g(default)f(for)i Ft(:scroll-bars)149
2205 y Fr(is)g Ft(:vertical)p Fr(.)49 2337 y Fj(\))45 b Ft(application-pane)
1479 b Fr([)p Fs(Servic)m(e)23 b(Pane)t Fr(])149 2456 y(The)18
b(pane)h(class)f(that)g(is)i(used)e(to)h(implemen)n(t)e(\\application")g
(panes.)26 b(The)19 b(default)f(metho)r(d)e(for)j Ft(frame-)149
2523 y(standard-output)g Fr(will)h(return)c(the)h(\014rst)h(pane)f(of)h(this)
g(t)n(yp)r(e.)149 2656 y(F)-5 b(or)22 b Ft(application-pane)p
Fr(,)i(the)d(default)g(for)g Ft(:display-time)i Fr(is)g Ft(:command-loop)g
Fr(and)e(the)g(default)g(for)149 2722 y Ft(:scroll-bars)e Fr(is)f
Ft(t)p Fr(.)49 2855 y Fj(\))45 b Ft(command-menu-pane)1450
b Fr([)p Fs(Servic)m(e)23 b(Pane)t Fr(])149 2974 y(The)d(pane)f(class)h(that)
f(is)i(used)f(to)f(implemen)n(t)g(command)e(men)n(u)i(panes)h(that)f(are)g
(not)h(men)n(u)f(bars.)31 b(The)149 3040 y(default)17 b(displa)n(y)i
(function)d(for)i(panes)f(of)h(this)g(t)n(yp)r(e)g(is)g Ft
(display-command-menu)p Fr(.)149 3173 y(F)-5 b(or)28 b Ft(command-menu-pane)p
Fr(,)k(the)c(default)f(for)h Ft(:display-time)h Fr(is)f Ft(:command-loop)p
Fr(,)33 b(the)27 b(default)g(for)149 3240 y Ft(:incremental-redisplay)19
b Fr(is)g Ft(t)p Fr(,)g(and)f(the)f(default)g(for)h Ft(:scroll-bars)h
Fr(is)f Ft(t)p Fr(.)49 3372 y Fj(\))45 b Ft(title-pane)1653
b Fr([)p Fs(Servic)m(e)23 b(Pane)t Fr(])p eop
%%Page: 316 331
bop 149 16 a Fm(CHAPTER)16 b(29.)43 b(P)-5 b(ANES)1629 b Fr(316)149
210 y(The)17 b(pane)f(class)h(that)f(is)i(used)f(to)g(implemen)n(t)e(a)i
(title)g(pane.)24 b(The)17 b(default)f(displa)n(y)i(function)e(for)h(panes)g
(of)149 276 y(this)h(t)n(yp)r(e)f(is)i Ft(display-title)p Fr(.)149
409 y(F)-5 b(or)18 b Ft(title-pane)p Fr(,)h(the)f(default)f(for)g
Ft(:display-time)j Fr(is)e Ft(t)h Fr(and)e(the)h(default)f(for)h
Ft(:scroll-bars)h Fr(is)f Ft(nil)p Fr(.)49 542 y Fj(\))45 b
Ft(pointer-documentation-pane)1189 b Fr([)p Fs(Servic)m(e)23
b(Pane)t Fr(])149 661 y(The)17 b(pane)h(class)f(that)g(is)i(used)e(to)h
(implemen)n(t)e(the)h(p)r(oin)n(ter)g(do)r(cumen)n(tation)e(pane.)149
793 y(F)-5 b(or)22 b Ft(pointer-documentation-pane)p Fr(,)j(the)c(default)g
(for)g Ft(:display-time)i Fr(is)f Ft(nil)h Fr(and)e(the)g(default)g(for)149
860 y Ft(:scroll-bars)e Fr(is)f Ft(nil)p Fr(.)149 1081 y Fp(29.4.3)75
b(Making)27 b(CLIM)d(Application)j(P)n(anes)149 1250 y Fr(Most)18
b(CLIM)h(application)f(panes)g(will)j(con)n(tain)d(more)g(information)f(than)
h(can)g(b)r(e)h(displa)n(y)n(ed)h(in)f(the)g(allo-)149 1316
y(cated)h(space,)i(so)g(scroll)g(bars)f(are)h(nearly)f(alw)n(a)n(ys)i
(desirable.)35 b(CLIM)22 b(therefore)d(pro)n(vides)j(a)g(con)n(v)n(enien)n(t)
149 1383 y(form)c(for)i(creating)e(comp)r(osite)f(panes)i(that)g(include)g
(the)h(CLIM)f(stream)f(pane,)i(scroll)g(bars,)g(lab)r(els,)g(and)149
1449 y(so)e(forth.)49 1582 y Fj(\))45 b Ft(make-clim-stream-pane)30
b(&rest)f Fs(options)15 b Ft(&key)30 b Fs(typ)m(e)15 b(lab)m(el)h(scr)m(ol)s
(l-b)m(ars)g Ft(&allow-other-keys)59 b Fr([)p Fs(F)l(unction)t
Fr(])149 1781 y(Creates)20 b(a)h(pane)g(of)h(t)n(yp)r(e)f Fs(typ)m(e)p
Fr(,)k(whic)n(h)d(defaults)e(to)i Ft(clim-stream-pane)p Fr(.)37
b(If)22 b Fs(lab)m(el)h Fr(is)g(supplied,)f(it)g(is)h(a)149
1848 y(string)17 b(used)g(to)g(lab)r(el)h(the)f(pane.)23 b
Fs(scr)m(ol)s(l-b)m(ars)d Fr(ma)n(y)e(b)r(e)f Ft(t)h Fr(to)g(indicate)f(that)
f(b)r(oth)h(v)n(ertical)g(and)h(horizon)n(tal)149 1914 y(scroll)13
b(bars)g(should)g(b)r(e)f(included,)i Ft(:vertical)h Fr(\(the)d(default\))g
(to)h(indicate)f(that)h(v)n(ertical)g(scroll)g(bars)g(should)149
1980 y(b)r(e)k(included,)h(or)g Ft(:horizontal)h Fr(to)e(indicate)g(that)g
(horizon)n(tal)g(scroll)h(bars)g(should)f(b)r(e)h(included.)149
2113 y(The)f(other)g(options)g(ma)n(y)h(include)g(all)h(of)f(the)f(v)m(alid)i
(CLIM)e(application)g(pane)h(options.)49 2246 y Fj(\))45 b
Ft(make-clim-interactor-pane)30 b(&rest)g Fs(options)940 b
Fr([)p Fs(F)l(unction)t Fr(])149 2365 y(Lik)n(e)18 b Ft
(make-clim-stream-pane)p Fr(,)i(except)d(that)g(the)g(t)n(yp)r(e)h(is)h
(forced)d(to)i(b)r(e)f Ft(interactor-pane)p Fr(.)49 2498 y
Fj(\))45 b Ft(make-clim-application-pane)30 b(&rest)g Fs(options)911
b Fr([)p Fs(F)l(unction)t Fr(])149 2617 y(Lik)n(e)18 b Ft
(make-clim-stream-pane)p Fr(,)i(except)d(that)g(the)g(t)n(yp)r(e)h(is)h
(forced)d(to)i(b)r(e)f Ft(application-pane)p Fr(.)149 2838
y Fp(29.4.4)75 b(CLIM)25 b(Application)i(P)n(ane)e(F)-6 b(unctions)149
3007 y Fr(The)13 b(follo)n(wing)h(functions)e(can)h(b)r(e)g(called)g(on)h(an)
n(y)g(pane)e(that)h(is)h(a)f(sub)r(class)f(of)i Ft(clim-stream-pane)p
Fr(.)24 b(\(Suc)n(h)149 3073 y(a)17 b(pane)g(is)h(often)f(simply)h(referred)d
(to)i(as)h(a)g Fm(windo)n(w)p Fr(.\))24 b(These)17 b(are)g(pro)n(vided)g
(purely)g(as)h(a)f(con)n(v)n(enience)g(for)149 3140 y(programmer)o(s.)49
3273 y Fj(\))45 b Ft(window-clear)29 b Fs(window)1277 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 3392 y(Clears)g(the)g(en)n(tire)g(dra)
n(wing)g(plane)h(b)n(y)g(\014lling)h(it)f(with)f(the)g(bac)n(kground)g
(design)g(of)g(the)g(CLIM)h(stream)149 3458 y(pane)17 b Fs(window)p
Fr(.)25 b(If)18 b Fs(window)h Fr(has)f(an)g(output)e(history)-5
b(,)18 b(that)f(is)i(cleared)d(as)i(w)n(ell.)26 b(The)18 b(text)f(cursor)g(p)
r(osition)p eop
%%Page: 317 332
bop 149 16 a Fm(CHAPTER)16 b(29.)37 b(P)-5 b(ANES)1635 b Fr(317)149
210 y(of)18 b Fs(window)p Fr(,)h(if)g(there)d(is)j(one,)f(is)g(reset)f(to)h
(the)f(upp)r(er)f(left)i(corner.)49 342 y Fj(\))45 b Ft(window-refresh)30
b Fs(window)1218 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
461 y(Clears)d(the)g(visible)h(part)f(of)h(the)e(dra)n(wing)i(plane)f(of)h
(the)f(CLIM)g(stream)e(pane)i Fs(window)p Fr(,)i(and)e(then)g(if)h(the)149
528 y(windo)n(w)26 b(stream)d(is)j(an)f(output)f(recording)g(stream,)h(the)g
(output)f(records)f(in)j(the)f(visible)h(part)f(of)g(the)149
594 y(windo)n(w)18 b(are)f(repla)n(y)n(ed.)49 727 y Fj(\))45
b Ft(window-viewport)30 b Fs(window)1189 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 846 y(Returns)14 b(the)h(viewp)r(ort)g(region)g(of)h
(the)f(CLIM)h(stream)e(pane)h Fs(window)p Fr(.)24 b(The)16
b(returned)e(region)h(will)i(usually)149 912 y(b)r(e)g(a)h
Ft(standard-bounding-rectangle)p Fr(.)49 1045 y Fj(\))45 b
Ft(window-erase-viewport)30 b Fs(window)1015 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 1164 y(Clears)c(the)g(visible)h(part)f(of)h(the)f
(dra)n(wing)g(plane)g(of)h(the)f(CLIM)g(stream)f(pane)h Fs(window)h
Fr(b)n(y)g(\014lling)h(it)f(with)149 1231 y(the)e(bac)n(kground)f(design.)49
1364 y Fj(\))45 b Ft(window-viewport-position)30 b Fs(window)928
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1483 y(Returns)12
b(t)n(w)n(o)i(v)m(alues,)h(the)e Fn(x)h Fr(and)f Fn(y)j Fr(p)r(osition)d(of)h
(the)f(top-left)g(corner)f(of)i(the)f(CLIM)g(stream)f(pane)h
Fs(window)p Fr('s)149 1549 y(viewp)r(ort.)49 1682 y Fj(\))45
b Ft(\(setf*)29 b(window-viewport-position\))i Fs(x)19 b(y)h(window)603
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1801 y(Sets)17
b(the)g(p)r(osition)g(of)h(the)f(CLIM)h(stream)e(pane)h Fs(window)p
Fr('s)i(viewp)r(ort)e(to)h Fs(x)g Fr(and)f Fs(y)p Fr(.)149
2048 y Fk(29.5)91 b(De\014ning)30 b(New)h(P)m(ane)f(T)m(yp)s(es)149
2236 y Fr(This)18 b(section)f(describ)r(es)f(ho)n(w)i(to)g(de\014ne)f(new)g
(pane)h(classes.)149 2456 y Fp(29.5.1)75 b(De\014ning)25 b(Leaf)g(P)n(anes)
149 2624 y Fr(T)-5 b(o)25 b(de\014ne)f(a)i(gadget)d(pane)i(implemen)n
(tation,)f(\014rst)g(de\014ne)g(the)h(app)r(earance)d(and)j(la)n(y)n(out)g(b)
r(eha)n(vior)g(of)149 2691 y(the)19 b(gadget,)f(then)h(de\014ne)f(the)h
(callbac)n(ks,)i(then)d(de\014ne)h(the)g(sp)r(eci\014c)f(user)h(in)n
(teractions)f(that)g(trigger)g(the)149 2757 y(callbac)n(ks.)149
2890 y(F)-5 b(or)19 b(example,)g(to)h(de\014ne)e(an)h(o)r(dd)g(new)g(kind)h
(of)f(button)f(that)h(displa)n(ys)h(itself)f(as)h(a)f(circle,)h(and)f(activ)m
(ates)149 2956 y(whenev)n(er)e(the)g(mouse)g(is)h(mo)n(v)n(ed)g(o)n(v)n(er)g
(it,)h(pro)r(ceed)d(as)i(follo)n(ws:)149 3133 y Ft(;;)29 b(A)g(new)g(kind)g
(of)h(button)149 3200 y(\(defclass)f(sample-button-pane)h(\(gadget-pane\))g
(\(\)\))149 3333 y(;;)f(An)g(arbitrary)h(size)f(parameter)149
3399 y(\(defparameter)g(*sample-button-radius*)i(10\))p eop
%%Page: 318 333
bop 149 16 a Fm(CHAPTER)16 b(29.)43 b(P)-5 b(ANES)1629 b Fr(318)149
210 y Ft(;;)29 b(Define)g(the)g(sheet's)h(repaint)f(method)h(to)f(draw)g(the)
h(button.)149 276 y(\(defmethod)f(handle-repaint)h(\(\(button)g
(sample-button-pane\))g(region)933 342 y(&key)g(medium)f(&allow-other-keys\))
207 409 y(\(let)g(\(\(radius)h(*sample-button-radius*\))381
475 y(\(half)f(\(round)59 b(*sample-button-radius*)30 b(2\)\)\))265
542 y(;;)f(Larger)g(circle)h(with)f(small)h(one)f(in)g(the)g(center.)265
608 y(\(draw-circle*)h(medium)f(radius)h(radius)f(radius)672
674 y(:filled)g(nil\))265 741 y(\(draw-circle*)h(medium)f(radius)h(radius)f
(half)672 807 y(:filled)g(t\)\)\))149 940 y(;;;)g(Define)g(the)h(pane's)f
(compose-space)h(method)f(to)g(always)h(request)f(the)149 1007
y(;;;)g(fixed)g(size)h(of)f(the)g(pane.)149 1073 y(\(defmethod)g
(compose-space)h(\(\(pane)g(sample-button-pane\)\))207 1139
y(\(make-space-requirement)g(:width)59 b(\(*)29 b(2)g
(*sample-button-radius*\))904 1206 y(:height)h(\(*)f(2)g
(*sample-button-radius*\)\)\))149 1394 y Fr(The)19 b(ab)r(o)n(v)n(e)g(co)r
(de)e(is)j(enough)e(to)h(allo)n(w)h(y)n(ou)f(to)g(instan)n(tiate)f(the)g
(button)g(pane)g(in)i(an)f(application)f(frame.)149 1460 y(It)g(will)i(\014t)
e(in)h(with)f(the)g(space)f(comp)r(osition)f(proto)r(col)g(of,)j(for)f
(example,)g(an)g Ft(hbox-pane)p Fr(.)27 b(It)18 b(will)i(displa)n(y)149
1527 y(itself)e(as)g(t)n(w)n(o)g(nested)f(circles.)149 1660
y(The)h(next)f(step)h(is)g(to)g(de\014ne)f(the)h(callbac)n(ks)g(supp)r(orted)
d(b)n(y)k(this)f(gadget,)f(and)h(the)g(user)f(in)n(teraction)g(that)149
1726 y(triggers)f(them.)149 1914 y Ft(;;)29 b(This)g(default)h(method)f(is)g
(defined)h(so)f(that)g(the)g(callback)h(can)f(be)g(invoked)149
1981 y(;;)g(on)g(an)g(arbitrary)h(client)f(value)h(without)f(error.)149
2047 y(\(defmethod)g(value-change-callback)468 2114 y(\(\(button)h
(sample-button-pane\))g(client)f(id)h(value\))207 2180 y(\(declare)f
(\(ignore)h(client)f(id)g(value\)\)\))149 2313 y(;;)g(This)g(event)g
(processing)h(method)g(defines)f(the)g(rather)h(odd)f(interaction)149
2379 y(;;)g(style)g(of)g(this)h(button,)f(to)g(whit:)h(it)f(triggers)g(the)h
(activate)f(callback)149 2446 y(;;)g(whenever)g(the)h(mouse)f(moves)g(into)h
(it.)149 2512 y(\(defmethod)f(enter-region)h(\(\(pane)f(sample-button-pane\))
i(&key)e(&allow-other-keys\))207 2578 y(\(value-change-callback)h(pane)f
(\(gadget-client)h(pane\))g(\(gadget-id)f(pane\))h(nil\)\))149
2800 y Fp(29.5.2)75 b(De\014ning)25 b(Comp)r(osite)i(P)n(anes)149
2968 y Fo(Minor)22 b(issue:)54 b Fm(T)-5 b(o)19 b(b)r(e)e(supplied.)24
b(|)19 b(ILA)p eop
%%Page: 319 334
bop 149 691 a Fl(Chapter)46 b(30)149 1034 y Fq(Gadgets)149
1422 y Fk(30.1)91 b(Ov)m(erview)31 b(of)g(Gadgets)149 1609
y Fm(Gadgets)19 b Fr(are)g(panes)g(that)h(implemen)n(t)e(suc)n(h)i(common)d
(to)r(olkit)j(comp)r(onen)n(ts)d(as)j(push)f(buttons)g(or)h(scroll)149
1676 y(bars.)30 b(Eac)n(h)19 b(gadget)f(class)i(has)g(a)g(set)f(of)h(asso)r
(ciated)e(generic)h(functions)f(that)h(serv)n(e)h(the)f(same)g(role)h(that)
149 1742 y(callbac)n(ks)h(serv)n(e)g(in)h(traditional)f(to)r(olkits.)34
b(F)-5 b(or)22 b(example,)f(a)h(push)f(button)f(has)h(an)g(\\activ)m(ate")e
(callbac)n(k)149 1809 y(function)13 b(that)h(is)i(in)n(v)n(ok)n(ed)g(when)f
(its)g(button)e(is)i(\\pressed";)g(a)g(scroll)g(bar)f(has)h(a)g(\\v)m(alue)f
(c)n(hanged")f(callbac)n(k)149 1875 y(that)k(is)h(in)n(v)n(ok)n(ed)i(after)d
(its)h(indicator)f(has)g(b)r(een)g(mo)n(v)n(ed.)149 2008 y(The)k(gadget)e
(de\014nitions)h(sp)r(eci\014ed)g(b)n(y)i(CLIM)f(are)f(abstract,)h(that)f
(is,)j(the)d(gadget)g(de\014nition)g(do)r(es)g(not)149 2074
y(sp)r(ecify)f(the)g(exact)h(user)f(in)n(terface)g(of)h(the)f(gadget,)h(but)f
(only)i(sp)r(eci\014es)d(the)i(seman)n(tics)e(that)h(the)g(gadget)149
2141 y(should)i(pro)n(vide.)36 b(F)-5 b(or)22 b(instance,)f(it)h(is)h(not)e
(de\014ned)f(whether)g(the)h(user)g(clic)n(ks)i(on)e(a)h(push)f(button)g
(with)149 2207 y(the)e(mouse)f(or)i(mo)n(v)n(es)g(the)f(mouse)f(o)n(v)n(er)j
(the)e(button)f(and)i(then)f(presses)g(some)f(k)n(ey)j(on)f(the)f(k)n(eyb)r
(oard)g(to)149 2274 y(in)n(v)n(ok)n(e)h(the)d(\\activ)m(ate")f(callbac)n(k.)
26 b(Eac)n(h)17 b(to)r(olkit)h(implemen)n(tations)d(will)20
b(sp)r(ecify)e(the)f(\\lo)r(ok)h(and)g(feel")g(of)149 2340
y(their)f(gadgets.)23 b(T)n(ypically)-5 b(,)20 b(the)d(lo)r(ok)h(and)g(feel)g
(will)h(b)r(e)f(deriv)n(ed)g(directly)f(from)g(the)g(underlying)h(to)r
(olkit.)149 2473 y(Eac)n(h)d(of)h(CLIM's)g(abstract)e(gadgets)g(has)i(at)g
(least)f(one)h(standard)e(implemen)n(tation)f(that)i(is)i(written)e(using)149
2539 y(the)22 b(facilities)g(pro)n(vided)g(solely)h(b)n(y)h(CLIM)e(itself.)38
b(The)23 b(gadgets')e(app)r(earances)e(are)j(ac)n(hiev)n(ed)g(via)h(calls)149
2606 y(to)18 b(the)f(CLIM)h(graphics)f(functions,)g(and)h(their)g(in)n
(teractiv)n(e)f(b)r(eha)n(vior)g(is)i(de\014ned)e(in)i(terms)d(of)i(the)g
(CLIM)149 2672 y(input)i(ev)n(en)n(t)g(pro)r(cessing)e(mec)n(hanism.)29
b(Since)19 b(these)g(gadget)g(implemen)n(tations)e(are)j(written)f(en)n
(tirely)h(in)149 2738 y(terms)11 b(of)j(CLIM,)g(they)f(are)g(p)r(ortable)e
(across)i(all)h(supp)r(orted)d(CLIM)i(host)g(windo)n(w)h(systems.)21
b(F)-5 b(urthermore,)149 2805 y(since)22 b(the)f(sp)r(eci\014c)g(lo)r(ok)i
(and)f(feel)g(of)g(eac)n(h)g(suc)n(h)g(gadget)f(is)i(\\\014xed")f(in)h(CLIM)f
(Lisp)g(co)r(de,)h(the)e(gadget)149 2871 y(implemen)n(tation)15
b(will)k(lo)r(ok)f(and)g(b)r(eha)n(v)n(e)f(the)h(same)e(in)j(all)g(en)n
(vironmen)n(ts.)149 3121 y Fk(30.2)91 b(Abstract)30 b(Gadgets)149
3308 y Fr(The)13 b(push)h(button)e(and)i(slider)g(gadgets)e(alluded)i(to)f
(ab)r(o)n(v)n(e)h(are)f Fm(abstract)f(gadgets)p Fr(.)21 b(The)14
b(callbac)n(k)g(in)n(terface)149 3375 y(to)g(all)h(of)f(the)g(v)m(arious)f
(implemen)n(tations)f(of)i(the)g(gadget)e(is)j(de\014ned)e(b)n(y)i(the)f
(abstract)e(class.)23 b(In)14 b(the)g Ft(:panes)149 3441 y
Fr(clause)h(of)h Ft(define-application-frame)p Fr(,)i(the)d(abbreviation)f
(for)i(a)g(gadget)e(is)i(the)g(name)e(of)i(the)f(abstract)1262
3632 y(319)p eop
%%Page: 320 335
bop 149 16 a Fm(CHAPTER)16 b(30.)37 b(GADGETS)1542 b Fr(320)149
210 y(gadget)16 b(class.)149 342 y(A)n(t)j(pane)f(creation)f(time)i(\(that)e
(is,)k Ft(make-pane)p Fr(\),)f(the)e(frame)g(manager)f(resolv)n(es)h(the)h
(abstract)e(class)h(in)n(to)149 409 y(a)g(sp)r(eci\014c)f(implemen)n(tation)e
(class;)k(the)f(implemen)n(tation)d(classes)j(sp)r(ecify)f(the)h(detailed)f
(lo)r(ok)h(and)g(feel)h(of)149 475 y(the)h(gadget.)32 b(Eac)n(h)21
b(frame)e(manager)g(will)k(k)n(eep)e(a)g(mapping)f(from)f(abstract)g(gadgets)
g(to)i(an)g(implemen-)149 542 y(tation)f(class;)j(if)g(the)d(frame)g(manager)
f(do)r(es)i(not)f(implemen)n(t)g(its)i(o)n(wn)f(gadget)f(for)h(the)g
(abstract)e(gadget)149 608 y(classes)d(in)i(the)f(follo)n(wing)h(sections,)e
(it)i(should)f(use)g(the)f(p)r(ortable)g(class)h(pro)n(vided)g(b)n(y)h(CLIM.)
g(Since)e(ev)n(ery)149 674 y(implemen)n(tation)e(of)k(an)f(abstract)e(gadget)
h(class)h(is)i(a)e(sub)r(class)f(of)i(the)f(abstract)e(class,)i(they)h(all)g
(share)e(the)149 741 y(same)g(programmer)e(in)n(terface.)149
961 y Fp(30.2.1)75 b(Using)27 b(Gadgets)149 1130 y Fr(Ev)n(ery)12
b(gadget)f(has)h(a)h Fm(clien)n(t)g Fr(that)e(is)i(sp)r(eci\014ed)e(when)h
(the)f(gadget)g(is)i(created.)21 b(The)12 b(clien)n(t)h(is)g(noti\014ed)e
(via)i(the)149 1196 y(callbac)n(k)h(mec)n(hanism)d(when)j(an)n(y)g(imp)r
(ortan)n(t)e(user)h(in)n(teraction)f(tak)n(es)i(place.)22 b(T)n(ypically)-5
b(,)17 b(a)d(gadget's)f(clien)n(t)149 1262 y(will)20 b(b)r(e)e(an)h
(application)f(frame)f(or)i(a)f(comp)r(osite)e(pane.)27 b(Eac)n(h)18
b(callbac)n(k)h(generic)f(function)f(is)j(in)n(v)n(ok)n(ed)g(on)149
1329 y(the)15 b(gadget,)f(its)i(clien)n(t,)h(the)e(gadget)f(id)i(\(describ)r
(ed)d(b)r(elo)n(w\),)j(and)f(other)f(argumen)n(ts)f(that)i(v)m(ary)h(dep)r
(ending)149 1395 y(on)i(the)f(callbac)n(k.)149 1528 y(F)-5
b(or)27 b(example,)i(the)e(argumen)n(t)d(list)k(for)f Ft(activate-callback)i
Fr(lo)r(oks)e(lik)n(e)i Fs(\(gadget)h(client)g(gadget-id\))p
Fr(.)149 1595 y(Assuming)24 b(the)h(programmer)e(has)i(de\014ned)g(an)h
(application)f(frame)g(called)h Ft(button-test)h Fr(that)e(has)h(a)149
1661 y(CLIM)17 b(stream)f(pane)i(in)g(the)f(slot)h Ft(output-pane)p
Fr(,)i(he)e(could)f(write)h(the)f(follo)n(wing)i(metho)r(d:)149
1842 y Ft(\(defmethod)29 b(activate-callback)468 1908 y(\(\(button)h
(push-button\))g(\(client)f(button-test\))h(gadget-id\))207
1975 y(\(with-slots)f(\(output-pane\))h(client)265 2041 y(\(format)f
(output-pane)h("The)f(button)h(~S)f(was)g(pressed,)h(client)f(~S,)g(id)g
(~S.")352 2107 y(button)g(client)h(gadget-id\)\)\))149 2288
y Fr(One)21 b(problem)f(with)h(this)h(example)e(is)i(that)f(it)g(di\013eren)n
(tiates)f(on)i(the)f(class)g(of)g(the)g(gadget,)g(not)g(on)g(the)149
2355 y(particular)e(gadget)f(instance.)31 b(That)20 b(is,)i(the)e(same)f
(metho)r(d)f(will)k(run)e(for)g(ev)n(ery)h(push)f(button)f(that)g(has)149
2421 y(the)e Ft(button-test)i Fr(frame)e(as)g(its)i(clien)n(t.)149
2554 y(One)f(w)n(a)n(y)h(to)f(distinguish)g(b)r(et)n(w)n(een)f(the)g(v)m
(arious)h(gadgets)e(is)j(via)g(the)f Fm(gadget)e(id)p Fr(,)k(whic)n(h)e(is)h
(also)f(sp)r(eci\014ed)149 2620 y(when)g(the)f(gadget)g(is)i(created.)24
b(The)18 b(v)m(alue)g(of)g(the)g(gadget)f(id)i(is)g(passed)e(as)h(the)g
(third)g(argumen)n(t)e(to)i(eac)n(h)149 2687 y(callbac)n(k)f(generic)f
(function.)23 b(In)17 b(this)g(case,)f(if)i(w)n(e)g(ha)n(v)n(e)f(t)n(w)n(o)h
(buttons,)d(w)n(e)j(migh)n(t)e(install)i Ft(start)f Fr(and)g
Ft(stop)149 2753 y Fr(as)23 b(the)f(resp)r(ectiv)n(e)g(gadget)f(ids)j(and)e
(then)g(use)h Ft(eql)h Fr(sp)r(ecializers)d(on)i(the)g(gadget)e(ids.)40
b(W)-5 b(e)24 b(could)f(then)149 2820 y(re\014ne)17 b(the)g(ab)r(o)n(v)n(e)h
(as:)149 3001 y Ft(\(defmethod)29 b(activate-callback)468 3067
y(\(\(button)h(push-button\))g(\(client)f(button-test\))h(\(gadget-id)f
(\(eql)h('start\)\)\))207 3133 y(\(start-test)f(client\)\))149
3266 y(\(defmethod)g(activate-callback)468 3333 y(\(\(button)h(push-button\))
g(\(client)f(button-test\))h(\(gadget-id)f(\(eql)h('stop\)\)\))207
3399 y(\(stop-test)f(client\)\))p eop
%%Page: 321 336
bop 149 16 a Fm(CHAPTER)16 b(30.)37 b(GADGETS)1542 b Fr(321)149
210 y Ft(;;)29 b(Create)g(the)g(start)h(and)f(stop)g(push)h(buttons)149
276 y(\(make-pane)f('push-button)468 342 y(:label)h("Start")468
409 y(:client)g(frame)f(:id)g('start\))149 475 y(\(make-pane)g('push-button)
468 542 y(:label)h("Stop")468 608 y(:client)g(frame)f(:id)g('stop\))149
789 y Fr(Another)22 b(w)n(a)n(y)k(to)e(distinguish)g(b)r(et)n(w)n(een)f
(gadgets)g(is)i(to)f(explicitly)h(sp)r(ecify)f(what)g(function)f(should)h(b)r
(e)149 855 y(called)c(when)g(the)f(callbac)n(k)i(is)g(in)n(v)n(ok)n(ed.)33
b(This)21 b(is)g(sp)r(eci\014ed)d(when)i(the)g(gadget)e(is)j(created)e(b)n(y)
i(supplying)149 922 y(an)d(appropriate)d(initarg.)24 b(The)18
b(ab)r(o)n(v)n(e)g(example)f(could)g(then)g(b)r(e)h(written)e(as)i(follo)n
(ws:)149 1103 y Ft(;;)29 b(No)g(callback)h(methods)f(needed,)g(just)h(create)
f(the)g(push)h(buttons)149 1169 y(\(make-pane)f('push-button)468
1236 y(:label)h("Start")468 1302 y(:client)g(frame)f(:id)g('start)468
1368 y(:activate-callback)526 1435 y(#'\(lambda)h(\(gadget\))643
1501 y(\(start-test)f(\(gadget-client)h(gadget\)\)\)\))149
1568 y(\(make-pane)f('push-button)468 1634 y(:label)h("Stop")468
1700 y(:client)g(frame)f(:id)g('stop)468 1767 y(:activate-callback)526
1833 y(#'\(lambda)h(\(gadget\))643 1900 y(\(stop-test)f(\(gadget-client)h
(gadget\)\)\)\))149 2120 y Fp(30.2.2)75 b(Implemen)n(ting)26
b(Gadgets)149 2288 y Fr(The)17 b(follo)n(wing)i(sho)n(ws)f(ho)n(w)g(a)h(push)
e(button)g(gadget)f(migh)n(t)h(b)r(e)h(implemen)n(ted.)149
2469 y Ft(;;)29 b(A)g(PUSH-BUTTON)h(uses)f(the)g(ACTIVATE-CALLBACK,)h(and)g
(has)f(a)g(label.)149 2536 y(;;)g(This)g(is)g(the)h(abstract)f(class)149
2602 y(\(defclass)g(push-button)h(\(action-gadget)g(labelled-gadget\))g
(\(\)\))149 2735 y(;;)f(Here)g(is)g(a)g(concrete)h(implementation)g(of)f(a)g
(PUSH-BUTTON.)149 2801 y(;;)g(The)g("null")g(frame)h(manager)f(create)h(a)f
(pane)g(of)g(type)h(PUSH-BUTTON-PANE)g(when)149 2868 y(;;)f(asked)g(to)g
(create)h(a)f(PUSH-BUTTON.)149 2934 y(\(defclass)g(push-button-pane)439
3001 y(\(push-button)468 3067 y(leaf-pane)468 3133 y
(space-requirement-mixin\))265 3200 y(\(\(show-as-default)h(:initarg)f
(:show-as-default)788 3266 y(:accessor)h(push-button-show-as-default\))294
3333 y(\(armed)f(:initform)h(nil\)\)\))149 3466 y(;;)f(General)g
(highlight-by-inverting)i(method)p eop
%%Page: 322 337
bop 149 16 a Fm(CHAPTER)16 b(30.)37 b(GADGETS)1542 b Fr(322)149
210 y Ft(\(defmethod)29 b(highlight-button)h(\(\(pane)g(push-button-pane\))g
(medium\))207 276 y(\(with-bounding-rectangle*)g(\(left)g(top)f(right)g
(bottom\))h(\(sheet-region)f(pane\))265 342 y(\(draw-rectangle*)h(medium)f
(left)h(top)f(right)g(bottom)759 409 y(:ink)g(+flipping-ink+)h(:filled)g
(t\)\)\))149 542 y(;;)f(Compute)g(the)h(amount)f(of)g(space)g(required)h(by)f
(a)g(PUSH-BUTTON-PANE)149 608 y(\(defmethod)g(compose-space)h(\(\(pane)g
(push-button-pane\))g(&key)f(width)g(height\))207 674 y
(\(multiple-value-bind)h(\(width)f(height\))323 741 y
(\(compute-gadget-label-size)i(pane\))265 807 y(\(make-space-requirement)f
(:width)g(width)f(:height)h(height\)\)\))149 940 y(;;)f(This)g(gets)g
(invoked)h(to)f(draw)g(the)h(push)f(button.)149 1007 y(\(defmethod)g
(repaint-sheet)h(\(\(pane)g(push-button-pane\))g(region\))207
1073 y(\(declare)f(\(ignore)h(region\)\))207 1139 y(\(with-sheet-medium)g
(\(medium)f(pane\))265 1206 y(\(let)g(\(\(text)h(\(gadget-label)f(pane\)\))
439 1272 y(\(text-style)h(\(slot-value)g(pane)f('text-style\)\))439
1339 y(\(armed)h(\(slot-value)f(pane)h('armed\)\))439 1405
y(\(region)g(\(sheet-region)g(pane\)\)\))323 1472 y(\(multiple-value-call)g
(#'draw-rectangle*)381 1538 y(medium)g(\(bounding-rectangle*)g
(\(sheet-region)g(pane\)\))381 1604 y(:filled)g(nil\))323 1671
y(\(draw-text)g(medium)f(text)g(\(clim-utils::bounding-rectangle-center)j
(region\))643 1737 y(:text-style)d(text-style)643 1804 y(:align-x)g(':center)
h(:align-y)f(':top\))323 1870 y(\(when)g(\(eql)h(armed)f(':button-press\))381
1936 y(\(highlight-button)h(pane)f(medium\)\)\)\)\))149 2069
y(;;)g(When)g(we)g(enter)h(the)f(push)g(button's)h(region,)f(arm)g(it.)149
2136 y(\(defmethod)g(handle-event)h(\(\(pane)f(push-button-pane\))i(\(event)e
(pointer-enter-event\)\))207 2202 y(\(with-slots)g(\(armed\))h(pane)265
2269 y(\(unless)f(armed)323 2335 y(\(setf)g(armed)h(t\))323
2401 y(\(armed-callback)g(pane)f(\(gadget-client)h(pane\))f(\(gadget-id)h
(pane\)\)\)\)\))149 2534 y(;;)f(When)g(we)g(leave)h(the)f(push)g(button's)h
(region,)f(disarm)h(it.)149 2601 y(\(defmethod)f(handle-event)h(\(\(pane)f
(push-button-pane\))i(\(event)e(pointer-exit-event\)\))207
2667 y(\(with-slots)g(\(armed\))h(pane)265 2733 y(\(when)f(armed)323
2800 y(\(when)g(\(eql)h(armed)f(':button-press\))381 2866 y
(\(highlight-button)h(pane)f(medium\)\))323 2933 y(\(setf)g(armed)h(nil\))323
2999 y(\(disarmed-callback)g(pane)f(\(gadget-client)h(pane\))g(\(gadget-id)f
(pane\)\)\)\)\))149 3132 y(;;)g(When)g(the)g(user)h(presses)f(a)g(pointer)h
(button,)f(ensure)h(that)f(the)g(button)149 3198 y(;;)g(is)g(armed,)g(and)h
(highlight)f(it.)149 3265 y(\(defmethod)g(handle-event)h(\(\(pane)f
(push-button-pane\))i(\(event)e(pointer-button-press-event\)\))207
3331 y(\(with-slots)g(\(armed\))h(pane)265 3398 y(\(unless)f(armed)323
3464 y(\(setf)g(armed)h(':button-press\))p eop
%%Page: 323 338
bop 149 16 a Fm(CHAPTER)16 b(30.)43 b(GADGETS)1536 b Fr(323)323
210 y Ft(\(armed-callback)30 b(pane)f(\(gadget-client)h(pane\))f(\(gadget-id)
h(pane\)\))323 276 y(\(with-sheet-medium)g(\(medium)g(pane\))381
342 y(\(highlight-button)g(pane)f(medium\)\)\)\)\))149 475
y(;;)g(When)g(the)g(user)h(releases)f(the)g(button)h(and)f(the)g(button)h(is)
f(still)g(armed,)149 542 y(;;)g(call)g(the)g(activate)h(callback.)149
608 y(\(defmethod)f(handle-event)h(\(\(pane)f(push-button-pane\))i(\(event)e
(pointer-button-release-event\)\))207 674 y(\(with-slots)g(\(armed\))h(pane)
265 741 y(\(when)f(\(eql)h(armed)f(':button-press\))323 807
y(\(activate-callback)h(pane)f(\(gadget-client)h(pane\))g(\(gadget-id)f
(pane\)\))323 874 y(\(setf)g(armed)h(t\))323 940 y(\(with-sheet-medium)g
(\(medium)g(pane\))381 1007 y(\(highlight-button)g(pane)f(medium\)\)\)\)\))
149 1256 y Fk(30.3)91 b(Basic)30 b(Gadget)g(Classes)149 1444
y Fr(The)17 b(follo)n(wing)i(are)f(the)f(basic)h(gadget)e(classes)h(up)r(on)g
(whic)n(h)h(all)h(abstract)d(gadgets)g(are)i(built.)49 1577
y Fj(\))45 b Ft(gadget)1739 b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23
b(Class)5 b Fr(])149 1696 y(The)16 b(proto)r(col)e(class)i(that)f(corresp)r
(onds)e(to)j(a)h(gadget,)e(a)h(sub)r(class)f(of)i Ft(pane)p
Fr(.)24 b(If)17 b(y)n(ou)g(w)n(an)n(t)f(to)g(create)e(a)j(new)149
1762 y(class)i(that)f(b)r(eha)n(v)n(es)h(lik)n(e)h(a)g(gadget,)e(it)i(should)
e(b)r(e)h(a)g(sub)r(class)f(of)i Ft(gadget)p Fr(.)29 b(Sub)r(classes)17
b(of)i Ft(gadget)i Fr(m)n(ust)149 1828 y(ob)r(ey)c(the)g(gadget)g(proto)r
(col.)149 1961 y(All)h(of)g(the)g(sub)r(classes)e(of)i Ft(gadget)h
Fr(are)e(m)n(utable.)49 2094 y Fj(\))45 b Ft(gadgetp)29 b Fs(obje)m(ct)1676
b Fr([)p Fs(F)l(unction)t Fr(])149 2213 y(Returns)16 b Fm(true)h
Fr(if)i Fs(obje)m(ct)h Fr(is)f(a)f Fm(gadget)p Fr(,)f(otherwise)f(returns)h
Fm(false)p Fr(.)49 2346 y Fj(\))45 b Ft(standard-gadget)1693
b Fr([)p Fs(Class)5 b Fr(])149 2465 y(The)17 b(standard)g(class)g(on)h(whic)n
(h)h(all)f(CLIM)g(gadgets)e(are)i(built.)49 2598 y Fj(\))45
b Ft(:id)1975 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])49 2664
y Fj(\))45 b Ft(:client)1859 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5
b Fr(])49 2731 y Fj(\))45 b Ft(:armed-callback)1627 b Fr([)p
Fs(Init)21 b(A)o(r)m(g)5 b Fr(])49 2797 y Fj(\))45 b Ft(:disarmed-callback)
1540 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])149 2916 y(All)17
b(sub)r(classes)e(of)h Ft(gadget)i Fr(m)n(ust)d(handle)h(these)g(four)g
(initargs,)g(whic)n(h)h(are)f(used)g(to)g(sp)r(ecify)-5 b(,)17
b(resp)r(ectiv)n(ely)-5 b(,)149 2982 y(the)17 b(gadget)f(id,)j(clien)n(t,)g
(armed)d(callbac)n(k,)j(and)e(disarmed)f(callbac)n(k)j(of)f(the)f(gadget.)49
3115 y Fj(\))45 b Ft(gadget-id)29 b Fs(gadget)1393 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])49 3182 y Fj(\))45 b Ft(\(setf)29
b(gadget-id\))h Fs(id)20 b(gadget)1124 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 3301 y(Returns)d(\(or)i(sets\))f(the)h(gadget)f(id)i
(of)f(the)g(gadget)f Fs(gadget)p Fr(.)37 b(The)22 b(id)g(is)g(t)n(ypically)g
(a)g(simple)f(Lisp)g(ob)s(ject)149 3367 y(that)c(uniquely)h(iden)n(ti\014es)g
(the)f(gadgets.)p eop
%%Page: 324 339
bop 149 16 a Fm(CHAPTER)16 b(30.)43 b(GADGETS)1536 b Fr(324)49
210 y Fj(\))45 b Ft(gadget-client)29 b Fs(gadget)1277 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])49 276 y Fj(\))45 b Ft(\(setf)29
b(gadget-client\))h Fs(client)21 b(gadget)922 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 395 y(Returns)16 b(the)h(clien)n(t)h(of)g(the)g
(gadget)e Fs(gadget)p Fr(.)27 b(The)18 b(clien)n(t)g(is)h(usually)f(an)g
(application)f(frame,)f(but)i(it)g(could)149 461 y(b)r(e)f(another)f(gadget)g
(\(for)i(example,)f(in)h(the)g(case)f(of)h(a)g(push)g(button)e(that)h(is)i
(con)n(tained)d(in)j(a)f(radio)f(b)r(o)n(x\).)49 594 y Fj(\))45
b Ft(gadget-armed-callback)30 b Fs(gadget)1044 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])49 661 y Fj(\))45 b Ft(gadget-disarmed-callback)30
b Fs(gadget)957 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
780 y(Returns)15 b(the)g(functions)h(that)f(will)j(b)r(e)e(called)g(when)h
(the)e(armed)g(or)i(disarmed)d(callbac)n(k,)k(resp)r(ectiv)n(ely)-5
b(,)16 b(are)149 846 y(in)n(v)n(ok)n(ed.)26 b(These)17 b(functions)f(will)k
(b)r(e)d(in)n(v)n(ok)n(ed)j(with)e(a)g(single)g(argumen)n(t,)e(the)h(gadget.)
149 979 y(When)i(these)f(functions)g(return)g Ft(nil)p Fr(,)j(that)d
(indicates)h(that)f(there)g(is)i(no)g(armed)d(\(or)i(disarmed\))e(callbac)n
(k)149 1045 y(for)g(the)h(gadget.)49 1178 y Fj(\))45 b Ft(armed-callback)30
b Fs(gadget)22 b(client)f(gadget-id)640 b Fr([)p Fs(Cal)s(lb)m(ack)22
b(Generic)f(F)l(unction)t Fr(])49 1245 y Fj(\))45 b Ft(disarmed-callback)30
b Fs(gadget)22 b(client)f(gadget-id)553 b Fr([)p Fs(Cal)s(lb)m(ack)22
b(Generic)f(F)l(unction)t Fr(])149 1364 y(These)g(callbac)n(ks)g(are)h(in)n
(v)n(ok)n(ed)h(when)e(the)g(gadget)f Fs(gadget)25 b Fr(is,)f(resp)r(ectiv)n
(ely)-5 b(,)22 b(armed)e(or)i(disarmed.)34 b(The)149 1430 y(exact)20
b(de\014nition)g(of)h(arming)f(and)g(disarming)g(v)m(aries)h(from)f(gadget)f
(to)i(gadget,)g(but)f(t)n(ypically)i(a)f(gadget)149 1496 y(b)r(ecomes)13
b(armed)h(when)h(the)g(p)r(oin)n(ter)g(is)h(mo)n(v)n(ed)g(in)n(to)g(its)g
(region,)f(and)h(disarmed)e(when)h(the)g(p)r(oin)n(ter)g(mo)n(v)n(es)149
1563 y(out)i(of)h(its)g(region.)149 1696 y(The)13 b(default)g(metho)r(ds)e
(\(on)i Ft(standard-gadget)p Fr(\))i(call)f(the)f(function)f(stored)h(in)h
Ft(gadget-armed-callback)149 1762 y Fr(or)j Ft(gadget-disarmed-callback)j
Fr(with)e(one)g(argumen)n(t,)e(the)h(gadget.)49 1895 y Fj(\))45
b Ft(activate-gadget)30 b Fs(gadget)1218 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 2014 y(Causes)17 b(the)g(host)g(gadget)g(to)g(b)r
(ecome)f(activ)n(e,)i(that)f(is,)i(a)n(v)m(ailable)f(for)g(input.)49
2147 y Fj(\))45 b Ft(deactivate-gadget)30 b Fs(gadget)1160
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2266 y(Causes)15
b(the)h(host)g(gadget)e(to)i(b)r(ecome)e(inactiv)n(e,)j(that)f(is,)h(una)n(v)
m(ailable)g(for)f(input.)24 b(In)16 b(some)f(en)n(vironmen)n(ts)149
2332 y(this)j(ma)n(y)g(cause)e(the)i(gadget)e(to)i(b)r(ecome)d(gra)n(y)n(ed)j
(o)n(v)n(er;)h(in)g(others,)d(no)i(visual)h(e\013ect)e(ma)n(y)h(b)r(e)f
(detected.)49 2465 y Fj(\))45 b Ft(note-gadget-activated)30
b Fs(client)21 b(gadget)893 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 2584 y(This)c(function)f(is)i(in)n(v)n(ok)n(ed)g(after)e(a)h(gadget)
e(is)j(made)d(activ)n(e.)49 2717 y Fj(\))45 b Ft(note-gadget-deactivated)30
b Fs(client)21 b(gadget)835 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 2836 y(This)c(function)f(is)i(in)n(v)n(ok)n(ed)g(after)e(a)h(gadget)
e(is)j(made)d(inactiv)n(e.)49 2969 y Fj(\))45 b Ft(value-gadget)1780
b Fr([)p Fs(Class)5 b Fr(])149 3088 y(The)17 b(class)h(used)g(b)n(y)g
(gadgets)f(that)g(ha)n(v)n(e)h(a)g(v)m(alue;)h(a)f(sub)r(class)e(of)i
Ft(standard-gadget)p Fr(.)49 3221 y Fj(\))45 b Ft(:value)1888
b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])49 3287 y Fj(\))45
b Ft(:value-changed-callback)1395 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5
b Fr(])149 3406 y(All)22 b(sub)r(classes)d(of)i Ft(value-gadget)h
Fr(m)n(ust)f(handle)f(these)g(t)n(w)n(o)i(initargs,)g(whic)n(h)f(are)g(used)g
(to)f(sp)r(ecify)-5 b(,)22 b(re-)p eop
%%Page: 325 340
bop 149 16 a Fm(CHAPTER)16 b(30.)43 b(GADGETS)1536 b Fr(325)149
210 y(sp)r(ectiv)n(ely)-5 b(,)18 b(the)f(initial)i(v)m(alue)f(and)g(the)f(v)m
(alue)h(c)n(hanged)f(callbac)n(k)h(of)g(the)f(gadget.)49 342
y Fj(\))45 b Ft(gadget-value)29 b Fs(value-gadget)1164 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 461 y(Returns)14 b(the)i(v)m(alue)g
(of)g(the)g(gadget)e Fs(value-gadget)p Fr(.)28 b(The)16 b(in)n(terpretation)d
(of)k(the)e(v)m(alue)h(v)m(aries)g(from)f(gadget)149 528 y(to)i(gadget.)23
b(F)-5 b(or)18 b(example,)f(a)h(scroll)f(bar's)h(v)m(alue)f(migh)n(t)h(b)r(e)
f(a)g(n)n(um)n(b)r(er)g(b)r(et)n(w)n(een)f(0)i(and)f(1,)i(while)f(a)g(toggle)
149 594 y(button's)e(v)m(alue)i(is)h(either)e Ft(t)i Fr(or)f
Ft(nil)p Fr(.)25 b(\(The)17 b(do)r(cumen)n(tation)d(of)19 b(eac)n(h)e
(individual)i(gadget)d(b)r(elo)n(w)i(sp)r(eci\014es)149 661
y(ho)n(w)g(to)g(in)n(terpret)e(the)h(v)m(alue.\))49 793 y Fj(\))45
b Ft(\(setf)29 b(gadget-value\))h Fs(value)21 b(value-gadget)i
Ft(&key)29 b Fs(invoke-c)m(al)s(lb)m(ack)297 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 912 y(Sets)e(the)g(gadget's)g(v)m(alue)g(to)h(the)f
(sp)r(eci\014ed)f(v)m(alue.)34 b(In)21 b(addition,)g(if)h Fs(invoke-c)m(al)s
(lb)m(ack)k Fr(is)21 b Fm(true)p Fr(,)g(the)g(v)m(alue)149
979 y(c)n(hanged)10 b(callbac)n(k)i(for)g(the)f(gadget)f(is)j(in)n(v)n(ok)n
(ed.)24 b(The)11 b(default)g(is)i Fm(false)p Fr(.)22 b(The)12
b(syn)n(tax)f(for)h(using)g Ft(\(setf)29 b(gadget-)149 1045
y(value\))18 b Fr(in)h(conjunction)d(with)i Fs(invoke-c)m(al)s(lb)m(ack)23
b Fr(is:)149 1227 y Ft(\(setf)29 b(\(gadget-value)h(gadget)f
(:invoke-callback)h(t\))f(new-value\))49 1409 y Fj(\))45 b
Ft(gadget-value-changed-callback)30 b Fs(value-gadget)670 b
Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1528 y(Returns)i(the)i
(function)f(that)h(will)i(b)r(e)e(called)g(when)g(the)g(v)m(alue)g(c)n
(hanged)f(callbac)n(k)i(is)g(in)n(v)n(ok)n(ed.)51 b(This)149
1595 y(function)16 b(will)k(b)r(e)d(in)n(v)n(ok)n(ed)j(with)e(a)g(t)n(w)n(o)g
(argumen)n(ts,)e(the)i(gadget)e(and)i(the)f(new)h(v)m(alue.)149
1728 y(When)h(this)i(function)e(returns)f Ft(nil)p Fr(,)k(that)e(indicates)f
(that)g(there)g(is)i(no)f(v)m(alue)h(c)n(hanged)e(callbac)n(k)h(for)g(the)149
1794 y(gadget.)49 1927 y Fj(\))45 b Ft(value-changed-callback)30
b Fs(value-gadget)23 b(client)e(gadget-id)i(value)120 b Fr([)p
Fs(Cal)s(lb)m(ack)22 b(Generic)f(F)l(unction)t Fr(])149 2046
y(This)c(callbac)n(k)f(is)h(in)n(v)n(ok)n(ed)h(when)e(the)g(v)m(alue)g(of)h
(a)f(gadget)f(is)i(c)n(hanged,)f(either)f(b)n(y)j(the)d(user)h(or)g
(programat-)149 2112 y(ically)-5 b(.)149 2245 y(The)22 b(default)f(metho)r(d)
f(\(on)i Ft(value-gadget)p Fr(\))h(calls)g(the)f(function)f(stored)g(in)i
Ft(gadget-value-changed-)149 2312 y(callback)c Fr(with)f(t)n(w)n(o)g(argumen)
n(ts,)e(the)h(gadget)g(and)g(the)h(new)f(v)m(alue.)149 2444
y(CLIM)i(implemen)n(tations)e(m)n(ust)i(implemen)n(t)e(or)j(inherit)f(a)h
(metho)r(d)d(for)j Ft(value-changed-callback)h Fr(for)149 2511
y(ev)n(ery)d(gadget)e(that)h(is)i(a)f(sub)r(class)f(of)h Ft(value-gadget)p
Fr(.)49 2644 y Fj(\))45 b Ft(action-gadget)1751 b Fr([)p Fs(Class)5
b Fr(])149 2763 y(The)18 b(class)h(used)f(b)n(y)i(gadgets)d(that)h(p)r
(erform)e(some)h(kind)j(of)f(action,)f(suc)n(h)h(as)g(a)g(push)f(button;)g(a)
h(sub)r(class)149 2829 y(of)f Ft(standard-gadget)p Fr(.)49
2962 y Fj(\))45 b Ft(:activate-callback)1540 b Fr([)p Fs(Init)21
b(A)o(r)m(g)5 b Fr(])149 3081 y(All)19 b(sub)r(classes)d(of)j
Ft(action-gadget)g Fr(m)n(ust)f(handle)f(this)i(initarg,)f(whic)n(h)h(is)g
(used)f(to)g(sp)r(ecify)f(the)h(activ)m(ate)149 3147 y(callbac)n(k)g(of)g
(the)f(gadget.)49 3280 y Fj(\))45 b Ft(gadget-activate-callback)30
b Fs(action-gadget)790 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 3399 y(Returns)f(the)i(function)f(that)h(will)i(b)r(e)d(called)i
(when)f(the)f(gadget)g(is)i(activ)m(ated.)39 b(This)24 b(function)e(will)j(b)
r(e)149 3466 y(in)n(v)n(ok)n(ed)19 b(with)f(one)g(argumen)n(t,)e(the)h
(gadget.)p eop
%%Page: 326 341
bop 149 16 a Fm(CHAPTER)16 b(30.)43 b(GADGETS)1536 b Fr(326)149
210 y(When)20 b(this)h(function)e(returns)g Ft(nil)p Fr(,)k(that)c(indicates)
h(that)g(there)f(is)i(no)g(v)m(alue)g(activ)m(ate)e(callbac)n(k)i(for)f(the)
149 276 y(gadget.)49 409 y Fj(\))45 b Ft(activate-callback)30
b Fs(action-gadget)23 b(client)f(gadget-id)384 b Fr([)p Fs(Cal)s(lb)m(ack)22
b(Generic)f(F)l(unction)t Fr(])149 528 y(This)d(callbac)n(k)g(is)h(in)n(v)n
(ok)n(ed)g(when)f(the)f(gadget)f(is)j(activ)m(ated.)149 661
y(The)11 b(default)g(metho)r(d)e(\(on)j Ft(action-gadget)p
Fr(\))g(calls)g(the)g(function)e(stored)h(in)h Ft(gadget-activate-callback)
149 727 y Fr(with)18 b(one)f(argumen)n(t,)f(the)i(gadget.)149
860 y(CLIM)h(implemen)n(tations)d(m)n(ust)j(implemen)n(t)f(or)h(inherit)g(a)g
(metho)r(d)e(for)i Ft(activate-callback)i Fr(for)e(ev)n(ery)149
926 y(gadget)d(that)h(is)i(a)f(sub)r(class)e(of)i Ft(action-gadget)p
Fr(.)49 1059 y Fj(\))45 b Ft(oriented-gadget)1693 b Fr([)p
Fs(Class)5 b Fr(])149 1178 y(The)17 b(class)g(that)f(is)i(mixed)f(in)h(to)e
(a)i(gadget)e(that)g(has)h(an)g(orien)n(tation)f(asso)r(ciated)e(with)k(it,)g
(for)f(example,)g(a)149 1245 y(slider.)49 1377 y Fj(\))45 b
Ft(:orientation)1714 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])149
1496 y(All)18 b(sub)r(classes)e(of)i Ft(oriented-gadget)h Fr(m)n(ust)e
(handle)g(this)h(initarg,)g(whic)n(h)g(is)h(used)e(to)g(sp)r(ecify)h(the)f
(orien-)149 1563 y(tation)g(of)h(the)f(gadget.)49 1696 y Fj(\))45
b Ft(gadget-orientation)30 b Fs(oriente)m(d-gadget)919 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 1815 y(Returns)16 b(the)h(orien)n
(tation)f(of)i(the)f(gadget)g Fs(oriente)m(d-gadget)p Fr(.)29
b(T)n(ypically)-5 b(,)20 b(this)e(will)i(b)r(e)d(a)h(k)n(eyw)n(ord)g(suc)n(h)
g(as)149 1881 y Ft(:horizontal)h Fr(or)f Ft(:vertical)p Fr(.)49
2014 y Fj(\))45 b Ft(labelled-gadget)1693 b Fr([)p Fs(Class)5
b Fr(])149 2133 y(The)17 b(class)h(that)f(is)i(mixed)e(in)i(to)f(a)g(gadget)e
(that)h(has)h(a)g(lab)r(el,)g(for)g(example,)f(a)h(push)f(button.)49
2266 y Fj(\))45 b Ft(:label)1888 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5
b Fr(])49 2332 y Fj(\))45 b Ft(:align-x)1830 b Fr([)p Fs(Init)21
b(A)o(r)m(g)5 b Fr(])49 2399 y Fj(\))45 b Ft(:align-y)1830
b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])49 2465 y Fj(\))45
b Ft(:label-text-style)1569 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5
b Fr(])149 2584 y(All)23 b(sub)r(classes)e(of)i Ft(labelled-gadget)h
Fr(m)n(ust)e(handle)g(these)f(initargs,)j(whic)n(h)f(are)f(used)g(to)g(sp)r
(ecify)g(the)149 2650 y(lab)r(el,)c(its)g Fn(x)g Fr(and)g Fn(y)i
Fr(alignmen)n(t,)d(and)h(its)g(text)g(st)n(yle)g(for)g(the)f(gadget.)49
2783 y Fj(\))45 b Ft(gadget-label)29 b Fs(lab)m(el)s(le)m(d-gadge)q(t)1115
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49 2850 y Fj(\))45
b Ft(\(setf)29 b(gadget-label\))h Fs(lab)m(el)21 b(lab)m(el)s(le)m(d-gadge)q
(t)787 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2969
y(Returns)17 b(\(or)h(sets\))f(the)i(lab)r(el)f(of)h(the)f(gadget)f
Fs(lab)m(el)s(le)m(d-gadge)q(t)p Fr(.)31 b(The)19 b(lab)r(el)f(m)n(ust)g(b)r
(e)g(a)h(string.)27 b(Changing)149 3035 y(the)18 b(lab)r(el)h(of)g(a)g
(gadget)e(ma)n(y)i(result)g(in)g(in)n(v)n(oking)i(the)d(la)n(y)n(out)h(proto)
r(col)e(on)i(the)g(gadget)e(and)i(its)g(ancestor)149 3102 y(sheets.)49
3234 y Fj(\))45 b Ft(gadget-label-align-x)30 b Fs(lab)m(el)s(le)m(d-gadget)
883 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49 3301 y Fj(\))45
b Ft(\(setf)29 b(gadget-label-align-x\))h Fs(alignment)22 b(lab)m(el)s(le)m
(d-gadge)q(t)423 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49
3367 y Fj(\))45 b Ft(gadget-label-align-y)30 b Fs(lab)m(el)s(le)m(d-gadget)
883 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49 3434 y Fj(\))45
b Ft(\(setf)29 b(gadget-label-align-y\))h Fs(alignment)22 b(lab)m(el)s(le)m
(d-gadge)q(t)423 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])p
eop
%%Page: 327 342
bop 149 16 a Fm(CHAPTER)16 b(30.)43 b(GADGETS)1536 b Fr(327)149
210 y(Returns)11 b(\(or)h(sets\))g(the)g(alignmen)n(t)g(of)h(the)f(lab)r(el)h
(of)g(the)f(gadget)g Fs(lab)m(el)s(le)m(d-gadget)p Fr(.)28
b(Changing)12 b(the)g(alignmen)n(t)149 276 y(a)18 b(gadget)e(ma)n(y)i(result)
f(in)i(in)n(v)n(oking)g(the)f(la)n(y)n(out)g(proto)r(col)e(on)i(the)f(gadget)
g(and)g(its)h(ancestor)e(sheets.)49 409 y Fj(\))45 b Ft
(gadget-label-text-style)30 b Fs(lab)m(el)s(le)m(d-gadget)796
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49 475 y Fj(\))45
b Ft(\(setf)29 b(gadget-label-text-style\))h Fs(text-style)21
b(lab)m(el)s(le)m(d-gadge)q(t)357 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 594 y(Returns)16 b(\(or)h(sets\))g(the)g(text)g(st)n(yle)h(of)g(the)
f(lab)r(el)h(of)g(the)f(gadget)f Fs(lab)m(el)s(le)m(d-gadget)q
Fr(.)29 b(This)18 b(m)n(ust)f(b)r(e)g(a)h(CLIM)149 661 y(text)i(st)n(yle)i
(ob)s(ject.)33 b(Changing)21 b(the)g(lab)r(el)g(text)f(st)n(yle)i(of)g(a)f
(gadget)f(ma)n(y)h(result)g(in)h(in)n(v)n(oking)g(the)f(la)n(y)n(out)149
727 y(proto)r(col)16 b(on)h(the)h(gadget)e(and)i(its)g(ancestor)e(sheets.)49
860 y Fj(\))45 b Ft(range-gadget-mixin)1606 b Fr([)p Fs(Class)5
b Fr(])149 979 y(The)17 b(class)h(that)f(is)i(mixed)e(in)i(to)f(a)g(gadget)e
(that)h(has)h(a)g(range,)f(for)h(example,)f(a)h(slider.)49
1112 y Fj(\))45 b Ft(:min-value)1772 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5
b Fr(])49 1178 y Fj(\))45 b Ft(:max-value)1772 b Fr([)p Fs(Init)21
b(A)o(r)m(g)5 b Fr(])149 1297 y(All)16 b(sub)r(classes)d(of)j
Ft(range-gadget-mixin)g Fr(m)n(ust)f(handle)g(these)f(t)n(w)n(o)i(initargs,)f
(whic)n(h)h(are)f(used)f(to)h(sp)r(ecify)149 1364 y(the)i(minim)n(um)g(and)g
(maxim)n(um)f(v)m(alue)i(of)g(the)g(gadget.)49 1496 y Fj(\))45
b Ft(gadget-min-value)30 b Fs(r)m(ange-gadget)1040 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])49 1563 y Fj(\))45 b Ft(\(setf)29
b(gadget-min-value\))h Fs(min-value)21 b(r)m(ange-gadget)581
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 1682 y(Returns)16
b(\(or)h(sets\))g(the)g(minim)n(um)g(v)m(alue)h(of)g(the)f(gadget)g
Fs(r)m(ange-gadget)p Fr(.)29 b(It)18 b(will)h(b)r(e)e(a)i(real)e(n)n(um)n(b)r
(er.)49 1815 y Fj(\))45 b Ft(gadget-max-value)30 b Fs(r)m(ange-gadget)1040
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49 1881 y Fj(\))45
b Ft(\(setf)29 b(gadget-max-value\))h Fs(max-value)21 b(r)m(ange-gadget)575
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2000 y(Returns)16
b(\(or)h(sets\))g(the)g(maxim)n(um)g(v)m(alue)h(of)g(the)f(gadget)f
Fs(r)m(ange-gadget)p Fr(.)29 b(It)18 b(will)i(b)r(e)d(a)h(real)g(n)n(um)n(b)r
(er.)149 2250 y Fk(30.4)91 b(Abstract)30 b(Gadget)f(Classes)149
2437 y Fr(CLIM)20 b(supplies)h(a)g(set)g(of)g(gadgets)e(that)h(ha)n(v)n(e)i
(b)r(een)d(designed)h(to)h(b)r(e)f(compatible)f(with)i(with)g(a)h(v)m(ariet)n
(y)149 2504 y(of)g(user)g(in)n(terface)e(to)r(olkits,)j(including)g(Xt)e
(widget-based)g(to)r(olkits)g(\(suc)n(h)h(as)g(Motif)t(\),)h(Op)r(enLo)r(ok,)
f(and)149 2570 y(MacApp)16 b(and)i(MicroSoft)e(Windo)n(ws.)149
2703 y(Eac)n(h)27 b(gadget)e(maps)h(to)h(an)g(implemen)n(tation-sp)r
(eci\014c)c(ob)s(ject)j(that)g(is)i(managed)d(b)n(y)j(the)e(underlying)149
2769 y(to)r(olkit.)34 b(F)-5 b(or)21 b(example,)h(while)g(a)f(CLIM)g(program)
f(manipulates)f(an)i(ob)s(ject)f(of)i(class)f Ft(scroll-bar)p
Fr(,)i(the)149 2836 y(underlying)e(implemen)n(tation-sp)r(eci\014c)d(ob)s
(ject)j(migh)n(t)h(b)r(e)g(an)g(Xt)g(widget)f(of)i(t)n(yp)r(e)e
Ft(Xm)p 2041 2836 18 3 v 21 w(Scroll)p 2236 2836 V 22 w(Bar)p
Fr(.)38 b(As)149 2902 y(ev)n(en)n(ts)18 b(are)h(pro)r(cessed)d(on)i(the)h
(underlying)f(ob)s(ject)f(the)h(corresp)r(onding)e(generic)h(op)r(erations)g
(are)h(applied)149 2969 y(to)f(the)h(Lisp)g(gadget.)149 3101
y Fo(Minor)k(issue:)53 b Fm(Do)18 b(w)n(e)g(w)n(an)n(t)g(to)f(de\014ne)f
(something)g(lik)n(e)j Ft(gadget-handle)f Fm(that)f(is)h(a)f(do)r(cumen)n
(ted)d(w)n(a)n(y)149 3168 y(to)j(get)h(ahold)f(of)h(the)g(underlying)f(to)r
(olkit)g(ob)s(ject?)23 b(|)c(ILA)149 3301 y Fr(Note)24 b(that)h(not)g(all)h
(op)r(erations)e(will)j(necessarily)e(b)r(e)g(generated)e(b)n(y)j(particular)
e(to)r(olkit)h(implemen)n(ta-)149 3367 y(tions.)f(F)-5 b(or)19
b(example,)e(a)i(user)e(in)n(terface)g(to)r(olkit)g(that)h(is)g(designed)f
(for)h(a)h(3-button)d(mouse)h(ma)n(y)h(generate)149 3433 y(signi\014can)n
(tly)f(more)g(gadget)f(ev)n(en)n(ts)i(than)f(one)h(designed)f(for)g(a)h
(1-button)f(mouse.)p eop
%%Page: 328 343
bop 149 16 a Fm(CHAPTER)16 b(30.)43 b(GADGETS)1536 b Fr(328)149
210 y Fp(30.4.1)75 b(The)25 b Fa(push-button)i Fp(Gadget)149
378 y Fr(The)17 b Ft(push-button)j Fr(gadget)c(pro)n(vides)i(press-to-activ)m
(ate)d(switc)n(h)j(b)r(eha)n(vior.)149 511 y Ft(arm-callback)g
Fr(will)h(b)r(e)e(in)n(v)n(ok)n(ed)i(when)e(the)f(push)h(button)f(b)r(ecomes)
f(armed)g(\(suc)n(h)i(as)g(when)g(the)g(p)r(oin)n(ter)149 577
y(mo)n(v)n(es)22 b(in)n(to)h(it,)h(or)f(a)g(p)r(oin)n(ter)e(button)g(is)i
(pressed)e(o)n(v)n(er)j(it\).)38 b(When)22 b(the)g(button)f(is)i(actually)f
(activ)m(ated)149 644 y(\(b)n(y)17 b(releasing)f(the)g(p)r(oin)n(ter)f
(button)h(o)n(v)n(er)h(it\),)g Ft(activate-callback)i Fr(will)f(b)r(e)e(in)n
(v)n(ok)n(ed.)26 b(Finally)-5 b(,)19 b Ft(disarm-)149 710 y(callback)k
Fr(will)g(b)r(e)f(in)n(v)n(ok)n(ed)i(after)d Ft(activate-callback)p
Fr(,)k(or)d(when)f(the)h(p)r(oin)n(ter)f(is)i(mo)n(v)n(ed)e(outside)h(of)149
777 y(the)17 b(button.)49 909 y Fj(\))45 b Ft(push-button)1809
b Fr([)p Fs(Class)5 b Fr(])149 1028 y(The)24 b(class)g(that)f(implemen)n(ts)f
(an)i(abstract)e(push)i(button.)41 b(It)24 b(is)h(a)g(sub)r(class)d(of)j
Ft(active-gadget)g Fr(and)149 1095 y Ft(labelled-gadget)p Fr(.)49
1228 y Fj(\))45 b Ft(:show-as-default-p)1540 b Fr([)p Fs(Init)21
b(A)o(r)m(g)5 b Fr(])149 1347 y(This)18 b(is)h(used)e(to)h(initialize)g(the)g
(\\sho)n(w)f(as)h(default")f(prop)r(ert)n(y)f(for)i(the)f(gadget,)g(describ)r
(ed)f(b)r(elo)n(w.)49 1480 y Fj(\))45 b Ft(push-button-show-as-default-p)30
b Fs(push-button)682 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1599 y(Returns)13 b(the)h(\\sho)n(w)g(as)h(default")e(prop)r(ert)n
(y)g(for)h(the)g(push)h(button)e(gadget.)21 b(When)14 b Fm(true)p
Fr(,)h(the)f(push)g(button)149 1665 y(will)19 b(b)r(e)f(dra)n(wn)f(with)h(a)h
(hea)n(vy)f(b)r(order,)e(whic)n(h)j(indicates)e(that)g(this)g(button)g(is)i
(the)e(\\default)g(op)r(eration".)49 1798 y Fj(\))45 b Ft(push-button-pane)
1664 b Fr([)p Fs(Class)5 b Fr(])149 1917 y(The)17 b(class)h(that)f(implemen)n
(ts)f(a)i(p)r(ortable)e(push)i(button;)f(a)h(sub)r(class)e(of)i
Ft(push-button)p Fr(.)149 2138 y Fp(30.4.2)75 b(The)25 b Fa(toggle-button)i
Fp(Gadget)149 2307 y Fr(The)15 b Ft(toggle-button)i Fr(gadget)d(pro)n(vides)h
(\\on/o\013)t(")g(switc)n(h)g(b)r(eha)n(vior.)23 b(This)16
b(gadget)e(t)n(ypically)i(app)r(ears)e(as)149 2373 y(a)g(b)r(o)n(x)h(that)e
(is)i(optionally)f(highligh)n(ted)g(with)h(a)f(c)n(hec)n(k-mark.)23
b(If)15 b(the)e(c)n(hec)n(k-mark)h(is)h(presen)n(t,)f(the)g(gadget's)149
2440 y(v)m(alue)k(is)g Ft(t)p Fr(,)h(otherwise)e(it)h(is)h
Ft(nil)p Fr(.)149 2572 y Ft(arm-callback)d Fr(will)h(b)r(e)d(in)n(v)n(ok)n
(ed)j(when)e(the)f(toggle)g(button)g(b)r(ecomes)e(armed)i(\(suc)n(h)g(as)i
(when)e(the)h(p)r(oin)n(ter)149 2639 y(mo)n(v)n(es)26 b(in)n(to)h(it,)j(or)c
(a)h(p)r(oin)n(ter)f(button)f(is)i(pressed)f(o)n(v)n(er)h(it\).)51
b(When)26 b(the)g(toggle)f(button)h(is)h(actually)149 2705
y(activ)m(ated)19 b(\(b)n(y)i(releasing)f(the)g(p)r(oin)n(ter)f(button)g(o)n
(v)n(er)i(it\),)h Ft(value-changed-callback)h Fr(will)f(b)r(e)e(in)n(v)n(ok)n
(ed.)149 2772 y(Finally)-5 b(,)19 b Ft(disarm-callback)f Fr(will)h(b)r(e)d
(in)n(v)n(ok)n(ed)j(after)d Ft(value-changed-callback)p Fr(,)j(or)e(when)f
(the)h(p)r(oin)n(ter)149 2838 y(is)h(mo)n(v)n(ed)g(outside)f(of)h(the)f
(toggle)g(button.)49 2971 y Fj(\))45 b Ft(toggle-button)1751
b Fr([)p Fs(Class)5 b Fr(])149 3090 y(The)24 b(class)f(that)g(implemen)n(ts)g
(an)h(abstract)d(toggle)i(button.)42 b(It)24 b(is)h(a)f(sub)r(class)f(of)h
Ft(value-gadget)h Fr(and)149 3156 y Ft(labelled-gadget)p Fr(.)49
3289 y Fj(\))45 b Ft(:indicator-type)1627 b Fr([)p Fs(Init)21
b(A)o(r)m(g)5 b Fr(])149 3408 y(This)18 b(is)h(used)e(to)h(initialize)g(the)g
(indicator)e(t)n(yp)r(e)i(prop)r(ert)n(y)e(for)i(the)f(gadget,)g(describ)r
(ed)f(b)r(elo)n(w.)p eop
%%Page: 329 344
bop 149 16 a Fm(CHAPTER)16 b(30.)43 b(GADGETS)1536 b Fr(329)49
210 y Fj(\))45 b Ft(toggle-button-indicator-type)30 b Fs(to)m(ggle-button)688
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 329 y(Returns)14
b(the)i(indicator)g(t)n(yp)r(e)g(for)g(the)f(toggle)h(button.)22
b(This)17 b(will)h(b)r(e)e(either)f Ft(:one-of)j Fr(or)e Ft(:some-of)p
Fr(.)25 b(The)149 395 y(indicator)15 b(t)n(yp)r(e)g(con)n(trols)g(the)h(app)r
(earance)c(of)k(the)g(toggle)f(button.)22 b(F)-5 b(or)16 b(example,)g(man)n
(y)g(to)r(olkits)f(presen)n(t)149 461 y(a)j(one-of-man)n(y)f(c)n(hoice)g
(di\013eren)n(tly)i(from)d(a)j(some-of-man)n(y)d(c)n(hoice.)49
594 y Fj(\))45 b Ft(gadget-value)29 b Fs(\(button)21 b Ft(toggle-button)p
Fs(\))1108 b Fr([)p Fs(Metho)m(d)6 b Fr(])149 713 y(Returns)16
b Fm(true)h Fr(if)i(the)e(button)f(is)j(selected,)e(otherwise)f(returns)h
Fm(false)p Fr(.)49 846 y Fj(\))45 b Ft(toggle-button-pane)1606
b Fr([)p Fs(Class)5 b Fr(])149 965 y(The)17 b(class)h(that)f(implemen)n(ts)f
(a)i(p)r(ortable)e(toggle)h(button;)g(a)h(sub)r(class)f(of)h
Ft(toggle-button)p Fr(.)149 1186 y Fp(30.4.3)75 b(The)25 b
Fa(menu-button)i Fp(Gadget)149 1355 y Fr(The)15 b Ft(menu-button)h
Fr(gadget)e(pro)n(vides)h(similar)g(b)r(eha)n(vior)g(to)g(the)g
Ft(toggle-button)h Fr(gadget,)f(except)f(that)g(it)149 1421
y(is)k(in)n(tended)f(for)g(items)g(in)h(men)n(us.)23 b(The)18
b(returned)d(v)m(alue)j(is)g(generally)f(the)g(item)g(c)n(hosen)g(from)f(the)
h(men)n(u.)149 1554 y Ft(arm-callback)g Fr(will)h(b)r(e)d(in)n(v)n(ok)n(ed)j
(when)e(the)f(men)n(u)g(button)g(b)r(ecomes)e(armed)i(\(suc)n(h)g(as)i(when)e
(the)h(p)r(oin)n(ter)149 1621 y(mo)n(v)n(es)d(in)n(to)i(it,)g(or)f(a)g(p)r
(oin)n(ter)f(button)f(is)j(pressed)d(o)n(v)n(er)j(it\).)23
b(When)13 b(the)h(men)n(u)f(button)f(is)j(actually)e(activ)m(ated)149
1687 y(\(b)n(y)23 b(releasing)f(the)g(p)r(oin)n(ter)f(button)h(o)n(v)n(er)h
(it\),)h Ft(value-changed-callback)h Fr(will)f(b)r(e)e(in)n(v)n(ok)n(ed.)41
b(Finally)-5 b(,)149 1754 y Ft(disarm-callback)15 b Fr(will)h(b)r(e)e(in)n(v)
n(ok)n(ed)i(after)d Ft(value-changed-callback)p Fr(,)k(or)d(when)g(the)g(p)r
(oin)n(ter)f(is)i(mo)n(v)n(ed)149 1820 y(outside)i(of)h(the)f(men)n(u)g
(button.)49 1953 y Fj(\))45 b Ft(menu-button)1809 b Fr([)p
Fs(Class)5 b Fr(])149 2072 y(The)24 b(class)h(that)f(implemen)n(ts)f(an)i
(abstract)e(men)n(u)h(button.)44 b(It)25 b(is)g(a)g(sub)r(class)f(of)h
Ft(value-gadget)h Fr(and)149 2138 y Ft(labelled-gadget)p Fr(.)49
2271 y Fj(\))45 b Ft(menu-button-pane)1664 b Fr([)p Fs(Class)5
b Fr(])149 2390 y(The)17 b(class)h(that)f(implemen)n(ts)f(a)i(p)r(ortable)e
(men)n(u)h(button;)g(a)h(sub)r(class)f(of)h Ft(menu-button)p
Fr(.)149 2611 y Fp(30.4.4)75 b(The)25 b Fa(scroll-bar)i Fp(Gadget)149
2780 y Fr(The)17 b Ft(scroll-bar)i Fr(gadget)e(corresp)r(onds)e(to)i(a)h
(scroll)g(bar.)49 2913 y Fj(\))45 b Ft(scroll-bar)1838 b Fr([)p
Fs(Class)5 b Fr(])149 3032 y(The)18 b(class)f(that)g(implemen)n(ts)f(a)j
(scroll)f(bar.)24 b(This)19 b(is)f(a)g(sub)r(class)f(of)h Ft(value-gadget)p
Fr(,)i Ft(oriented-gadget)p Fr(,)149 3098 y(and)d Ft(range-gadget-mixin)p
Fr(.)49 3231 y Fj(\))45 b Ft(:drag-callback)1656 b Fr([)p Fs(Init)21
b(A)o(r)m(g)5 b Fr(])49 3297 y Fj(\))45 b Ft(:scroll-to-bottom-callback)1308
b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])49 3364 y Fj(\))45
b Ft(:scroll-to-top-callback)1395 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5
b Fr(])49 3430 y Fj(\))45 b Ft(:drag-down-line-callback)1366
b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])p eop
%%Page: 330 345
bop 149 16 a Fm(CHAPTER)16 b(30.)43 b(GADGETS)1536 b Fr(330)49
210 y Fj(\))45 b Ft(:drag-up-line-callback)1424 b Fr([)p Fs(Init)21
b(A)o(r)m(g)5 b Fr(])49 276 y Fj(\))45 b Ft(:drag-down-page-callback)1366
b Fr([)p Fs(Init)21 b(A)o(r)m(g)5 b Fr(])49 342 y Fj(\))45
b Ft(:drag-up-page-callback)1424 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5
b Fr(])149 461 y(Sp)r(eci\014es)16 b(the)h(drag)g(and)h(other)f(callbac)n(ks)
h(for)f(the)h(scroll)g(bar.)49 594 y Fj(\))45 b Ft(scroll-bar-drag-callback)
30 b Fs(scr)m(ol)s(l-b)m(ar)886 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 713 y(Returns)d(the)i(function)f(that)g(will)j(b)r(e)e(called)g
(when)g(the)g(indicator)f(of)h(the)g(scroll)g(bar)g(is)h(dragged.)33
b(This)149 780 y(function)16 b(will)k(b)r(e)d(in)n(v)n(ok)n(ed)j(with)e(a)g
(t)n(w)n(o)g(argumen)n(ts,)e(the)i(scroll)g(bar)f(and)h(the)f(new)h(v)m
(alue.)49 912 y Fj(\))45 b Ft(scroll-bar-scroll-to-bottom-callback)31
b Fs(scr)m(ol)s(l-b)m(ar)537 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])49 979 y Fj(\))45 b Ft(scroll-bar-scroll-to-top-callback)31
b Fs(scr)m(ol)s(l-b)m(ar)624 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])49 1045 y Fj(\))45 b Ft(scroll-bar-drag-down-line-callback)31
b Fs(scr)m(ol)s(l-b)m(ar)595 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])49 1112 y Fj(\))45 b Ft(scroll-bar-drag-up-line-callback)31
b Fs(scr)m(ol)s(l-b)m(ar)653 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])49 1178 y Fj(\))45 b Ft(scroll-bar-drag-down-page-callback)31
b Fs(scr)m(ol)s(l-b)m(ar)595 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])49 1245 y Fj(\))45 b Ft(scroll-bar-drag-up-page-callback)31
b Fs(scr)m(ol)s(l-b)m(ar)653 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1364 y(Returns)f(the)i(functions)f(that)g(will)j(b)r(e)e(used)f(as)i
(callbac)n(ks)f(when)g(v)m(arious)g(parts)f(of)h(the)g(scroll)g(bar)g(are)149
1430 y(clic)n(k)n(ed)c(on.)24 b(These)17 b(are)h(all)g(functions)f(of)h(a)g
(single)g(argumen)n(t,)e(the)i(scroll)g(bar.)149 1563 y(When)i(an)n(y)h(of)f
(these)g(functions)f(returns)g Ft(nil)p Fr(,)j(that)d(indicates)h(that)f
(there)h(is)h(no)f(callbac)n(k)h(of)g(that)e(t)n(yp)r(e)149
1629 y(for)e(the)h(gadget.)49 1762 y Fj(\))45 b Ft(drag-callback)29
b Fs(scr)m(ol)s(l-b)m(ar)22 b(client)g(gadget-id)g(value)454
b Fr([)p Fs(Cal)s(lb)m(ack)22 b(Generic)f(F)l(unction)t Fr(])149
1881 y(This)d(callbac)n(k)g(is)h(in)n(v)n(ok)n(ed)g(when)f(the)f(v)m(alue)h
(of)g(the)f(scroll)h(bar)g(is)h(c)n(hanged)d(while)j(the)e(indicator)g(is)i
(b)r(eing)149 1948 y(dragged.)42 b(This)24 b(is)h(implemen)n(ted)d(b)n(y)j
(calling)g(the)f(function)f(stored)g(in)i Ft(scroll-bar-drag-callback)149
2014 y Fr(with)18 b(t)n(w)n(o)g(argumen)n(ts,)e(the)i(scroll)g(bar)f(and)h
(the)f(new)h(v)m(alue.)149 2147 y(The)f Ft(value-changed-callback)j
Fr(is)f(in)n(v)n(ok)n(ed)g(only)g(after)e(the)g(indicator)g(is)h(released)f
(after)g(dragging)f(it.)49 2280 y Fj(\))45 b Ft(scroll-to-top-callback)30
b Fs(scr)m(ol)s(l-b)m(ar)22 b(client)f(gadget-id)337 b Fr([)p
Fs(Cal)s(lb)m(ack)22 b(Generic)f(F)l(unction)t Fr(])49 2346
y Fj(\))45 b Ft(scroll-to-bottom-callback)30 b Fs(scr)m(ol)s(l-b)m(ar)22
b(client)f(gadget-id)250 b Fr([)p Fs(Cal)s(lb)m(ack)22 b(Generic)f(F)l
(unction)t Fr(])49 2412 y Fj(\))45 b Ft(scroll-up-line-callback)30
b Fs(scr)m(ol)s(l-b)m(ar)22 b(client)f(gadget-id)308 b Fr([)p
Fs(Cal)s(lb)m(ack)22 b(Generic)f(F)l(unction)t Fr(])49 2479
y Fj(\))45 b Ft(scroll-up-page-callback)30 b Fs(scr)m(ol)s(l-b)m(ar)22
b(client)f(gadget-id)308 b Fr([)p Fs(Cal)s(lb)m(ack)22 b(Generic)f(F)l
(unction)t Fr(])49 2545 y Fj(\))45 b Ft(scroll-down-line-callback)30
b Fs(scr)m(ol)s(l-b)m(ar)22 b(client)f(gadget-id)250 b Fr([)p
Fs(Cal)s(lb)m(ack)22 b(Generic)f(F)l(unction)t Fr(])49 2612
y Fj(\))45 b Ft(scroll-down-page-callback)30 b Fs(scr)m(ol)s(l-b)m(ar)22
b(client)f(gadget-id)250 b Fr([)p Fs(Cal)s(lb)m(ack)22 b(Generic)f(F)l
(unction)t Fr(])149 2731 y(All)12 b(of)h(the)e(callbac)n(ks)h(ab)r(o)n(v)n(e)
g(are)f(in)n(v)n(ok)n(ed)j(when)d(appropriate)f(parts)h(of)h(the)f(scroll)h
(bar)g(are)g(clic)n(k)n(ed)g(on.)23 b(Note)149 2797 y(that)17
b(eac)n(h)g(implemen)n(tation)e(ma)n(y)j(not)g(ha)n(v)n(e)g(\\hot)f(sp)r
(ots")g(corresp)r(onding)d(to)k(eac)n(h)f(of)i(these)d(callbac)n(ks.)49
2930 y Fj(\))45 b Ft(gadget-value)29 b Fs(\(button)21 b Ft(scroll-bar)p
Fs(\))1195 b Fr([)p Fs(Metho)m(d)6 b Fr(])149 3049 y(Returns)16
b(a)i(real)g(n)n(um)n(b)r(er)e(within)j(the)e(sp)r(eci\014ed)f(range.)49
3182 y Fj(\))45 b Ft(scroll-bar-pane)1693 b Fr([)p Fs(Class)5
b Fr(])149 3301 y(The)17 b(class)h(that)f(implemen)n(ts)f(a)i(p)r(ortable)e
(scroll)i(bar;)g(a)g(sub)r(class)f(of)h Ft(scroll-bar)p Fr(.)p
eop
%%Page: 331 346
bop 149 16 a Fm(CHAPTER)16 b(30.)43 b(GADGETS)1536 b Fr(331)149
210 y Fp(30.4.5)75 b(The)25 b Fa(slider)h Fp(Gadget)149 378
y Fr(The)17 b Ft(slider)i Fr(gadget)e(corresp)r(onds)d(to)k(a)g(slider.)49
511 y Fj(\))45 b Ft(slider)1954 b Fr([)p Fs(Class)5 b Fr(])149
630 y(The)24 b(class)h(that)f(implemen)n(ts)e(a)j(slider.)45
b(This)25 b(is)h(a)f(sub)r(class)e(of)i Ft(value-gadget)p Fr(,)j
Ft(oriented-gadget)p Fr(,)149 696 y Ft(range-gadget-mixin)p
Fr(,)20 b(and)d Ft(labelled-gadget)p Fr(.)49 829 y Fj(\))45
b Ft(:drag-callback)1656 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5
b Fr(])49 896 y Fj(\))45 b Ft(:show-value-p)1685 b Fr([)p Fs(Init)21
b(A)o(r)m(g)5 b Fr(])149 1015 y(Sp)r(eci\014es)16 b(the)h(drag)g(callbac)n(k)
i(for)e(the)h(slider,)g(and)g(whether)e(the)h(slider)h(should)g(sho)n(w)g
(its)g(curren)n(t)f(v)m(alue.)49 1147 y Fj(\))45 b Ft(gadget-show-value-p)30
b Fs(slider)1121 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
1266 y(Returns)16 b Fm(true)h Fr(if)i(the)e(slider)h(sho)n(ws)g(its)g(v)m
(alue,)h(otherwise)d(returns)g Fm(false)49 1399 y Fj(\))45
b Ft(slider-drag-callback)30 b Fs(slider)1092 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 1518 y(Returns)12 b(the)h(function)g(that)g(will)j
(b)r(e)d(called)h(when)g(the)f(indicator)g(of)h(the)f(slider)h(is)h(dragged.)
21 b(This)15 b(function)149 1585 y(will)k(b)r(e)f(in)n(v)n(ok)n(ed)h(with)f
(a)g(t)n(w)n(o)h(argumen)n(ts,)d(the)h(slider)h(and)g(the)f(new)h(v)m(alue.)
149 1718 y(When)f(this)h(function)f(returns)f Ft(nil)p Fr(,)j(that)e
(indicates)g(that)g(there)f(is)j(no)f(drag)f(callbac)n(k)h(for)g(the)f
(gadget.)49 1850 y Fj(\))45 b Ft(drag-callback)29 b Fs(slider)21
b(client)g(gadget-id)i(value)545 b Fr([)p Fs(Cal)s(lb)m(ack)22
b(Generic)f(F)l(unction)t Fr(])149 1969 y(This)j(callbac)n(k)g(is)h(in)n(v)n
(ok)n(ed)g(when)f(the)f(v)m(alue)h(of)g(the)f(slider)h(is)h(c)n(hanged)d
(while)j(the)e(indicator)g(is)i(b)r(eing)149 2036 y(dragged.)38
b(This)23 b(is)h(implemen)n(ted)d(b)n(y)j(calling)f(the)g(function)f(stored)f
(in)j Ft(slider-drag-callback)h Fr(with)149 2102 y(t)n(w)n(o)18
b(argumen)n(ts,)e(the)h(slider)i(and)e(the)g(new)h(v)m(alue.)149
2235 y(The)f Ft(value-changed-callback)j Fr(is)f(in)n(v)n(ok)n(ed)g(only)g
(after)e(the)g(indicator)g(is)h(released)f(after)g(dragging)f(it.)49
2368 y Fj(\))45 b Ft(gadget-value)29 b Fs(\(button)21 b Ft(slider)p
Fs(\))1311 b Fr([)p Fs(Metho)m(d)6 b Fr(])149 2487 y(Returns)16
b(a)i(real)g(n)n(um)n(b)r(er)e(within)j(the)e(sp)r(eci\014ed)f(range.)49
2620 y Fj(\))45 b Ft(slider-pane)1809 b Fr([)p Fs(Class)5 b
Fr(])149 2739 y(The)17 b(class)h(that)f(implemen)n(ts)f(a)i(p)r(ortable)e
(slider;)j(a)f(sub)r(class)e(of)i Ft(slider)p Fr(.)149 2960
y Fp(30.4.6)75 b(The)25 b Fa(radio-box)h Fp(Gadget)149 3129
y Fr(A)18 b(radio)g(b)r(o)n(x)h(is)g(a)f(sp)r(ecial)g(kind)h(of)f(gadget)f
(that)h(constrains)e(one)i(or)g(more)f(toggle)h(buttons.)24
b(A)n(t)18 b(an)n(y)h(one)149 3195 y(time,)f(only)h(one)g(of)g(the)f(buttons)
f(managed)f(b)n(y)k(the)e(radio)g(b)r(o)n(x)h(ma)n(y)g(b)r(e)f(\\on".)26
b(The)19 b(con)n(ten)n(ts)e(of)i(a)g(radio)149 3262 y(b)r(o)n(x)j(are)g(its)g
(buttons,)g(and)g(as)g(suc)n(h)h(a)f(radio)g(b)r(o)n(x)g(is)h(resp)r(onsible)
e(for)h(la)n(ying)h(out)f(the)g(buttons)e(that)h(it)149 3328
y(con)n(tains.)i(A)18 b(radio)f(b)r(o)n(x)g(is)i(a)e(clien)n(t)h(of)g(eac)n
(h)f(of)g(its)h(buttons)e(so)h(that)g(the)g(v)m(alue)g(of)h(the)f(radio)g(b)r
(o)n(x)g(can)g(b)r(e)149 3394 y(prop)r(erly)f(computed.)p eop
%%Page: 332 347
bop 149 16 a Fm(CHAPTER)16 b(30.)43 b(GADGETS)1536 b Fr(332)149
210 y(As)19 b(the)f(curren)n(t)g(selection)g(c)n(hanges,)h(the)f(previously)h
(selected)f(button)g(and)h(the)f(newly)i(selected)d(button)149
276 y(b)r(oth)f(ha)n(v)n(e)j(their)e Ft(value-changed-callback)j
Fr(handlers)d(in)n(v)n(ok)n(ed.)49 409 y Fj(\))45 b Ft(radio-box)1867
b Fr([)p Fs(Class)5 b Fr(])149 528 y(The)15 b(class)h(that)f(implemen)n(ts)f
(a)h(radio)h(b)r(o)n(x.)24 b(It)16 b(is)g(a)g(sub)r(class)f(of)g
Ft(value-gadget)i Fr(and)f Ft(oriented-gadget)p Fr(.)49 661
y Fj(\))45 b Ft(:current-selection)1540 b Fr([)p Fs(Init)21
b(A)o(r)m(g)5 b Fr(])149 780 y(This)18 b(is)h(used)e(to)h(sp)r(ecify)f(whic)n
(h)h(button,)f(if)i(an)n(y)-5 b(,)19 b(should)f(b)r(e)f(initially)j
(selected.)49 912 y Fj(\))45 b Ft(radio-box-current-selection)30
b Fs(r)m(adio-b)m(ox)802 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])49 979 y Fj(\))45 b Ft(\(setf)29 b(radio-box-current-selection\))i
Fs(button)21 b(r)m(adio-b)m(ox)427 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1098 y(Returns)14 b(\(or)h(sets\))g(the)g(curren)n(t)f(selection)h
(for)h(the)f(radio)h(b)r(o)n(x.)23 b(The)16 b(curren)n(t)f(selection)f(will)k
(b)r(e)d(one)g(of)h(the)149 1164 y(toggle)h(buttons)f(in)i(the)g(b)r(o)n(x.)
49 1297 y Fj(\))45 b Ft(gadget-value)29 b Fs(\(button)21 b
Ft(radio-box)p Fs(\))1224 b Fr([)p Fs(Metho)m(d)6 b Fr(])149
1416 y(Returns)16 b(the)h(selected)g(button.)49 1549 y Fj(\))45
b Ft(radio-box-pane)1722 b Fr([)p Fs(Class)5 b Fr(])149 1668
y(The)17 b(class)h(that)f(implemen)n(ts)f(a)i(p)r(ortable)e(radio)i(b)r(o)n
(x;)g(a)g(sub)r(class)f(of)h Ft(radio-box)p Fr(.)49 1801 y
Fj(\))45 b Ft(with-radio-box)30 b Fs(\()p Ft(&rest)f Fs(options\))20
b Ft(&body)29 b Fs(b)m(o)m(dy)979 b Fr([)p Fs(Macr)m(o)s Fr(])149
1920 y(Creates)20 b(a)h(radio)g(b)r(o)n(x)h(whose)f(buttons)e(are)i(created)f
(b)n(y)i(the)f(forms)f(in)i Fs(b)m(o)m(dy)p Fr(.)37 b(The)21
b(macro)f Ft(radio-box-)149 1986 y(current-selection)f Fr(can)e(b)r(e)g
(wrapp)r(ed)f(around)g(one)h(of)h(forms)f(in)h Fs(b)m(o)m(dy)h
Fr(in)f(order)f(to)g(indicate)g(that)g(that)149 2053 y(button)f(is)j(the)e
(curren)n(t)g(selection.)149 2185 y(F)-5 b(or)20 b(example,)f(the)g(follo)n
(wing)i(creates)d(a)h(radio)h(b)r(o)n(x)g(with)g(three)e(buttons)g(in)i(it,)h
(the)f(second)e(of)i(whic)n(h)g(is)149 2252 y(initially)f(selected.)149
2427 y Ft(\(with-radio-box)30 b(\(\))207 2494 y(\(make-pane)f('toggle-button)
h(:label)g("Mono"\))207 2560 y(\(radio-box-current-selection)265
2627 y(\(make-pane)g('toggle-button)f(:label)h("Stereo"\)\))207
2693 y(\(make-pane)f('toggle-button)h(:label)g("Quad"\)\))149
2912 y Fp(30.4.7)75 b(The)25 b Fa(text-field)i Fp(Gadget)149
3081 y Fr(The)17 b Ft(text-field)i Fr(gadget)e(corresp)r(onds)e(to)i(a)h
(small)g(\014eld)g(con)n(taining)f(text.)49 3214 y Fj(\))45
b Ft(text-field)1838 b Fr([)p Fs(Class)5 b Fr(])149 3333 y(The)16
b(class)g(that)f(implemen)n(ts)f(a)i(text)g(\014eld.)23 b(This)17
b(is)g(a)f(sub)r(class)f(of)h Ft(value-gadget)h Fr(and)f Ft(action-gadget)p
Fr(.)149 3466 y(The)h(v)m(alue)h(of)g(a)h(text)e(\014eld)h(is)g(the)g(text)f
(string.)p eop
%%Page: 333 348
bop 149 16 a Fm(CHAPTER)16 b(30.)43 b(GADGETS)1536 b Fr(333)49
210 y Fj(\))45 b Ft(gadget-value)29 b Fs(\(button)21 b Ft(text-field)p
Fs(\))1195 b Fr([)p Fs(Metho)m(d)6 b Fr(])149 329 y(Returns)16
b(the)h(resulting)g(string.)49 461 y Fj(\))45 b Ft(text-field-pane)1693
b Fr([)p Fs(Class)5 b Fr(])149 580 y(The)17 b(class)h(that)f(implemen)n(ts)f
(a)i(p)r(ortable)e(text)i(\014eld;)g(a)g(sub)r(class)f(of)h
Ft(text-field)p Fr(.)149 802 y Fp(30.4.8)75 b(The)25 b Fa(text-editor)i
Fp(Gadget)149 970 y Fr(The)17 b Ft(text-editor)j Fr(gadget)c(corresp)r(onds)f
(to)i(a)h(large)g(\014eld)g(con)n(taining)f(text.)49 1103 y
Fj(\))45 b Ft(:width)1888 b Fr([)p Fs(Init)21 b(A)o(r)m(g)5
b Fr(])49 1170 y Fj(\))45 b Ft(:height)1859 b Fr([)p Fs(Init)21
b(A)o(r)m(g)5 b Fr(])149 1289 y(Sp)r(eci\014es)16 b(the)h(width)h(and)g
(heigh)n(t)f(of)h(the)g(text)f(editor.)49 1421 y Fj(\))45 b
Ft(text-editor)1809 b Fr([)p Fs(Class)5 b Fr(])149 1540 y(The)17
b(class)h(that)f(implemen)n(ts)f(a)i(large)g(text)f(\014eld.)24
b(This)19 b(is)f(a)h(sub)r(class)d(of)i Ft(text-field)p Fr(.)149
1673 y(The)f(v)m(alue)h(of)g(a)h(text)e(editor)g(is)i(the)e(text)g(string.)49
1806 y Fj(\))45 b Ft(gadget-value)29 b Fs(\(button)21 b Ft(text-editor)p
Fs(\))1166 b Fr([)p Fs(Metho)m(d)6 b Fr(])149 1925 y(Returns)16
b(the)h(resulting)g(string.)49 2058 y Fj(\))45 b Ft(text-editor-pane)1664
b Fr([)p Fs(Class)5 b Fr(])149 2177 y(The)17 b(class)h(that)f(implemen)n(ts)f
(a)i(p)r(ortable)e(text)i(editor;)f(a)h(sub)r(class)f(of)h
Ft(text-editor)p Fr(.)149 2426 y Fk(30.5)91 b(In)m(tegrating)29
b(Gadgets)g(and)h(Output)g(Records)149 2614 y Fr(In)17 b(addition)f(to)h
(gadget)f(panes,)g(CLIM)h(allo)n(ws)h(gadgets)d(to)i(b)r(e)f(used)h(inside)g
(of)g(CLIM)g(stream)e(panes.)23 b(F)-5 b(or)149 2680 y(instance,)14
b(an)g Ft(accepting-values)i Fr(whose)e(\014elds)g(consist)g(of)g(gadgets)f
(ma)n(y)h(app)r(ear)f(in)i(an)f(ordinary)g(CLIM)149 2747 y(stream)i(pane.)149
2880 y(Note)i(that)g(man)n(y)g(of)i(the)e(functions)g(in)i(the)e(output)g
(record)f(proto)r(col)g(m)n(ust)h(correctly)g(manage)f(the)h(case)149
2946 y(where)12 b(there)g(are)g(gadgets)g(con)n(tained)g(within)h(output)f
(records.)21 b(F)-5 b(or)14 b(example,)f Ft(\(setf*)29 b(output-record-)149
3013 y(position\))19 b Fr(ma)n(y)f(need)f(to)h(notify)g(the)f(host)h(windo)n
(w)g(system)f(that)g(the)g(to)r(olkit)h(ob)s(ject)e(represen)n(ting)g(the)149
3079 y(gadget)g(has)i(mo)n(v)n(ed,)g Ft(window-clear)h Fr(needs)e(to)h
(deactiv)n(e)f(an)n(y)h(gadgets,)f(and)h(so)g(forth.)49 3212
y Fj(\))45 b Ft(gadget-output-record)1548 b Fr([)p Fs(Class)5
b Fr(])149 3331 y(The)22 b(class)g(the)g(represen)n(ts)f(an)h(output)f
(record)g(class)h(that)g(con)n(tains)f(a)i(gadget.)37 b(This)23
b(is)g(a)f(sub)r(class)g(of)149 3397 y Ft(output-record)p Fr(.)p
eop
%%Page: 334 349
bop 149 16 a Fm(CHAPTER)16 b(30.)43 b(GADGETS)1536 b Fr(334)49
210 y Fj(\))45 b Ft(with-output-as-gadget)30 b Fs(\(str)m(e)m(am\))21
b Ft(&body)29 b Fs(b)m(o)m(dy)966 b Fr([)p Fs(Macr)m(o)s Fr(])149
329 y(In)n(v)n(ok)n(es)15 b Fs(b)m(o)m(dy)g Fr(to)f(create)e(a)h(gadget,)h
(and)f(then)g(creates)f(a)i(gadget)e(output)g(record)h(that)f(con)n(tains)h
(the)g(gadget)149 395 y(and)g(install's)i(it)f(in)n(to)g(the)f(output)g
(history)g(of)h(the)g(output)e(recording)g(stream)g Fs(str)m(e)m(am)p
Fr(.)25 b(The)14 b(returned)e(v)m(alue)149 461 y(of)18 b Fs(b)m(o)m(dy)h
Fr(m)n(ust)f(b)r(e)f(the)g(gadget.)149 594 y(The)12 b Fs(str)m(e)m(am)i
Fr(argumen)n(t)c(is)j(not)e(ev)m(aluated,)i(and)e(m)n(ust)h(b)r(e)f(a)i(sym)n
(b)r(ol)e(that)g(is)i(b)r(ound)e(to)h(an)g(output)e(recording)149
661 y(stream.)22 b(If)17 b Fs(str)m(e)m(am)j Fr(is)e Ft(t)p
Fr(,)g Ft(*standard-output*)h Fr(is)f(used.)23 b Fs(b)m(o)m(dy)c
Fr(ma)n(y)e(ha)n(v)n(e)h(zero)f(or)g(more)e(declarations)h(as)149
727 y(its)i(\014rst)f(forms.)149 860 y(F)-5 b(or)17 b(example,)f(the)f(follo)
n(wing)j(could)e(b)r(e)g(used)g(to)g(create)e(an)j(output)e(record)g(con)n
(taining)g(a)i(radio)f(b)r(o)n(x)h(that)149 926 y(itself)h(con)n(tains)f(sev)
n(eral)h(toggle)f(buttons:)149 1115 y Ft(\(with-output-as-gadget)30
b(\(stream\))207 1181 y(\(let*)f(\(\(radio-box)468 1247 y(\(make-pane)h
('radio-box)788 1314 y(:client)f(stream)h(:id)f('radio-box\)\)\))265
1380 y(\(dolist)g(\(item)h(sequence\))323 1447 y(\(make-pane)g
('toggle-button)643 1513 y(:label)f(\(princ-to-string)h(\(item-name)g
(item\)\))643 1579 y(:value)f(\(item-value)h(item\))643 1646
y(:id)f(item)g(:parent)h(radio-box\)\))265 1712 y(radio-box\)\))149
1900 y Fr(A)20 b(more)g(complex)f(\(and)h(somewhat)f(con)n(triv)n(ed\))h
(example)f(of)i(a)g(push)f(button)g(that)f(calls)i(bac)n(k)g(in)n(to)g(the)
149 1967 y(presen)n(tation)15 b(t)n(yp)r(e)j(system)e(to)i(execute)e(a)j
(command)c(migh)n(t)i(b)r(e)g(as)h(follo)n(ws:)149 2155 y Ft
(\(with-output-as-gadget)30 b(\(stream\))207 2221 y(\(make-pane)f
('push-button)265 2288 y(:label)g("Click)h(here)f(to)g(exit")265
2354 y(:activate-callback)323 2421 y(#'\(lambda)h(\(button\))439
2487 y(\(declare)g(\(ignore)f(button\)\))439 2554 y
(\(throw-highlighted-presentation)497 2620 y(\(make-instance)h
('standard-presentation)933 2686 y(:object)g(`\(com-exit)f
(,*application-frame*\))933 2753 y(:type)h('command\))497 2819
y(*input-context*)497 2886 y(\(make-instance)g('pointer-button-press-event)
933 2952 y(:sheet)g(\(sheet-parent)f(button\))933 3018 y(:x)g(0)h(:y)f(0)933
3085 y(:modifiers)h(0)933 3151 y(:button)g(+pointer-left-button+\)\)\)\)\))p
eop
%%Page: 335 350
bop 1025 1308 a Fl(P)l(art)45 b(VI)t(I)t(I)904 1651 y Fq(App)t(endices)1262
3632 y Fr(335)p eop
%%Page: 336 351
bop 149 691 a Fl(App)t(endix)44 b(A)149 1034 y Fq(Glossary)149
1388 y Fo(Minor)21 b(issue:)52 b Fm(Fill)18 b(these)d(in.)25
b(What)15 b(glossary)h(en)n(tries)g(w)n(ould)h(it)f(b)r(e)g(useful)g(to)g(b)r
(orro)n(w)f(from)h(the)f(ANSI)149 1455 y(CL)j(sp)r(ec?)23 b(|)c(SWM)149
1640 y Fo(adaptiv)n(e)j(to)r(olkit)27 b Fs(n.)e Fr(|Fill)20
b(this)e(in|)149 1750 y Fo(adopted)28 b Fs(adj.)d Fr(\(of)18
b(a)g Fm(sheet)p Fr(\))e(Ha)n(ving)i(a)g(paren)n(t)f(sheet.)149
1859 y Fo(a\016ne)k(transformation)30 b Fs(n.)24 b Fr(A)18
b Fm(transformation)p Fr(.)149 1969 y Fo(ancestors)28 b Fs(n.)d
Fr(The)18 b(paren)n(t)e(of)j(a)f Fm(sheet)e Fr(or)i(an)g Fm(output)e(record)p
Fr(,)h(and)h(all)h(of)f(its)g(ancestors,)e(recursiv)n(ely)-5
b(.)149 2078 y Fo(applicable)31 b Fs(adj.)24 b Fr(\(of)16 b(a)g
Fm(presen)n(tation)e(translator)p Fr(\))f(A)j Fm(presen)n(tation)e
(translator)g Fr(is)i(said)g(to)g(b)r(e)f Fm(applicable)287
2144 y Fr(when)f(the)f(p)r(oin)n(ter)g(is)i(p)r(oin)n(ting)f(to)f(a)i
Fm(presen)n(tation)c Fr(whose)j Fm(presen)n(tation)e(t)n(yp)r(e)h
Fr(matc)n(hes)g(the)g(curren)n(t)287 2211 y Fm(input)18 b(con)n(text)p
Fr(,)f(and)g(the)h(other)e(criteria)h(for)h(translator)e(matc)n(hing)g(ha)n
(v)n(e)j(b)r(een)e(met.)149 2320 y Fo(application)24 b(frame)k
Fs(n.)c Fr(1.)14 b(A)h(program)c(that)i(in)n(teracts)g(directly)h(with)g(a)g
Fm(user)g Fr(to)g(p)r(erform)d(some)i(sp)r(eci\014c)287 2387
y(task.)23 b(2.)14 b(A)f(Lisp)h(ob)s(ject)e(that)h(holds)g(the)g(information)
e(asso)r(ciated)h(with)h(suc)n(h)h(a)f(program,)g(including)287
2453 y(the)k(panes)g(of)h(the)g(user)f(in)n(terface)g(and)g(application)g
(state)g(v)m(ariables.)149 2563 y Fo(area)28 b Fs(n.)c Fr(A)18
b Fm(region)f Fr(that)g(has)h(dimensionalit)n(y)f(2,)i(that)e(is,)i(has)f
(area.)149 2672 y Fo(bac)n(kground)29 b Fs(n.)22 b Fr(The)12
b Fm(design)f Fr(that)g(is)i(used)e(when)g(erasing,)i(that)d(is,)15
b(dra)n(wing)c(using)h Ft(+background-ink+)p Fr(.)149 2782
y Fo(b)r(ounded)22 b(design)30 b Fs(n.)24 b Fr(A)17 b Fm(design)f
Fr(that)g(is)h(transparen)n(t)d(ev)n(erywhere)i(b)r(ey)n(ond)g(a)h(certain)e
(distance)h(from)g(a)287 2848 y(certain)h(p)r(oin)n(t.)27 b(Dra)n(wing)19
b(a)g(b)r(ounded)d(design)j(has)f(no)h(e\013ect)e(on)i(the)f(dra)n(wing)h
(plane)f(outside)g(that)287 2914 y(distance.)149 3024 y Fo(b)r(ounded)k
(region)29 b Fs(n.)43 b Fr(A)24 b Fm(region)f Fr(that)g(con)n(tains)h(at)f
(least)h(one)f(p)r(oin)n(t)h(and)g(for)g(whic)n(h)g(there)f(exists)h(a)287
3090 y(n)n(um)n(b)r(er,)d Fn(d)p Fr(,)i(called)e(the)g(region's)g(diameter,)f
(suc)n(h)i(that)e(if)i Fn(p)p Fr(1)f(and)g Fn(p)p Fr(2)h(are)f(p)r(oin)n(ts)f
(in)i(the)f(region,)287 3157 y(the)c(distance)g(b)r(et)n(w)n(een)g
Fn(p)p Fr(1)h(and)f Fn(p)p Fr(2)h(is)h(alw)n(a)n(ys)g(less)f(than)f(or)h
(equal)g(to)g Fn(d)p Fr(.)149 3266 y Fo(b)r(ounding)23 b(rectangle)29
b Fs(n.)i Fr(1.)20 b(The)g(smallest)f Fm(rectangle)f Fr(that)h(surrounds)f(a)
i Fm(b)r(ounded)e(region)h Fr(and)h(con-)287 3333 y(tains)e(ev)n(ery)h(p)r
(oin)n(t)g(in)g(the)f(region,)h(and)f(ma)n(y)h(con)n(tain)f(additional)g(p)r
(oin)n(ts)g(as)h(w)n(ell.)28 b(The)18 b(sides)h(of)g(a)287
3399 y(b)r(ounding)e(rectangle)f(are)h(parallel)i(to)f(the)f(co)r(ordinate)f
(axes.)25 b(2.)18 b(A)g(Lisp)h(ob)s(ject)d(that)i(represen)n(ts)e(a)287
3466 y Fm(b)r(ounding)h(rectangle)p Fr(.)1262 3632 y(336)p
eop
%%Page: 337 352
bop 149 16 a Fm(APPENDIX)16 b(A.)37 b(GLOSSAR)-5 b(Y)1511 b
Fr(337)149 210 y Fo(cac)n(he)22 b(v)l(alue)29 b Fs(n.)c Fr(During)18
b Fm(incremen)n(tal)e(redispla)n(y)p Fr(,)j(the)e Fm(cac)n(he)g(v)m(alue)h
Fr(is)h(used)e(to)h(determine)d(whether)i(or)287 276 y(not)g(a)i(piece)e(of)h
(output)e(has)i(c)n(hanged.)149 387 y Fo(c)n(hildren)31 b Fs(n.)23
b Fr(\(of)15 b(a)g Fm(sheet)f Fr(or)g Fm(output)g(record)p
Fr(\))e(The)j(direct)f(descendan)n(ts)e(of)j(a)g Fm(sheet)f
Fr(or)h(an)g Fm(output)e(record)p Fr(.)149 497 y Fo(color)28
b Fs(n.)d Fr(1.)18 b(An)f(ob)s(ject)f(represen)n(ting)g(the)h(in)n(tuitiv)n
(e)h(de\014nition)f(of)h(a)f(color,)h(suc)n(h)f(as)h(blac)n(k)g(or)g(red.)24
b(2.)18 b(A)287 564 y(Lisp)g(ob)s(ject)f(that)g(represen)n(ts)e(a)j
Fm(color)p Fr(.)149 674 y Fo(colored)k(design)29 b Fs(n.)c
Fr(A)18 b Fm(design)g Fr(whose)f(p)r(oin)n(ts)g(ha)n(v)n(e)i
Fm(color)p Fr(.)149 785 y Fo(colorless)k(design)29 b Fs(n.)d
Fr(A)19 b Fm(design)f Fr(whose)f(p)r(oin)n(ts)h(ha)n(v)n(e)h(no)g
Fm(color)p Fr(.)25 b(Dra)n(wing)19 b(a)g(colorless)e(design)h(uses)g(the)287
852 y(default)f(color)h(sp)r(eci\014ed)e(b)n(y)j(the)e Fm(medium)p
Fr('s)f(foreground)g(design.)149 962 y Fo(command)28 b Fs(n.)d
Fr(1.)18 b(The)f(w)n(a)n(y)i(CLIM)e(represen)n(ts)e(a)j(user)f(in)n
(teraction.)22 b(2.)c(A)g(Lisp)f(ob)s(ject)f(that)h(represen)n(ts)287
1029 y(a)h Fm(command)p Fr(.)149 1139 y Fo(command)k(name)28
b Fs(n.)d Fr(A)18 b(sym)n(b)r(ol)f(that)g(names)f(a)i(command.)149
1250 y Fo(command)k(table)28 b Fs(n.)k Fr(1.)21 b(A)f(w)n(a)n(y)h(of)g
(collecting)e(and)h(organizing)f(a)h(group)g(of)g(related)f(commands,)f(and)
287 1317 y(de\014ning)13 b(the)h(in)n(teraction)e(st)n(yles)i(that)f(can)h(b)
r(e)f(used)h(to)g(in)n(v)n(ok)n(e)h(those)e(commands.)20 b(2.)15
b(A)f(Lisp)g(ob)s(ject)287 1383 y(that)j(represen)n(ts)f(a)i
Fm(command)d(table)p Fr(.)149 1494 y Fo(command)22 b(table)g(designator)29
b Fs(n.)40 b Fr(A)22 b(Lisp)h(ob)s(ject)f(that)g(is)i(either)e(a)h(command)d
(table)i(or)h(a)g(sym)n(b)r(ol)287 1560 y(that)17 b(names)f(a)j(command)c
(table.)149 1671 y Fo(completion)29 b Fs(n.)24 b Fr(A)14 b(facilit)n(y)i(pro)
n(vided)e(b)n(y)h(CLIM)f(for)g(completing)e(user)i(input)g(o)n(v)n(er)h(a)f
(set)g(of)h(p)r(ossibilities.)149 1781 y Fo(comp)r(ositing)29
b Fs(n.)43 b Fr(\(of)24 b Fm(designs)p Fr(\))f(The)h(creation)e(of)i(a)h
Fm(design)e Fr(whose)h(app)r(earance)d(at)i(eac)n(h)h(p)r(oin)n(t)g(is)h(a)
287 1848 y(comp)r(osite)14 b(of)k(the)e(app)r(earances)e(of)j(t)n(w)n(o)h
(other)e(designs)h(at)g(that)f(p)r(oin)n(t.)24 b(There)16 b(are)h(three)e(v)m
(arieties)287 1914 y(of)j(comp)r(ositing:)k Fm(comp)r(osing)15
b(o)n(v)n(er)p Fr(,)k Fm(comp)r(osing)d(in)p Fr(,)j(and)e Fm(comp)r(osing)f
(out)p Fr(.)149 2025 y Fo(comp)r(osition)29 b Fs(n.)36 b Fr(\(of)21
b Fm(transformations)p Fr(\))d(The)j(transformation)d(from)j(one)g(co)r
(ordinate)e(system)i(to)g(an-)287 2091 y(other,)14 b(then)g(from)f(the)h
(second)f(to)i(a)f(third)g(can)g(b)r(e)g(represen)n(ted)e(b)n(y)j(a)g(single)
g(transformation)c(that)i(is)287 2158 y(the)k Fm(comp)r(osition)d
Fr(of)j(the)g(t)n(w)n(o)h(comp)r(onen)n(t)c(transformations.)20
b(T)-5 b(ransformations)15 b(are)h(closed)h(under)287 2224
y(comp)r(osition.)k(Comp)r(osition)15 b(is)i(not)f(comm)n(utativ)n(e.)21
b(An)n(y)c(arbitrary)f(transformation)d(can)j(b)r(e)f(built)287
2291 y(up)g(b)n(y)h(comp)r(osing)c(a)j(n)n(um)n(b)r(er)f(of)h(simpler)f
(transformations,)e(but)i(that)g(comp)r(osition)e(is)k(not)e(unique.)149
2401 y Fo(con)n(text-dep)r(enden)n(t)23 b(input)29 b Fs(n.)c
Fr(|Fill)20 b(this)e(in|)149 2512 y Fo(degrafted)29 b Fs(adj.)c
Fr(\(of)17 b(a)h Fm(sheet)p Fr(\))f(Not)g Fm(grafted)p Fr(.)149
2623 y Fo(descendan)n(ts)30 b Fs(n.)24 b Fr(All)17 b(of)f(the)g(c)n(hildren)g
(of)g(a)h Fm(sheet)e Fr(or)h(an)g Fm(output)f(record)p Fr(,)g(and)h(all)i(of)
e(their)g(descenden)n(ts,)287 2689 y(recursiv)n(ely)-5 b(.)149
2800 y Fo(design)29 b Fs(n.)40 b Fr(An)22 b(ob)s(ject)g(that)g(represen)n(ts)
e(a)k(w)n(a)n(y)g(of)f(arranging)e Fm(colors)i Fr(and)f Fm(opacities)g
Fr(in)i(the)e Fm(dra)n(wing)287 2866 y(plane)p Fr(.)i(A)18
b(mapping)f(from)g(an)g(\()p Fn(x;)9 b(y)r Fr(\))18 b(pair)g(in)n(to)g(color)
g(and)f(opacit)n(y)h(v)m(alues.)149 2977 y Fo(device)k(transformation)29
b Fs(n.)c Fr(|Fill)20 b(this)e(in|)149 3088 y Fo(diso)n(wned)29
b Fs(adj.)d Fr(\(of)17 b(a)h Fm(sheet)p Fr(\))f(Not)g Fm(adopted)p
Fr(.)149 3198 y Fo(disabled)30 b Fs(adj.)25 b Fr(\(of)18 b(a)g
Fm(sheet)p Fr(\))e(Not)h Fm(enabled)p Fr(.)149 3309 y Fo(dispatc)n(hing)30
b Fs(n.)25 b Fr(\(of)18 b Fm(ev)n(en)n(ts)p Fr(\))f(|Fill)j(this)e(in|)149
3420 y Fo(displa)n(y)23 b(medium)29 b Fs(n.)c Fr(|Fill)20 b(this)e(in|)p
eop
%%Page: 338 353
bop 149 16 a Fm(APPENDIX)16 b(A.)37 b(GLOSSAR)-5 b(Y)1511 b
Fr(338)149 210 y Fo(displa)n(y)23 b(serv)n(er)28 b Fs(n.)d
Fr(|Fill)20 b(this)e(in|)149 320 y Fo(displa)n(y)n(ed)24 b(output)d(record)29
b Fs(n.)f Fr(An)19 b Fm(output)f(record)g Fr(that)g(corresp)r(onds)e(to)j(a)g
(visible)h(piece)f(of)g(output,)287 387 y(suc)n(h)f(as)g(text)f(or)h
(graphics.)23 b(The)18 b(lea)n(v)n(es)h(of)f(the)f(output)f(record)h(tree.)
149 497 y Fo(distributing)31 b Fs(n.)24 b Fr(\(of)18 b Fm(ev)n(en)n(ts)p
Fr(\))f(|Fill)j(this)e(in|)149 608 y Fo(dra)n(wing)k(plane)30
b Fs(n.)44 b Fr(An)24 b(in\014nite)g(t)n(w)n(o-dimensional)g(plane)g(on)h
(whic)n(h)g(graphical)e(output)g(o)r(ccurs.)43 b(A)287 674
y(dra)n(wing)22 b(plane)g(con)n(tains)g(an)g(arrangemen)n(t)d(of)j(colors)g
(and)g(opacities)f(that)g(is)i(mo)r(di\014ed)e(b)n(y)i(eac)n(h)287
741 y(graphical)17 b(output)f(op)r(eration.)149 852 y Fo(enabled)29
b Fs(adj.)d Fr(\(of)17 b(a)h Fm(sheet)p Fr(\))e(|Fill)21 b(this)c(in|)149
962 y Fo(ev)n(en)n(t)28 b Fs(n.)f Fr(1.)19 b(Some)f(sort)g(of)g(signi\014can)
n(t)g(ev)n(en)n(t,)i(suc)n(h)e(as)h(a)g(user)f(gesture)f(\(suc)n(h)h(as)h(mo)
n(ving)f(the)g(p)r(oin)n(ter,)287 1029 y(pressing)e(a)g(p)r(oin)n(ter)f
(button,)h(or)g(t)n(yping)h(a)g(k)n(eystrok)n(e\))f(or)g(a)h(windo)n(w)f
(con\014guration)e(ev)n(en)n(t)j(\(suc)n(h)f(as)287 1095 y(resizing)h(a)i
(windo)n(w\).)24 b(2.)18 b(A)g(Lisp)g(ob)s(ject)f(that)g(represen)n(ts)f(an)i
Fm(ev)n(en)n(t)p Fr(.)149 1206 y Fo(extended)k(input)h(stream)k
Fs(n.)49 b Fr(A)25 b(kind)i(of)f(sheet)e(that)h(supp)r(orts)f(CLIM's)h
(extended)f(input)i(stream)287 1272 y(proto)r(col,)16 b(suc)n(h)i(as)g(supp)r
(orting)e(a)i(p)r(oin)n(ting)f(device.)149 1383 y Fo(extended)22
b(output)f(stream)28 b Fs(n.)i Fr(A)20 b(kind)g(of)g(sheet)f(that)f(supp)r
(orts)g(CLIM's)i(extended)e(output)g(stream)287 1449 y(proto)r(col,)e(suc)n
(h)i(as)g(supp)r(orting)e(a)i(v)m(ariable)g(line-heigh)n(t)g(text)f
(rendering.)149 1560 y Fo(false)29 b Fs(n.)24 b Fr(1.)19 b(The)f(b)r(o)r
(olean)e(v)m(alue)i(false.)24 b(2.)19 b(The)e(Lisp)h(ob)s(ject)f
Ft(nil)p Fr(.)149 1671 y Fo(\015ipping)24 b(ink)k Fs(n.)c Fr(1.)19
b(An)e Fm(ink)i Fr(that)e(in)n(terc)n(hanges)f(o)r(ccurrences)e(of)k(t)n(w)n
(o)g Fm(designs)p Fr(,)g(suc)n(h)f(as)h(migh)n(t)f(b)r(e)g(done)287
1737 y(b)n(y)i(\\X)n(OR")e(on)h(a)g(mono)r(c)n(hrome)d(displa)n(y)-5
b(.)25 b(2.)19 b(A)f(Lisp)g(ob)s(ject)e(that)h(represen)n(ts)f(a)i
Fm(\015ipping)g(ink)p Fr(.)149 1848 y Fo(foreground)29 b Fs(n.)c
Fr(The)17 b Fm(design)h Fr(that)f(is)h(used)g(when)f(dra)n(wing)h(using)g
Ft(+foreground-ink+)p Fr(.)149 1959 y Fo(formatted)j(output)29
b Fs(n.)43 b Fr(1.)25 b(Output)e(that)g(ob)r(eys)g(some)g(high)h(lev)n(el)i
(constrain)n(ts)c(on)i(its)h(app)r(earance,)287 2025 y(suc)n(h)15
b(as)g(b)r(eing)f(arranged)f(in)i(a)g(tabular)f(format,)g(or)h(justi\014ed)f
(within)h(some)f(margins.)22 b(2.)15 b(The)g(CLIM)287 2091
y(facilit)n(y)k(that)e(pro)n(vides)h(a)g(programmer)c(the)j(to)r(ols)g(to)h
(pro)r(duce)e(suc)n(h)i(output.)149 2202 y Fo(frame)28 b Fs(n.)d
Fr(An)18 b Fm(application)f(frame)p Fr(.)149 2313 y Fo(frame)22
b(manager)28 b Fs(n.)23 b Fr(An)14 b(ob)s(ject)e(that)h(con)n(trols)g(the)h
(realization)e(of)i(the)g(lo)r(ok)f(and)h(feel)g(of)g(an)g
Fm(application)287 2379 y(frame)p Fr(.)149 2490 y Fo(fully)23
b(sp)r(eci\014ed)30 b Fs(adj.)24 b Fr(\(of)14 b(a)h Fm(text)g(st)n(yle)p
Fr(\))g(Ha)n(ving)g(comp)r(onen)n(ts)d(none)i(of)h(whic)n(h)g(are)g
Ft(nil)p Fr(,)h(and)f(not)f(ha)n(ving)287 2556 y(a)k(relativ)n(e)g(size)g
(\(that)e(is,)j(neither)e Ft(:smaller)i Fr(nor)f Ft(:larger)p
Fr(\).)149 2667 y Fo(gesture)28 b Fs(n.)c Fr(Some)15 b(sort)h(of)h(input)f
(action)g(b)n(y)h(a)g(user,)f(suc)n(h)h(as)f(t)n(yping)h(a)g(c)n(haracter)d
(or)j(clic)n(king)g(a)g(p)r(oin)n(ter)287 2733 y(button.)149
2844 y Fo(gesture)22 b(name)28 b Fs(n.)c Fr(A)16 b(sym)n(b)r(ol)g(that)f(giv)
n(es)i(a)f(name)f(to)h(a)g Fm(gesture)p Fr(,)f(for)h(example,)g
Ft(:select)h Fr(is)g(commonly)287 2911 y(used)g(to)h(indicate)f(a)h(left)g(p)
r(oin)n(ter)f(button)f(clic)n(k.)149 3021 y Fo(graft)28 b Fs(n.)c
Fr(A)18 b(kind)h(of)f Fm(mirrored)e(sheet)h Fr(that)f(represen)n(ts)g(a)i
(host)g(windo)n(w,)g(t)n(ypically)h(a)f(ro)r(ot)f(windo)n(w.)149
3132 y Fo(grafted)28 b Fs(adj.)d Fr(\(of)18 b(a)g Fm(sheet)p
Fr(\))e(Ha)n(ving)i(an)g(ancestor)e(sheet)h(that)g(is)h(a)g
Fm(graft)p Fr(.)149 3243 y Fo(highligh)n(ting)31 b Fs(n.)24
b Fr(Changing)15 b(of)g(some)g(piece)f(of)i(output)e(so)i(that)e(it)i(stands)
f(out.)23 b(CLIM)15 b(often)g Fm(highligh)n(ts)287 3309 y Fr(the)i
Fm(presen)n(tation)f Fr(under)h(the)g Fm(p)r(oin)n(ter)g Fr(to)h(indicate)f
(that)g(it)h(is)h Fm(sensitiv)n(e)p Fr(.)p eop
%%Page: 339 354
bop 149 16 a Fm(APPENDIX)16 b(A.)37 b(GLOSSAR)-5 b(Y)1511 b
Fr(339)149 210 y Fo(imm)n(utable)30 b Fs(adj.)25 b Fr(1.)17
b(\(of)g(an)h(ob)s(ject\))d(Ha)n(ving)j(comp)r(onen)n(ts)c(that)i(cannot)g(b)
r(e)h(mo)r(di\014ed)e(once)h(the)h(ob)s(ject)287 276 y(has)22
b(b)r(een)g(created.)36 b(2.)23 b(\(of)g(a)g(class\))f(An)g
Fm(imm)n(utable)f(class)h Fr(is)i(a)e(class)h(all)g(of)g(whose)f(ob)s(jects)f
(are)287 342 y Fm(imm)n(utable)p Fr(.)149 452 y Fo(implemen)n(tor)30
b Fs(n.)25 b Fr(A)18 b(programmer)c(who)j(implemen)n(ts)f(CLIM.)149
562 y Fo(incremen)n(tal)24 b(redispla)n(y)30 b Fs(n.)49 b Fr(1.)27
b(Redra)n(w)f(part)f(of)h(some)f(output)g(while)i(lea)n(ving)g(other)e
(output)f(un-)287 628 y(c)n(hanged.)f(2.)c(The)f(CLIM)f(facilit)n(y)i(that)e
(implemen)n(ts)f(this)i(b)r(eha)n(vior.)149 738 y Fo(indirect)23
b(ink)29 b Fs(n.)e Fr(Dra)n(wing)19 b(with)g(an)g Fm(indirect)f(ink)h
Fr(is)h(the)e(same)f(as)i(dra)n(wing)g(with)g(another)e Fm(ink)i
Fr(named)287 804 y(directly)-5 b(.)149 914 y Fo(ink)28 b Fs(n.)38
b Fr(An)n(y)23 b(mem)n(b)r(er)d(of)j(the)e(class)i Ft(design)g
Fr(supplied)f(as)h(the)e Ft(:ink)j Fr(argumen)n(t)c(to)i(a)h(CLIM)f(dra)n
(wing)287 980 y(function.)149 1090 y Fo(input)g(con)n(text)28
b Fs(n.)d Fr(1.)18 b(|Fill)i(this)e(in|.)26 b(2.)18 b(A)g(Lisp)g(ob)s(ject)f
(that)g(represen)n(ts)e(an)j Fm(input)g(con)n(text)p Fr(.)149
1200 y Fo(input)k(editor)29 b Fs(n.)c Fr(The)18 b(CLIM)f(facilit)n(y)i(that)e
(allo)n(ws)i(a)f Fm(user)f Fr(to)h(mo)r(dify)f(t)n(yp)r(ed-in)h(input.)149
1309 y Fo(input)k(editing)h(stream)28 b Fs(n.)d Fr(A)18 b(CLIM)g(stream)e
(that)h(supp)r(orts)e Fm(input)j(editing)p Fr(.)149 1419 y
Fo(input)k(stream)g(designator)29 b Fs(n.)k Fr(A)20 b(Lisp)h(ob)s(ject)e
(that)h(is)h(either)f(an)g(input)h(stream,)e(or)i(the)f(sym)n(b)r(ol)g
Ft(t)p Fr(,)287 1485 y(whic)n(h)e(is)h(tak)n(en)f(to)f(mean)g
Ft(*query-io*)p Fr(.)149 1595 y Fo(in)n(teractiv)n(e)23 b(stream)28
b Fs(n.)f Fr(A)19 b(stream)e(that)h(supp)r(orts)f(b)r(oth)g(input)i(from)e
(and)i(output)e(to)i(the)f(user)g(in)i(an)287 1661 y(in)n(teractiv)n(e)d
(fashion.)149 1771 y Fo(line)23 b(st)n(yle)28 b Fs(n.)e Fr(1.)19
b(Advice)f(to)h(CLIM's)f(rendering)f(substrate)f(on)j(ho)n(w)f(to)h(render)e
(a)h(path,)h(suc)n(h)f(as)g(a)h(line)287 1838 y(or)f(an)g(un\014lled)g
(ellipse)g(or)g(p)r(olygon.)23 b(2.)c(A)f(Lisp)g(ob)s(ject)e(that)h(represen)
n(ts)f(a)i Fm(line)h(st)n(yle)p Fr(.)149 1947 y Fo(medium)29
b Fs(n.)57 b Fr(1.)30 b(A)f(destination)e(for)h(output,)j(ha)n(ving)e(a)g
Fm(dra)n(wing)g(plane)p Fr(,)i(t)n(w)n(o)f(designs)e(called)g(the)287
2014 y(medium's)22 b Fm(foreground)g Fr(and)h Fm(bac)n(kground)p
Fr(,)h(a)g Fm(transformation)p Fr(,)e(a)i Fm(clipping)g(region)p
Fr(,)h(a)f Fm(line)h(st)n(yle)p Fr(,)287 2080 y(and)18 b(a)g
Fm(text)f(st)n(yle)p Fr(.)25 b(2.)19 b(A)f(Lisp)g(ob)s(ject)e(that)h
(represen)n(ts)f(a)i Fm(medium)p Fr(.)149 2190 y Fo(mirror)29
b Fs(n.)24 b Fr(The)18 b(host)f(windo)n(w)h(system)f(ob)s(ject)f(asso)r
(ciated)g(with)i(a)g Fm(mirrored)e(sheet)p Fr(,)h(suc)n(h)g(as)h(a)g(windo)n
(w)287 2256 y(ob)s(ject)f(on)h(an)f(X11)h(displa)n(y)h(serv)n(er.)149
2366 y Fo(mirrored)k(sheet)28 b Fs(n.)f Fr(A)19 b(sp)r(ecial)f(class)g(of)h
Fm(sheet)e Fr(that)h(is)i(attac)n(hed)c(directly)j(to)f(a)h(windo)n(w)g(on)g
(a)g Fm(displa)n(y)287 2432 y(serv)n(er)p Fr(.)24 b(A)18 b
Fm(graft)f Fr(is)i(one)e(kind)i(of)f(a)g Fm(mirrored)e(sheet)p
Fr(.)149 2542 y Fo(m)n(utable)29 b Fs(adj.)k Fr(1.)22 b(\(of)e(an)h(ob)s
(ject\))d(Ha)n(ving)j(comp)r(onen)n(ts)d(that)i(can)g(b)r(e)g(mo)r(di\014ed)f
(once)g(the)i(ob)s(ject)e(has)287 2608 y(b)r(een)e(created.)22
b(2.)d(\(of)e(a)h(class\))g(An)f Fm(m)n(utable)g(class)h Fr(is)g(a)h(class)e
(all)i(of)f(whose)g(ob)s(jects)e(are)h Fm(m)n(utable)p Fr(.)149
2718 y Fo(non-uniform)24 b(design)29 b Fs(n.)24 b Fr(A)18 b
Fm(design)g Fr(that)f(is)h(not)g(a)g Fm(uniform)f(design)p
Fr(.)149 2828 y Fo(opacit)n(y)28 b Fs(n.)38 b Fr(1.)23 b(An)f(ob)s(ject)f
(that)g(con)n(trols)h(ho)n(w)h(graphical)e(output)g(co)n(v)n(ers)h(previous)g
(output,)g(suc)n(h)h(as)287 2894 y(fully)16 b(opaque)f(to)f(fully)j
(transparen)n(t,)c(and)i(lev)n(els)h(of)f(translucency)e(b)r(et)n(w)n(een.)22
b(2.)16 b(A)f(Lisp)g(ob)s(ject)f(that)287 2960 y(represen)n(ts)i(an)i
Fm(opacit)n(y)p Fr(.)149 3070 y Fo(output)j(history)29 b Fs(n.)24
b Fr(The)18 b(highest)f(lev)n(el)i Fm(output)d(record)h Fr(for)h(an)f
Fm(output)g(recording)f(stream)p Fr(.)149 3180 y Fo(output)21
b(record)29 b Fs(n.)24 b Fr(1.)18 b(An)f(ob)s(ject)f(that)g(remem)n(b)r(ers)d
(the)k(output)e(p)r(erformed)f(to)j(a)g Fm(stream)e Fr(or)i
Fm(medium)p Fr(.)287 3246 y(2.)i(A)f(Lisp)g(ob)s(ject)e(that)h(represen)n(ts)
f(an)i Fm(output)e(record)p Fr(.)149 3356 y Fo(output)21 b(recording)30
b Fs(n.)25 b Fr(The)17 b(pro)r(cess)f(of)i(remem)n(b)r(ering)d(the)i(output)g
(p)r(erformed)d(to)k(a)g Fm(stream)p Fr(.)149 3466 y Fo(output)j(recording)i
(stream)28 b Fs(n.)d Fr(A)18 b(CLIM)g(stream)e(that)h(supp)r(orts)e
Fm(output)i(recording)p Fr(.)p eop
%%Page: 340 355
bop 149 16 a Fm(APPENDIX)16 b(A.)37 b(GLOSSAR)-5 b(Y)1511 b
Fr(340)149 210 y Fo(output)21 b(stream)h(designator)29 b Fs(n.)i
Fr(A)20 b(Lisp)g(ob)s(ject)f(that)g(is)i(either)e(an)h(output)f(stream,)g(or)
h(the)f(sym)n(b)r(ol)287 276 y Ft(t)p Fr(,)g(whic)n(h)f(is)h(tak)n(en)f(to)f
(mean)g Ft(*standard-output*)p Fr(.)149 386 y Fo(pane)28 b
Fs(n.)48 b Fr(A)25 b Fm(sheet)f Fr(or)i(windo)n(w)g(that)e(app)r(ears)g(as)h
(the)g(c)n(hild)i(of)e(some)f(other)h(windo)n(w)h(or)f Fm(frame)p
Fr(.)46 b(A)287 452 y(comp)r(osite)15 b(pane)i(can)h(hold)g(other)f(panes;)g
(a)h(leaf)g(pane)f(cannot.)149 562 y Fo(paren)n(t)28 b Fs(n.)d
Fr(The)18 b(direct)f(ancestor)f(of)i(a)g Fm(sheet)f Fr(or)g(an)h
Fm(output)f(record)p Fr(.)149 671 y Fo(path)28 b Fs(n.)c Fr(A)18
b Fm(region)g Fr(that)f(has)g(dimensionalit)n(y)h(1,)g(that)f(is,)i(has)f
(length.)149 781 y Fo(patterning)29 b Fs(n.)35 b Fr(The)21
b(pro)r(cess)f(of)i(creating)d(a)j(b)r(ounded)e(rectangular)f(arrangemen)n(t)
f(of)j Fm(designs)p Fr(,)h(lik)n(e)i(a)287 847 y(c)n(hec)n(k)n(erb)r(oard.)f
(A)17 b Fm(pattern)f Fr(is)j(a)f Fm(design)g Fr(created)e(b)n(y)i(this)g(pro)
r(cess.)149 957 y Fo(pixmap)28 b Fs(n.)d Fr(An)17 b(\\o\013-screen)e(windo)n
(w",)j(that)e(is,)j(a)e(sheet)f(that)g(can)h(b)r(e)f(used)h(for)g(graphical)f
(output,)g(but)287 1024 y(is)j(not)e(visible)i(on)f(an)n(y)g(displa)n(y)h
(device.)149 1133 y Fo(p)r(oin)n(t)28 b Fs(n.)j Fr(1.)21 b(A)f
Fm(region)f Fr(that)h(has)f(dimensionalit)n(y)h(0,)h(that)e(is,)j(has)e(only)
g(a)g(p)r(osition.)30 b(2.)21 b(A)f(Lisp)g(ob)s(ject)287 1200
y(that)d(represen)n(ts)f(a)i Fm(p)r(oin)n(t)p Fr(.)149 1309
y Fo(p)r(oin)n(ter)29 b Fs(n.)24 b Fr(A)18 b(ph)n(ysical)h(device)e(used)h
(for)g(p)r(oin)n(ting,)f(suc)n(h)h(as)g(a)g(mouse.)149 1419
y Fo(p)r(oin)n(ter)k(do)r(cumen)n(tation)30 b Fs(n.)24 b Fr(|Fill)c(this)e
(in|)149 1529 y Fo(p)r(ort)27 b Fs(n.)d Fr(An)14 b(abstract)f(connection)f
(to)j(a)g Fm(displa)n(y)g(serv)n(er)f Fr(that)g(is)i(resp)r(onsible)c(for)j
(managing)e(host)h(displa)n(y)287 1595 y(serv)n(er)k(resources)d(and)j(for)g
(pro)r(cessing)d(input)j(ev)n(en)n(ts)g(receiv)n(ed)f(from)g(the)g(host)h
(displa)n(y)g(serv)n(er.)149 1705 y Fo(p)r(osition)29 b Fs(n.)41
b Fr(1.)24 b(A)f(p)r(osition)f(on)i(a)f(plane,)i(suc)n(h)e(as)h(CLIM's)f
(abstract)e(dra)n(wing)j(plane.)40 b(2.)24 b(Tw)n(o)g(real)287
1771 y(n)n(um)n(b)r(er)17 b(v)m(alues)g Fn(x)i Fr(and)e Fn(y)k
Fr(that)c(represen)n(t)f(a)i Fm(p)r(osition)p Fr(.)149 1881
y Fo(presen)n(tation)29 b Fs(n.)24 b Fr(1.)14 b(An)g(asso)r(ciation)e(b)r(et)
n(w)n(een)h(an)h(ob)s(ject)e(and)i(a)g Fm(presen)n(tation)e(t)n(yp)r(e)h
Fr(with)i(some)d(output)287 1947 y(on)18 b(a)g Fm(output)e(recording)h
(stream)p Fr(.)22 b(2.)d(A)f(Lisp)g(ob)s(ject)e(that)h(represen)n(ts)f(a)i
Fm(presen)n(tation)p Fr(.)149 2057 y Fo(presen)n(tation)23
b(tester)28 b Fs(n.)23 b Fr(A)14 b(predicate)e(that)h(restricts)f(the)h
(applicabilit)n(y)i(of)f(a)g Fm(presen)n(tation)d(translator)p
Fr(.)149 2167 y Fo(presen)n(tation)23 b(translator)28 b Fs(n.)43
b Fr(A)25 b(mapping)d(from)h(an)h(ob)s(ject)f(of)h(one)g Fm(presen)n(tation)d
(t)n(yp)r(e)p Fr(,)26 b(an)e Fm(input)287 2233 y(con)n(text)p
Fr(,)17 b(and)h(a)g Fm(gesture)e Fr(to)i(an)g(ob)s(ject)e(of)i(another)e
(presen)n(tation)g(t)n(yp)r(e.)149 2343 y Fo(presen)n(tation)23
b(t)n(yp)r(e)k Fs(n.)33 b Fr(1.)21 b(A)f(description)f(of)h(a)h(class)f(of)h
Fm(presen)n(tations)p Fr(.)29 b(2.)21 b(An)f(extension)g(to)g(CLOS)287
2409 y(that)d(implemen)n(ts)f(this.)149 2519 y Fo(presen)n(tation)23
b(t)n(yp)r(e)e(sp)r(eci\014er)30 b Fs(n.)24 b Fr(A)18 b(Lisp)g(ob)s(ject)f
(used)g(to)h(sp)r(ecify)f(a)h Fm(presen)n(tation)e(t)n(yp)r(e)p
Fr(.)149 2628 y Fo(programmer)28 b Fs(n.)d Fr(A)18 b(p)r(erson)e(who)i
(writes)f(application)g(programs)f(using)i(CLIM.)149 2738 y
Fo(proto)r(col)j(class)29 b Fs(n.)46 b Fr(An)25 b(\\abstract")d(class)j(ha)n
(ving)h(no)f(metho)r(ds)d(or)j(slots)g(that)f(is)h(used)g(to)g(indicate)287
2804 y(that)i(a)h(class)g(ob)r(eys)f(a)h(certain)e(proto)r(col.)53
b(F)-5 b(or)28 b(example,)h(all)g(classes)e(that)g(inherit)h(from)e(the)287
2871 y Ft(bounding-rectangle)20 b Fr(class)d(ob)r(ey)h(the)f(b)r(ounding)f
(rectangle)g(proto)r(col.)149 2981 y Fo(rectangle)29 b Fs(n.)24
b Fr(1.)17 b(A)g(four-sided)e(p)r(olygon)h(whose)g(sides)g(are)g(parallel)g
(to)h(the)f(co)r(ordinate)d(axes.)24 b(2.)17 b(A)g(Lisp)287
3047 y(ob)s(ject)g(that)g(represen)n(ts)e(a)j Fm(rectangle)p
Fr(.)149 3157 y Fo(redispla)n(y)30 b Fs(n.)24 b Fr(See)18 b
Fm(incremen)n(tal)e(redispla)n(y)p Fr(.)149 3266 y Fo(region)28
b Fs(n.)c Fr(1.)14 b(A)g(set)g(of)g(mathematica)o(l)d(p)r(oin)n(ts)j(in)g
(the)g(plane;)h(a)f(mapping)f(from)g(an)h(\()p Fn(x;)9 b(y)r
Fr(\))k(pair)h(in)n(to)h(either)287 3333 y(true)20 b(or)i(false)f(\(meaning)e
(mem)n(b)r(er)g(or)i(not)g(a)h(mem)n(b)r(er,)d(resp)r(ectiv)n(ely)-5
b(,)22 b(of)g(the)e(region\).)34 b(In)22 b(CLIM,)287 3399 y(all)e(regions)e
(include)g(their)h(b)r(oundaries)d(\(that)i(is,)i(they)e(are)g(closed\))g
(and)h(ha)n(v)n(e)g(in\014nite)g(resolution.)287 3466 y(2.)g(A)f(Lisp)g(ob)s
(ject)e(that)h(represen)n(ts)f(a)i Fm(region)p Fr(.)p eop
%%Page: 341 356
bop 149 16 a Fm(APPENDIX)16 b(A.)37 b(GLOSSAR)-5 b(Y)1511 b
Fr(341)149 210 y Fo(region)22 b(set)28 b Fs(n.)42 b Fr(1.)24
b(A)g(\\comp)r(ound")d Fm(region)p Fr(,)j(that)f(is,)k(a)d(region)f
(consisting)f(of)i(sev)n(eral)g(other)f(regions)287 276 y(related)d(b)n(y)i
(one)e(of)h(the)g(op)r(erations)d(union,)k(in)n(tersection,)e(or)h
(di\013erence.)33 b(2.)21 b(A)g(Lisp)g(ob)s(ject)f(that)287
342 y(represen)n(ts)c(a)i Fm(region)f(set)p Fr(.)149 453 y
Fo(rendering)30 b Fs(n.)h Fr(The)20 b(pro)r(cess)e(of)i(dra)n(wing)g(a)g
(shap)r(e)f(\(suc)n(h)g(as)h(a)g(line)h(or)f(a)g(circle\))f(on)h(a)h(displa)n
(y)g(device.)287 520 y(Rendering)f(is)j(an)e(appro)n(ximate)f(pro)r(cess,)h
(since)g(an)h(abstract)d(shap)r(e)i(exists)g(in)i(a)f(con)n(tin)n(uous)e(co-)
287 586 y(ordinate)g(system)h(ha)n(ving)h(in\014nite)f(precision,)h(whereas)e
(displa)n(y)j(devices)e(m)n(ust)g(necessarily)g(dra)n(w)287
652 y(discrete)16 b(p)r(oin)n(ts)i(ha)n(ving)g(some)f(measurable)e(size.)149
763 y Fo(repla)n(ying)29 b Fs(n.)c Fr(The)18 b(pro)r(cess)e(of)i(redra)n
(wing)f(a)h(set)f(of)h Fm(output)f(records)p Fr(.)149 874 y
Fo(repain)n(ting)30 b Fs(n.)25 b Fr(|Fill)20 b(this)e(in|)149
984 y Fo(sensitiv)n(e)29 b Fs(adj.)24 b Fr(\(of)15 b(a)g Fm(presen)n(tation)p
Fr(\))e(A)i Fm(presen)n(tation)e Fr(is)j Fm(sensitiv)n(e)f
Fr(if)h(some)d(action)i(will)h(tak)n(e)g(place)e(when)287 1051
y(the)k(user)g(clic)n(ks)i(on)e(it)h(with)g(the)f(p)r(oin)n(ter,)g(that)f
(is,)j(there)e(is)h(at)f(least)g(one)h Fm(presen)n(tation)d(translator)287
1117 y Fr(that)h(is)i Fm(applicable)p Fr(.)24 b(In)18 b(this)g(case,)f(the)g
(presen)n(tation)f(will)k(usually)e(b)r(e)f Fm(highligh)n(ted)p
Fr(.)149 1228 y Fo(serv)n(er)22 b(path)28 b Fs(n.)c Fr(|Fill)c(this)e(in|)149
1339 y Fo(sheet)28 b Fs(n.)d Fr(1.)18 b(|Fill)i(this)e(in|.)26
b(2.)18 b(A)g(Lisp)g(ob)s(ject)f(that)g(represen)n(ts)e(a)j
Fm(sheet)p Fr(.)149 1449 y Fo(sheet)j(region)29 b Fs(n.)c Fr(|Fill)20
b(this)e(in|)149 1560 y Fo(sheet)j(transformation)30 b Fs(n.)24
b Fr(|Fill)c(this)e(in|)149 1671 y Fo(solid)23 b(design)29
b Fs(n.)f Fr(A)20 b Fm(design)e Fr(that)g(is)i(either)f(completely)e(opaque)i
(or)g(completely)e(transparen)n(t.)26 b(A)19 b(solid)287 1737
y(design)e(can)h(b)r(e)f(opaque)g(at)h(some)f(p)r(oin)n(ts)g(and)h
(transparen)n(t)d(at)j(others.)149 1848 y Fo(stencil)29 b Fs(n.)c
Fr(A)18 b(kind)h(of)f Fm(pattern)e Fr(that)g(con)n(tains)i(only)g
Fm(opacities)p Fr(.)149 1959 y Fo(stencil)23 b(opacit)n(y)28
b Fs(n.)35 b Fr(The)21 b Fm(opacit)n(y)g Fr(at)g(one)g(p)r(oin)n(t)g(in)h(a)g
Fm(design)e Fr(that)h(w)n(ould)g(result)g(from)f(dra)n(wing)h(the)287
2025 y(design)h(on)n(to)g(a)h(\014ctitious)f(medium)f(whose)h(dra)n(wing)g
(plane)h(is)g(initially)h(completely)d(transparen)n(t)287 2091
y(blac)n(k)e(\(opacit)n(y)e(and)h(all)h(color)f(comp)r(onen)n(ts)d(are)j
(zero\),)f(and)h(whose)f(foreground)f(and)i(bac)n(kground)287
2158 y(are)f(b)r(oth)g(opaque)g(blac)n(k.)25 b(The)18 b Fm(stencil)g(opacit)n
(y)f Fr(of)h(an)g Fm(opacit)n(y)g Fr(is)h(simply)f(its)g(v)m(alue.)149
2269 y Fo(stream)28 b Fs(n.)35 b Fr(A)22 b(kind)g(of)g Fm(sheet)f
Fr(that)f(implemen)n(ts)g(the)h(stream)e(proto)r(col)h(\(suc)n(h)h(as)h(main)
n(taining)f(a)g Fm(text)287 2335 y(cursor)p Fr(\).)149 2446
y Fo(text)f(cursor)29 b Fs(n.)c Fr(|Fill)20 b(this)e(in|)149
2556 y Fo(text)i(st)n(yle)28 b Fs(n.)i Fr(1.)21 b(A)e(description)f(of)i(ho)n
(w)g(textual)f(output)f(should)h(app)r(ear,)g(consisting)g(of)g(family)-5
b(,)21 b(face)287 2623 y(co)r(de,)c(and)h(size.)24 b(2.)19
b(A)f(Lisp)f(ob)s(ject)g(that)g(represen)n(ts)f(a)i Fm(text)f(st)n(yle)p
Fr(.)149 2733 y Fo(tiling)29 b Fs(n.)37 b Fr(The)22 b(pro)r(cess)e(of)i(rep)r
(eating)e(a)i(rectangular)d(p)r(ortion)i(of)h(a)g Fm(design)f
Fr(throughout)f(the)h(dra)n(wing)287 2800 y(plane.)j(A)18 b
Fm(tile)g Fr(is)h(a)f Fm(design)g Fr(created)e(b)n(y)i(this)g(pro)r(cess.)149
2911 y Fo(transformation)29 b Fs(n.)46 b Fr(1.)25 b(A)g(mapping)f(from)g(one)
g(co)r(ordinate)f(system)g(on)n(to)i(another)e(that)h(preserv)n(es)287
2977 y(straigh)n(t)16 b(lines.)25 b(General)16 b(transformations)d(include)k
(all)h(the)e(sorts)g(of)h(transformations)c(that)j(CLIM)287
3043 y(uses,)j(namely)-5 b(,)18 b(translations,)f(scaling,)i(rotations,)e
(and)i(re\015ections.)24 b(2.)19 b(A)f(Lisp)h(ob)s(ject)e(that)g(repre-)287
3110 y(sen)n(ts)h(a)g Fm(transformation)o Fr(.)149 3221 y Fo(translucen)n(t)
23 b(design)29 b Fs(n.)24 b Fr(A)14 b Fm(design)f Fr(that)h(is)g(not)g
Fm(solid)p Fr(,)i(that)d(is,)j(has)e(at)g(least)f(one)h(p)r(oin)n(t)g(with)g
(an)g(opacit)n(y)287 3287 y(that)j(is)i(in)n(termediate)c(b)r(et)n(w)n(een)i
(completely)f(opaque)h(and)h(transparen)n(t.)149 3398 y Fo(true)28
b Fs(n.)d Fr(1.)18 b(The)g(b)r(o)r(olean)e(v)m(alue)i(true;)f(not)h
Fm(false)p Fr(.)24 b(2.)18 b(An)n(y)h(Lisp)f(ob)s(ject)e(that)h(is)i(not)e
Ft(nil)p Fr(.)p eop
%%Page: 342 357
bop 149 16 a Fm(APPENDIX)16 b(A.)37 b(GLOSSAR)-5 b(Y)1511 b
Fr(342)149 210 y Fo(un)n(b)r(ounded)23 b(design)30 b Fs(n.)24
b Fr(A)18 b Fm(design)g Fr(that)f(has)g(at)h(least)f(one)h(p)r(oin)n(t)f(of)h
(non-zero)f(opacit)n(y)h(arbitrarily)f(far)287 276 y(from)g(the)g(origin.)25
b(Dra)n(wing)18 b(an)g(un)n(b)r(ounded)e(design)h(a\013ects)g(the)h(en)n
(tire)f(dra)n(wing)h(plane.)149 387 y Fo(un)n(b)r(ounded)23
b(region)29 b Fs(n.)35 b Fr(A)22 b Fm(region)e Fr(that)h(either)f(con)n
(tains)h(no)g(p)r(oin)n(ts)g(or)g(con)n(tains)f(p)r(oin)n(ts)h(arbitrarily)
287 453 y(far)d(apart.)149 564 y Fo(uniform)23 b(design)29
b Fs(n.)24 b Fr(A)15 b Fm(design)g Fr(that)g(has)g(the)g(same)f(color)h(and)g
(opacit)n(y)h(at)f(ev)n(ery)h(p)r(oin)n(t)f(in)h(the)f(dra)n(wing)287
630 y(plane.)24 b(Uniform)17 b(designs)g(are)g(alw)n(a)n(ys)i(un)n(b)r
(ounded,)e(unless)g(they)h(are)f(completely)g(transparen)n(t.)149
741 y Fo(unique)22 b(id)29 b Fs(n.)24 b Fr(During)16 b Fm(incremen)n(tal)d
(redispla)n(y)p Fr(,)k(the)e Fm(unique)g(id)h Fr(is)g(an)g(ob)s(ject)e(used)h
(to)g(uniquely)h(iden)n(tify)287 807 y(a)26 b(piece)f(of)h(output.)46
b(The)25 b(output)f(named)g(b)n(y)j(the)e Fm(unique)h(id)g
Fr(will)h(often)e(ha)n(v)n(e)h(a)g Fm(cac)n(he)f(v)m(alue)287
874 y Fr(asso)r(ciated)16 b(with)i(it.)149 984 y Fo(user)28
b Fs(n.)d Fr(A)18 b(p)r(erson)e(who)i(uses)f(an)h(application)f(program)f
(that)h(w)n(as)h(written)f(using)h(CLIM.)149 1095 y Fo(user)k(transformation)
29 b Fs(n.)c Fr(|Fill)20 b(this)e(in|)149 1206 y Fo(view)28
b Fs(n.)c Fr(1.)19 b(|Fill)h(this)e(in|.)25 b(2.)19 b(A)f(Lisp)g(ob)s(ject)e
(that)h(represen)n(ts)f(a)i Fm(view)p Fr(.)149 1317 y Fo(viewp)r(ort)28
b Fs(n.)c Fr(The)18 b(p)r(ortion)e(of)i(the)f(dra)n(wing)h(plane)f(of)h(a)g
(sheet's)f(medium)f(that)h(is)h(visible)h(on)f(a)g(displa)n(y)287
1383 y(device.)149 1494 y Fo(v)n(olatile)29 b Fs(adj.)i Fr(1.)20
b(\(of)f(an)h(imm)n(utable)e(ob)s(ject\))g(Ha)n(ving)i(comp)r(onen)n(ts)d
(that)h(cannot)h(b)r(e)g(mo)r(di\014ed)f(b)n(y)i(the)287 1560
y(programmer)11 b(at)k(the)g(proto)r(col)e(lev)n(el,)k(but)e(whic)n(h)h(ma)n
(y)f(b)r(e)f(mo)r(di\014ed)g(in)n(ternally)h(b)n(y)h(CLIM.)g
Fm(V)-5 b(olatile)287 1626 y Fr(ob)s(jects)16 b(re\015ect)h(in)n(ternal)g
(state)g(of)h(CLIM.)p eop
%%Page: 343 358
bop 149 691 a Fl(App)t(endix)44 b(B)149 1034 y Fq(The)52 b(CLIM-SYS)h(P)l(ac)
l(k)-9 b(age)149 1388 y Fr(The)21 b Ft(clim-sys)h Fr(pac)n(k)m(age)e(where)g
(useful)h(\\system-lik)n(e")g(functionalit)n(y)f(liv)n(es,)k(including)d(suc)
n(h)g(things)g(as)149 1455 y(resources)e(and)j(m)n(ulti-pro)r(cessing)e
(primitiv)n(es.)37 b(It)22 b(con)n(tains)f(concepts)f(that)h(are)g(not)h
(part)f(of)h(Common)149 1521 y(Lisp,)c(but)g(whic)n(h)g(are)f(not)h
(conceptually)e(the)h(pro)n(vince)h(of)g(CLIM)g(itself.)149
1654 y(All)i(of)g(the)g(sym)n(b)r(ols)f(do)r(cumen)n(ted)d(in)21
b(this)f(app)r(endix)f(m)n(ust)g(b)r(e)g(accessible)g(as)h(external)f(sym)n
(b)r(ols)g(in)h(the)149 1721 y Ft(clim-sys)f Fr(pac)n(k)m(age.)149
1970 y Fk(B.1)92 b(Resources)149 2158 y Fr(CLIM)16 b(pro)n(vides)h(a)g
(facilit)n(y)g(called)g Fm(resources)d Fr(that)i(pro)n(vides)g(for)h(reusing)
f(ob)s(jects.)22 b(A)17 b(resource)e(describ)r(es)149 2224
y(ho)n(w)22 b(to)f(construct)e(an)i(ob)s(ject,)g(ho)n(w)h(to)f(initialize)h
(and)f(deinitialize)h(it,)h(and)e(ho)n(w)h(an)f(ob)s(ject)f(should)h(b)r(e)
149 2291 y(selected)16 b(from)h(the)g(resource)f(of)i(ob)s(jects)e(based)i
(on)f(a)i(set)e(of)h(parameters.)49 2423 y Fj(\))45 b Ft(defresource)29
b Fs(name)24 b(p)m(ar)m(ameters)h Ft(&key)k Fs(c)m(onstructor)c(initializer)e
(deinitializer)i(matcher)f(initial-c)m(opies)149 2490 y Fr([)p
Fs(Macr)m(o)s Fr(])149 2609 y(De\014nes)d(a)h(resource)e(named)g
Fs(name)p Fr(,)25 b(whic)n(h)e(m)n(ust)e(b)r(e)g(a)h(sym)n(b)r(ol.)36
b Fs(p)m(ar)m(ameters)26 b Fr(is)d(a)f(lam)n(b)r(da-list)f(giving)149
2675 y(names)d(and)h(default)f(v)m(alues)h(\(for)g(optional)f(and)i(k)n(eyw)n
(ord)f(parameters\))d(of)j(parameters)d(to)j(an)h(ob)s(ject)e(of)149
2742 y(this)g(t)n(yp)r(e.)149 2874 y Fs(c)m(onstructor)h Fr(is)f(a)e(form)g
(that)f(is)j(resp)r(onsible)c(for)j(creating)e(an)h(ob)s(ject,)g(and)g(is)h
(called)g(when)f(someone)e(tries)149 2941 y(to)j(allo)r(cate)f(an)h(ob)s
(ject)f(from)h(the)g(resource)e(and)i(no)g(suitable)g(free)g(ob)s(jects)f
(exist.)24 b(The)18 b(constructor)c(form)149 3007 y(can)j(access)g(the)g
(parameters)e(as)j(v)m(ariables.)24 b(This)18 b(argumen)n(t)e(is)i(required.)
149 3140 y Fs(initializer)k Fr(is)f(a)g(form)e(that)g(is)i(used)f(to)g
(initialize)h(an)f(ob)s(ject)f(gotten)g(from)g(the)h(resource.)30
b(It)20 b(can)g(access)149 3207 y(the)15 b(parameters)d(as)k(v)m(ariables,)h
(and)e(also)h(has)g(access)e(to)i(a)g(v)m(ariable)f(called)h
Fs(name)p Fr(,)i(whic)n(h)f(is)f(the)f(ob)s(ject)g(to)149 3273
y(b)r(e)i(initialized.)24 b(The)18 b(initializer)g(is)g(called)g(b)r(oth)e
(on)i(newly)g(created)d(ob)s(jects)h(and)i(ob)s(jects)e(that)g(are)i(b)r
(eing)149 3339 y(reused.)1262 3632 y(343)p eop
%%Page: 344 359
bop 149 16 a Fm(APPENDIX)16 b(B.)37 b(THE)18 b(CLIM-SYS)f(P)-5
b(A)n(CKA)n(GE)1117 b Fr(344)149 210 y Fs(deinitializer)23
b Fr(is)e(a)g(form)f(that)f(is)j(used)e(to)g(deinitialize)h(an)f(ob)s(ject)f
(when)i(it)g(is)g(ab)r(out)e(to)h(b)r(e)h(returned)d(to)149
276 y(the)g(resource.)25 b(It)19 b(can)f(access)g(the)g(parameters)d(as)k(v)m
(ariables,)g(and)g(also)g(has)f(access)g(to)g(a)h(v)m(ariable)g(called)149
342 y Fs(name)p Fr(,)f(whic)n(h)f(is)g(the)f(ob)s(ject)f(to)h(b)r(e)g
(deinitialized.)24 b(It)16 b(is)h(called)f(whenev)n(er)g(an)g(ob)s(ject)f(is)
i(deallo)r(cated)e(bac)n(k)149 409 y(to)j(the)h(resource,)f(but)g(is)i(not)e
(called)h(b)n(y)h Ft(clear-resource)p Fr(.)29 b(Deinitializers)19
b(are)g(t)n(ypically)h(used)f(to)f(clear)149 475 y(references)d(to)j(other)e
(ob)s(jects.)149 608 y Fs(matcher)g Fr(is)f(a)f(form)f(that)f(ensures)h(that)
g(an)g(ob)s(ject)g(in)h(the)f(resource)f(\\matc)n(hes")f(the)j(sp)r
(eci\014ed)e(parameters,)149 674 y(whic)n(h)22 b(it)g(can)f(access)f(as)i(v)m
(ariables.)35 b(In)21 b(addition,)i(the)e(matc)n(her)e(also)j(has)f(access)f
(to)i(a)f(v)m(ariable)h(called)149 741 y Fs(name)p Fr(,)d(whic)n(h)f(is)h
(the)e(ob)s(ject)f(in)i(the)g(resource)d(b)r(eing)i(matc)n(hed)f(against.)23
b(If)18 b(no)g(matc)n(her)d(is)k(supplied,)e(the)149 807 y(system)k(remem)n
(b)r(ers)e(the)j(v)m(alues)h(of)f(the)g(parameters)e(\(including)i(optional)g
(ones)g(that)f(defaulted\))g(that)149 874 y(w)n(ere)g(used)f(to)h(construct)d
(the)j(ob)s(ject,)g(and)f(assumes)g(that)g(it)h(matc)n(hes)e(those)h
(particular)g(v)m(alues)h(for)g(all)149 940 y(time.)i(This)18
b(comparison)e(is)i(done)f(with)h Ft(equal)p Fr(.)25 b(The)17
b(matc)n(her)f(should)h(return)f Fm(true)h Fr(if)h(there)f(is)h(a)g(matc)n
(h,)149 1007 y(otherwise)e(it)i(should)g(return)e Fm(false)p
Fr(.)149 1139 y Fs(initial-c)m(opies)e Fr(is)f(used)e(to)h(sp)r(ecify)f(the)h
(n)n(um)n(b)r(er)e(of)i(ob)s(jects)f(that)g(should)g(b)r(e)h(initially)h(put)
f(in)n(to)g(the)f(resource.)149 1206 y(It)21 b(m)n(ust)g(b)r(e)f(an)i(in)n
(teger)e(or)h Ft(nil)h Fr(\(the)f(default\),)g(meaning)f(that)g(no)h(initial)
i(copies)d(should)h(b)r(e)g(made.)33 b(If)149 1272 y(initial)22
b(copies)e(are)g(made)g(and)g(there)g(are)g(parameters,)f(all)j(the)e
(parameters)e(m)n(ust)i(b)r(e)g(optional;)i(in)g(this)149 1339
y(case,)17 b(the)h(initial)g(copies)g(ha)n(v)n(e)g(the)g(default)f(v)m(alues)
g(of)i(the)e(parameters.)49 1472 y Fj(\))45 b Ft(using-resource)30
b Fs(\(variable)21 b(name)g Ft(&rest)30 b Fs(p)m(ar)m(ameters\))22
b Ft(&body)30 b Fs(b)m(o)m(dy)532 b Fr([)p Fs(Macr)m(o)s Fr(])149
1591 y(The)20 b(forms)g(in)h Fs(b)m(o)m(dy)i Fr(are)d(ev)m(aluated)g(with)h
Fs(variable)i Fr(b)r(ound)d(to)g(an)h(ob)s(ject)f(allo)r(cated)f(from)h(the)g
(resource)149 1657 y(named)14 b Fs(name)p Fr(,)19 b(using)d(the)g(parameters)
d(giv)n(en)k(b)n(y)g Fs(p)m(ar)m(ameters)p Fr(.)28 b(The)16
b(parameters)d(\(if)j(an)n(y\))h(are)f(ev)m(aluated,)149 1723
y(but)h Fs(name)j Fr(is)e(not.)149 1856 y(After)f(the)i(b)r(o)r(dy)f(has)g(b)
r(een)g(ev)m(aluated,)g Ft(using-resource)i Fr(returns)d(the)i(ob)s(ject)e
(in)j Fs(variable)i Fr(bac)n(k)d(to)f(the)149 1923 y(resource.)27
b(If)20 b(some)f(form)f(in)i(the)f(b)r(o)r(dy)g(sets)g Fs(variable)j
Fr(to)e Ft(nil)p Fr(,)h(the)e(ob)s(ject)f(will)j(not)e(b)r(e)h(returned)d(to)
i(the)149 1989 y(resource.)j(Otherwise,)17 b(the)h(b)r(o)r(dy)f(should)g(not)
g(c)n(hanges)g(the)h(v)m(alue)g(of)g Fs(variable)p Fr(.)49
2122 y Fj(\))45 b Ft(allocate-resource)30 b Fs(name)21 b Ft(&rest)29
b Fs(p)m(ar)m(ameters)936 b Fr([)p Fs(F)l(unction)t Fr(])149
2241 y(Allo)r(cates)17 b(an)i(ob)s(ject)e(from)h(the)h(resource)e(named)g
Fs(name)p Fr(,)k(using)e(the)g(parameters)c(giv)n(en)20 b(b)n(y)g
Fs(p)m(ar)m(ameters)p Fr(.)149 2307 y Fs(name)f Fr(m)n(ust)e(b)r(e)h(a)g(sym)
n(b)r(ol)f(that)g(names)g(a)h(resource.)k(The)c(returned)e(v)m(alue)i(is)g
(the)g(allo)r(cated)e(ob)s(ject.)49 2440 y Fj(\))45 b Ft(deallocate-resource)
30 b Fs(name)21 b(obje)m(ct)1177 b Fr([)p Fs(F)l(unction)t
Fr(])149 2559 y(Returns)18 b(the)i(ob)s(ject)f Fs(obje)m(ct)j
Fr(to)e(the)g(resource)e(named)g Fs(name)p Fr(.)33 b Fs(name)22
b Fr(m)n(ust)d(b)r(e)h(a)g(sym)n(b)r(ol)g(that)f(names)g(a)149
2626 y(resource.)j Fs(obje)m(ct)f Fr(m)n(ust)c(b)r(e)g(an)h(ob)s(ject)f(that)
g(w)n(as)h(originally)h(allo)r(cated)d(from)h(the)g(same)g(resource.)49
2758 y Fj(\))45 b Ft(clear-resource)30 b Fs(name)1478 b Fr([)p
Fs(F)l(unction)t Fr(])149 2877 y(Clears)17 b(the)g(resource)f(named)g
Fs(name)p Fr(,)j(that)e(is,)i(remo)n(v)n(es)e(all)h(of)g(the)f(resourced)e
(ob)s(ject)i(from)f(the)h(resource.)149 2944 y Fs(name)i Fr(m)n(ust)e(b)r(e)h
(a)g(sym)n(b)r(ol)f(that)g(names)g(a)h(resource.)49 3077 y
Fj(\))45 b Ft(map-resource)29 b Fs(function)21 b(name)1319
b Fr([)p Fs(F)l(unction)t Fr(])149 3196 y(Calls)19 b Fs(function)h
Fr(once)e(on)h(eac)n(h)f(ob)s(ject)g(in)h(the)f(resource)f(named)g
Fs(name)p Fr(.)28 b Fs(function)20 b Fr(is)g(a)f(function)e(of)i(three)149
3262 y(argumen)n(ts,)14 b(the)i(ob)s(ject,)f(a)i(b)r(o)r(olean)d(v)m(alue)i
(that)f(is)i Fm(true)e Fr(if)i(the)f(ob)s(ject)f(is)i(in)f(use)g(or)g
Fm(false)g Fr(if)h(it)g(is)g(free,)f(and)149 3328 y Fs(name)p
Fr(.)26 b Fs(function)19 b Fr(has)f(dynamic)f(exten)n(t.)p
eop
%%Page: 345 360
bop 149 16 a Fm(APPENDIX)16 b(B.)37 b(THE)18 b(CLIM-SYS)f(P)-5
b(A)n(CKA)n(GE)1117 b Fr(345)149 210 y Fk(B.2)92 b(Multi-pro)s(cessing)149
397 y Fr(Most)25 b(Lisp)g(implemen)n(tations)e(pro)n(vide)j(some)e(form)h(of)
g(m)n(ulti-pro)r(cessing.)46 b(CLIM)25 b(pro)n(vides)h(a)g(set)f(of)149
464 y(functions)16 b(that)h(implemen)n(t)f(a)i(uniform)f(in)n(terface)g(to)g
(the)h(m)n(ulti-pro)r(cessing)e(functionalit)n(y)-5 b(.)49
596 y Fj(\))45 b Ft(make-process)29 b Fs(function)21 b Ft(&key)30
b Fs(name)1173 b Fr([)p Fs(F)l(unction)t Fr(])149 715 y(Creates)12
b(a)i(pro)r(cess)e(named)h Fs(name)p Fr(.)25 b(The)13 b(new)h(pro)r(cess)e
(will)k(ev)m(aluate)d(the)g(function)g Fs(function)p Fr(.)25
b(On)14 b(systems)149 782 y(that)j(do)g(not)h(supp)r(ort)e(m)n(ulti-pro)r
(cessing,)g Ft(make-process)j Fr(will)h(signal)e(an)g(error.)49
915 y Fj(\))45 b Ft(destroy-process)30 b Fs(pr)m(o)m(c)m(ess)1412
b Fr([)p Fs(F)l(unction)t Fr(])149 1034 y(T)-5 b(erminates)16
b(the)h(pro)r(cess)f Fs(pr)m(o)m(c)m(ess)p Fr(.)27 b Fs(pr)m(o)m(c)m(ess)20
b Fr(is)e(an)g(ob)s(ject)f(returned)e(b)n(y)k Ft(make-process)p
Fr(.)49 1167 y Fj(\))45 b Ft(current-process)1608 b Fr([)p
Fs(F)l(unction)t Fr(])149 1286 y(Returns)11 b(the)g(curren)n(tly)h(running)g
(pro)r(cess,)g(whic)n(h)h(will)h(b)r(e)e(the)f(same)h(kind)h(of)f(ob)s(ject)g
(as)g(w)n(ould)h(b)r(e)f(returned)149 1352 y(b)n(y)19 b Ft(make-process)p
Fr(.)49 1485 y Fj(\))45 b Ft(all-processes)1666 b Fr([)p Fs(F)l(unction)t
Fr(])149 1604 y(Returns)16 b(a)i(sequence)f(of)h(all)g(of)g(the)g(pro)r
(cesses.)49 1737 y Fj(\))45 b Ft(process-wait)29 b Fs(r)m(e)m(ason)22
b(pr)m(e)m(dic)m(ate)1284 b Fr([)p Fs(F)l(unction)t Fr(])149
1856 y(Causes)16 b(the)g(curren)n(t)g(pro)r(cess)f(to)h(w)n(ait)i(un)n(til)f
Fs(pr)m(e)m(dic)m(ate)k Fr(returns)15 b Fm(true)p Fr(.)24 b
Fs(r)m(e)m(ason)19 b Fr(is)e(a)g(\\reason")e(for)i(w)n(aiting,)149
1922 y(usually)e(a)g(string.)23 b(On)15 b(systems)f(that)g(do)h(not)f(supp)r
(ort)f(m)n(ulti-pro)r(cessing,)h Ft(process-wait)i Fr(will)g(lo)r(op)f(un)n
(til)149 1988 y Fs(pr)m(e)m(dic)m(ate)22 b Fr(returns)16 b
Fm(true)p Fr(.)49 2121 y Fj(\))45 b Ft(process-wait-with-timeout)30
b Fs(r)m(e)m(ason)21 b(time)m(out)h(pr)m(e)m(dic)m(ate)707
b Fr([)p Fs(F)l(unction)t Fr(])149 2240 y(Causes)17 b(the)h(curren)n(t)e(pro)
r(cess)h(to)g(w)n(ait)i(un)n(til)g(either)e Fs(pr)m(e)m(dic)m(ate)22
b Fr(returns)17 b Fm(true)p Fr(,)h(or)g(the)f(n)n(um)n(b)r(er)g(of)h(seconds)
149 2307 y(sp)r(eci\014ed)e(b)n(y)j Fs(time)m(out)i Fr(has)d(elapsed.)24
b Fs(r)m(e)m(ason)d Fr(is)e(a)f(\\reason")f(for)h(w)n(aiting,)h(usually)f(a)h
(string.)25 b(On)18 b(systems)149 2373 y(that)24 b(do)h(not)g(supp)r(ort)e(m)
n(ulti-pro)r(cessing,)j Ft(process-wait-with-timeout)h Fr(will)g(lo)r(op)e
(un)n(til)h Fs(pr)m(e)m(dic)m(ate)149 2440 y Fr(returns)16
b Fm(true)h Fr(or)h(the)f(timeout)f(has)i(elapsed.)49 2572
y Fj(\))45 b Ft(process-yield)1666 b Fr([)p Fs(F)l(unction)t
Fr(])149 2691 y(Allo)n(ws)26 b(other)e(pro)r(cesses)f(to)i(run.)47
b(On)26 b(systems)e(that)h(do)g(not)g(supp)r(ort)f(m)n(ulti-pro)r(cessing,)h
(this)h(do)r(es)149 2758 y(nothing.)49 2891 y Fj(\))45 b Ft
(process-interrupt)30 b Fs(pr)m(o)m(c)m(ess)21 b(function)1136
b Fr([)p Fs(F)l(unction)t Fr(])149 3010 y(In)n(terrupts)16
b(the)i(pro)r(cess)e Fs(pr)m(o)m(c)m(ess)21 b Fr(and)d(causes)f(it)i(to)f(ev)
m(aluate)f(the)h(function)f Fs(function)p Fr(.)27 b(On)19 b(systems)e(that)
149 3076 y(do)h(not)f(supp)r(ort)f(m)n(ulti-pro)r(cessing,)g(this)i(is)h
(equiv)m(alen)n(t)f(to)f Ft(funcall)p Fr('ing)i Fs(function)p
Fr(.)49 3209 y Fj(\))45 b Ft(without-scheduling)30 b(&body)f
Fs(b)m(o)m(dy)1276 b Fr([)p Fs(Macr)m(o)s Fr(])149 3328 y(Ev)m(aluates)18
b Fs(b)m(o)m(dy)j Fr(in)f(a)f(con)n(text)g(that)f(is)i(guaran)n(teed)d(to)i
(b)r(e)g(free)g(from)f(in)n(terruption)g(b)n(y)i(other)e(pro)r(cesses.)149
3394 y(On)f(systems)f(that)h(do)g(not)g(supp)r(ort)f(m)n(ulti-pro)r(cessing,)
g Ft(without-scheduling)j Fr(is)f(equiv)m(alen)n(t)f(to)h Ft(progn)p
Fr(.)p eop
%%Page: 346 361
bop 149 16 a Fm(APPENDIX)16 b(B.)37 b(THE)18 b(CLIM-SYS)f(P)-5
b(A)n(CKA)n(GE)1117 b Fr(346)149 210 y Fk(B.3)92 b(Lo)s(c)m(ks)49
397 y Fj(\))45 b Ft(with-lock-held)30 b Fs(\(plac)m(e)21 b
Ft(&optional)29 b Fs(state\))21 b Ft(&body)29 b Fs(b)m(o)m(dy)785
b Fr([)p Fs(Macr)m(o)s Fr(])149 516 y(Ev)m(aluates)13 b Fs(b)m(o)m(dy)i
Fr(with)g(the)e(lo)r(c)n(k)i(named)d(b)n(y)j Fs(plac)m(e)p
Fr(.)26 b Fs(plac)m(e)16 b Fr(is)f(a)f(reference)e(to)i(a)g(lo)r(c)n(k)g
(created)e(b)n(y)j Ft(make-lock)p Fr(.)149 649 y(On)j(systems)e(that)h(do)h
(not)g(supp)r(ort)d(lo)r(c)n(king,)k Ft(with-lock-held)g Fr(is)g(equiv)m
(alen)n(t)f(to)f Ft(progn)p Fr(.)49 782 y Fj(\))45 b Ft(make-lock)29
b(&optional)h Fs(name)1333 b Fr([)p Fs(F)l(unction)t Fr(])149
901 y(Creates)16 b(a)i(lo)r(c)n(k)g(whose)g(name)e(is)j Fs(name)p
Fr(.)26 b(On)18 b(systems)e(that)h(do)h(not)f(supp)r(ort)f(lo)r(c)n(king,)j
(this)f(will)h(return)e(a)149 967 y(new)g(list)i(of)f(one)g(elemen)n(t,)e
Ft(nil)p Fr(.)49 1100 y Fj(\))45 b Ft(with-recursive-lock-held)30
b Fs(\(plac)m(e)21 b Ft(&optional)30 b Fs(state\))21 b Ft(&body)29
b Fs(b)m(o)m(dy)494 b Fr([)p Fs(Macr)m(o)s Fr(])149 1219 y(Ev)m(aluates)19
b Fs(b)m(o)m(dy)j Fr(with)e(the)g(recursiv)n(e)f(lo)r(c)n(k)i(named)d(b)n(y)j
Fs(plac)m(e)p Fr(.)34 b Fs(plac)m(e)22 b Fr(is)f(a)g(reference)d(to)h(a)i
(recursiv)n(e)e(lo)r(c)n(k)149 1286 y(created)d(b)n(y)i Ft
(make-recursive-lock)p Fr(.)149 1418 y(On)g(systems)e(that)h(do)h(not)g(supp)
r(ort)d(lo)r(c)n(king,)k Ft(with-recursive-lock-held)h Fr(is)e(equiv)m(alen)n
(t)g(to)g Ft(progn)p Fr(.)49 1551 y Fj(\))45 b Ft(make-recursive-lock)30
b(&optional)f Fs(name)1043 b Fr([)p Fs(F)l(unction)t Fr(])149
1670 y(Creates)15 b(a)i(recursiv)n(e)f(lo)r(c)n(k)h(whose)g(name)e(is)j
Fs(name)p Fr(.)25 b(On)18 b(systems)d(that)h(do)g(not)h(supp)r(ort)e(lo)r(c)n
(king,)i(this)g(will)149 1737 y(return)h(a)j(new)f(list)h(of)f(one)g(elemen)n
(t,)f Ft(nil)p Fr(.)32 b(A)21 b(recursiv)n(e)e(lo)r(c)n(k)i(di\013ers)f(from)
f(an)h(ordinary)g(lo)r(c)n(k)g(in)h(that)f(a)149 1803 y(pro)r(cess)c(that)h
(already)h(holds)g(the)g(recursiv)n(e)f(lo)r(c)n(k)i(can)e(call)i
Ft(with-recursive-lock-held)h Fr(on)e(the)g(same)149 1869 y(lo)r(c)n(k)g
(without)f(blo)r(c)n(king.)149 2119 y Fk(B.4)92 b(Multiple)28
b(V)-8 b(alue)30 b Fi(setf)149 2307 y Fr(CLIM)13 b(pro)n(vides)h(a)g(facilit)
n(y)-5 b(,)16 b(sometimes)11 b(referred)g(to)j(as)f Ft(setf*)p
Fr(,)j(that)d(allo)n(ws)h Ft(setf)h Fr(to)e(b)r(e)g(used)g(on)h(\\places")149
2373 y(that)19 b(name)g(m)n(ultiple)h(v)m(alues.)31 b(F)-5
b(or)21 b(example,)f Ft(output-record-position)i Fr(returns)d(the)g(p)r
(osition)g(of)i(an)149 2439 y(output)g(record)g(as)i(t)n(w)n(o)h(v)m(alues)f
(that)f(corresp)r(ond)e(to)i(the)g Fn(x)h Fr(and)g Fn(y)j Fr(co)r(ordinates.)
36 b(In)23 b(order)f(to)h(c)n(hange)149 2506 y(the)17 b(p)r(osition)h(of)g
(an)h(output)d(record,)i(the)g(programmer)c(w)n(ould)19 b(lik)n(e)h(to)e(in)n
(v)n(ok)n(e)i Ft(\(setf)29 b(output-record-)149 2572 y(position\))p
Fr(.)24 b(Normally)14 b(ho)n(w)n(ev)n(er,)i Ft(setf)g Fr(only)f(tak)n(es)f(a)
h(single)g(v)m(alue)g(with)g(whic)n(h)g(to)f(mo)r(dify)g(the)g(sp)r
(eci\014ed)149 2639 y(place.)26 b(The)18 b Ft(setf*)h Fr(facilit)n(y)h(pro)n
(vides)e(a)h(\\m)n(ultiple)f(v)m(alue")h(v)n(ersion)f(of)h
Ft(setf)g Fr(that)f(allo)n(ws)h(an)g(expression)149 2705 y(that)e(returns)f
(m)n(ultiple)i(v)m(alues)f(to)h(b)r(e)f(used)h(to)f(up)r(date)g(the)g(sp)r
(eci\014ed)f(place.)49 2838 y Fj(\))45 b Ft(defgeneric*)29
b Fs(name)21 b(lamb)m(da-list)h Ft(&body)29 b Fs(options)980
b Fr([)p Fs(Macr)m(o)s Fr(])149 2957 y(De\014nes)22 b(a)i Ft(setf*)g
Fr(generic)e(function)h(named)e Fs(name)p Fr(.)43 b(The)23
b(last)h(argumen)n(t)d(in)j Fs(lamb)m(da-list)i Fr(is)e(in)n(tended)149
3023 y(to)d(b)r(e)f(class)h(sp)r(ecialized,)g(just)g(as)g(is)h(the)f(case)f
(for)h(normal)f Ft(setf)i Fr(generic)e(functions.)33 b Fs(options)23
b Fr(is)f(as)f(for)149 3090 y Ft(defgeneric)p Fr(.)49 3223
y Fj(\))45 b Ft(defmethod*)29 b Fs(name)21 b Fj(f)p Fs(metho)m(d-quali\014er)
p Fj(g)p Fs(*)i(sp)m(e)m(cialize)m(d-lamb)m(da-list)h Ft(&body)29
b Fs(b)m(o)m(dy)325 b Fr([)p Fs(Macr)m(o)s Fr(])149 3342 y(De\014nes)14
b(a)i Ft(setf*)g Fr(metho)r(d)c(for)j(the)g(generic)f(function)g
Fs(name)p Fr(.)25 b(The)16 b(last)f(argumen)n(t)e(in)j Fs(sp)m(e)m(cialize)m
(d-lamb)m(da-)149 3408 y(list)21 b Fr(is)h(in)n(tended)e(to)h(b)r(e)g(class)g
(sp)r(ecialized,)f(just)h(as)g(is)h(the)e(case)h(for)g(normal)f
Ft(setf)h Fr(metho)r(ds.)32 b Fj(f)p Fs(metho)m(d-)p eop
%%Page: 347 362
bop 149 16 a Fm(APPENDIX)16 b(B.)37 b(THE)18 b(CLIM-SYS)f(P)-5
b(A)n(CKA)n(GE)1117 b Fr(347)149 210 y Fs(quali\014er)p Fj(g)p
Fs(*)20 b Fr(amd)d Fs(b)m(o)m(dy)i Fr(are)f(as)g(for)f Ft(defgeneric)p
Fr(.)149 342 y(F)-5 b(or)13 b(example,)g Ft(output-record-position)i
Fr(and)e(its)g Ft(setf*)h Fr(metho)r(d)c(for)j(a)g(class)g(called)f
Ft(sample-output-)149 409 y(record)18 b Fr(migh)n(t)g(b)r(e)f(de\014ned)g(as)
h(follo)n(ws:)149 597 y Ft(\(defgeneric)29 b(output-record-position)i
(\(record\))207 663 y(\(declare)e(\(values)h(x)f(y\)\)\))149
730 y(\(defgeneric*)g(\(setf)h(output-record-position\))g(\(x)f(y)g
(record\)\))149 863 y(\(defmethod)g(output-record-position)i(\(\(record)e
(sample-output-record\)\))207 929 y(\(with-slots)g(\(x)h(y\))265
996 y(\(values)f(x)g(y\)\)\))149 1128 y(\(defmethod*)g(\(setf)h
(output-record-position\))g(\(nx)f(ny)h(\(record)f(sample-output-record\)\))
207 1195 y(\(with-slots)g(\(x)h(y\))265 1261 y(\(setf)f(x)g(nx)439
1328 y(y)g(ny\)\)\))149 1516 y Fr(The)17 b(p)r(osition)g(of)h(suc)n(h)g(an)g
(output)f(record)f(could)i(then)f(b)r(e)g(c)n(hanged)g(as)h(follo)n(ws:)149
1704 y Ft(\(setf)29 b(\(output-record-position)h(record\))g(\(values)f(nx)h
(ny\)\))149 1837 y(\(setf)f(\(output-record-position)h(record1\))g
(\(output-record-position)g(record2\)\))p eop
%%Page: 348 363
bop 149 691 a Fl(App)t(endix)44 b(C)149 1034 y Fq(Common)51
b(Lisp)j(Streams)149 1388 y Fr(CLIM)15 b(p)r(erforms)e(all)k(of)f(its)g(c)n
(haracter-based)c(input)k(and)f(output)g(op)r(erations)e(on)j(ob)s(jects)e
(called)i Fm(streams)p Fr(.)149 1455 y(Streams)21 b(are)i(divided)g(in)n(to)h
(t)n(w)n(o)g(la)n(y)n(ers,)i(the)d Fm(basic)g(stream)f(proto)r(col)p
Fr(,)h(whic)n(h)h(is)g(c)n(haracter-based)c(and)149 1521 y(compatible)j(with)
j(existing)f(Common)e(Lisp)j(programs,)f(and)g(the)g Fm(extended)f(stream)g
(proto)r(col)p Fr(,)h(whic)n(h)149 1588 y(in)n(tro)r(duces)19
b(extended)g(gestures)g(suc)n(h)i(as)h(p)r(oin)n(ter)e(gestures)f(and)i(sync)
n(hronous)e(windo)n(w-manager)g(com-)149 1654 y(m)n(unication.)149
1787 y(This)g(app)r(endix)e(describ)r(es)f(the)i(basic)g(stream-based)e
(input)i(and)g(output)f(proto)r(col)f(used)i(b)n(y)h(CLIM.)g(The)149
1853 y(proto)r(col)10 b(is)k(tak)n(en)e(from)f(the)h Ft
(STREAM-DEFINITION-BY-USER)j Fr(prop)r(osal)c(to)h(the)g(X3J13)g(committee,)f
(made)149 1920 y(b)n(y)22 b(Da)n(vid)g(Gra)n(y)g(of)f(TI.)g(This)h(prop)r
(osal)d(w)n(as)i(not)g(accepted)d(b)n(y)k(the)e(X3J13)h(committee)c(as)k
(part)f(of)h(the)149 1986 y(ANSI)h(Common)g(Lisp)h(language)f(de\014nition,)i
(but)f(man)n(y)g(Lisp)h(implemen)n(tations)c(do)k(supp)r(ort)d(it.)41
b(F)-5 b(or)149 2053 y(those)17 b(implemen)n(tations)d(that)j(do)h(not)g
(supp)r(ort)e(it,)i(it)h(is)f(implemen)n(ted)e(as)i(part)f(of)h(CLIM.)149
2302 y Fk(C.1)92 b(Stream)30 b(Classes)149 2490 y Fr(The)18
b(follo)n(wing)h(classes)e(m)n(ust)h(b)r(e)g(used)f(as)i(sup)r(erclasses)c
(of)k(user-de\014ned)d(stream)g(classes.)25 b(They)18 b(are)g(not)149
2556 y(in)n(tended)f(to)g(b)r(e)h(directly)f(instan)n(tiated;)g(they)g(just)h
(pro)n(vide)g(places)f(to)h(hang)f(default)g(metho)r(ds.)49
2689 y Fj(\))45 b Ft(fundamental-stream)1606 b Fr([)p Fs(Class)5
b Fr(])149 2808 y(This)20 b(class)f(is)i(the)e(base)g(class)g(for)h(all)g
(CLIM)g(streams.)27 b(It)20 b(is)g(a)g(sub)r(class)e(of)i Ft(stream)h
Fr(and)e(of)h Ft(standard-)149 2874 y(object)p Fr(.)49 3007
y Fj(\))45 b Ft(streamp)29 b Fs(obje)m(ct)1465 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 3126 y(Returns)f Fm(true)g Fr(if)j
Fs(obje)m(ct)h Fr(is)e(a)g(mem)n(b)r(er)d(of)i(the)g(class)h
Ft(fundamental-stream)p Fr(.)39 b(It)23 b(ma)n(y)f(return)f
Fm(true)h Fr(for)149 3193 y(other)g(ob)s(jects)g(that)h(are)g(not)g(mem)n(b)r
(ers)e(of)i(the)g Ft(fundamental-stream)i Fr(class,)h(but)d(claim)g(to)g
(serv)n(e)h(as)149 3259 y(streams.)d(\(It)16 b(is)g(not)g(su\016cien)n(t)f
(to)h(implemen)n(t)e Ft(streamp)j Fr(as)f Ft(\(typep)29 b(object)h
('fundamental-stream\))p Fr(,)149 3326 y(b)r(ecause)15 b(implemen)n(tations)g
(ma)n(y)j(ha)n(v)n(e)h(additional)e(w)n(a)n(ys)i(of)f(de\014ning)g
(streams.\))49 3458 y Fj(\))45 b Ft(fundamental-input-stream)1432
b Fr([)p Fs(Class)5 b Fr(])1262 3632 y(348)p eop
%%Page: 349 364
bop 149 16 a Fm(APPENDIX)16 b(C.)37 b(COMMON)18 b(LISP)f(STREAMS)1113
b Fr(349)149 210 y(A)18 b(sub)r(class)e(of)i Ft(fundamental-stream)i
Fr(that)d(implemen)n(ts)f(input)h(streams.)49 342 y Fj(\))45
b Ft(input-stream-p)30 b Fs(obje)m(ct)1261 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 461 y(Returns)g Fm(true)h Fr(when)h(called)g(on)g
(an)n(y)h(ob)s(ject)e(that)g(is)i(a)f(mem)n(b)r(er)d(of)k(the)e(class)h
Ft(fundamental-input-)149 528 y(stream)p Fr(.)h(It)16 b(ma)n(y)h(return)e
Fm(true)h Fr(for)h(other)e(ob)s(jects)g(that)h(are)g(not)g(mem)n(b)r(ers)e
(of)j(the)f Ft(fundamental-input-)149 594 y(stream)i Fr(class,)h(but)e(claim)
h(to)f(serv)n(e)h(as)g(input)g(streams.)49 727 y Fj(\))45 b
Ft(fundamental-output-stream)1403 b Fr([)p Fs(Class)5 b Fr(])149
846 y(A)18 b(sub)r(class)e(of)i Ft(fundamental-stream)i Fr(that)d(implemen)n
(ts)f(output)g(streams.)49 979 y Fj(\))45 b Ft(output-stream-p)30
b Fs(obje)m(ct)1232 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1098 y(Returns)e Fm(true)h Fr(when)h(called)g(on)g(an)n(y)g(ob)s
(ject)f(that)g(is)i(a)f(mem)n(b)r(er)e(of)i(the)f(class)h Ft
(fundamental-output-)149 1164 y(stream)p Fr(.)i(It)14 b(ma)n(y)h(return)e
Fm(true)h Fr(for)g(other)f(ob)s(jects)g(that)h(are)g(not)g(mem)n(b)r(ers)e
(of)i(the)g Ft(fundamental-output-)149 1231 y(stream)k Fr(class,)h(but)e
(claim)h(to)f(serv)n(e)h(as)g(output)f(streams.)149 1364 y(Bidirectional)11
b(streams)f(can)h(b)r(e)g(formed)f(b)n(y)j(including)e(b)r(oth)g
Ft(fundamental-input-stream)j Fr(and)d Ft(fundamental-)149
1430 y(output-stream)p Fr(.)49 1563 y Fj(\))45 b Ft
(fundamental-character-stream)1316 b Fr([)p Fs(Class)5 b Fr(])149
1682 y(A)24 b(sub)r(class)e(of)i Ft(fundamental-stream)p Fr(.)44
b(It)23 b(pro)n(vides)h(a)g(metho)r(d)d(for)j Ft(stream-element-type)p
Fr(,)j(whic)n(h)149 1748 y(returns)16 b Ft(character)p Fr(.)49
1881 y Fj(\))45 b Ft(fundamental-binary-stream)1403 b Fr([)p
Fs(Class)5 b Fr(])149 2000 y(A)19 b(sub)r(class)e(of)i Ft(fundamental-stream)
p Fr(.)29 b(An)n(y)19 b(instan)n(tiable)f(class)h(that)f(includes)g(this)h
(needs)f(to)h(de\014ne)f(a)149 2067 y(metho)r(d)d(for)j Ft
(stream-element-type)p Fr(.)49 2199 y Fj(\))45 b Ft
(fundamental-character-input-stream)1142 b Fr([)p Fs(Class)5
b Fr(])149 2318 y(A)18 b(sub)r(class)f(of)i(b)r(oth)e Ft
(fundamental-input-stream)k Fr(and)d Ft(fundamental-character-stream)p
Fr(.)28 b(It)19 b(pro-)149 2385 y(vides)f(default)f(metho)r(ds)e(for)j(sev)n
(eral)g(generic)e(functions)h(used)g(for)h(c)n(haracter)e(input.)49
2518 y Fj(\))45 b Ft(fundamental-character-output-stream)1113
b Fr([)p Fs(Class)5 b Fr(])149 2637 y(A)14 b(sub)r(class)g(of)h(b)r(oth)e
Ft(fundamental-output-stream)k Fr(and)d Ft(fundamental-character-stream)p
Fr(.)26 b(It)15 b(pro-)149 2703 y(vides)j(default)f(metho)r(ds)e(for)j(sev)n
(eral)g(generic)e(functions)h(used)g(for)h(c)n(haracter)e(output.)49
2836 y Fj(\))45 b Ft(fundamental-binary-input-stream)1229 b
Fr([)p Fs(Class)5 b Fr(])149 2955 y(A)18 b(sub)r(class)e(of)i(b)r(oth)f
Ft(fundamental-input-stream)j Fr(and)d Ft(fundamental-binary-stream)p
Fr(.)49 3088 y Fj(\))45 b Ft(fundamental-binary-output-stream)1200
b Fr([)p Fs(Class)5 b Fr(])149 3207 y(A)18 b(sub)r(class)e(of)i(b)r(oth)f
Ft(fundamental-output-stream)j Fr(and)e Ft(fundamental-binary-stream)p
Fr(.)p eop
%%Page: 350 365
bop 149 16 a Fm(APPENDIX)16 b(C.)37 b(COMMON)18 b(LISP)f(STREAMS)1113
b Fr(350)149 210 y Fk(C.2)92 b(Basic)29 b(Stream)h(F)-8 b(unctions)149
397 y Fr(These)17 b(generic)g(functions)f(m)n(ust)h(b)r(e)h(de\014ned)e(for)i
(all)h(stream)d(classes.)49 530 y Fj(\))45 b Ft(stream-element-type)30
b Fs(str)m(e)m(am)1095 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 649 y(This)g(existing)g(Common)e(Lisp)i(function)e(is)j(made)e
(generic,)h(but)f(otherwise)g(b)r(eha)n(v)n(es)g(the)g(same.)36
b(Class)149 715 y Ft(fundamental-character-stream)20 b Fr(pro)n(vides)e(a)g
(default)f(metho)r(d)e(that)i(returns)f Ft(character)p Fr(.)49
848 y Fj(\))45 b Ft(open-stream-p)29 b Fs(str)m(e)m(am)1270
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 967 y(This)16
b(function)f(is)h(made)f(generic.)22 b(A)16 b(default)f(metho)r(d)e(is)k(pro)
n(vided)e(b)n(y)i(class)e Ft(fundamental-stream)j Fr(that)149
1034 y(returns)e Fm(true)h Fr(if)i Ft(close)f Fr(has)g(not)g(b)r(een)e
(called)i(on)g(the)f(stream.)49 1167 y Fj(\))45 b Ft(close)29
b Fs(str)m(e)m(am)22 b Ft(&key)29 b Fs(ab)m(ort)1216 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 1286 y(The)d(existing)g(Common)f(Lisp)
h(function)f Ft(close)j Fr(is)f(rede\014ned)d(to)i(b)r(e)g(a)h(generic)e
(function,)h(but)g(otherwise)149 1352 y(b)r(eha)n(v)n(es)g(the)h(same.)30
b(The)20 b(default)g(metho)r(d)d(pro)n(vided)j(b)n(y)i(the)d(class)h
Ft(fundamental-stream)i Fr(sets)e(a)g(\015ag)149 1418 y(used)f(b)n(y)i
Ft(open-stream-p)p Fr(.)33 b(The)20 b(v)m(alue)g(returned)e(b)n(y)j
Ft(close)g Fr(will)g(b)r(e)f(as)g(sp)r(eci\014ed)f(b)n(y)i(the)e(X3J13)h
(issue)149 1485 y Ft(closed-stream-operations)p Fr(.)49 1618
y Fj(\))45 b Ft(stream-pathname)30 b Fs(str)m(e)m(am)1211 b
Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])49 1684 y Fj(\))45
b Ft(stream-truename)30 b Fs(str)m(e)m(am)1211 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 1803 y(These)c(are)h(used)g(to)g(implemen)n(t)e
Ft(pathname)j Fr(and)f Ft(truename)p Fr(.)29 b(There)19 b(is)h(no)f(default)f
(metho)r(d)f(since)i(these)149 1869 y(are)e(not)g(v)m(alid)i(for)f(all)h
(streams.)149 2119 y Fk(C.3)92 b(Character)28 b(Input)149 2307
y Fr(A)11 b(c)n(haracter)f(input)h(stream)f(can)i(b)r(e)f(created)e(b)n(y)k
(de\014ning)e(a)h(class)g(that)e(includes)i Ft(fundamental-character-)149
2373 y(input-stream)19 b Fr(and)e(de\014ning)h(metho)r(ds)d(for)i(the)h
(generic)f(functions)f(b)r(elo)n(w.)49 2506 y Fj(\))45 b Ft(stream-read-char)
30 b Fs(str)m(e)m(am)1182 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 2625 y(Reads)14 b(one)g(c)n(haracter)f(from)h Fs(str)m(e)m(am)p
Fr(,)k(and)d(returns)e(either)h(a)i(c)n(haracter)c(ob)s(ject)i(or)h(the)f
(sym)n(b)r(ol)h Ft(:eof)h Fr(if)f(the)149 2691 y(stream)i(is)j(at)f
(end-of-\014le.)28 b(There)19 b(is)h(no)f(default)f(metho)r(d)f(for)i(this)g
(generic)f(function,)h(so)g(ev)n(ery)h(sub)r(class)149 2758
y(of)e Ft(fundamental-character-input-stream)i Fr(m)n(ust)d(de\014ne)g(a)h
(metho)r(d.)49 2890 y Fj(\))45 b Ft(stream-unread-char)30 b
Fs(str)m(e)m(am)21 b(char)m(acter)883 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 3009 y(Undo)r(es)j(the)h(last)g(call)h(to)g
Ft(stream-read-char)p Fr(,)j(as)d(in)g Ft(unread-char)p Fr(,)k(and)26
b(returns)f Ft(nil)p Fr(.)51 b(There)26 b(is)149 3076 y(no)20
b(default)f(metho)r(d)e(for)j(this,)g(so)g(ev)n(ery)h(sub)r(class)d(of)i
Ft(fundamental-character-input-stream)j Fr(m)n(ust)149 3142
y(de\014ne)17 b(a)h(metho)r(d.)49 3275 y Fj(\))45 b Ft
(stream-read-char-no-hang)30 b Fs(str)m(e)m(am)950 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 3394 y(Returns)h(either)g(a)i(c)n
(haracter,)f(or)g Ft(nil)h Fr(if)h(no)e(input)g(is)h(curren)n(tly)f(a)n(v)m
(ailable,)j(or)d Ft(:eof)h Fr(if)h(end-of-\014le)e(is)149 3461
y(reac)n(hed.)46 b(This)26 b(is)h(used)e(to)g(implemen)n(t)f
Ft(read-char-no-hang)p Fr(.)50 b(The)25 b(default)g(metho)r(d)e(pro)n(vided)j
(b)n(y)p eop
%%Page: 351 366
bop 149 16 a Fm(APPENDIX)16 b(C.)37 b(COMMON)18 b(LISP)f(STREAMS)1113
b Fr(351)149 210 y Ft(fundamental-character-input-stream)26
b Fr(simply)d(calls)h Ft(stream-read-char)p Fr(;)k(this)c(is)g(su\016cien)n
(t)f(for)149 276 y(\014le)18 b(streams,)e(but)h(in)n(teractiv)n(e)h(streams)d
(should)j(de\014ne)f(their)g(o)n(wn)i(metho)r(d.)49 409 y Fj(\))45
b Ft(stream-peek-char)30 b Fs(str)m(e)m(am)1182 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 528 y(Returns)h(either)i(a)g(c)n(haracter)e(or)i
Ft(:eof)h Fr(without)e(remo)n(ving)g(the)h(c)n(haracter)e(from)h(the)h
(stream's)e(input)149 594 y(bu\013er.)g(This)17 b(is)g(used)f(to)g(implemen)n
(t)f Ft(peek-char)p Fr(;)j(this)f(corresp)r(onds)c(to)j(p)r(eek-t)n(yp)r(e)f
(of)i Ft(nil)p Fr(.)24 b(The)17 b(default)149 661 y(metho)r(d)e(calls)j
Ft(stream-read-char)i Fr(and)d Ft(stream-unread-char.)49 793
y Fj(\))45 b Ft(stream-listen)29 b Fs(str)m(e)m(am)1270 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 912 y(Returns)e Fm(true)h
Fr(if)i(there)d(is)j(an)n(y)g(input)e(p)r(ending)g(on)h Fs(str)m(e)m(am)p
Fr(,)k(otherwise)20 b(it)i(returns)f Fm(false)p Fr(.)36 b(This)23
b(is)f(used)149 979 y(b)n(y)g Ft(listen)p Fr(.)37 b(The)22
b(default)e(metho)r(d)g(uses)h Ft(stream-read-char-no-hang)i
Fr(and)f Ft(stream-unread-char)p Fr(.)149 1045 y(Most)d(streams)e(should)j
(de\014ne)e(their)h(o)n(wn)i(metho)r(d)c(since)i(it)h(will)i(usually)e(b)r(e)
f(trivial)h(and)g(will)h(generally)149 1112 y(b)r(e)c(more)g(e\016cien)n(t)g
(than)g(the)g(default)h(metho)r(d.)49 1245 y Fj(\))45 b Ft(stream-read-line)
30 b Fs(str)m(e)m(am)1182 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1364 y(Returns)e(a)i(string)f(as)g(the)h(\014rst)f(v)m(alue,)i(and)e
Ft(t)h Fr(as)g(the)f(second)f(v)m(alue)i(if)h(the)e(string)g(w)n(as)h
(terminated)d(b)n(y)149 1430 y(end-of-\014le)i(instead)g(of)h(the)f(end)g(of)
h(a)g(line.)37 b(This)22 b(is)h(used)e(b)n(y)h Ft(read-line)p
Fr(.)37 b(The)22 b(default)f(metho)r(d)e(uses)149 1496 y(rep)r(eated)c(calls)
j(to)g Ft(stream-read-char)p Fr(.)49 1629 y Fj(\))45 b Ft(stream-clear-input)
30 b Fs(str)m(e)m(am)1124 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1748 y(Clears)c(an)n(y)i(bu\013ered)e(input)h(asso)r(ciated)d(with)j
Fs(str)m(e)m(am)p Fr(,)j(and)d(returns)e Fm(false)p Fr(.)28
b(This)20 b(is)f(used)g(to)g(implemen)n(t)149 1815 y Ft(clear-input)p
Fr(.)25 b(The)18 b(default)f(metho)r(d)f(do)r(es)g(nothing.)149
2064 y Fk(C.4)92 b(Character)28 b(Output)149 2252 y Fr(A)g(c)n(haracter)d
(output)i(stream)f(can)h(b)r(e)h(created)e(b)n(y)j(de\014ning)e(a)h(class)g
(that)f(includes)h Ft(fundamental-)149 2318 y(character-output-stream)19
b Fr(and)f(de\014ning)f(metho)r(ds)e(for)j(the)f(generic)g(functions)g(b)r
(elo)n(w.)49 2451 y Fj(\))45 b Ft(stream-write-char)30 b Fs(str)m(e)m(am)21
b(char)m(acter)912 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
2570 y(W)-5 b(rites)17 b Fs(char)m(acter)22 b Fr(to)17 b Fs(str)m(e)m(am)p
Fr(,)j(and)e(returns)e Fs(char)m(acter)21 b Fr(as)d(its)g(v)m(alue.)24
b(Ev)n(ery)18 b(sub)r(class)f(of)h Ft(fundamental-)149 2636
y(character-output-stream)h Fr(m)n(ust)f(ha)n(v)n(e)g(a)g(metho)r(d)e
(de\014ned)g(for)i(this)g(function.)49 2769 y Fj(\))45 b Ft
(stream-line-column)30 b Fs(str)m(e)m(am)1124 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 2888 y(This)16 b(function)f(returns)f(the)i(column)e
(n)n(um)n(b)r(er)h(where)g(the)h(next)f(c)n(haracter)f(will)k(b)r(e)d
(written)g(on)h Fs(str)m(e)m(am)p Fr(,)j(or)149 2955 y Ft(nil)h
Fr(if)g(that)f(is)h(not)f(meaningful.)28 b(The)20 b(\014rst)f(column)f(on)i
(a)g(line)g(is)g(n)n(um)n(b)r(ered)e(0.)29 b(This)20 b(function)f(is)h(used)
149 3021 y(in)h(the)e(implemen)n(tation)f(of)i Ft(pprint)h
Fr(and)f(the)g Ft(format)h(~T)f Fr(directiv)n(e.)32 b(Ev)n(ery)20
b(c)n(haracter)e(output)h(stream)149 3088 y(class)e(m)n(ust)h(de\014ne)e(a)j
(metho)r(d)c(for)j(this,)g(although)f(it)h(is)h(p)r(ermissible)d(for)i(it)g
(to)g(alw)n(a)n(ys)h(return)d Ft(nil)p Fr(.)49 3220 y Fj(\))45
b Ft(stream-start-line-p)30 b Fs(str)m(e)m(am)1095 b Fr([)p
Fs(Generic)22 b(F)l(unction)t Fr(])149 3339 y(Returns)g Fm(true)h
Fr(if)h Fs(str)m(e)m(am)i Fr(is)f(p)r(ositioned)d(at)h(the)g(b)r(eginning)g
(of)h(a)g(line,)i(otherwise)c(returns)g Fm(false)p Fr(.)42
b(It)24 b(is)149 3406 y(p)r(ermissible)16 b(to)i(alw)n(a)n(ys)h(return)d
Fm(false)p Fr(.)25 b(This)18 b(is)h(used)e(in)i(the)e(implemen)n(tation)e(of)
j Ft(fresh-line)p Fr(.)p eop
%%Page: 352 367
bop 149 16 a Fm(APPENDIX)16 b(C.)37 b(COMMON)18 b(LISP)f(STREAMS)1113
b Fr(352)149 210 y(Note)19 b(that)h(while)h(a)f(v)m(alue)h(of)g(0)f(from)g
Ft(stream-line-column)i Fr(also)f(indicates)e(the)h(b)r(eginning)f(of)i(a)g
(line,)149 276 y(there)e(are)h(cases)f(where)h Ft(stream-start-line-p)i
Fr(can)e(b)r(e)f(meaningfully)h(implemen)n(ted)e(when)i Ft(stream-)149
342 y(line-column)i Fr(cannot.)33 b(F)-5 b(or)22 b(example,)f(for)h(a)f
(windo)n(w)h(using)f(v)m(ariable-width)g(c)n(haracters,)f(the)h(column)149
409 y(n)n(um)n(b)r(er)g(isn't)i(v)n(ery)g(meaningful,)g(but)f(the)g(b)r
(eginning)f(of)i(the)f(line)h(do)r(es)f(ha)n(v)n(e)h(a)g(clear)f(meaning.)37
b(The)149 475 y(default)24 b(metho)r(d)f(for)h Ft(stream-start-line-p)j
Fr(on)e(class)g Ft(fundamental-character-output-stream)149
542 y Fr(uses)14 b Ft(stream-line-column)p Fr(,)k(so)d(if)h(that)e(is)i
(de\014ned)e(to)g(return)g Ft(nil)p Fr(,)j(then)d(a)h(metho)r(d)e(should)h(b)
r(e)h(pro)n(vided)149 608 y(for)i(either)g Ft(stream-start-line-p)j
Fr(or)e Ft(stream-fresh-line)p Fr(.)49 741 y Fj(\))45 b Ft
(stream-write-string)30 b Fs(str)m(e)m(am)21 b(string)g Ft(&optional)30
b Fs(\(start)20 b Ft(0)p Fs(\))g(end)316 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 860 y(W)-5 b(rites)24 b(the)h(string)f
Fs(string)i Fr(to)f Fs(str)m(e)m(am)p Fr(.)47 b(If)25 b Fs(start)i
Fr(and)d Fs(end)j Fr(are)d(supplied,)j(they)d(sp)r(ecify)g(what)h(part)f(of)
149 926 y Fs(string)e Fr(to)f(output.)32 b Fs(string)22 b Fr(is)g(returned)c
(as)j(the)g(v)m(alue.)33 b(This)21 b(is)h(used)e(b)n(y)i Ft(write-string)p
Fr(.)35 b(The)21 b(default)149 993 y(metho)r(d)e(pro)n(vided)i(b)n(y)i
Ft(fundamental-character-output-stream)h Fr(uses)d(rep)r(eated)e(calls)j(to)g
Ft(stream-)149 1059 y(write-char)p Fr(.)49 1192 y Fj(\))45
b Ft(stream-terpri)29 b Fs(str)m(e)m(am)1270 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 1311 y(W)-5 b(rites)14 b(an)h(end)f(of)h(line)g(c)n
(haracter)d(on)j Fs(str)m(e)m(am)p Fr(,)j(and)c(returns)f Fm(false)p
Fr(.)23 b(This)15 b(is)g(used)f(b)n(y)i Ft(terpri)p Fr(.)24
b(The)15 b(default)149 1377 y(metho)r(d)g(do)r(es)i Ft(stream-write-char)i
Fr(of)f Ft(#\\Newline)p Fr(.)49 1510 y Fj(\))45 b Ft(stream-fresh-line)30
b Fs(str)m(e)m(am)1153 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 1629 y(W)-5 b(rites)18 b(an)g(end)g(of)h(line)g(c)n(haracter)d(on)j
Fs(str)m(e)m(am)h Fr(only)f(if)h(the)e(stream)e(is)j(not)f(at)g(the)g(b)r
(eginning)f(of)i(the)f(line.)149 1696 y(This)25 b(is)h(used)f(b)n(y)h
Ft(fresh-line)p Fr(.)47 b(The)25 b(default)f(metho)r(d)f(uses)h
Ft(stream-start-line-p)j Fr(and)e Ft(stream-)149 1762 y(terpri)p
Fr(.)49 1895 y Fj(\))45 b Ft(stream-finish-output)30 b Fs(str)m(e)m(am)1066
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2014 y(Ensures)13
b(that)g(all)i(the)f(output)f(sen)n(t)h(to)g Fs(str)m(e)m(am)j
Fr(has)d(reac)n(hed)f(its)h(destination,)g(and)g(only)h(then)f(return)e
Fm(false)p Fr(.)149 2080 y(This)18 b(is)h(used)e(b)n(y)i Ft(finish-output)p
Fr(.)26 b(The)17 b(default)g(metho)r(d)f(do)r(es)h(nothing.)49
2213 y Fj(\))45 b Ft(stream-force-output)30 b Fs(str)m(e)m(am)1095
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2332 y(Lik)n(e)c
Ft(stream-finish-output)p Fr(,)i(except)d(that)g(it)h(ma)n(y)g(return)e
Fm(false)i Fr(without)f(w)n(aiting)h(for)f(the)h(output)e(to)149
2399 y(complete.)22 b(This)c(is)h(used)e(b)n(y)i Ft(force-output)p
Fr(.)26 b(The)18 b(default)f(metho)r(d)e(do)r(es)i(nothing.)49
2531 y Fj(\))45 b Ft(stream-clear-output)30 b Fs(str)m(e)m(am)1095
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2650 y(Ab)r(orts)15
b(an)n(y)i(outstanding)e(output)g(op)r(eration)f(in)k(progress,)d(and)i
(returns)e Fm(false)p Fr(.)24 b(This)17 b(is)h(used)e(b)n(y)i
Ft(clear-)149 2717 y(output)p Fr(.)25 b(The)18 b(default)f(metho)r(d)e(do)r
(es)i(nothing.)49 2850 y Fj(\))45 b Ft(stream-advance-to-column)30
b Fs(str)m(e)m(am)22 b(c)m(olumn)758 b Fr([)p Fs(Generic)22
b(F)l(unction)t Fr(])149 2969 y(W)-5 b(rites)18 b(enough)f(blank)i(space)f
(on)h Fs(str)m(e)m(am)h Fr(so)f(that)f(the)g(next)g(c)n(haracter)e(will)21
b(b)r(e)d(written)f(at)i(the)f(p)r(osition)149 3035 y(sp)r(eci\014ed)i(b)n(y)
j Fs(c)m(olumn)p Fr(.)40 b(Returns)20 b Fm(true)i Fr(if)h(the)e(op)r(eration)
f(is)j(successful,)g(or)f Ft(nil)h Fr(if)g(it)g(is)g(not)e(supp)r(orted)149
3102 y(for)g(this)g(stream.)33 b(This)22 b(is)g(in)n(tended)f(for)g(use)g(b)n
(y)h Ft(pprint)h Fr(and)e Ft(format)h(~T)p Fr(.)h(The)e(default)f(metho)r(d)f
(uses)149 3168 y Ft(stream-line-column)k Fr(and)f(rep)r(eated)d(calls)k(to)e
Ft(stream-write-char)j Fr(with)e(a)g Ft(#\\Space)h Fr(c)n(haracter;)f(it)149
3234 y(returns)16 b Ft(nil)j Fr(if)f Ft(stream-line-column)i
Fr(returns)c Ft(nil)p Fr(.)p eop
%%Page: 353 368
bop 149 16 a Fm(APPENDIX)16 b(C.)37 b(COMMON)18 b(LISP)f(STREAMS)1113
b Fr(353)149 210 y Fk(C.5)92 b(Binary)30 b(Streams)149 397
y Fr(Binary)22 b(streams)e(can)i(b)r(e)f(created)f(b)n(y)j(de\014ning)e(a)h
(class)g(that)f(includes)h(either)f Ft(fundamental-binary-)149
464 y(input-stream)k Fr(or)f Ft(fundamental-binary-output-stream)i
Fr(\(or)d(b)r(oth\))g(and)g(de\014ning)g(a)i(metho)r(d)c(for)149
530 y Ft(stream-element-type)e Fr(and)f(for)g(one)f(or)h(b)r(oth)f(of)h(the)f
(follo)n(wing)i(generic)d(functions.)49 663 y Fj(\))45 b Ft(stream-read-byte)
30 b Fs(str)m(e)m(am)1182 b Fr([)p Fs(Generic)22 b(F)l(unction)t
Fr(])149 782 y(Returns)17 b(either)h(an)h(in)n(teger,)g(or)g(the)f(sym)n(b)r
(ol)h Ft(:eof)g Fr(if)h Fs(str)m(e)m(am)h Fr(is)f(at)f(end-of-\014le.)27
b(This)20 b(is)g(used)e(b)n(y)i Ft(read-)149 848 y(byte)p Fr(.)49
981 y Fj(\))45 b Ft(stream-write-byte)30 b Fs(str)m(e)m(am)21
b(inte)m(ger)971 b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149
1100 y(W)-5 b(rites)17 b Fs(inte)m(ger)k Fr(to)d Fs(str)m(e)m(am)p
Fr(,)i(and)e(returns)e Fs(inte)m(ger)21 b Fr(as)d(the)f(result.)24
b(This)19 b(is)f(used)g(b)n(y)g Ft(write-byte)p Fr(.)p eop
%%Page: 354 369
bop 149 691 a Fl(App)t(endix)44 b(D)149 1034 y Fq(Encapsulating)53
b(Streams)149 1388 y Fr(An)16 b Fm(encapsulating)e(stream)h
Fr(is)i(a)g(sp)r(ecial)e(kind)i(of)g(stream)e(that)g(\\closes)h(o)n(v)n(er")g
(another)f(stream,)g(handling)149 1455 y(some)i(of)h(the)g(usual)g(stream)e
(proto)r(col)h(op)r(erations)f(itself,)j(and)f(delegating)f(the)g(remaining)g
(op)r(erations)f(to)149 1521 y(the)d(\\encapsulated")e(stream.)22
b(Encapsulating)12 b(streams)g(ma)n(y)i(b)r(e)g(used)f(b)n(y)j(some)d(CLIM)h
(implemen)n(tations)149 1588 y(in)19 b(order)e(to)i(facilitate)e(the)h
(implemen)n(tation)e(of)j(features)d(that)i(require)g(the)g(dynamic)f(mo)r
(di\014cation)f(of)j(a)149 1654 y(stream's)c(state)h(and)h(op)r(erations.)22
b(F)-5 b(or)18 b(example,)e Ft(accepting-values)j Fr(dialogs)e(can)g(b)r(e)g
(implemen)n(ted)e(b)n(y)149 1721 y(using)21 b(an)h(encapsulating)d(stream)h
(that)g(tailors)i(calls)g(to)f Ft(accept)h Fr(and)g Ft(prompt-for-accept)h
Fr(in)f(suc)n(h)g(a)149 1787 y(w)n(a)n(y)g(that)d(the)h(output)g(is)h
(captured)e(and)h(formatted)e(in)n(to)j(a)g(dialog)f(that)g(con)n(tains)g
(prompts)e(and)j(\014elds)149 1853 y(that)d(can)i(b)r(e)f(clic)n(k)n(ed)i(on)
e(and)h(mo)r(di\014ed)e(b)n(y)i(the)f(user.)30 b(Input)19 b(editing)g(can)h
(also)f(b)r(e)h(implemen)n(ted)d(using)149 1920 y(an)24 b(encapsulating)e
(stream)h(that)g(manages)f(the)i(in)n(teraction)f(b)r(et)n(w)n(een)g
Ft(read-gesture)j Fr(and)e(the)g(input)149 1986 y(editing)c(commands)e(and)i
(rescanning.)31 b(The)21 b(form)f Ft(filling-output)i Fr(can)e(b)r(e)g
(implemen)n(ted)f(b)n(y)i(ha)n(ving)149 2053 y(an)d(encapsulating)d(stream)h
(that)h(bu\013ers)g(output)g(and)h(inserts)f(line)h(breaks)f(appropriately)-5
b(.)149 2185 y(CLIM)18 b(implemen)n(tations)d(need)j(not)g(use)g
(encapsulating)e(streams)h(at)h(all.)27 b(If)19 b(encapsulating)d(streams)g
(are)149 2252 y(used,)e(they)g(m)n(ust)f(adhere)g(to)h(the)f(follo)n(wing)i
(proto)r(cols.)21 b(Encapsulating)12 b(streams)g(are)i(not)f(part)g(of)i
(CLIM's)149 2318 y(API.)149 2568 y Fk(D.1)92 b(Encapsulating)28
b(Stream)i(Classes)49 2755 y Fj(\))45 b Ft(encapsulating-stream)1333
b Fr([)p Fs(Pr)m(oto)m(c)m(ol)23 b(Class)5 b Fr(])149 2874
y(The)13 b(proto)r(col)f(class)h(that)f(corresp)r(onds)f(to)i(an)h
(encapsulating)d(stream.)21 b(If)14 b(y)n(ou)g(w)n(an)n(t)g(to)f(create)f(a)i
(new)f(class)149 2941 y(that)19 b(b)r(eha)n(v)n(es)h(lik)n(e)j(an)d
(encapsulating)f(stream,)g(it)i(should)g(b)r(e)f(a)h(sub)r(class)e(of)i
Ft(encapsulating-stream)p Fr(.)149 3007 y(Sub)r(classes)e(of)i
Ft(encapsulating-stream)i Fr(m)n(ust)e(ob)r(ey)f(the)h(encapsulating)e
(stream)g(proto)r(col.)h(Mem)n(b)r(ers)149 3074 y(of)e(this)g(class)f(are)h
(m)n(utable.)49 3207 y Fj(\))45 b Ft(encapsulating-stream-p)30
b Fs(obje)m(ct)1240 b Fr([)p Fs(F)l(unction)t Fr(])149 3326
y(Returns)16 b Fm(true)h Fr(if)i Fs(obje)m(ct)h Fr(is)f(an)f
Fm(encapsulating)e(stream)p Fr(,)g(otherwise)g(returns)h Fm(false)p
Fr(.)49 3458 y Fj(\))45 b Ft(:stream)1859 b Fr([)p Fs(Init)21
b(A)o(r)m(g)5 b Fr(])1262 3632 y(354)p eop
%%Page: 355 370
bop 149 16 a Fm(APPENDIX)16 b(D.)37 b(ENCAPSULA)-5 b(TING)16
b(STREAMS)1034 b Fr(355)149 210 y(All)18 b(encapsulating)d(streams)g(m)n(ust)
h(handle)h(the)g Ft(:stream)h Fr(initarg,)f(whic)n(h)h(is)g(used)f(to)g(sp)r
(ecify)f(the)h(stream)149 276 y(to)g(b)r(e)h(encapsulated.)49
409 y Fj(\))45 b Ft(standard-encapsulating-stream)1287 b Fr([)p
Fs(Class)5 b Fr(])149 528 y(This)18 b(class)g(pro)n(vides)g(a)g(standard)e
(implemen)n(tation)f(of)j(an)g(encapsulating)e(stream.)149
749 y Fp(D.1.1)75 b(Encapsulating)26 b(Stream)f(Proto)r(col)149
918 y Fr(The)16 b Ft(standard-encapsulating-stream)i Fr(class)f(m)n(ust)e
(pro)n(vide)h(\\tramp)r(oline")e(metho)r(ds)f(for)j Fm(all)i
Fr(stream)149 984 y(proto)r(col)23 b(op)r(erations.)45 b(These)25
b(\\tramp)r(olines")e(will)k(simply)f(call)g(the)f(same)f(generic)g(function)
h(on)g(the)149 1051 y(encapsulated)17 b(stream.)27 b(In)20
b(particular,)e(all)j(of)e(the)g(generic)g(functions)f(in)i(the)f(follo)n
(wing)h(proto)r(cols)e(m)n(ust)149 1117 y(ha)n(v)n(e)g(tramp)r(olines.)232
1305 y Fj(\017)27 b Fr(The)17 b(basic)g(input)g(and)h(output)d(stream)h
(proto)r(cols,)f(as)j(sp)r(eci\014ed)d(b)n(y)k(the)e(Gra)n(y)h(stream)d(prop)
r(osal)h(in)287 1372 y(Chapter)g(C.)232 1482 y Fj(\017)27 b
Fr(The)18 b(sheet)f(proto)r(cols,)f(as)i(sp)r(eci\014ed)e(in)i(Chapters)f(7)h
(and)f(8.)232 1593 y Fj(\017)27 b Fr(The)18 b(medium)e(proto)r(col,)g(as)i
(sp)r(eci\014ed)f(in)h(Chapter)e(10.)232 1704 y Fj(\017)27
b Fr(The)18 b(text)f(st)n(yle)i(binding)e(forms,)h(as)f(sp)r(eci\014ed)g(in)h
(Chapter)f(11.)232 1814 y Fj(\017)27 b Fr(The)18 b(dra)n(wing)g(functions,)f
(as)h(sp)r(eci\014ed)e(in)i(Chapter)f(12.)232 1925 y Fj(\017)27
b Fr(The)18 b(extended)e(output)g(stream)g(proto)r(col,)h(as)h(sp)r
(eci\014ed)e(in)i(Chapter)f(15.)232 2036 y Fj(\017)27 b Fr(The)18
b(output)e(recording)g(stream)g(proto)r(col,)h(as)h(sp)r(eci\014ed)e(in)i
(Chapter)f(16.)232 2146 y Fj(\017)27 b Fr(The)18 b(incremen)n(tal)e(redispla)
n(y)i(stream)e(proto)r(col,)g(as)i(sp)r(eci\014ed)e(in)j(Chapter)d(21.)232
2257 y Fj(\017)27 b Fr(The)18 b(extended)e(input)i(stream)e(proto)r(col,)g
(as)i(sp)r(eci\014ed)e(in)j(Chapter)d(22.)232 2368 y Fj(\017)27
b Fr(The)18 b(stream)e(generics)g(for)i(presen)n(tation)e(t)n(yp)r(es,)h(as)h
(sp)r(eci\014ed)f(in)h(Chapter)f(23.)149 2556 y(The)g(follo)n(wing)i(generic)
e(function)g(m)n(ust)g(also)h(b)r(e)f(implemen)n(ted)f(for)h(all)i
(encapsulating)d(stream)g(classes.)49 2689 y Fj(\))45 b Ft
(encapsulating-stream-stream)30 b Fs(enc)m(apsulating-str)m(e)m(am)523
b Fr([)p Fs(Generic)22 b(F)l(unction)t Fr(])149 2808 y(Returns)16
b(the)h(stream)f(encapsulated)g(b)n(y)i(the)g Fm(encapsulating)e(stream)f
Fs(enc)m(apsulating-str)m(e)m(am)p Fr(.)149 3029 y Fp(D.1.2)75
b(The)24 b(\\Delegation)j(Problem")149 3198 y Fr(The)20 b(suggested)d
(implemen)n(tation)h(of)i(encapsulating)e(streams)g(has)i(a)g(p)r(oten)n
(tial)f(problem)f(that)h(w)n(e)i(lab)r(el)149 3264 y(the)c(\\delegation")f
(or)i(\\m)n(ultiple)f(self)t(")h(problem.)23 b(Here)17 b(is)i(an)e(example)g
(of)h(the)g(problem.)149 3397 y(Supp)r(ose)10 b(w)n(e)i(implemen)n(t)e
Ft(accepting-values)j Fr(b)n(y)g(using)f(an)f(encapsulating)f(stream)g(class)
h(called)h Ft(accepting-)149 3463 y(values-stream)20 b Fr(that)e(will)j(b)r
(e)e(used)f(to)h(close)g(o)n(v)n(er)h(an)f(ordinary)f(extended)g(input)h(and)
g(output)e(stream.)p eop
%%Page: 356 371
bop 149 16 a Fm(APPENDIX)16 b(D.)37 b(ENCAPSULA)-5 b(TING)16
b(STREAMS)1034 b Fr(356)149 210 y(Let)19 b(us)g(examine)g(t)n(w)n(o)h
(generic)f(functions,)g Ft(stream-accept)i Fr(and)e Ft(prompt-for-accept)p
Fr(.)31 b(The)20 b Ft(stream-)149 276 y(accept)14 b Fr(metho)r(d)d(on)j(an)f
(ordinary)g(stream)e(calls)j Ft(prompt-for-accept)p Fr(.)25
b(No)n(w)13 b(supp)r(ose)f(that)h Ft(accepting-)149 342 y(values-stream)18
b Fr(sp)r(ecializes)e Ft(prompt-for-accept)p Fr(.)25 b(If)18
b(w)n(e)g(no)n(w)f(create)e(a)j(stream)d(of)i(t)n(yp)r(e)g
Ft(accepting-)149 409 y(values-stream)g Fr(\(whic)n(h)f(w)n(e)h(will)g
(designate)e Fn(A)p Fr(\))g(whic)n(h)i(encapsulates)c(an)j(ordinary)f(stream)
f Fn(S)s Fr(,)k(and)e(then)149 475 y(call)e Ft(stream-accept)i
Fr(on)e(the)g(stream)e Fn(E)s Fr(,)k(it)f(will)h(tramp)r(oline)11
b(to)j Ft(stream-accept)i Fr(on)e(the)g(stream)e Fn(S)s Fr(.)24
b(The)149 542 y(desired)14 b(b)r(eha)n(vior)h(is)h(for)f Ft(stream-accept)i
Fr(to)e(call)h(the)f Ft(prompt-for-accept)h Fr(metho)r(d)d(on)j(the)e(stream)
g Fn(E)s Fr(,)149 608 y(but)j(instead)g(what)g(happ)r(ens)g(is)h(that)f(the)g
Ft(prompt-for-accept)j Fr(metho)r(d)15 b(on)j(the)f(stream)f
Fn(S)22 b Fr(is)d(called.)149 741 y(In)24 b(order)e(to)h(side-step)g(this)h
(problem)e(without)h(attempting)d(to)k(solv)n(e)g(a)g(di\016cult)f(general)g
(problem)f(in)149 807 y(ob)s(ject-orien)n(ted)9 b(programming,)h(CLIM)i
(implemen)n(tations)c(ma)n(y)k(in)n(tro)r(duce)e(a)i(sp)r(ecial)f(v)m
(ariable,)i Ft(*original-)149 874 y(stream*)p Fr(,)20 b(whic)n(h)g(is)g(b)r
(ound)d(b)n(y)k(tramp)r(oline)16 b(functions)i(to)h(the)f(original)h
(encapsulating)e(stream.)26 b(There-)149 940 y(fore,)16 b(the)g
Ft(stream-accept)i Fr(on)f(the)f(ordinary)g(stream)e Fn(S)21
b Fr(will)d(call)f Ft(prompt-for-accept)h Fr(on)f(the)f(v)m(alue)h(of)149
1007 y Ft(\(or)29 b(*original-stream*)h Fs(str)m(e)m(am)p Ft(\))p
Fr(.)c(This)15 b(idiom)g(only)h(needs)e(to)h(b)r(e)g(used)f(in)i(places)f
(where)f(one)h(stream)149 1073 y(proto)r(col)j(function)h(calls)h(a)h(second)
e(stream)f(proto)r(col)g(function)h(that)g(some)g(encapsulating)f(stream)g
(sp)r(e-)149 1139 y(cializes.)149 1272 y(This)25 b(\\solution")e(do)r(es)g
(not)h(solv)n(e)h(the)f(more)f(general)g(problem)g(of)h(m)n(ultiple)h(lev)n
(els)g(of)g(encapsulation,)149 1339 y(but)18 b(the)g(complete)e(stream)h
(proto)r(col)g(pro)n(vided)h(b)n(y)i(CLIM)e(should)h(allo)n(w)h(implemen)n
(tors)c(to)i(a)n(v)n(oid)i(using)149 1405 y(nested)c(encapsulating)g
(streams.)49 1538 y Fj(\))45 b Ft(*original-stream*)1564 b
Fr([)p Fs(V)l(ariable)t Fr(])149 1657 y(This)14 b(v)m(ariable)g(is)h(b)r
(ound)e(b)n(y)i(the)f(tramp)r(oline)e(metho)r(ds)f(on)j(encapsulating)e
(streams)g(to)i(the)g(encapsulating)149 1723 y(stream,)i(b)r(efore)g(the)h
(op)r(eration)f(is)j(delegated)d(to)h(the)h(underlying,)f(encapsulated)f
(stream.)p eop
%%Page: 357 372
bop 149 691 a Fl(App)t(endix)44 b(E)149 1034 y Fq(Changes)53
b(from)g(CLIM)g(1.0)149 1396 y Fr(This)16 b(app)r(endix)f(lists)h(the)g
(incompatible)e(c)n(hanges)g(from)h(CLIM)h(1.0)g(\(and)f(CLIM)h(0.9)g(for)g
(the)f(API)h(related)149 1462 y(to)h(the)h(windo)n(wing)g(substrate\),)d(and)
j(the)f(rationale)g(for)h(those)e(c)n(hanges.)24 b(They)18
b(are)f(listed)h(on)g(a)g(c)n(hapter-)149 1529 y(b)n(y-c)n(hapter)f(basis.)
149 1662 y(When)k(the)h(items)f(sa)n(y)i(that)f(a)g(compatibilit)n(y)g(stub)f
(will)j(b)r(e)e(pro)n(vided,)h(this)g(do)r(es)e(not)h(mean)e(that)i(this)149
1728 y(compatibilit)n(y)f(needs)h(to)g(b)r(e)g(part)g(of)g(CLIM)g(itself.)38
b(It)23 b(could)f(b)r(e)g(pro)n(vided)g(b)n(y)h(a)g(small)f(compatibilit)n(y)
149 1794 y(pac)n(k)m(age)16 b(that)g(de\014nes)g(stubs)g(that)g(translate)g
(from)g(the)g(old)h(b)r(eha)n(vior)g(to)g(the)f(new)h(b)r(eha)n(vior)f(at)h
(compile-)149 1861 y(time)24 b(or)h(run-time,)g(or)g(b)n(y)h(some)e(sort)g
(of)h(con)n(v)n(ersion)f(utilit)n(y)-5 b(,)29 b(or)c(b)r(oth.)44
b(In)25 b(the)g(\014rst)f(case,)i(compiler)149 1927 y(w)n(arnings)17
b(should)h(b)r(e)f(generated)f(to)h(indicate)g(that)g(an)h(obsolete)f(form)f
(is)j(b)r(eing)e(used.)149 2060 y Fo(Minor)25 b(issue:)62 b
Fm(There)19 b(are)g(still)i(lots)e(of)h(things)g(from)e(the)i(windo)n(wing)g
(part,)f(and)h(the)f(frames,)g(panes,)149 2126 y(and)e(gadgets)f(c)n(hapters)
h(that)g(need)g(to)h(b)r(e)f(included)g(here.)24 b(|)19 b(SWM)149
2337 y Fo(Regions)232 2514 y Fj(\017)27 b Ft(point-position*)16
b Fr(has)f(b)r(een)f(renamed)f(to)h Ft(point-position)p Fr(,)k(since)c(the)h
(term)e(\\p)r(osition")g(unam-)287 2580 y(biguously)18 b(refers)f(to)g(an)h
(\()p Fn(x;)9 b(y)r Fr(\))18 b(co)r(ordinate)d(pair.)25 b(A)18
b(compatibilit)n(y)f(function)g(will)i(b)r(e)f(pro)n(vided.)232
2691 y Fj(\017)27 b Ft(region-contains-point*-p)d Fr(has)e(b)r(een)f(renamed)
f(to)i Ft(region-contains-position-p)p Fr(,)k(since)287 2757
y(the)d(term)e(\\p)r(osition")g(unam)n(biguously)h(refers)g(to)h(an)g(\()p
Fn(x;)9 b(y)r Fr(\))23 b(co)r(ordinate)d(pair.)40 b(A)23 b(compatibilit)n(y)
287 2824 y(function)17 b(will)i(b)r(e)f(pro)n(vided.)232 2935
y Fj(\017)27 b Fr(The)19 b(use)f(of)i Ft(region-set-function)g
Fr(has)f(b)r(een)f(deprecated)d(in)20 b(fa)n(v)n(or)g(of)f(using)g(the)f
(three)f(classes)287 3001 y Ft(standard-region-union)p Fr(,)e
Ft(standard-region-intersection)p Fr(,)h(and)11 b Ft
(standard-region-difference)p Fr(,)287 3067 y(in)18 b(k)n(eeping)f(with)g
(the)g(spirit)g(of)h(CLOS.)f Ft(region-set-function)i Fr(will)g(b)r(e)d(pro)n
(vided)h(as)h(a)f(compati-)287 3134 y(bilit)n(y)j(function.)149
3344 y Fo(Bounding)j(Rectangles)1262 3632 y Fr(357)p eop
%%Page: 358 373
bop 149 16 a Fm(APPENDIX)16 b(E.)37 b(CHANGES)17 b(FR)n(OM)h(CLIM)g(1.0)1101
b Fr(358)232 210 y Fj(\017)27 b Ft(with-bounding-rectangle*)17
b Fr(used)e(to)g(ha)n(v)n(e)h(optional)f Fs(max-x)g Fr(and)g
Fs(max-y)h Fr(argumen)n(ts.)21 b(They)15 b(are)287 276 y(no)n(w)j(required.)
232 387 y Fj(\017)27 b Fr(The)17 b(function)f Ft
(bounding-rectangle-set-edges)k Fr(has)d(b)r(een)e(remo)n(v)n(ed,)i(since)g
(b)r(ounding)f(rectan-)287 453 y(gles)i(ha)n(v)n(e)h(b)r(een)d(made)h(imm)n
(utable.)23 b(There)17 b(is)h(no)g(replacemen)n(t)d(for)j(it.)232
564 y Fj(\017)27 b Ft(bounding-rectangle-position*)d Fr(has)d(b)r(een)f
(renamed)f(to)i Ft(bounding-rectangle-position)p Fr(,)287 630
y(since)12 b(the)f(term)f(\\p)r(osition")g(unam)n(biguously)h(refers)g(to)g
(an)h(\()p Fn(x;)d(y)r Fr(\))j(co)r(ordinate)d(pair.)23 b(A)11
b(compatibilit)n(y)287 697 y(function)17 b(will)i(b)r(e)f(pro)n(vided.)232
807 y Fj(\017)27 b Fr(The)12 b(functions)e Ft(bounding-rectangle-left)p
Fr(,)15 b Ft(bounding-rectangle-top)p Fr(,)h Ft(bounding-rectangle-)287
874 y(right)p Fr(,)25 b(and)d Ft(bounding-rectangle-bottom)j
Fr(ha)n(v)n(e)e(b)r(een)e(replaced)h(b)n(y)h Ft(bounding-rectangle-)287
940 y(min-x)p Fr(,)14 b Ft(bounding-rectangle-min-y)p Fr(,)i
Ft(bounding-rectangle-max-x)p Fr(,)f(and)c Ft(bounding-rectangle-)287
1007 y(max-y)p Fr(.)24 b(This)12 b(is)i(b)r(ecause)c(left,)k(top,)f(righ)n
(t,)h(and)f(b)r(ottom)c(are)j(ill-sp)r(eci\014ed.)23 b(Compatibilit)n(y)12
b(functions)287 1073 y(will)20 b(b)r(e)d(pro)n(vided.)149 1283
y Fo(A\016ne)22 b(T)-5 b(ransformations)232 1460 y Fj(\017)27
b Fr(The)h(function)e Ft(make-3-point-transformation)k Fr(has)d(had)h(its)g
(argumen)n(t)d(list)j(c)n(hanged)f(from)287 1527 y Fs(\(p)m(oint-1)i(p)m
(oint-1-image)i(p)m(oint-2)e(p)m(oint-2-image)i(p)m(oint-3)e(p)m
(oint-3-image\))h Fr(to)d Fs(\(p)m(oint-1)i(p)m(oint-2)287
1593 y(p)m(oint-3)c(p)m(oint-1-image)h(p)m(oint-2-image)h(p)m(oint-3-image\))
p Fr(.)39 b(This)23 b(w)n(as)g(done)e(b)r(ecause)f(the)i(original)287
1660 y(argumen)n(t)16 b(list)i(did)h(not)e(group)g(together)e(inputs)j(and)g
(output,)e(whic)n(h)j(w)n(as)f(confusing.)232 1770 y Fj(\017)27
b Fr(The)14 b(function)f Ft(make-3-point-transformation*)k
Fr(has)d(had)g(its)g(argumen)n(t)e(list)j(c)n(hanged)e(from)h
Fs(\(x1)287 1837 y(y1)20 b(x1-image)g(y1-image)h(x2)f(y2)g(x2-image)g
(y2-image)h(x3)f(y3)f(x3-image)i(y3-image\))e Fr(to)f Fs(\(x1)h(y1)h(x2)f(y2)
287 1903 y(x3)i(y3)g(x1-image)h(y1-image)g(x2-image)g(y2-image)h(x3-image)f
(y3-image\))p Fr(.)29 b(This)20 b(w)n(as)f(done)g(b)r(ecause)287
1970 y(the)d(original)h(argumen)n(t)e(list)i(did)h(not)e(group)g(together)e
(inputs)i(and)h(output,)f(whic)n(h)h(w)n(as)h(confusing.)232
2080 y Fj(\017)27 b Ft(compose-scaling-transformation)p Fr(,)16
b Ft(compose-translation-transformation)p Fr(,)g(and)11 b Ft(compose-)287
2147 y(rotation-transformation)j Fr(ha)n(v)n(e)e(b)r(een)f(replaced)f(b)n(y)j
(the)e(six)i(functions)d Ft(compose-translation-)287 2213 y
(with-transformation)p Fr(,)15 b Ft(compose-scaling-with-transformation)p
Fr(,)h Ft(compose-rotation-with-)287 2280 y(transformation)p
Fr(,)f Ft(compose-transformation-with-translation)p Fr(,)h
Ft(compose-transformation-)287 2346 y(with-scaling)p Fr(,)26
b(and)d Ft(compose-transformation-with-rotation)p Fr(.)43 b(This)24
b(w)n(as)f(done)g(b)r(ecause)287 2412 y(the)15 b(six)i(functions)e(implemen)n
(t)f(all)j(of)f(the)g(optimized)e(useful)i(cases)f(of)h(comp)r(osition)d(of)j
(transforma-)287 2479 y(tions,)h(and)g(new)f(names)g(are)g(required)g(for)h
(all)h(six.)25 b(Compatibilit)n(y)16 b(functions)g(will)i(b)r(e)e(pro)n
(vided)h(for)287 2545 y(the)g(three)g(CLIM)h(1.0)g(functions.)232
2656 y Fj(\017)27 b Ft(transform-point*)14 b Fr(and)f Ft(untransform-point*)i
Fr(ha)n(v)n(e)e(b)r(een)f(renamed)f(to)h Ft(transform-position)287
2722 y Fr(and)18 b Ft(untransform-position)p Fr(.)26 b(Compatibilit)n(y)17
b(functions)g(will)j(b)r(e)d(pro)n(vided.)149 2933 y Fo(Prop)r(erties)22
b(of)f(Sheets)149 3143 y(Sheet)h(Proto)r(cols)149 3353 y(P)n(orts,)e(Grafts,)
i(and)g(Mirrored)h(Sheets)p eop
%%Page: 359 374
bop 149 16 a Fm(APPENDIX)16 b(E.)37 b(CHANGES)17 b(FR)n(OM)h(CLIM)g(1.0)1101
b Fr(359)149 210 y Fo(T)-5 b(ext)20 b(St)n(yles)232 377 y Fj(\017)27
b Fr(The)g(macros)e Ft(with-text-style)p Fr(,)31 b Ft(with-text-family)p
Fr(,)h Ft(with-text-face)p Fr(,)f(and)c Ft(with-text-)287 443
y(size)20 b Fr(ha)n(v)n(e)f(b)r(een)f(c)n(hanged)g(to)g(tak)n(e)h(the)f
Fs(me)m(dium)j Fr(argumen)n(t)c(\014rst)h(and)g(the)h(text)f(st)n(yle)h(\(or)
g(family)-5 b(,)287 510 y(face,)23 b(or)g(size\))f(argumen)n(t)e(second.)37
b(This)23 b(w)n(as)g(done)f(in)h(order)e(to)i(b)r(e)f(consisten)n(t)f(with)h
(all)i(of)e(the)287 576 y(other)15 b(macros)g(that)h(tak)n(e)g(a)h
Fs(me)m(dium)i Fr(argumen)n(t)14 b(as)j(the)f(\014rst)g(argumen)n(t.)21
b(Compatibilit)n(y)c(co)r(de)e(will)287 642 y(b)r(e)k(pro)n(vided)g(that)f
(attempts)e(to)j(detect)f(the)g(old)i(syn)n(tax)f(and)g(massages)e(it)j(in)n
(to)f(the)g(new)g(syn)n(tax,)287 709 y(although)e(it)h(will)i(probably)d(not)
g(b)r(e)h(able)f(to)h(detect)e(all)j(cases.)232 815 y Fj(\017)27
b Ft(add-text-style-mapping)20 b Fr(has)d(b)r(een)g(replaced)f(b)n(y)j
Ft(\(setf)29 b(text-style-mapping\))20 b Fr(to)d(b)r(e)h(con-)287
881 y(sisten)n(t)f(with)h(Common)e(Lisp)i(con)n(v)n(en)n(tions.)24
b(A)18 b(compatibilit)n(y)g(function)e(will)k(b)r(e)d(pro)n(vided.)149
1089 y Fo(Dra)n(wing)22 b(in)g(Color)232 1256 y Fj(\017)27
b Ft(+foreground+)13 b Fr(and)f Ft(+background+)h Fr(ha)n(v)n(e)f(b)r(een)f
(renamed)e(to)i Ft(+foreground-ink+)j Fr(and)d Ft(+background-)287
1323 y(ink+)p Fr(,)19 b(for)f(consistency)e(with)i Ft(+flipping-ink+)p
Fr(.)26 b(Compatibilit)n(y)17 b(constan)n(ts)g(will)i(b)r(e)e(pro)n(vided.)
232 1428 y Fj(\017)27 b Ft(make-color-rgb)18 b Fr(and)d Ft(make-color-ihs)j
Fr(ha)n(v)n(e)f(b)r(een)e(renamed)f(to)i Ft(make-rgb-color)h
Fr(and)f Ft(make-)287 1495 y(ihs-color)p Fr(,)j(b)n(y)g(p)r(opular)e(demand.)
23 b(Compatibilit)n(y)17 b(functions)g(will)i(b)r(e)f(pro)n(vided.)149
1703 y Fo(Extended)k(Stream)f(Output)232 1870 y Fj(\017)27
b Ft(stream-cursor-position*)14 b Fr(and)d Ft
(stream-increment-cursor-position*)j Fr(ha)n(v)n(e)f(b)r(een)d(renamed)287
1937 y(to)23 b Ft(stream-cursor-position)i Fr(and)f Ft
(stream-increment-cursor-position)p Fr(.)43 b(Compatibilit)n(y)287
2003 y(functions)17 b(will)i(b)r(e)f(pro)n(vided.)232 2109
y Fj(\017)27 b Fr(The)12 b(function)e Ft(stream-set-cursor-position*)k
Fr(has)e(b)r(een)e(replaced)h(b)n(y)h Ft(\(setf*)30 b(stream-cursor-)287
2175 y(position\))18 b Fr(to)e(b)r(e)g(consisten)n(t)f(with)i(Common)d(Lisp)j
(con)n(v)n(en)n(tions.)23 b(A)17 b(compatibilit)n(y)f(function)f(will)287
2242 y(b)r(e)i(pro)n(vided.)232 2347 y Fj(\017)27 b Fr(The)12
b(function)f Ft(stream-vsp)h Fr(has)g(b)r(een)f(replace)f(b)n(y)j
Ft(stream-vertical-spacing)p Fr(.)25 b(A)11 b(compatibilit)n(y)287
2414 y(function)17 b(will)i(b)r(e)f(pro)n(vided.)232 2520 y
Fj(\017)27 b Fr(The)12 b(macros)e Ft(with-end-of-line-action)j
Fr(and)f Ft(with-end-of-page-action)h Fr(ha)n(v)n(e)g(b)r(een)d(c)n(hanged)
287 2586 y(to)16 b(tak)n(e)g(the)g Fs(str)m(e)m(am)j Fr(argumen)n(t)14
b(\014rst)i(and)g(the)f(action)h(argumen)n(t)e(second.)23 b(This)16
b(w)n(as)h(done)f(in)h(order)287 2652 y(to)24 b(b)r(e)h(consisten)n(t)e(with)
h(all)i(of)f(the)f(other)f(macros)g(that)h(tak)n(e)g(a)h Fs(str)m(e)m(am)i
Fr(argumen)n(t)c(as)h(the)g(\014rst)287 2719 y(argumen)n(t.)e(Compatibilit)n
(y)15 b(co)r(de)f(will)j(b)r(e)e(pro)n(vided)h(that)e(attempts)f(to)i(detect)
f(the)h(old)h(syn)n(tax)g(and)287 2785 y(massages)g(it)i(in)n(to)g(the)g(new)
f(syn)n(tax,)i(although)e(it)h(will)h(probably)f(not)f(b)r(e)g(able)h(to)g
(detect)e(all)j(cases.)149 2993 y Fo(Output)i(Recording)232
3161 y Fj(\017)27 b Fr(The)g(three)f(proto)r(col)f(classes)h
Ft(output-record)p Fr(,)31 b Ft(output-record-element)p Fr(,)h(and)27
b Ft(displayed-)287 3227 y(output-record-element)14 b Fr(ha)n(v)n(e)e(b)r
(een)f(replaced)f(b)n(y)j(the)e(t)n(w)n(o)h(classes)f Ft(output-record)i
Fr(and)f Ft(displayed-)287 3293 y(output-record)p Fr(.)26 b(The)18
b(predicates)d(for)j(the)f(classes)h(ha)n(v)n(e)g(b)r(een)f(similarly)h(c)n
(hanged.)232 3399 y Fj(\017)27 b Ft(output-record-position*)21
b Fr(has)e(b)r(een)f(renamed)f(to)i Ft(output-record-position)p
Fr(.)30 b(A)19 b(compati-)287 3466 y(bilit)n(y)h(function)c(will)k(b)r(e)d
(pro)n(vided.)p eop
%%Page: 360 375
bop 149 16 a Fm(APPENDIX)16 b(E.)37 b(CHANGES)17 b(FR)n(OM)h(CLIM)g(1.0)1101
b Fr(360)232 210 y Fj(\017)27 b Fr(The)12 b(function)e Ft
(output-record-set-position*)k Fr(has)e(b)r(een)e(replaced)h(b)n(y)h
Ft(\(setf*)30 b(output-record-)287 276 y(position\))18 b Fr(to)e(b)r(e)g
(consisten)n(t)f(with)i(Common)d(Lisp)j(con)n(v)n(en)n(tions.)23
b(A)17 b(compatibilit)n(y)f(function)f(will)287 342 y(b)r(e)i(pro)n(vided.)
232 453 y Fj(\017)27 b Fr(The)12 b(functions)e Ft
(output-record-start-position*)p Fr(,)16 b Ft
(output-record-set-start-position*)p Fr(,)287 520 y Ft
(output-record-end-position*)p Fr(,)g Ft(output-record-set-end-position*)e
Fr(ha)n(v)n(e)e(b)r(een)f(replaced)287 586 y(b)n(y)i Ft
(output-record-start-cursor-position)p Fr(,)j Ft(\(setf*)29
b(output-record-start-cursor-position\))p Fr(,)287 652 y Ft
(output-record-end-cursor-position)p Fr(,)16 b Ft(\(setf*)29
b(output-record-end-cursor-position\))287 719 y Fr(to)18 b(b)r(etter)d
(re\015ect)i(their)g(functionalit)n(y)-5 b(.)24 b(Compatibilit)n(y)18
b(functions)e(will)k(b)r(e)d(pro)n(vided.)232 829 y Fj(\017)27
b Ft(replay-1)19 b Fr(has)f(b)r(een)e(renamed)g(to)i Ft(replay-output-record)
p Fr(.)232 940 y Fj(\017)27 b Ft(output-record-elements)14
b Fr(and)d Ft(output-record-element-count)j Fr(ha)n(v)n(e)e(b)r(een)f
(renamed)e(to)j Ft(output-)287 1007 y(record-children)19 b
Fr(and)e Ft(output-record-count)p Fr(,)i(since)e(the)g(term)e(\\elemen)n(t")h
(is)i(no)f(longer)f(used)287 1073 y(when)i(referring)e(to)i(output)e
(records.)23 b(Compatibilit)n(y)17 b(functions)g(will)j(b)r(e)d(pro)n(vided.)
232 1184 y Fj(\017)27 b Ft(add-output-record-element)d Fr(and)e
Ft(delete-output-record-element)j Fr(ha)n(v)n(e)e(b)r(een)e(renamed)287
1250 y(to)j Ft(add-output-record)j Fr(and)d Ft(delete-output-record)p
Fr(,)k(and)d(the)f(argumen)n(t)e(order)i(has)g(b)r(een)287
1317 y(c)n(hanged.)f(Compatibilit)n(y)18 b(functions)f(will)i(b)r(e)e(pro)n
(vided.)232 1427 y Fj(\017)27 b Ft
(map-over-output-record-elements-containing-point*)15 b Fr(and)d
Ft(map-over-output-record-)287 1494 y(elements-overlapping-region)i
Fr(ha)n(v)n(e)e(b)r(een)f(renamed)e(to)j Ft
(map-over-output-records-containing-)287 1560 y(position)h
Fr(and)e Ft(map-over-output-records-overlapping-region)p Fr(.)26
b(Compatibilit)n(y)11 b(functions)287 1626 y(will)20 b(b)r(e)d(pro)n(vided.)
232 1737 y Fj(\017)27 b Ft(linear-output-record)14 b Fr(and)d
Ft(coordinate-sorted-set-output-record)j Fr(ha)n(v)n(e)f(b)r(een)d(renamed)
287 1804 y(to)18 b Ft(standard-sequence-output-record)i Fr(and)e
Ft(standard-tree-output-record)p Fr(.)232 1914 y Fj(\017)27
b Ft(stream-draw-p)f Fr(and)e Ft(stream-record-p)i Fr(and)f(their)f
Ft(setf)h Fr(functions)f(ha)n(v)n(e)h(b)r(een)f(renamed)e(to)287
1981 y Ft(stream-drawing-p)h Fr(and)e Ft(stream-recording-p)i
Fr(to)e(b)r(etter)e(re\015ect)h(their)g(functionalit)n(y)-5
b(.)35 b(Com-)287 2047 y(patibilit)n(y)19 b(functions)e(will)i(b)r(e)e(pro)n
(vided.)232 2158 y Fj(\017)27 b Ft(output-recording-stream-output-record)p
Fr(,)16 b Ft(output-recording-stream-current-output-)287 2224
y(record-stack)p Fr(,)g(and)d Ft(output-recording-stream-text-output-record)j
Fr(ha)n(v)n(e)e(b)r(een)e(renamed)287 2291 y(to)g Ft(stream-output-history)p
Fr(,)j Ft(stream-current-output-record)p Fr(,)g(and)d Ft(stream-text-output-)
287 2357 y(record)p Fr(.)25 b(Compatibilit)n(y)18 b(functions)f(will)i(b)r(e)
e(pro)n(vided.)232 2468 y Fj(\017)27 b Ft(add-output-record)d
Fr(has)f(b)r(een)e(renamed)g(to)h Ft(stream-add-output-record)p
Fr(.)41 b(Because)21 b(of)i(the)287 2534 y(c)n(hange)14 b(to)g
Ft(add-output-record-element)i Fr(ab)r(o)n(v)n(e,)g(no)e(compatibilit)n(y)g
(function)g(can)g(b)r(e)g(pro)n(vided.)232 2645 y Fj(\017)27
b Ft(close-current-text-output-record)15 b Fr(has)e(b)r(een)f(renamed)e(to)j
Ft(stream-close-text-output-)287 2711 y(record)p Fr(.)25 b(A)18
b(compatibilit)n(y)g(function)e(will)k(b)r(e)d(pro)n(vided.)232
2822 y Fj(\017)27 b Ft(add-string-output-to-output-record)14
b Fr(and)e Ft(add-character-output-to-output-record)287 2888
y Fr(ha)n(v)n(e)18 b(b)r(een)e(renamed)g(to)h Ft(stream-add-string-output)i
Fr(and)e Ft(stream-add-character-output)p Fr(.)287 2955 y(Compatibilit)n(y)h
(functions)e(will)k(b)r(e)d(pro)n(vided.)232 3066 y Fj(\017)27
b Ft(with-output-recording-options)h Fr(has)d(had)g(its)g Fs(dr)m(aw-p)i
Fr(and)e Fs(r)m(e)m(c)m(or)m(d-p)k Fr(k)n(eyw)n(ord)d(argumen)n(ts)287
3132 y(c)n(hanged)14 b(to)g Fs(dr)m(aw)j Fr(and)e Fs(r)m(e)m(c)m(or)m(d)j
Fr(to)d(conform)d(to)j(Common)e(Lisp)i(naming)f(con)n(v)n(en)n(tions.)23
b(Compabilit)n(y)287 3198 y(co)r(de)17 b(will)i(b)r(e)f(pro)n(vided.)p
eop
%%Page: 361 376
bop 149 16 a Fm(APPENDIX)16 b(E.)37 b(CHANGES)17 b(FR)n(OM)h(CLIM)g(1.0)1101
b Fr(361)149 210 y Fo(T)-5 b(able)22 b(F)-5 b(ormatting)232
375 y Fj(\017)27 b Fr(The)i Ft(:inter-column-spacing)p Fr(,)35
b Ft(:inter-row-spacing)p Fr(,)f(and)29 b Ft(:multiple-columns-inter-)287
442 y(column-spacing)24 b Fr(options)d(to)h Ft(formatting-table)h
Fr(ha)n(v)n(e)g(b)r(een)e(renamed)f(to)h Ft(:x-spacing)p Fr(,)k
Ft(:y-)287 508 y(spacing)p Fr(,)k(and)c Ft(:multiple-columns-x-spacing)j
Fr(in)e(order)e(to)i(b)r(e)f(consisten)n(t)f(with)h(the)g(pane)287
575 y(options.)f(Compatibilit)n(y)17 b(options)g(will)j(b)r(e)d(pro)n(vided.)
232 680 y Fj(\017)27 b Fr(The)21 b Ft(:minimum-width)i Fr(and)e
Ft(:minimum-height)i Fr(options)d(to)h Ft(formatting-cell)i
Fr(ha)n(v)n(e)f(b)r(een)e(re-)287 746 y(named)h(to)h Ft(:min-width)i
Fr(and)e(:min-heigh)n(t)h(in)g(order)e(to)i(b)r(e)f(consisten)n(t)f(with)h
(the)g(pane)g(options.)287 812 y(Compatibilit)n(y)c(options)f(will)i(b)r(e)f
(pro)n(vided.)232 918 y Fj(\017)27 b Fr(The)g Ft(:inter-column-spacing)h
Fr(and)f Ft(:inter-row-spacing)h Fr(options)e(to)g Ft(formatting-item-)287
984 y(list)21 b Fr(and)f Ft(format-items)h Fr(ha)n(v)n(e)g(b)r(een)e(renamed)
f(to)i Ft(:x-spacing)h Fr(and)f Ft(:y-spacing)h Fr(in)g(order)e(to)287
1050 y(b)r(e)e(consisten)n(t)g(with)h(the)f(pane)g(options.)24
b(Compatibilit)n(y)18 b(options)f(will)i(b)r(e)e(pro)n(vided.)232
1155 y Fj(\017)27 b Fr(The)16 b Ft(:no-initial-spacing)i Fr(option)d(to)h
(formatting-item-list)d(and)j Ft(format-items)i Fr(has)e(b)r(een)e(re-)287
1222 y(named)19 b(to)h Ft(:initial-spacing)p Fr(,)i(b)r(ecause)c(in)n(v)n
(erted-sense)h(\015ags)h(are)g(to)r(o)f(hard)g(to)h(k)n(eep)g(straigh)n(t.)
287 1288 y(The)29 b(default)g(for)g Ft(:no-initial-spacing)i
Fr(w)n(as)f Fm(true)p Fr(,)h(therefore)c(the)i(default)g(for)g
Ft(:initial-)287 1355 y(spacing)19 b Fr(is)g Fm(false)p Fr(.)24
b(Compatibilit)n(y)18 b(options)f(will)i(b)r(e)e(pro)n(vided.)149
1562 y Fo(Graph)22 b(F)-5 b(ormatting)232 1728 y Fj(\017)27
b Fr(The)15 b(function)e Ft(format-graph-from-root)k Fr(has)d(b)r(een)g
(renamed)e(to)j Ft(format-graph-from-roots)p Fr(,)287 1795
y(since)f(it)h(no)n(w)g(tak)n(es)f(a)g(sequence)f(of)i(ro)r(ot)e(ob)s(jects,)
g(rather)g(than)h(a)g(single)h(ro)r(ot)e(ob)s(ject.)22 b(The)14
b(function)287 1861 y Ft(format-graph-from-root)19 b Fr(will)g(remain)d(as)h
(a)h(compatibilit)n(y)f(function)f(that)g(tak)n(es)h(a)h(single)f(ro)r(ot)287
1928 y(ob)s(ject.)149 2135 y Fo(Incremen)n(tal)23 b(Redispla)n(y)232
2301 y Fj(\017)k Ft(redisplay-1)19 b Fr(has)f(b)r(een)f(renamed)e(to)j
Ft(redisplay-output-record)p Fr(.)149 2509 y Fo(Extended)k(Stream)f(Input)232
2675 y Fj(\017)27 b Ft(stream-pointer-position*)e Fr(has)e(b)r(een)f(renamed)
f(to)j Ft(stream-pointer-position)p Fr(.)42 b(A)23 b(com-)287
2741 y(patibilit)n(y)c(function)e(will)i(b)r(e)f(pro)n(vided.)232
2846 y Fj(\017)27 b Fr(The)i(function)f Ft(stream-set-pointer-position*)j
Fr(has)d(b)r(een)g(replaced)g(b)n(y)h Ft(\(setf*)h(stream-)287
2913 y(pointer-position\))c Fr(to)f(b)r(e)f(consisten)n(t)f(with)i(Common)d
(Lisp)j(con)n(v)n(en)n(tions.)45 b(A)24 b(compatibilit)n(y)287
2979 y(function)17 b(will)i(b)r(e)f(pro)n(vided.)232 3084 y
Fj(\017)27 b Fr(All)18 b(of)f(the)g(clause)f(arglists)h(for)g
Ft(tracking-pointer)h Fr(are)f(sp)r(eci\014ed)e(with)j Ft(&key)29
b Fr(,)18 b(that)e(is,)j(they)d(are)287 3150 y(named)e(argumen)n(ts)e(rather)
i(than)g(p)r(ositional)g(ones.)23 b(This)16 b(should)e(not)h(cause)f(an)n(y)i
(problems,)e(except)287 3217 y(for)20 b(the)f(one)g(case)g(that)g(the)g
Fs(char)m(acter)24 b Fr(argumen)n(t)17 b(to)j(the)f Ft(:keyboard)i
Fr(clause)e(has)g(b)r(een)g(renamed)287 3283 y(to)f Fs(gestur)m(e)p
Fr(.)232 3388 y Fj(\017)27 b Fr(The)17 b(function)g Ft
(dragging-output-record)i Fr(has)e(b)r(een)f(renamed)f(to)i
Ft(drag-output-record)i Fr(to)e(b)r(e)287 3455 y(consisten)n(t)f(with)j(our)e
(naming)g(con)n(v)n(en)n(tions.)24 b(A)18 b(compatibilit)n(y)f(function)g
(will)i(b)r(e)f(pro)n(vided.)p eop
%%Page: 362 377
bop 149 16 a Fm(APPENDIX)16 b(E.)37 b(CHANGES)17 b(FR)n(OM)h(CLIM)g(1.0)1101
b Fr(362)149 210 y Fo(Presen)n(tation)22 b(T)n(yp)r(es)232
387 y Fj(\017)27 b Fr(The)18 b(argumen)n(t)e(list)i(for)g Ft
(with-output-as-presentation)i Fr(has)e(b)r(een)f(c)n(hanged)g(to)g(mak)n(e)h
Fs(str)m(e)m(am)p Fr(,)287 453 y Fs(obje)m(ct)p Fr(,)h(and)d
Fs(typ)m(e)i Fr(b)r(e)d(required)g(argumen)n(ts)e(instead)i(of)h(k)n(eyw)n
(ord)h(argumen)n(ts.)k(This)16 b(is)h(b)r(ecause)d(it)i(is)287
520 y(alw)n(a)n(ys)k(necessary)e(to)h(supply)g(those)f(argumen)n(ts)f(in)j
(order)e(for)h Ft(with-output-as-presentation)287 586 y Fr(to)f(w)n(ork.)25
b(Compabilit)n(y)17 b(co)r(de)g(will)j(b)r(e)d(pro)n(vided)h(to)f(supp)r(ort)
f(the)h(old)i(syn)n(tax.)232 697 y Fj(\017)27 b Fr(The)12 b
Fs(activation-char)m(act)q(er)q(s)p Fr(,)17 b Fs(additional-activation)q
(-char)n(ac)q(te)q(rs)p Fr(,)g Fs(blip-char)m(acter)q(s)p Fr(,)g(and)12
b Fs(additional-)287 763 y(blip-char)m(acters)k Fr(k)n(eyw)n(ord)c(argumen)n
(ts)e(to)h(the)g Ft(accept)i Fr(functions)e(ha)n(v)n(e)h(b)r(een)f(renamed)e
(to)j Fs(activation-)287 829 y(gestur)m(es)p Fr(,)j Fs(additional-activatio)q
(n-gestur)n(es)p Fr(,)j Fs(delimiter-gestur)m(es)p Fr(,)f(and)11
b Fs(additional-delimiter-g)q(estur)m(e)q(s)p Fr(.)287 896
y(Compabilit)n(y)18 b(co)r(de)e(will)k(b)r(e)d(pro)n(vided)h(to)g(supp)r(ort)
e(the)h(old)h(k)n(eyw)n(ord)h(argumen)n(ts.)232 1007 y Fj(\017)27
b Fr(The)20 b(arglists)g(for)f(presen)n(tation)f(translators)g(and)i(their)f
(do)r(cumen)n(tation)e(and)j(tester)e(comp)r(onen)n(ts)287
1073 y(ha)n(v)n(e)e(b)r(een)f(c)n(hanged)f(to)i(tak)n(e)f(a)h(single)g(p)r
(osition)f Fs(obje)m(ct)j Fr(argumen)n(t)c(and)h(a)h(list)g(of)g(named)e(\(k)
n(eyw)n(ord\))287 1139 y(argumen)n(ts.)24 b(Except)18 b(for)h(translators)d
(that)i(omit)g(the)g Fs(obje)m(ct)j Fr(argumen)n(t)c(or)h(ha)n(v)n(e)i(it)f
(in)g(other)f(than)287 1206 y(the)13 b(initial)i(p)r(osition)e(of)h(the)f
(arglist,)i(this)f(will)h(not)f(p)r(ose)e(a)i(problem.)22 b(This)14
b(c)n(hange)f(can)h(b)r(e)f(detected.)232 1317 y Fj(\017)27
b Fr(The)i Fs(fr)m(ame)i Fr(argumen)n(t)c(to)i Ft
(find-presentation-translators)i Fr(has)e(b)r(een)f(c)n(hanged)g(to)h(b)r(e)g
(a)287 1383 y Fs(c)m(ommand-table)f Fr(argumen)n(t.)38 b(A)23
b(c)n(hec)n(k)h(at)f(run-time)f(can)h(detect)f(when)g(a)i(frame)e(is)i
(supplied)f(to)287 1449 y Ft(find-presentation-translators)d
Fr(instead)d(of)h(a)g(command)d(table.)232 1560 y Fj(\017)27
b Fr(The)12 b Fs(shift-mask)h Fr(k)n(eyw)n(ord)f(argumen)n(t)e(to)h
Ft(test-presentation-translator)p Fr(,)16 b Ft(find-applicable-)287
1626 y(translators)p Fr(,)f Ft(presentation-matches-context-type)p
Fr(,)g(and)d Ft(find-innermost-applicable-)287 1693 y(presentation)k
Fr(has)e(b)r(een)f(renamed)f(to)i Fs(mo)m(di\014er-state)k
Fr(in)d(order)f(to)g(b)r(e)g(consisten)n(t)f(with)h(the)g(device)287
1759 y(ev)n(en)n(t)k(terminology)-5 b(.)23 b(Compabilit)n(y)18
b(co)r(de)e(will)k(b)r(e)d(pro)n(vided)h(to)g(supp)r(ort)e(the)h(old)h(k)n
(eyw)n(ord.)232 1870 y Fj(\017)27 b Fr(The)e Fs(shifts)g Fr(k)n(eyw)n(ord)g
(argumen)n(t)e(to)h Ft(define-gesture-name)j Fr(has)d(b)r(een)g(renamed)e(to)
j Fs(mo)m(di\014ers)287 1936 y Fr(in)g(order)e(to)i(b)r(e)e(consisten)n(t)g
(with)i(the)f(device)g(ev)n(en)n(t)g(terminology)-5 b(.)43
b(Compabilit)n(y)24 b(co)r(de)f(will)j(b)r(e)287 2003 y(pro)n(vided)18
b(to)f(supp)r(ort)f(the)i(old)g(k)n(eyw)n(ord.)232 2114 y Fj(\017)27
b Ft(dialog-view)13 b Fr(and)e Ft(+dialog-view+)j Fr(ha)n(v)n(e)e(b)r(een)f
(renamed)e(to)i Ft(textual-dialog-view)j Fr(and)d Ft(+textual-)287
2180 y(dialog-view+)28 b Fr(in)e(order)g(to)g(accurately)e(re\015ect)h(what)g
(they)h(are.)49 b(Lik)n(ewise,)30 b Ft(menu-view)d Fr(and)287
2246 y Ft(+menu-view+)13 b Fr(ha)n(v)n(e)f(b)r(een)f(renamed)e(to)j
Ft(textual-menu-view)h Fr(and)f Ft(+textual-menu-view+)p Fr(.)24
b(Com-)287 2313 y(patibilit)n(y)19 b(classes)e(and)h(constan)n(ts)e(will)j(b)
r(e)f(pro)n(vided.)149 2523 y Fo(Input)k(Editing)h(and)e(Completion)i(F)-5
b(acilities)232 2700 y Fj(\017)27 b Ft(*activation-characters*)p
Fr(,)15 b Ft(*standard-activation-characters*)p Fr(,)h Ft
(with-activation-characters)p Fr(,)287 2767 y(and)c Ft
(activation-character-p)h Fr(ha)n(v)n(e)g(b)r(een)d(renamed)g(to)h
Ft(*activation-gestures*)p Fr(,)k Ft(*standard-)287 2833 y
(activation-gestures*)p Fr(,)g Ft(with-activation-gestures)p
Fr(,)g(and)d Ft(activation-gesture-p)p Fr(.)24 b(Com-)287 2899
y(patibilit)n(y)13 b(functions)d(will)k(remain)c(for)i Ft
(with-activation-characters)h Fr(and)f Ft(activation-character-)287
2966 y(p)p Fr(,)22 b(but)e(since)h(the)f(v)m(ariables)g(w)n(ere)g(not)g
(previously)h(do)r(cumen)n(ted,)d(no)j(compatibilit)n(y)e(will)k(b)r(e)d
(pro-)287 3032 y(vided)e(for)g(them.)232 3143 y Fj(\017)27
b Ft(*blip-characters*)p Fr(,)16 b Ft(with-blip-characters)p
Fr(,)g(and)d Ft(blip-character-p)h Fr(ha)n(v)n(e)g(b)r(een)e(renamed)287
3209 y(to)g Ft(*delimiter-gestures*)p Fr(,)j Ft(with-delimiter-gestures)p
Fr(,)g(and)c Ft(delimiter-gesture-p)p Fr(.)24 b(Com-)287 3276
y(patibilit)n(y)f(functions)d(will)j(remain)d(for)h Ft(with-blip-characters)j
Fr(and)d Ft(blip-character-p)p Fr(,)j(but)287 3342 y(since)d
Ft(*blip-characters*)i Fr(w)n(as)e(not)g(previously)g(do)r(cumen)n(ted,)e(no)
j(compatibilit)n(y)e(will)j(b)r(e)e(pro-)287 3409 y(vided.)p
eop
%%Page: 363 378
bop 149 16 a Fm(APPENDIX)16 b(E.)37 b(CHANGES)17 b(FR)n(OM)h(CLIM)g(1.0)1101
b Fr(363)232 210 y Fj(\017)27 b Ft(*abort-characters*)20 b
Fr(has)d(b)r(een)g(renamed)f(to)h Ft(*abort-gestures*)p Fr(.)232
320 y Fj(\017)27 b Ft(*completion-characters*)p Fr(,)15 b Ft
(*help-characters*)p Fr(,)g(and)d Ft(*possibilities-characters*)h
Fr(ha)n(v)n(e)287 387 y(b)r(een)e(renamed)e(to)j Ft(*completion-gestures*)p
Fr(,)j Ft(*help-gestures*)p Fr(,)f(and)e Ft(*possibilities-gestures*)p
Fr(.)232 497 y Fj(\017)27 b Fr(Input)g(editing)g(streams)e(no)j(longer)e(use)
h(the)g(in)n(teractiv)n(e)g(stream)f(class.)52 b(Instead,)29
b(in)n(teractiv)n(e)287 564 y(streams)24 b(are)i(de\014ned)g(to)g(b)r(e)g(an)
n(y)h(stream)d(that)i(can)g(p)r(oten)n(tially)g(supp)r(ort)e(input)i
(editing,)j(and)287 630 y(the)17 b(class)h Ft(input-editing-stream)i
Fr(no)n(w)e(refers)f(to)g(input)h(editor)f(streams.)232 741
y Fj(\017)27 b Ft(input-editor-buffer)p Fr(,)g Ft(input-position)p
Fr(,)g Ft(insertion-pointer)p Fr(,)g(and)c Ft(rescanning-p)i
Fr(ha)n(v)n(e)287 807 y(b)r(een)11 b(renamed)e(to)j Ft(stream-input-buffer)p
Fr(,)j Ft(stream-scan-pointer)p Fr(,)g Ft(stream-insertion-pointer)p
Fr(,)287 874 y(and)j Ft(stream-rescanning-p)p Fr(.)26 b(Compatibilit)n(y)17
b(functions)g(will)j(b)r(e)d(pro)n(vided.)149 1084 y Fo(Men)n(us)232
1261 y Fj(\017)27 b Fr(The)h Ft(:inter-column-spacing)i Fr(and)d
Ft(:inter-row-spacing)j Fr(options)d(to)h Ft(menu-choose)h
Fr(ha)n(v)n(e)287 1328 y(b)r(een)23 b(renamed)e(to)j Ft(:x-spacing)h
Fr(and)f Ft(:y-spacing)g Fr(in)h(order)e(to)g(b)r(e)h(consisten)n(t)e(with)i
(the)f(pane)287 1394 y(options.)h(Compatibilit)n(y)17 b(options)g(will)j(b)r
(e)d(pro)n(vided.)149 1604 y Fo(Command)k(Pro)r(cessing)232
1781 y Fj(\017)27 b Fr(The)12 b(v)m(ariable)f Ft(*unsupplied-argument*)j
Fr(has)d(b)r(een)g(renamed)e(to)j Ft(*unsupplied-argument-marker*)287
1848 y Fr(in)26 b(k)n(eeping)f(with)g(its)h(functionalit)n(y)-5
b(,)27 b(and)e(to)g(matc)n(h)f(the)g(new)h Ft(*numeric-argument-marker*)p
Fr(.)287 1914 y Ft(*unsupplied-argument*)20 b Fr(will)f(b)r(e)f(retained,)e
(but)i(its)g(use)g(is)g(deprecated.)232 2025 y Fj(\017)27 b
Fr(The)g Ft(:inter-column-spacing)h Fr(and)f Ft(:inter-row-spacing)h
Fr(options)e(to)g Ft(display-command-)287 2091 y(table-menu)19
b Fr(ha)n(v)n(e)f(b)r(een)e(renamed)f(to)i Ft(:x-spacing)i
Fr(and)e Ft(:y-spacing)i Fr(in)f(order)e(to)h(b)r(e)g(consisten)n(t)287
2158 y(with)h(the)f(pane)h(options.)23 b(Compatibilit)n(y)18
b(options)f(will)i(b)r(e)f(pro)n(vided.)232 2268 y Fj(\017)27
b Fr(The)22 b Ft(:test)i Fr(argumen)n(t)c(to)i(the)g(follo)n(wing)h
(functions)e(has)h(b)r(een)f(remo)n(v)n(ed,)i(since)f(the)g(use)g(of)h(ges-)
287 2335 y(ture)16 b(names)f(mak)n(es)h(it)h(unnecessary:)22
b Ft(add-command-to-command-table)p Fr(,)d Ft(add-keystroke-to-)287
2401 y(command-table)p Fr(,)c Ft(remove-keystroke-from-command-table)p
Fr(,)h Ft(find-keystroke-item)p Fr(,)f Ft(lookup-)287 2468
y(keystroke-item)p Fr(,)28 b(and)c Ft(lookup-keystroke-command-item)p
Fr(.)45 b(The)24 b Ft(:keystroke-test)i Fr(argu-)287 2534 y(men)n(t)d(has)h
(b)r(een)f(remo)n(v)n(ed)g(from)g Ft(read-command)i Fr(and)f
Ft(read-command-using-keystrokes)i Fr(for)287 2601 y(the)17
b(same)g(reason.)149 2811 y Fo(Application)24 b(F)-5 b(rames)232
2988 y Fj(\017)27 b Fr(The)d Ft(:layout)h Fr(option)f(has)g(b)r(een)f(remo)n
(v)n(ed,)i(and)f(is)g(replaced)f(b)n(y)i(the)f(more)f(general)g
Ft(:layouts)287 3054 y Fr(option.)h(A)18 b(compatibilit)n(y)f(ho)r(ok)g(will)
j(b)r(e)d(pro)n(vided)h(that)f(handles)g(the)g(old)i Ft(:layout)f
Fr(option.)232 3165 y Fj(\017)27 b Fr(The)15 b(function)g Ft
(set-frame-layout)i Fr(has)e(b)r(een)f(replaced)g(b)n(y)i Ft(\(setf)30
b(frame-current-layout\))17 b Fr(to)287 3231 y(b)r(e)g(consisten)n(t)g(with)h
(Common)e(Lisp)i(con)n(v)n(en)n(tions.)24 b(A)18 b(compatibilit)n(y)f
(function)g(will)i(b)r(e)f(pro)n(vided.)232 3342 y Fj(\017)27
b Fr(The)c(function)f Ft(frame-top-level-window)j Fr(has)d(b)r(een)g(renamed)
f(to)i Ft(frame-top-level-sheet)p Fr(.)287 3409 y(A)18 b(compatibilit)n(y)f
(function)g(will)j(b)r(e)d(pro)n(vided.)p eop
%%Page: 364 379
bop 149 16 a Fm(APPENDIX)16 b(E.)37 b(CHANGES)17 b(FR)n(OM)h(CLIM)g(1.0)1101
b Fr(364)232 210 y Fj(\017)27 b Ft(command-enabled-p)p Fr(,)15
b Ft(enable-command)p Fr(,)g(and)c Ft(disable-command)i Fr(ha)n(v)n(e)g(b)r
(een)d(replaced)h(b)n(y)h Ft(command-)287 276 y(enabled)19
b Fr(and)f Ft(\(setf)29 b(command-enabled\))p Fr(.)d(Compatibilit)n(y)17
b(functions)g(will)j(b)r(e)d(pro)n(vided.)232 387 y Fj(\017)27
b Ft(window-viewport-position*)18 b Fr(has)f(b)r(een)e(renamed)f(to)i
Ft(window-viewport-position)p Fr(.)26 b(A)16 b(com-)287 453
y(patibilit)n(y)j(function)e(will)i(b)r(e)f(pro)n(vided.)232
564 y Fj(\017)27 b Ft(window-set-viewport-position*)15 b Fr(has)e(b)r(een)f
(replaced)g(b)n(y)i(\(setf*)e(windo)n(w-viewp)r(ort-p)r(osition\).)287
630 y(A)18 b(compatibilit)n(y)f(function)g(will)j(b)r(e)d(pro)n(vided.)149
841 y Fo(P)n(anes)232 1018 y Fj(\017)27 b Ft(realize-pane)19
b Fr(and)e Ft(realize-pane-1)i Fr(ha)n(v)n(e)g(b)r(een)d(renamed)g(to)h
Ft(make-pane)i Fr(and)e Ft(make-pane-1)p Fr(.)287 1084 y(A)h(compabilit)n(y)f
(function)g(will)j(b)r(e)d(pro)n(vided)h(for)f Ft(realize-pane)p
Fr(.)232 1195 y Fj(\017)27 b Fr(The)16 b(pane)f(options)g Ft(:hs)p
Fr(,)j Ft(:hs+)p Fr(,)f Ft(:hs-)p Fr(,)g Ft(:vs)p Fr(,)h Ft(:vs+)p
Fr(,)f(and)f Ft(:vs-)h Fr(ha)n(v)n(e)f(b)r(een)f(replaced)f(b)n(y)j(the)f
(options)287 1261 y Ft(:width)p Fr(,)21 b Ft(:max-width)p Fr(,)g
Ft(:min-width)p Fr(,)g Ft(:height)p Fr(,)g Ft(:max-height)p
Fr(,)h(and)d Ft(:min-height)h Fr(to)f(b)r(e)g(more)287 1328
y(p)r(erspicuous,)27 b(and)g(to)g(conform)d(the)j(the)f(same)g(options)g(for)
h(the)f(formatted)e(output)h(facilities.)287 1394 y(Compatibilit)n(y)18
b(options)f(will)i(b)r(e)f(supplied.)232 1505 y Fj(\017)27
b Fr(The)15 b Ft(:nchars)i Fr(and)e Ft(:nlines)h Fr(pane)f(options)f(ha)n(v)n
(e)i(b)r(een)e(remo)n(v)n(ed)h(in)h(fa)n(v)n(or)g(of)f(an)h(extended)e(syn)n
(tax)287 1571 y(to)k(the)f Ft(:width)i Fr(and)e Ft(:height)i
Fr(options.)232 1682 y Fj(\017)27 b Fr(The)h(pane)f(la)n(y)n(out)i(options)e
Ft(:halign)i Fr(and)f Ft(:valign)h Fr(ha)n(v)n(e)g(b)r(een)d(renamed)g(to)i
Ft(:align-x)h Fr(and)287 1748 y Ft(:align-y)19 b Fr(to)f(conform)d(with)k
(table)e(formatting.)22 b(Compatibilit)n(y)17 b(options)g(will)j(b)r(e)d
(supplied.)232 1859 y Fj(\017)27 b Fr(The)c(pane)g(la)n(y)n(out)h(options)e
Ft(:hspace)i Fr(and)f Ft(:vspace)h Fr(ha)n(v)n(e)g(b)r(een)e(renamed)f(to)i
Ft(:x-spacing)h Fr(and)287 1925 y Ft(:y-spacing)19 b Fr(to)f(conform)e(with)i
(table)f(formatting.)22 b(Compatibilit)n(y)c(options)f(will)i(b)r(e)e
(supplied.)232 2036 y Fj(\017)27 b Fr(The)16 b(term)f(\\space)g(req")h(has)g
(b)r(een)f(renamed)f(to)i(\\space)f(requiremen)n(t".)21 b(All)c(of)g(the)f
(functions)f(with)287 2102 y Ft(space-req)k Fr(in)g(their)e(names)f(ha)n(v)n
(e)j(b)r(een)e(renamed)e(to)j(ha)n(v)n(e)h Ft(space-requirement)g
Fr(instead.)232 2213 y Fj(\017)27 b Ft(make-space-requirement)19
b Fr(no)d(longer)g(tak)n(es)h(the)f Ft(:hs)h Fr(and)f Ft(:vs)i
Fr(argumen)n(ts,)d Fs(et)k(al)p Fr(.)25 b(It)17 b(no)n(w)g(tak)n(es)287
2280 y Ft(:width)i Fr(and)e Ft(:height)p Fr(,)j Fs(et)g(al)p
Fr(.)p eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
